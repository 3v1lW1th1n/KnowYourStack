{"Data":{"Vue":{"Events":[{"Id":"7021549168","Type":"IssuesEvent","CreatedAt":"2017-12-22T05:24:24","Actor":"iroben","Repository":"vuejs/vue","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue/issues/7303","RelatedDescription":"Opened issue \"render函数重复执行，组件有时会渲染失败\" (#7303) at vuejs/vue","RelatedBody":"IMPORTANT: render函数重复执行，组件有时会渲染失败\r\n#  **Vue.js v2.5.13**\r\n\r\n# Reproduction link\r\n   ## 打不开jsfiddle.net，暂无链接\r\n\r\n------\r\n## 入口函数，弹出一个dialog，生成一个id绑定到dom元素中，弹出后创建vue实例\r\n![1](https://user-images.githubusercontent.com/2619250/34286005-f3f0af82-e718-11e7-8970-21141be613c5.png)\r\n\r\n## renderStudentAnswer函数\r\n![2](https://user-images.githubusercontent.com/2619250/34286021-10f8af1c-e719-11e7-8868-77206f2947ac.png)\r\n\r\n## getAnswerEle函数\r\n![3](https://user-images.githubusercontent.com/2619250/34286048-3127d984-e719-11e7-8891-4b94500ccc8e.png)\r\n\r\n遍历数据，根据数据的类型返回不同的组件（组件都是异步的），下面是其中一个组件，在mounted事件中打印一些日志\r\n\r\n## 组件1\r\n![4](https://user-images.githubusercontent.com/2619250/34286077-58261104-e719-11e7-82b1-c92a5ddc534f.png)\r\n\r\n下面是运行结果，如果一组数据用的是同一种组件，虽然render执行了两次，还是能成功渲染\r\n## **正确结果：**\r\n![8](https://user-images.githubusercontent.com/2619250/34286192-05587952-e71a-11e7-9834-b17a2ab996cc.png)\r\n\r\n\r\n\r\n如果一组数据中包含不同的组件，render执行两次，最后显示的只有最后一个组件，其它组件的mounted事件都没有调用\r\n## **错误结果**\r\n![5](https://user-images.githubusercontent.com/2619250/34286160-e5779e92-e719-11e7-83b5-ae82c924ed28.png)\r\n\r\n\r\n**渲染后的DOM变成注释了**\r\n![7](https://user-images.githubusercontent.com/2619250/34286209-1c4de606-e71a-11e7-8aa4-914e88124b9e.png)\r\n\r\n\r\n\r\n\r\n\r\n"}],"ResultType":"GitHubEvent"},"Router":{"Events":[{"Id":"7021172776","Type":"IssuesEvent","CreatedAt":"2017-12-22T02:12:49","Actor":"Francecil","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1951","RelatedDescription":"Opened issue \"the beforeRouteLeave event of vue's first component is not trigger\" (#1951) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/gahing/c61ng9of/7/](https://jsfiddle.net/gahing/c61ng9of/7/)\r\n\r\n### Steps to reproduce\r\n（1）open https://jsfiddle.net/gahing/c61ng9of/7/ \r\n\r\n（2）Press the back button of the browser immediately\r\n\r\n（3）Or wait for 2S ,browser will alert('main beforeRouteLeave happened')\r\n\r\n\r\n\r\n\r\nmy english is poor , that is chinese version as follows:\r\n\r\n(1)打开该网址\r\n\r\n(2)立刻按浏览器的后退按钮\r\n\r\n(3)或者等待2s 出现alert弹框('main beforeRouteLeave happened')\r\n\r\n### What is expected?\r\nWhen 'Main' component is mounted，and the function of setTimeout is not happened,Press the back button of the browser immediately. I\r\n wish that the beforeRouteLeave event is triggered.\r\n\r\n### What is actually happening?\r\nIt is not happen。bug when the code \"this.$router.push('/user')\" run, will trigger beforeRouteLeave\r\n\r\n---\r\nnow, my solution is add component named 'BeforeMain' before Main component.\r\nwhen BeforeMain'mounted trigger,run  \"this.$router.push({name:'main'})\"\r\nAdd 'beforeEach':\r\nrouter.beforeEach((to, from, next) => {\r\n  // gameview的\r\n  if (to.name === 'beforemain' && from.name === 'main') {\r\n    router.go(-1)\r\n    next(false)\r\n  } else {\r\n    next()\r\n  }\r\n})\r\nThus,while current component is 'Main' ,you press back button of brower, you can trigger 'beforeRouteLeave'\r\nBut , it 's so trouble\r\n\r\n\r\nChinese version:\r\n将第一个组件前再增加一个beforemain组件，做一次push跳转。这样main可以正常触发beforeRouteLeave\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"7017764148","Type":"IssuesEvent","CreatedAt":"2017-12-21T10:52:34","Actor":"posva","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1950","RelatedDescription":"Closed issue \"URL&Router not changed when use route params\" (#1950) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/qdechochen/L7hscd8h/3310/](https://jsfiddle.net/qdechochen/L7hscd8h/3310/)\r\n\r\n### Steps to reproduce\r\n1. click /user/foo/profile1 OK\r\n2. click /user/foo/profile2 : content changed, but URL not changed if you run this directly in a browser.\r\n3. click /user/foo/profile1:  nothing happend\r\n4. click /user/foo OK\r\n5. click /user/foo/profile2 OK\r\n6. click /user/foo/profile1:  content changed, but URL not changed if you run this directly in a browser.\r\n7. click /user/foo/profile2:  nothing happend\r\n\r\n\r\n\r\n\r\n\r\n### What is expected?\r\n1. In step 2, URL should be changed to /user/foo/profile2\r\n2. in step 3, beforeRouteUpdate should be called.\r\n\r\nFor step 6 & 7, same thing.\r\n\r\n### What is actually happening?\r\nMaybe it's because the URL not change in step 2, beforeRouteUpdate is not called?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"7017752928","Type":"IssuesEvent","CreatedAt":"2017-12-21T10:49:57","Actor":"posva","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1949","RelatedDescription":"Closed issue \"微信路由切换url哈希值不正确\" (#1949) at vuejs/vue-router","RelatedBody":"### Version\r\n2.5.3\r\n\r\n### Reproduction link\r\n[http://app.whipo.net/Html/webSignUp/index.html](http://app.whipo.net/Html/webSignUp/index.html)\r\n\r\n### Steps to reproduce\r\n微信中路由可以正常切换，但是通过复制链接发现实际上的URL是不包含哈希值的，这样一来在微信中选择“在浏览器中打开”，打开的实际上是入口页面。\r\n\r\n### What is expected?\r\n在浏览器中打开正确的子页面#/agreement\r\n\r\n### What is actually happening?\r\n实际上还是入口页面#/\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"7017378055","Type":"IssuesEvent","CreatedAt":"2017-12-21T09:25:10","Actor":"qdechochen","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1950","RelatedDescription":"Opened issue \"URL&Router not changed when use route params\" (#1950) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/qdechochen/L7hscd8h/3310/](https://jsfiddle.net/qdechochen/L7hscd8h/3310/)\r\n\r\n### Steps to reproduce\r\n1. click /user/foo/profile1 OK\r\n2. click /user/foo/profile2 : content changed, but URL not changed if you run this directly in a browser.\r\n3. click /user/foo/profile1:  nothing happend\r\n4. click /user/foo OK\r\n5. click /user/foo/profile2 OK\r\n6. click /user/foo/profile1:  content changed, but URL not changed if you run this directly in a browser.\r\n7. click /user/foo/profile2:  nothing happend\r\n\r\n\r\n\r\n\r\n\r\n### What is expected?\r\n1. In step 2, URL should be changed to /user/foo/profile2\r\n2. in step 3, beforeRouteUpdate should be called.\r\n\r\nFor step 6 & 7, same thing.\r\n\r\n### What is actually happening?\r\nMaybe it's because the URL not change in step 2, beforeRouteUpdate is not called?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"7017324281","Type":"IssuesEvent","CreatedAt":"2017-12-21T09:12:08","Actor":"zoutong123","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1949","RelatedDescription":"Opened issue \"微信路由切换url哈希值不正确\" (#1949) at vuejs/vue-router","RelatedBody":"### Version\r\n2.5.3\r\n\r\n### Reproduction link\r\n[http://app.whipo.net/Html/webSignUp/index.html](http://app.whipo.net/Html/webSignUp/index.html)\r\n\r\n### Steps to reproduce\r\n微信中路由可以正常切换，但是通过复制链接发现实际上的URL是不包含哈希值的，这样一来在微信中选择“在浏览器中打开”，打开的实际上是入口页面。\r\n\r\n### What is expected?\r\n在浏览器中打开正确的子页面#/agreement\r\n\r\n### What is actually happening?\r\n实际上还是入口页面#/\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"}],"ResultType":"GitHubEvent"},"Vuex":{"Events":[{"Id":"7021177806","Type":"PullRequestEvent","CreatedAt":"2017-12-22T02:15:01","Actor":"Jinjiang","Repository":"vuejs/vuex","Organization":"vuejs","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/vuejs/vuex/pull/1101","RelatedDescription":"Merged pull request \"[docs] #1097 for all languages\" (#1101) at vuejs/vuex","RelatedBody":"Ref #1097 \r\nThanks."}],"ResultType":"GitHubEvent"}},"RunOn":"2017-12-22T05:30:36.604354Z","RunDurationInMilliseconds":2073}