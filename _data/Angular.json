{"Data":{"Angular-Issues":{"Issues":[{"Id":"577271408","IsPullRequest":true,"CreatedAt":"2020-03-07T03:42:23","Actor":"PandiyanCool","Number":"35925","RawContent":null,"Title":"docs: added 60 new contributors details (#31992)","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35925","RelatedDescription":"Open PR \"docs: added 60 new contributors details (#31992)\" (#35925)"},{"Id":"577258774","IsPullRequest":false,"CreatedAt":"2020-03-07T02:04:59","Actor":"btakita","Number":"35924","RawContent":null,"Title":"Ugraded to Angular 9: Error: Can't resolve all parameters for ApplicationModule: (?).","State":"open","Body":"I upgraded my app to Angular 9 & am getting the following error:\r\n\r\n```\r\nError: Can't resolve all parameters for ApplicationModule: (?).\r\n    at syntaxError (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:7582:17)\r\n    at CompileMetadataResolver._getDependenciesMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27327:35)\r\n    at CompileMetadataResolver._getTypeMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27219:26)\r\n    at CompileMetadataResolver.getNgModuleMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27087:24)\r\n    at CompileMetadataResolver.getNgModuleSummary (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26889:35)\r\n    at /home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27008:51\r\n    at Array.forEach (<anonymous>)\r\n    at CompileMetadataResolver.getNgModuleMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26996:49)\r\n    at CompileMetadataResolver.getNgModuleSummary (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26889:35)\r\n    at /home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26981:55\r\n```\r\n\r\nI have spent hours debugging this issue, but still have not made progress. I've also seen a number of fixes for this error message in previous years but none of those solutions worked for me. Can you please advise on obtaining a better error message that is easier to debug, because this error message is not very helpful. Thank you","Url":"https://github.com/angular/angular/issues/35924","RelatedDescription":"Open issue \"Ugraded to Angular 9: Error: Can't resolve all parameters for ApplicationModule: (?).\" (#35924)"},{"Id":"577245058","IsPullRequest":true,"CreatedAt":"2020-03-07T00:44:06","Actor":"AndrewKushnir","Number":"35923","RawContent":null,"Title":"fix(core): verify parsed ICU expression at runtime before executing it","State":"open","Body":"Prior to this commit, i18n runtime logic relied on the assumption that provided translation is syntactically correct, specifically around ICU syntax. However provided translations might contain some errors that lead to parsing failure. Specifically when translation contains curly braces, runtime i18n logic tries to parse them as an ICU expression and fails. This commit validates ICU parsing result (making sure it was parsed correctly) and throws an error if parsing error happens. The error that is thrown also contains translated message text for easier debugging.\r\n\r\nResolves #35689.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35923","RelatedDescription":"Open PR \"fix(core): verify parsed ICU expression at runtime before executing it\" (#35923)"},{"Id":"577243424","IsPullRequest":true,"CreatedAt":"2020-03-07T00:36:03","Actor":"wagnermaciel","Number":"35922","RawContent":null,"Title":"refactor(benchpress): delete broken code","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nThe [firefox_extension](https://github.com/angular/angular/blob/master/packages/benchpress/src/firefox_extension/lib/main.ts#L9) has become outdated. It currently uses the `chrome` api which [has not worked since November 2017](https://developer.mozilla.org/en-US/docs/Archive/Add-ons/Add-on_SDK/Tutorials/Chrome_Authority).\r\n\r\n\r\n## What is the new behavior?\r\nRemove it.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35922","RelatedDescription":"Open PR \"refactor(benchpress): delete broken code\" (#35922)"},{"Id":"577208134","IsPullRequest":false,"CreatedAt":"2020-03-06T22:36:57","Actor":"Aegis18","Number":"35921","RawContent":null,"Title":"Renderer2 skipping and appending to wrong element","State":"closed","Body":"Affected Package\r\n@angular/Renderer2\r\n### Description\r\n\r\nI am trying to use Renderer2 to wrap each child of my `<ng-content>` in a `div` element\r\n\r\n```  \r\nngAfterContentInit(): void {\r\n    let container = document.getElementById('smart-container-id');\r\n    let content: HTMLCollection = container.children;\r\n    let count = content.length;\r\n    console.log('There are ' + count + ' children')\r\n    for (let i = 0; i < count; i++) {\r\n      let wrapper = this.renderer.createElement('div');\r\n      wrapper.id = 'foo' + i;\r\n      this.renderer.appendChild(wrapper, content.item(i));\r\n      this.renderer.appendChild(container, wrapper);\r\n    }\r\n```\r\n\r\nI expect each of the 6 children components to be wrapped with a `div` and an id of `fooX`\r\n\r\nwhen I run this code I get\r\n\r\n![image](https://user-images.githubusercontent.com/27922019/76126920-645dec00-5fce-11ea-8700-df9c821e77f6.png)\r\n\r\n\r\nAs you can see 3 of the children have not been wrapped, as well as div `foo2` is now a child of `foo4` and `foo4` being a child of `foo5` \r\n\r\nüî¨ Minimal Reproduction\r\n\r\n\r\nMy code:\r\n`app-smart-container.component.ts`\r\n```\r\nimport {AfterContentInit, Component, OnInit, Renderer2, TemplateRef} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-smart-container',\r\n  templateUrl: './smart-container.component.html',\r\n  styleUrls: ['./smart-container.component.scss']\r\n})\r\nexport class SmartContainerComponent implements OnInit, AfterContentInit {\r\n  \r\n  constructor(private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    let container = document.getElementById('smart-container-id');\r\n    let content: HTMLCollection = container.children;\r\n    let count = content.length;\r\n    console.log('There are ' + count + ' children')\r\n    for (let i = 0; i < count; i++) {\r\n      let wrapper = this.renderer.createElement('div');\r\n      wrapper.id = 'foo' + i;\r\n      this.renderer.appendChild(wrapper, content.item(i));\r\n      this.renderer.appendChild(container, wrapper);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`app-smart-container.component.html`:\r\n```\r\n<div id=\"smart-container-id\" class=\"container\">\r\n    <ng-content></ng-content>\r\n</div>\r\n```\r\n\r\n`app.component.html`\r\n\r\n```\r\n<app-smart-container>\r\n  <div style=\"background: red\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: orangered\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: orange\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: yellow\">\r\n    &nbsp;\r\n  </div>\r\n  <div  style=\"background: blue;\">\r\n    &nbsp;\r\n  </div>\r\n  <div  style=\"background: blueviolet;\">\r\n    &nbsp;\r\n  </div>\r\n</app-smart-container>\r\n```\r\n\r\nüåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 10.15.3\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@angular/cdk                       9.1.0\r\n@angular/elements                  9.0.5\r\n@angular/material                  9.1.0\r\n@angular/material-moment-adapter   9.1.0\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nrxjs                               6.4.0\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/35921","RelatedDescription":"Closed issue \"Renderer2 skipping and appending to wrong element\" (#35921)"},{"Id":"577202334","IsPullRequest":true,"CreatedAt":"2020-03-06T22:09:51","Actor":"bampakoa","Number":"35920","RawContent":null,"Title":"docs: Add useful tip in testing guide","State":"open","Body":"Inspired from [Protractor style guide](https://www.protractortest.org/#/style-guide), I added a note about how E2E tests perform in speed when compared with unit tests. I think that this note will make more clear to the readers about differences between two.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35920","RelatedDescription":"Open PR \"docs: Add useful tip in testing guide\" (#35920)"},{"Id":"577191538","IsPullRequest":true,"CreatedAt":"2020-03-06T21:44:02","Actor":"alxhub","Number":"35919","RawContent":null,"Title":"build: prepare for typescript 3.8 support","State":"open","Body":"This commit adds support in the Angular monorepo and in the Angular\r\ncompiler(s) for TypeScript 3.8. All packages can now compile with\r\nTS 3.8.\r\n\r\nThis commit does NOT update the version of TypeScript in the monorepo. This\r\nwill be done in a future commit.\r\n\r\nFor most of the repo, only a handful few typings adjustments were needed.\r\n\r\nFor compiler-cli and schematics (which use the TypeScript AST) a major\r\nbreaking change was the introduction of the export form:\r\n\r\n```typescript\r\nexport * as foo from 'bar';\r\n```\r\n\r\nThis is a `ts.NamespaceExport`, and the `exportClause` of a\r\n`ts.ExportDeclaration` can now take this type as well as `ts.NamedExports`.\r\nThis broke a lot of places where `exportClause` was assumed to be\r\n`ts.NamedExports`.\r\n\r\nFor the most part these breakages were in cases where it is not necessary\r\nto handle the new `ts.NamedExports` anyway. ngtsc's design uses the\r\n`ts.TypeChecker` APIs to understand syntax and so automatically supports the\r\nnew form of exports.\r\n\r\nThe View Engine compiler on the other hand extracts TS structures into\r\nmetadata.json files, and that format was not designed for namespaced\r\nexports. As a result it will take a nontrivial amount of work if we want to\r\nsupport such exports in View Engine. For now, these new exports are not\r\naccounted for in metadata.json, and so using them in \"folded\" Angular\r\nexpressions will result in errors (probably claiming that the referenced\r\nexported namespace doesn't exist).\r\n\r\nCare was taken to only use TS APIs which are present in 3.7/3.6, as Angular\r\nneeds to remain compatible with these for the time being.\r\n\r\nThis commit does not update angular.io for compatibility.\r\n","Url":"https://github.com/angular/angular/pull/35919","RelatedDescription":"Open PR \"build: prepare for typescript 3.8 support\" (#35919)"},{"Id":"577185766","IsPullRequest":true,"CreatedAt":"2020-03-06T21:29:56","Actor":"petebacondarwin","Number":"35918","RawContent":null,"Title":"build(docs-infra): update the dependency versions of the examples","State":"open","Body":"On OS/X The examples were failing to build due to a version mismatch\r\nwith fsevents that results in errors that look like:\r\n\r\n```\r\n$ ng serve\r\n...\r\n/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:28\r\n  return (new fsevents(path)).on('fsevent', callback).start();\r\n          ^\r\nTypeError: fsevents is not a constructor\r\n    at createFSEventsInstance (/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:28:11)\r\n    at setFSEventsListener (/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:82:16)\r\n    ...\r\nerror Command failed with exit code 1.\r\n```\r\n\r\nThis commit updates the version in yarn.lock to fix this problem.\r\n\r\n","Url":"https://github.com/angular/angular/pull/35918","RelatedDescription":"Open PR \"build(docs-infra): update the dependency versions of the examples\" (#35918)"},{"Id":"577148781","IsPullRequest":true,"CreatedAt":"2020-03-06T20:06:32","Actor":"blakeley","Number":"35917","RawContent":null,"Title":"docs(animations): Rephrase NoopAnimationsModule documentation string","State":"open","Body":"The phrasing \"allow disabling of animations\" is confusing and suggests that some further action needs to be taken in order to *actually* disable animations. However, importing this module has the effect of *actually* disabling animations. This change rephrases the phrasing of NoopAnimationsModule's documentation string in order to be more clear.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35917","RelatedDescription":"Open PR \"docs(animations): Rephrase NoopAnimationsModule documentation string\" (#35917)"},{"Id":"577147279","IsPullRequest":true,"CreatedAt":"2020-03-06T20:03:10","Actor":"AndrewKushnir","Number":"35916","RawContent":null,"Title":"refactor(core): throw more descriptive error message in case of invalid host element","State":"open","Body":"This commit replaces an assert with more descriptive error message that is thrown in case `<ng-template>` or `<ng-container>` is used as host element for a Component.\r\n\r\nResolves #35240.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35916","RelatedDescription":"Open PR \"refactor(core): throw more descriptive error message in case of invalid host element\" (#35916)"},{"Id":"577119661","IsPullRequest":false,"CreatedAt":"2020-03-06T19:17:31","Actor":"zuoshuluHTC","Number":"35915","RawContent":null,"Title":"node sqlite3 package does not work on a simple angular 9-app","State":"closed","Body":"https://stackoverflow.com/questions/60567717/node-sqlite3-package-does-not-work-on-a-simple-angular-9-app\r\n\r\nI post my issues on stackoverflow above, I hope this is the better place to get a solution for angular sqlite support","Url":"https://github.com/angular/angular/issues/35915","RelatedDescription":"Closed issue \"node sqlite3 package does not work on a simple angular 9-app\" (#35915)"},{"Id":"577071677","IsPullRequest":false,"CreatedAt":"2020-03-06T17:43:53","Actor":"sod","Number":"35914","RawContent":null,"Title":"feature request: make {ngZone: 'noop'} viable","State":"closed","Body":"Our app is 10% faster, the build smaller and the stacktraces more readable without zone.js. We already wrapped http, timeouts and routing, so it's not big deal to do `Promise.resolve().then(() => applicationRef.tick())` after one of them ran.\r\n\r\nBut I found no hook to schedule a tick after an event - registered by angular - was executed. E.g. `@HostListener` or `(click)=\"...\"` in templates.\r\n\r\n# üöÄ feature request\r\n\r\nAdd support to automatically schedule an applicationTick after an event.\r\n\r\nAngular [already marks the view as dirty](https://github.com/angular/angular/blob/d528dedd5007dd7272878bf7a933cb1f3e153ed0/packages/core/src/render3/instructions/listener.ts#L264), but doesn't schedule an `applicationRef.tick()`.","Url":"https://github.com/angular/angular/issues/35914","RelatedDescription":"Closed issue \"feature request: make {ngZone: 'noop'} viable\" (#35914)"},{"Id":"576798309","IsPullRequest":true,"CreatedAt":"2020-03-06T17:39:33","Actor":"ajitsinghkaler","Number":"35901","RawContent":null,"Title":"docs: move ngIndia 2020 to past events on events page","State":"closed","Body":"ng india was an outdated event removed it from upcoming events on the events page and added to already presented events\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nngIndia is in upcoming events. Its already completed\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nAdded ng India to already presented events\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35901","RelatedDescription":"Closed or merged PR \"docs: move ngIndia 2020 to past events on events page\" (#35901)"},{"Id":"576707293","IsPullRequest":true,"CreatedAt":"2020-03-06T17:39:02","Actor":"ivanwonder","Number":"35895","RawContent":null,"Title":"fix(language-service): resolve the real path for symlink","State":"closed","Body":"when AOT resolves the module name, it will preserve the path of the symlink (because of no `host.realpath`), but the ts-server will return the real path for symlink(https://github.com/angular/vscode-ng-language-service/blob/9120631a10fc9d49b4dd16c9976cc4222b98f3ff/server/src/server_host.ts#L132).\r\n\r\nI don't know if it needs a test case.\r\n\r\nfixed: https://github.com/angular/vscode-ng-language-service/issues/657\r\n\r\nhttps://github.com/microsoft/TypeScript/blob/6769313eee2f2403387ea935a4fef4dfddae7671/src/compiler/moduleNameResolver.ts#L951\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35895","RelatedDescription":"Closed or merged PR \"fix(language-service): resolve the real path for symlink\" (#35895)"},{"Id":"577032852","IsPullRequest":true,"CreatedAt":"2020-03-06T16:15:45","Actor":"armoucar","Number":"35913","RawContent":null,"Title":"docs: fix closing tags in sample code.","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35913","RelatedDescription":"Open PR \"docs: fix closing tags in sample code.\" (#35913)"},{"Id":"577015075","IsPullRequest":false,"CreatedAt":"2020-03-06T15:47:18","Actor":"PapaNappa","Number":"35912","RawContent":null,"Title":"[i18n] Support for ICU expressions in $localize (for programmatic use)","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üöÄ feature request\r\n\r\n### Relevant Package\r\n<!-- Can you pin-point one or more @angular/* packages the are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: --> This feature request is for @angular/localize.\r\n\r\n\r\n### Description\r\n<!-- ‚úçÔ∏è-->\r\nWith the new `$localize` in Angular 9, we are finally able to do translations in code.\r\n\r\nTo borrow from [\"i18n with $localize in TypeScript code\" of this blog post](https://blog.ninja-squad.com/2019/12/10/angular-localize/), you can now write this:\r\n```\r\ntitle = $localize`Hi ${this.name}! You have ${this.users.length} users.`;\r\n```\r\n\r\n(`ng xi18n` currently does not extract these strings, you have to add them manually to your translation files, but that's not what this feature request is about.)\r\n\r\nUnfortunately, ICU expressions are currently not handled by $localize.\r\nFor instance, ideally, you would want to write\r\n```\r\ntitle = $localize`Hi ${this.name}! You have {${this.users.length}, plural, =0 {no users} =1 {one user} other {${this.users.length} users}} users.`;\r\n```\r\nBut this does not work, and the ICU expression is returned literally.\r\n\r\nAs far as I understand, ICU expressions are currently handled only by compiler internals.\r\ni18n strings with ICU expressions in the template are actually transformed to multiple `$localize` calls (one for the whole string, one for each ICU expression). `$localize` returns the ICU expressions as-is (but with expressions replaced by special markers), and the ICU expressions are handled by ivy in @angular/core.\r\n\r\n### Describe the solution you'd like\r\n<!-- ‚úçÔ∏è--> \r\nI could see two possible solutions - totally from a developer's perspective:\r\n\r\n`$localize` also supports evaluation of ICU expressions, as in my example above.\r\n\r\nAlternatively, `$localize` is left as-is as a primitive, and a new `i18n` function (in the sense of @ocombe's [ngx-translate/i18n-polyfill](https://github.com/ngx-translate/i18n-polyfill)) is introduced that handles ICUs. (And can maybe also serve as a marker for automatic text extraction).\r\n\r\nIdeally, the solution works both for compile-time inlining as well as for runtime translatations.\r\n\r\nAlthough this would be another feature request (with probably lower priority, that's why I have not opened such a proposal), the implemented solution should not prevent to add dynamic runtime-translations in the future, i.e. where the translation id is composed at runtime (e.g. `$localize':@@${id}:'` or `i18n({id})`).\r\n\r\n### Describe alternatives you've considered\r\n<!-- ‚úçÔ∏è--> ngx-translate's -messageformat-compiler requires the CSP unsafe-eval, which is not an option in productive environments.\r\n","Url":"https://github.com/angular/angular/issues/35912","RelatedDescription":"Open issue \"[i18n] Support for ICU expressions in $localize (for programmatic use)\" (#35912)"},{"Id":"577013128","IsPullRequest":true,"CreatedAt":"2020-03-06T15:43:58","Actor":"josephperrott","Number":"35911","RawContent":null,"Title":"build: Add pullapprove verification tool to dev-infra-private package","State":"open","Body":"Migrates pullapprove verification tool to be available in the dev-infra-private\r\npackage\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35911","RelatedDescription":"Open PR \"build: Add pullapprove verification tool to dev-infra-private package\" (#35911)"},{"Id":"577008639","IsPullRequest":true,"CreatedAt":"2020-03-06T15:36:13","Actor":"josephperrott","Number":"35910","RawContent":null,"Title":"build: set dev-infra package to be private","State":"open","Body":"Setting the dev-infra package to private will prevent us\r\nfrom accidentally publishing the package to npm.\r\n","Url":"https://github.com/angular/angular/pull/35910","RelatedDescription":"Open PR \"build: set dev-infra package to be private\" (#35910)"},{"Id":"576937870","IsPullRequest":false,"CreatedAt":"2020-03-06T13:39:27","Actor":"anhallbe","Number":"35908","RawContent":null,"Title":"DI error when using JIT from an AoT-compiled Ivy project","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/core and/or @angular/compiler\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 8 & 9 (without Ivy)\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> An error is thrown when trying to load a component from an external service. The js module is fetched with SystemJS, and then compiled (JIT) using the @angular/core Compiler. The error is thrown when the component is added to the view (using ViewContainerRef.createComponent()). The problem only occurs when the component is not already compiled with AOT (ivy), xor if the project is not configured to use AOT.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ‚úçÔ∏è--> https://github.com/anhallbe/repro-app\r\n\r\n1. Clone the repo\r\n2. run `ng serve`\r\n3. Follow instructions in the template\r\n\r\nDemo:\r\n![di-dynamic-component](https://user-images.githubusercontent.com/4991954/76088356-2eae0880-5fb8-11ea-8786-9f94c00264c2.gif)\r\n\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\nError: This constructor is not compatible with Angular Dependency Injection because its dependency at index 0 of the parameter list is invalid.\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.13.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35908","RelatedDescription":"Open issue \"DI error when using JIT from an AoT-compiled Ivy project\" (#35908)"},{"Id":"576906989","IsPullRequest":true,"CreatedAt":"2020-03-06T12:41:18","Actor":"fmalcher","Number":"35907","RawContent":null,"Title":"docs(zone.js): fix typos and align formatting","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [x] Other... Please describe: Formatting, typos, alignment\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/35907","RelatedDescription":"Open PR \"docs(zone.js): fix typos and align formatting\" (#35907)"},{"Id":"576895439","IsPullRequest":false,"CreatedAt":"2020-03-06T12:16:53","Actor":"nickbullock","Number":"35906","RawContent":null,"Title":"[Ivy AOT] AOT recompilation is working slow on big projects","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/compiler-cli\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è-->\r\nWe have a big Angular Ivy project, and the problem is that we want to use Ivy+AOT everywhere: in production and development, but we can't use it for development now because of slow recompilation AOT process. \r\nProject is `@nrwl/nx` based app with > 10 libraries and two applications.\r\nAlso can be important: `ng-cli` based with custom webpack extensions, hybrid app with angularjs 1.5.8.\r\n\r\nSome stats (Ivy+AOT):\r\n\r\nFull application:\r\n- first compile: 96225ms - 180000ms\r\n- recompile: 11949ms (+-) - 20000ms\r\n\r\nDemo application (small part of full application):\r\n- first compile: 35987ms \r\n- recompile: 3040ms\r\n\r\nAngularCompilerPlugin stats (in full app):\r\n- 3915 files reported by NgTscProgram\r\n- 2152 classes reported by TraitCompiler\r\n\r\nAngularCompilerPlugin stats (in demo app):\r\n- 1600 files reported by NgTscProgram\r\n\r\nJIT is working much faster and recompilations tooks always 2-4sec.\r\n\r\nI turned on benchmark in node_modules/@ngtools/webpack/src/benchmark.js and started logging why AngularCompilerPlugin works so long on recompilations. Then I added my own logs prefixed with `>>>`. I added these log files as assignments to this issue. Log files contains our full app compilation and recompilation process - it separated with `[RECOMPILE STARTS HERE]` tag.\r\n\r\nIn the first log file you can see that chain\r\n```AngularCompilerPlugin._make => AngularCompilerPlugin._update => AngularCompilerPlugin._createOrUpdateProgram.ng.loadNgStructureAsync ```\r\ntake 10311.904ms it is about 10/17 of all recompilation time.\r\nThen dived deep into it and understood that `ComponentDecoratorHandler.resolve` is the slow method\r\nusing console.time. Here is stacktrace:\r\n\r\n```\r\nComponentDecoratorHandler.resolve (component.js:382)\r\nTraitCompiler.resolve (compilation.js:395)\r\nNgCompiler.resolveCompilation (compiler.js:356)\r\nNgCompiler.analyzeAsync (compiler.js:181)\r\nNgtscProgram.loadNgStructureAsync (program.js:142)\r\n_createOrUpdateProgram (angular_compiler_plugin.js:261)\r\n_update (angular_compiler_plugin.js:842)\r\n_make (angular_compiler_plugin.js:749)\r\n```\r\nIn the second log you can see 3 internal timelines of `ComponentDecoratorHandler.resolve()` and here is how I did it:\r\nusedDirectives\r\n![image](https://user-images.githubusercontent.com/15385798/76080339-bb0bfb80-5fb7-11ea-938c-0e16913f6535.png)\r\nusedPipes\r\n![image](https://user-images.githubusercontent.com/15385798/76080405-e0006e80-5fb7-11ea-9731-a6eabbb3bd01.png)\r\nwrapDirectivesAndPipesInClosure\r\n![image](https://user-images.githubusercontent.com/15385798/76080450-fa3a4c80-5fb7-11ea-8632-ab9f5e09e5ba.png)\r\n\r\nSometimes `ComponentDecoratorHandler.resolve.usedDirectives` and  `ComponentDecoratorHandler.resolve.usedPipes` can execute very long time (check it in log file):\r\n```\r\n>>>> ComponentDecoratorHandler.resolve.usedDirectives: 23.926ms\r\n>>>> ComponentDecoratorHandler.resolve.usedDirectives: 65.800ms\r\n>>>> ComponentDecoratorHandler.resolve.usedPipes: 11.891ms\r\n>>>> ComponentDecoratorHandler.resolve.usedPipes: 33.837ms\r\n```\r\nThese function called about ~2000 times in our app recompilation process so we can understand that if one usedDirectives and usedPipes processing tooks for example 5ms then whole process will took about 5x2x2000 = 20000ms = 10s.\r\n\r\nIn our application usedDirectives variable in `ComponentDecoratorHandler.resolve` method was equal to the value of 43 (maximum) and usedPipes to the value 7 (maximum).\r\n\r\ntsc --listFiles says there are 3913 files in typescript compilation. Added files list as assignment.\r\n\r\nMain part of tsconfig:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"types\": [\r\n      \"@types/angular\",\r\n      \"@types/chart.js\",\r\n      \"@types/core-js\",\r\n      \"@types/jasmine\",\r\n      \"@types/jquery\",\r\n      \"@types/lodash\",\r\n      \"@types/lru-cache\",\r\n      \"@types/node\",\r\n      \"@types/ui-select\"\r\n    ],\r\n    \"rootDir\": \".\",\r\n    \"baseUrl\": \".\",\r\n    \"moduleResolution\": \"node\",\r\n    \"lib\": [\"es2018\", \"dom\"],\r\n    \"module\": \"esnext\",\r\n    \"sourceMap\": true,\r\n    \"allowJs\": false,\r\n    \"experimentalDecorators\": true,\r\n    \"esModuleInterop\": true,\r\n    \"target\": \"es5\",\r\n    \"resolveJsonModule\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"declaration\": false\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"skipMetadataEmit\": true,\r\n    \"enableIvy\": true,\r\n    \"fullTemplateTypeCheck\": true\r\n  }\r\n}\r\n\r\n```\r\n\r\nI think that any big project can get into this issue with grow of files count which are included to the typescript and angular compilation processes.\r\n\r\nWhat I can't understand here: why Angular needs to traverse and handle all typescript compilation files when changed files (usually it one file) are known already )? It is looks like Ivy AOT can't work in incremental mode? How we can boost AOT recompilation without reducing files count?\r\n\r\nPlease tell me if you will need something else to understand the problem.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ‚úçÔ∏è--> It is very hard to reproduce it on stackblitz or github\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nAngular CLI: 9.0.4\r\nNode: 12.13.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, upgrade\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.1\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.1\r\n@angular/cdk                      9.1.0\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\n\r\nrxjs                              6.5.3\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\nLog1\r\n[1.log-first-compile.txt](https://github.com/angular/angular/files/4298250/1.log-first-compile.txt)\r\nLog2\r\n[2.log-comp-dec-resolve-used-dirs-and-pipes.txt](https://github.com/angular/angular/files/4298249/2.log-comp-dec-resolve-used-dirs-and-pipes.txt)\r\ntsc list files\r\n[tsc-list-files.txt](https://github.com/angular/angular/files/4298251/tsc-list-files.txt)\r\n\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35906","RelatedDescription":"Open issue \"[Ivy AOT] AOT recompilation is working slow on big projects\" (#35906)"},{"Id":"576879350","IsPullRequest":false,"CreatedAt":"2020-03-06T11:44:57","Actor":"cesco69","Number":"35905","RawContent":null,"Title":"DatePipe works on Chrome but not on Firefox","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n- Angular 8 \r\n- Angular 9\r\n\r\n\r\n### Description\r\nThis formatting with date pipe works on Chrome but not on Firefox:\r\n```html\r\n{{ \"06-03-2020 11:04:06\" | date:'dd/MM/yy' }}\r\n```\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nOpen this demo with Chrome and Firefox\r\nhttps://stackblitz.com/edit/angular-kfuwc4\r\non Firefox raise an exception:\r\n\r\n> ERROR\r\n> Error: InvalidPipeArgument: 'Unable to convert \"06-03-2020 11:04:06\" into a date' for pipe 'DatePipe'\r\n\r\n\r\n\r\n## üî• Exception or Error\r\n> ERROR\r\n> Error: InvalidPipeArgument: 'Unable to convert \"06-03-2020 11:04:06\" into a date' for pipe 'DatePipe'\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n```\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.15.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.5\r\n@angular-devkit/build-angular      0.900.5\r\n@angular-devkit/build-optimizer    0.900.5\r\n@angular-devkit/build-webpack      0.900.5\r\n@angular-devkit/core               8.3.8\r\n@angular-devkit/schematics         8.3.8\r\n@angular/cdk                       9.1.1\r\n@angular/material                  9.1.1\r\n@angular/material-moment-adapter   9.1.1\r\n@ngtools/webpack                   9.0.5\r\n@schematics/angular                8.3.8\r\n@schematics/update                 0.900.5\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n```\r\n","Url":"https://github.com/angular/angular/issues/35905","RelatedDescription":"Open issue \"DatePipe works on Chrome but not on Firefox\" (#35905)"},{"Id":"576844332","IsPullRequest":false,"CreatedAt":"2020-03-06T11:35:23","Actor":"nikita-starostin","Number":"35903","RawContent":null,"Title":"Alternative for `ngOnDestroy` to clean up resources","State":"closed","Body":"I like the paradigm to declare variables as close to place of their usage as possible. Often in the `ngOnInit` we set up a subscription, f.e. for fetching data, or maybe some other tasks, that should be cleaned in the `ngOnDestroy`. Following the paradigm, mentioned earlier, it can looks like this\r\n\r\n```\r\nngOnInit() {\r\n    this.subscription = createSubscription();\r\n    return () => cleanUp(this.subscription);\r\n}\r\n```\r\n\r\nAs you can see that now not need to search for `ngOnDestroy`, I see the clean up code in the place where resources have been created. \r\n\r\nThe alternative is to create special builder function, which clean up would be called on destroy\r\n```\r\n// in component\r\nngOnInit() {\r\n    // createSubscription - callback that creates resource(s), that should me cleaned on component destroy\r\n    // cleanUpSubscription - callback that should be triggered automatically, when component destroyed\r\n    this.subscription = getResource(createSubscription, cleanUpSubscription);\r\n}\r\n\r\n// getResource pseudo code\r\nfunction getResource(init, cleanUp) {\r\n    this._onInitCleanUp = [...(this._onInitCleanUp || []), cleanUp)];\r\n    return init();\r\n}\r\n\r\n// in base component constructor\r\nconstructor() {\r\n    const cleanUp = () => this._onInitCleanUp && this._onInitCleanUp.forEach(cleanUp => cleanUp());\r\n    const onDestroy = this.ngOnDestroy;\r\n    this.ngOnDestroy = () => (onDestroy && onDestoy()) || cleanUp();\r\n}\r\n```\r\n\r\nI like the variant with `getResource`, as I can call `getResource` at any method of the component, and can easily map one-to-one, resource and it is clean up function. Is it make sense to add such function as built in to `@angular/core`? ","Url":"https://github.com/angular/angular/issues/35903","RelatedDescription":"Closed issue \"Alternative for `ngOnDestroy` to clean up resources\" (#35903)"},{"Id":"576853084","IsPullRequest":true,"CreatedAt":"2020-03-06T10:53:38","Actor":"ajitsinghkaler","Number":"35904","RawContent":null,"Title":"feat(docs-infra): replace analytics.js with gtag.js","State":"open","Body":"replaced analytics.js with gtag.js for best practices\r\n\r\n#22260\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nAnalytics.js is used to collect data now integrated gtag.js\r\n\r\nIssue Number: #22260\r\n\r\n\r\n## What is the new behavior?\r\nAdded gtag.js to collect data for analytics\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35904","RelatedDescription":"Open PR \"feat(docs-infra): replace analytics.js with gtag.js\" (#35904)"},{"Id":"576826234","IsPullRequest":false,"CreatedAt":"2020-03-06T10:07:43","Actor":"dyingangel666","Number":"35902","RawContent":null,"Title":"i18n extraction not working for one way binding attributes","State":"open","Body":"# üêû bug report\r\n\r\n### Description\r\n\r\ni18n extraction not working for one way binding properties. In my case for the following markup:\r\n\r\n```html\r\n<input\r\n            formControlName=\"email\"\r\n            i18n-placeholder=\"@@text_emailAddress\"\r\n            [placeholder]=\"'E-Mail Adresse'\"\r\n            type=\"email\">\r\n```\r\n\r\nAfter calling the extraction tool `ng xi18n --format=xlf --output-path=src/locales --out-file=messages.xlf` the part is completely missing in the xlf files. I know i can just use `placeholder=\"E-Mail Adresse\"` without square brackets but then i have the issue with IE11 and untouched form fields that are not pristine. And with one way binding this issue is fixed in IE11, but then the translations no longer working :(\r\n\r\nA thing that partially works is when i use `i18n-[placeholder]` but then i also have the single quotes within the xlf file... \r\n\r\nHere's a repo with reproduction. Checkout and call the extraction tool `ng xi18n` and check the message.xlf file which is generated in the projects root location.\r\n\r\n[https://github.com/dyingangel666/angular-i18n-extraction-issue](https://github.com/dyingangel666/angular-i18n-extraction-issue)\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n@angular-devkit/architect         0.900.4\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.4\r\n@angular/cdk                      9.1.0\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/35902","RelatedDescription":"Open issue \"i18n extraction not working for one way binding attributes\" (#35902)"},{"Id":"576793417","IsPullRequest":false,"CreatedAt":"2020-03-06T09:09:07","Actor":"Sid13Kulat","Number":"35900","RawContent":null,"Title":"ERROR Error: Uncaught (in promise): Error: The pipe 'async' could not be found!","State":"open","Body":"Hello Everyone,\r\n\r\nI have upgraded my angular project to Angular 9.0,4. Everything is working fine but I am getting issue of pipe in my template like **\"ERROR Error: Uncaught (in promise): Error: The pipe 'async' could not be found!\"**\r\n\r\nI am using \"*ngIf='vehicles$ | async; let values;'\" in my template.\r\n\r\nCan anyone please help me in this?\r\n\r\nBelow are the configuration of my angular project.\r\n\r\nAngular CLI: 9.0.4\r\nNode: 12.16.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect              0.803.25\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack    0.900.4\r\n@angular-devkit/core                     7.3.9\r\n@angular-devkit/schematics          7.3.9\r\n@angular/cdk                                 9.1.0\r\n@angular/http                                7.2.16\r\n@angular/localize                           9.0.5\r\n@angular/material                         9.1.0\r\n@ngtools/webpack                        9.0.4\r\n@schematics/angular                    8.3.25\r\n@schematics/update                    0.803.25\r\nrxjs                                                6.5.4\r\ntypescript                                     3.7.5\r\nwebpack                                      4.41.2**\r\n-------------------------------------------------------------------------------------------------------\r\n\r\nThank You.\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/35900","RelatedDescription":"Open issue \"ERROR Error: Uncaught (in promise): Error: The pipe 'async' could not be found!\" (#35900)"},{"Id":"576784202","IsPullRequest":false,"CreatedAt":"2020-03-06T08:50:27","Actor":"alexrashed","Number":"35899","RawContent":null,"Title":"Extended non-declared component template compilation fails w/ TS file entrypoints","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/compiler.\r\n\r\n\r\n### Is this a regression?\r\nYes, the previous version in which this bug was not present was: Angular 8\r\n\r\n\r\n### Description\r\nWe implemented a customization process based on `tsconfig.app.json#path`:\r\n- When building the default default app / project, just the sources of the default project are defined in the `tsconfig.app.json#path` section.\r\n- When building the customized app / project, first the sources of the customized app and as a fallback the sources of the default project are defined in the `tsconfig.app.json#path` section.\r\n- When extending a component of the default project, we create a new component and extend the one in the default project but do not export / declare the super component in any module anymore.\r\n\r\nWith Ivy, the recommended way to define included TS files is to use the entrypoints in `tsconfig.app.json#files` (instead of wildcard imports using `tsconfig.app.json#include` in NG <9):\r\n```\r\nWARNING in <...>\\ng-ivy-cust\\projects\\my-app\\src\\app\\mymodule\\mymodule.module.ts is part of the TypeScript compilation but it's unused.\r\nAdd only entry points to the 'files' or 'include' properties in your tsconfig.\r\n```\r\n\r\nThe previous approach (`tsconfig.app.json#include`) now shows a warning for each component which is included but not used (i.e. overwritten using our customization).\r\n\r\nWhen using `tsconfig.app.json#files`, the template of the super-component is compiled (even though it's not exported or declared in any module) but other components aren't detected for the super-component:\r\n```\r\nERROR in projects/my-app/src/app/mymodule/mycomponent/mycomponent.component.ts:7:5 - error NG8001: 'app-mycomponent2' is not a known element:\r\n1. If 'app-mycomponent2' is an Angular component, then verify that it is part of this module.\r\n2. If 'app-mycomponent2' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\r\n```\r\n\r\n## üî¨ Minimal Reproduction\r\nHere's a repo with a minimum working example:\r\nhttps://github.com/alexrashed/ng-ivy-cust\r\nIn the project `my-custom-app` the component `Mycomponent3Component` extends `MycomponentComponent`.\r\n\r\nSteps to reproduce:\r\n- npm install\r\n- npm run start-custom\r\n  - The project can't be built (see above)\r\n- Edit `projects/my-custom-app/tsconfig.app.json`:\r\n  - Remove the \"files\" and \"include\" section and uncomment the \"include\" section after the \"TODO\"\r\n- npm run start-custom\r\n  - The project is built and served, but the include warnings are shown.\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nERROR in projects/my-app/src/app/mymodule/mycomponent/mycomponent.component.ts:7:5 - error NG8001: 'app-mycomponent2' is not a known element:\r\n1. If 'app-mycomponent2' is an Angular component, then verify that it is part of this module.\r\n2. If 'app-mycomponent2' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.5\r\nNode: 12.16.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/35899","RelatedDescription":"Open issue \"Extended non-declared component template compilation fails w/ TS file entrypoints\" (#35899)"},{"Id":"576743470","IsPullRequest":false,"CreatedAt":"2020-03-06T07:16:07","Actor":"babakness","Number":"35898","RawContent":null,"Title":"Require property binding // True template null checks in Ivy","State":"open","Body":"Hello, using Angular 9, I have a component defined as such\r\n\r\n```ts\r\n@Compontent({\r\n  selector: 'app-whatever',\r\n})\r\nexport class Whatever {\r\n  @Input myProp: string\r\n}\r\n```\r\n\r\nI also have `tsconfig.json` to be strict, with `strictNullChecks` and `noImplicityAny`, for Angular I've declared `strictTemplates`\r\n\r\nWhile Angular does complain if I do this\r\n\r\n```\r\n<app-whatever [myProp]></app-whatever>\r\n```\r\nIt does not complain if I don't bind any properties at all\r\n\r\n```\r\n<app-whatever></app-whatever>\r\n```\r\n\r\nWhy is that? I want to catching missing prop bindings at static time, not during runtime.\r\n\r\nIn React this might be done as follows\r\n\r\n```tsx\r\n\r\ninterface WhateverProps{\r\n  myProp: string\r\n}\r\n\r\nexport const Whatever: React.FC<WhateverProps> = ({ myProp }) => ....\r\n```\r\nIn which case this would result in a static error\r\n\r\n```ts\r\n<Whatever />\r\n```\r\n\r\nAs it is missing the required `myProp` when `strictNullChecks` is enabled","Url":"https://github.com/angular/angular/issues/35898","RelatedDescription":"Open issue \"Require property binding // True template null checks in Ivy\" (#35898)"},{"Id":"576731400","IsPullRequest":true,"CreatedAt":"2020-03-06T06:43:42","Actor":"kyliau","Number":"35897","RawContent":null,"Title":"feat(compiler): Add sourceSpan and keySpan to TemplateBinding","State":"open","Body":"This commit adds fine-grained text spans to TemplateBinding for microsyntax expressions.\r\n\r\n1. Source span\r\n   By convention, source span refers to the entire span of the binding,\r\n   including its key and value.\r\n2. Key span\r\n   Span of the binding key, without any whitespace or keywords like `let`\r\n3. Value span\r\n   The value span is captured by the value expression AST.\r\n\r\nThese spans are primarily needed by the language service to provide precise autocomplete\r\nsuggestions and quick hover info at particular position.\r\n\r\nThe tests for microsyntax expressions are totally overhauled for better coverage, conciseness, and organization.\r\n\r\nThis is part of a series of PRs to fix source span mapping in microsyntax expression.\r\nFor more info, please see the design doc https://docs.google.com/document/d/1mEVF2pSSMSnOloqOPQTYNiAJO0XQxA1H0BZyESASOrE/edit?usp=sharing\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35897","RelatedDescription":"Open PR \"feat(compiler): Add sourceSpan and keySpan to TemplateBinding\" (#35897)"},{"Id":"576711109","IsPullRequest":false,"CreatedAt":"2020-03-06T05:40:28","Actor":"rsheptolut","Number":"35896","RawContent":null,"Title":"Upgrading to v9 makes *ngFor re-render items, breaking <select> for us","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue seems to be related to package @angular/platform-browser\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: v8.* (8.2.14)\r\n\r\n\r\n### Description\r\n\r\nUpgrading to Angular v9 broke the functionality of `<select>` for us. The `*ngFor` directive we use for populating it with `<option>` elements now all of the sudden re-renders items if you simply refresh the collection with new instances, even if their contents are the same. This resets the selected option, which is not expected and not desirable. This wasn't happening in v8. This isn't happening in v9 either, *unless* `BrowserAnimationsModule` is imported by the `app-module`. This also can be worked around by using `trackBy`, but for that you'd need to track down all the problematic `ngFor` directives after upgrading to v9.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n[Click here for v9 repro repository](https://github.com/rsheptolut/repro123)\r\n[Click here to see the same v9 repro app in action](https://rsheptolut.github.io/repro123/)\r\n[Same demo working without problems in Angular v8](https://angular-wqxppc.stackblitz.io) - although StackBlitz doesn't have this problem with v9 either (not sure why), but at least helps illustrate how it was working before\r\n\r\nThe v9 repro is based on `ng new` of Angular CLI 9.0.5. If building yourself, run locally with `ng serve`, because if imported into `StackBlitz`, the issue can't be reproduced.\r\n\r\n1. Choose an item in any drop down (the two are linked and simply illustrate the `trackBy` difference)\r\n2. Notice that the first button adds a new item but the selected option doesn't get reset.\r\n3. Clicking the second button though resets the selected option in the first drop down.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è--> None\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.5\r\nNode: 10.16.3\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nHappens only in Angular v9, when `BrowserAnimationsModule` is imported into `AppModule` and `ngFor` is not set up with `trackBy`.","Url":"https://github.com/angular/angular/issues/35896","RelatedDescription":"Open issue \"Upgrading to v9 makes *ngFor re-render items, breaking <select> for us\" (#35896)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"577015450","IsPullRequest":false,"CreatedAt":"2020-03-06T15:30:24","Actor":"fergusg","Number":"17164","RawContent":null,"Title":"ng update to v9 fails with invalid semver in package.json","State":"open","Body":"### Is this a regression?\r\n\r\nYes, the previous version in which this bug was not present was: .8.2.13\r\n\r\n### Description\r\n\r\n`ng update` fails if `package.json` version is not fully semver (`x.x.x`).\r\n\r\n##  Minimal Reproduction\r\n\r\n```\r\n$ ng new blah\r\n$ cd blah\r\n$ ng update rxjs\r\n# Found 30 dependencies.\r\n```\r\n\r\nEdit `package.json` to change `\"version\":  \"0.0\"`.\r\n\r\n```\r\n$ ng update rxjs --allow-dirty\r\nFound 0 dependencies.\r\nPackage 'rxjs' is not a dependency.\r\n```","Url":"https://github.com/angular/angular-cli/issues/17164","RelatedDescription":"Open issue \"ng update to v9 fails with invalid semver in package.json\" (#17164)"},{"Id":"576810916","IsPullRequest":true,"CreatedAt":"2020-03-06T13:52:48","Actor":"renovate[bot]","Number":"17160","RawContent":null,"Title":"build: update rollup to version 1.32.1 - autoclosed","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | dependencies | patch | [`1.32.0` -> `1.32.1`](https://renovatebot.com/diffs/npm/rollup/1.32.0/1.32.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>rollup/rollup</summary>\n\n### [`v1.32.1`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;1321)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v1.32.0...v1.32.1)\n\n_2020-03-06_\n\n##### Bug Fixes\n\n-   Handle default export detection for AMD and IIFE externals that do not have a prototype ([#&#8203;3420](https://togithub.com/rollup/rollup/issues/3420))\n-   Handle missing whitespace when the else branch of an if-statement is simplified ([#&#8203;3421](https://togithub.com/rollup/rollup/issues/3421))\n-   Mention the importing module when reporting errors for missing named exports ([#&#8203;3401](https://togithub.com/rollup/rollup/issues/3401))\n-   Add code to warning for missing output.name of IIFE bundles ([#&#8203;3372](https://togithub.com/rollup/rollup/issues/3372))\n\n##### Pull Requests\n\n-   [#&#8203;3372](https://togithub.com/rollup/rollup/pull/3372): Add warning code for missing output.name of IIFE bundle that has export ([@&#8203;rail44](https://togithub.com/rail44))\n-   [#&#8203;3401](https://togithub.com/rollup/rollup/pull/3401): Missing exports errors now print the importing module ([@&#8203;timiyay](https://togithub.com/timiyay))\n-   [#&#8203;3418](https://togithub.com/rollup/rollup/pull/3418): Structure lifecycle hooks, add links to build time hooks ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3420](https://togithub.com/rollup/rollup/pull/3420): Update generated code of getInteropBlock() to work with null prototype objects ([@&#8203;jdalton](https://togithub.com/jdalton))\n-   [#&#8203;3421](https://togithub.com/rollup/rollup/pull/3421): Avoid invalid code when \"else\" branch is simplified ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17160","RelatedDescription":"Closed or merged PR \"build: update rollup to version 1.32.1 - autoclosed\" (#17160)"},{"Id":"576871382","IsPullRequest":false,"CreatedAt":"2020-03-06T13:18:14","Actor":"thomasoreilly","Number":"17162","RawContent":null,"Title":"Node.js version 11.3 not supported by Angular 9 ","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [x] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [x] generate\r\n- [x] add\r\n- [x] update\r\n- [x] lint\r\n- [x] xi18n\r\n- [x] run\r\n- [x] config\r\n- [x] help\r\n- [x] version\r\n- [x] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n\r\nI'm not sure if there is an issue with Angular versions prior to 9.\r\n\r\n### Description\r\n\r\nFails to run ng commands.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n1. Install node.js 11.3.\r\n2. Install Angular CLI 9\r\n3. Try to create a new application. \r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\nNode.js version v11.3.0 detected.\r\nThe Angular CLI requires a minimum Node.js version of either v10.13 or v12.0.\r\n\r\nPlease update your Node.js version or visit https://nodejs.org/ for additional instructions.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\nNote: ng version doesn't work on node.js 11.3. The below output is from downgrading to node.js 10.15\r\n<pre><code>\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.1\r\nNode: 10.15.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.1\r\n@angular-devkit/build-angular      0.900.1\r\n@angular-devkit/build-ng-packagr   0.900.1\r\n@angular-devkit/build-optimizer    0.900.1\r\n@angular-devkit/build-webpack      0.900.1\r\n@angular-devkit/core               9.0.1\r\n@angular-devkit/schematics         9.0.1\r\n@angular/cdk                       8.2.3\r\n@angular/cli                       9.0.1\r\n@ngtools/webpack                   9.0.1\r\n@schematics/angular                9.0.1\r\n@schematics/update                 0.900.1\r\nng-packagr                         9.0.0\r\nrxjs                               6.5.3\r\ntypescript                         3.7.5\r\nwebpack                            4.41.6\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17162","RelatedDescription":"Closed issue \"Node.js version 11.3 not supported by Angular 9 \" (#17162)"},{"Id":"576891608","IsPullRequest":false,"CreatedAt":"2020-03-06T12:09:04","Actor":"vltansky","Number":"17163","RawContent":null,"Title":"Custom i18n locales names","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üöÄ Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [x] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ‚úçÔ∏è-->\r\nHi, I'm sorry in advance. Wasn't sure where should I open issue in Angular repo or here + not sure if it is a bug or feature request :)\r\nAnyway here is the thing:\r\nIn our project, we use i18n in a bit different way. We have 13 variations of our app. They share the same core and logic, but the logo, design, and content is different. So we not translating with i18n, but using it to deliver different options of content (for example in one website the welcome message will be 'Welcome customer' and in another, it will be 'Welcome dear partner').\r\nNow we are updating to angular 9 and we are very excited that we won't need to build 13 times, but only once. We started to make a POC, and turns out that in `angular.json` the key `i18n.locales` have a regex pattern of `^[a-zA-Z]{2,3}(-[a-zA-Z]{4})?(-([a-zA-Z]{2}|[0-9]{3}))?(-[a-zA-Z]{5,20})?$` according to `./node_modules/@angular/cli/lib/config/schema.json`. Our translation for today is smth like `en-corporate`, `en-private`, `en-pb`. So while `en-private` would work two another wouldnt. I understand that it is not a scenario that you built it for. But is there a solution that we could use without renaming? Is it possible to disable regex validation somehow?\r\n\r\n### Describe the solution you'd like\r\n<!-- ‚úçÔ∏è-->\r\nTo be able to use custom locale names or to disable pattern validation","Url":"https://github.com/angular/angular-cli/issues/17163","RelatedDescription":"Open issue \"Custom i18n locales names\" (#17163)"},{"Id":"576858099","IsPullRequest":true,"CreatedAt":"2020-03-06T11:02:36","Actor":"renovate[bot]","Number":"17161","RawContent":null,"Title":"build: update coverage-istanbul-loader to version 3.0.0","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [coverage-istanbul-loader](https://jstools.dev/coverage-istanbul-loader) ([source](https://togithub.com/JS-DevTools/coverage-istanbul-loader)) | dependencies | major | [`2.0.3` -> `3.0.0`](https://renovatebot.com/diffs/npm/coverage-istanbul-loader/2.0.3/3.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>JS-DevTools/coverage-istanbul-loader</summary>\n\n### [`v3.0.0`](https://togithub.com/JS-DevTools/coverage-istanbul-loader/blob/master/CHANGELOG.md#v300httpsgithubcomJS-DevToolscoverage-istanbul-loadertreev300-2020-03-05)\n\n[Compare Source](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v2.0.3...v3.0.0)\n\n-   Moved coverage-istanbul-loader to the [@&#8203;JSDevTools scope](https://www.npmjs.com/org/jsdevtools) on NPM\n\n-   The \"coverage-istanbul-loader\" NPM package is now just a wrapper around the scoped \"[@&#8203;jsdevtools/coverage-istanbul-loader](https://togithub.com/jsdevtools/coverage-istanbul-loader)\" package\n\n[Full Changelog](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v2.0.3...v3.0.0)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17161","RelatedDescription":"Open PR \"build: update coverage-istanbul-loader to version 3.0.0\" (#17161)"},{"Id":"576784637","IsPullRequest":true,"CreatedAt":"2020-03-06T08:51:27","Actor":"alan-agius4","Number":"17159","RawContent":null,"Title":"test: change webpack angular tests to use es2015 ","State":"open","Body":"This is to avoid having NGCC go through and transform ES5 entrypoints","Url":"https://github.com/angular/angular-cli/pull/17159","RelatedDescription":"Open PR \"test: change webpack angular tests to use es2015 \" (#17159)"},{"Id":"576521956","IsPullRequest":false,"CreatedAt":"2020-03-06T07:14:44","Actor":"mfduar8766","Number":"17155","RawContent":null,"Title":"Can you add [(ngModel)]support back into reactive forms? ","State":"closed","Body":"üõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n\r\nPlease help us process issues more efficiently by filing an\r\nissue using one of the following templates:\r\n\r\nhttps://github.com/angular/angular-cli/issues/new/choose\r\n\r\nThank you!\r\n\r\nüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n","Url":"https://github.com/angular/angular-cli/issues/17155","RelatedDescription":"Closed issue \"Can you add [(ngModel)]support back into reactive forms? \" (#17155)"},{"Id":"576721240","IsPullRequest":true,"CreatedAt":"2020-03-06T06:13:55","Actor":"renovate[bot]","Number":"17158","RawContent":null,"Title":"build: update bazel packages","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@bazel/jasmine](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2fjasmine/1.3.0/1.4.1) |\n| [@bazel/karma](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2fkarma/1.3.0/1.4.1) |\n| [@bazel/labs](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2flabs/1.3.0/1.4.1) |\n| [@bazel/typescript](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2ftypescript/1.3.0/1.4.1) |\n| [bazel_toolchains](https://togithub.com/bazelbuild/bazel-toolchains) | http_archive | minor | [`2.1.1` -> `2.2.0`](https://renovatebot.com/diffs/npm/bazelbuild%2fbazel-toolchains/2.1.1/2.2.0) |\n| [build_bazel_rules_nodejs](https://togithub.com/bazelbuild/rules_nodejs) | http_archive | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/bazelbuild%2frules_nodejs/1.3.0/1.4.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/rules_nodejs</summary>\n\n### [`v1.4.1`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;141httpsgithubcombazelbuildrulesnodejscompare140141-2020-03-06)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/1.4.0...1.4.1)\n\n##### Bug Fixes\n\n-   **builtin:** Bazel build failing when project is not on the system drive on Windows (C:) ([#&#8203;1641](https://togithub.com/bazelbuild/rules_nodejs/issues/1641)) ([d9cbb99f](https://togithub.com/bazelbuild/rules_nodejs/commit/d9cbb99f)\n-   **windows_utils:** Escaping \\\\ and \" before passing args to bash scrip‚Ä¶ ([#&#8203;1685](https://togithub.com/bazelbuild/rules_nodejs/pull/1685)) ([f9be953d](https://togithub.com/bazelbuild/rules_nodejs/commit/f9be953d)\n\n### [`v1.4.0`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;140httpsgithubcombazelbuildrulesnodejscompare130140-2020-03-02)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/1.3.0...1.4.0)\n\n##### Bug Fixes\n\n-   **builtin:** don't include external files when pkg_npm is in root package ([#&#8203;1677](https://togithub.com/bazelbuild/rules_nodejs/issues/1677)) ([8089999](https://togithub.com/bazelbuild/rules_nodejs/commit/8089999)), closes [#&#8203;1499](https://togithub.com/bazelbuild/rules_nodejs/issues/1499)\n-   **examples:** change build target label to //src:prodapp ([a7f07d1](https://togithub.com/bazelbuild/rules_nodejs/commit/a7f07d1))\n-   **examples:** fix angular examples to use bazelisk ([02e6462](https://togithub.com/bazelbuild/rules_nodejs/commit/02e6462))\n-   ensure BAZEL_NODE_RUNFILES_HELPER & BAZEL_NODE_PATCH_REQUIRE are absolute ([#&#8203;1634](https://togithub.com/bazelbuild/rules_nodejs/issues/1634)) ([25600ea](https://togithub.com/bazelbuild/rules_nodejs/commit/25600ea))\n-   expand_variables helper should handle external labels ([3af3a0d](https://togithub.com/bazelbuild/rules_nodejs/commit/3af3a0d))\n-   logic error in expand_variables ([#&#8203;1631](https://togithub.com/bazelbuild/rules_nodejs/issues/1631)) ([32c003f](https://togithub.com/bazelbuild/rules_nodejs/commit/32c003f))\n-   yarn cache path should be a string ([#&#8203;1679](https://togithub.com/bazelbuild/rules_nodejs/issues/1679)) ([a43809b](https://togithub.com/bazelbuild/rules_nodejs/commit/a43809b))\n-   **builtin:** use posix paths in assembler ([d635dca](https://togithub.com/bazelbuild/rules_nodejs/commit/d635dca)), closes [#&#8203;1635](https://togithub.com/bazelbuild/rules_nodejs/issues/1635)\n-   **create:** use latest typescript ([a8ba18e](https://togithub.com/bazelbuild/rules_nodejs/commit/a8ba18e)), closes [#&#8203;1602](https://togithub.com/bazelbuild/rules_nodejs/issues/1602)\n-   **examples:** add fixes to angular architect ([f6f40c3](https://togithub.com/bazelbuild/rules_nodejs/commit/f6f40c3))\n-   remove empty arguments from launcher ([#&#8203;1650](https://togithub.com/bazelbuild/rules_nodejs/issues/1650)) ([aa3cd6c](https://togithub.com/bazelbuild/rules_nodejs/commit/aa3cd6c))\n\n##### Features\n\n-   **[@&#8203;bazel/jasmine](https://togithub.com/bazel/jasmine):** update dependencies to jasmine v3.5.0 ([98fab93](https://togithub.com/bazelbuild/rules_nodejs/commit/98fab93))\n-   **docs:** add authroing instructions ([4dde728](https://togithub.com/bazelbuild/rules_nodejs/commit/4dde728))\n-   **docs:** add header anchor links ([2002046](https://togithub.com/bazelbuild/rules_nodejs/commit/2002046))\n-   **docs:** add vscode debugging section ([78d308f](https://togithub.com/bazelbuild/rules_nodejs/commit/78d308f))\n-   **examples:** add serve to angular architect ([1569f4b](https://togithub.com/bazelbuild/rules_nodejs/commit/1569f4b))\n-   **jasmine:** configure XML reporter to capture detailed testlogs ([8abd20d](https://togithub.com/bazelbuild/rules_nodejs/commit/8abd20d))\n-   **rollup:** add `args` attribute to rollup_bundle rule ([#&#8203;1681](https://togithub.com/bazelbuild/rules_nodejs/issues/1681)) ([94c6182](https://togithub.com/bazelbuild/rules_nodejs/commit/94c6182))\n-   **rollup:** add silent attr to rollup_bundle to support --silent flag ([#&#8203;1680](https://togithub.com/bazelbuild/rules_nodejs/issues/1680)) ([18e8001](https://togithub.com/bazelbuild/rules_nodejs/commit/18e8001))\n-   **typescript:** use run_node helper to execute tsc ([066a52c](https://togithub.com/bazelbuild/rules_nodejs/commit/066a52c))\n\n</details>\n\n<details>\n<summary>bazelbuild/bazel-toolchains</summary>\n\n### [`v2.2.0`](https://togithub.com/bazelbuild/bazel-toolchains/releases/2.2.0)\n\n[Compare Source](https://togithub.com/bazelbuild/bazel-toolchains/compare/2.1.1...2.2.0)\n\nSHA256:1342f84d4324987f63307eb6a5aac2dff6d27967860a129f5cd40f8f9b6fd7dd\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17158","RelatedDescription":"Open PR \"build: update bazel packages\" (#17158)"},{"Id":"576721143","IsPullRequest":true,"CreatedAt":"2020-03-06T06:13:36","Actor":"renovate[bot]","Number":"17157","RawContent":null,"Title":"build: update angular packages","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`708ca30` -> `57c05cd`](https://renovatebot.com/diffs/npm/angular%2fanimations-builds//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`3267960` -> `33d8086`](https://renovatebot.com/diffs/npm/angular%2fcdk-builds//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`0028a23` -> `02f6696`](https://renovatebot.com/diffs/npm/angular%2fcommon-builds//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`b9ad0cf` -> `d0eff61`](https://renovatebot.com/diffs/npm/angular%2fcompiler-builds//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`ce32ad3` -> `914f8a0`](https://renovatebot.com/diffs/npm/angular%2fcompiler-cli-builds//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`38275a1` -> `f46f04e`](https://renovatebot.com/diffs/npm/angular%2fcore-builds//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`a0015d9` -> `6eb39d1`](https://renovatebot.com/diffs/npm/angular%2fforms-builds//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`e6fe808` -> `f2848b9`](https://renovatebot.com/diffs/npm/angular%2flanguage-service-builds//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`96271e4` -> `8e38898`](https://renovatebot.com/diffs/npm/angular%2flocalize-builds//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`4769716` -> `055af70`](https://renovatebot.com/diffs/npm/angular%2fmaterial2-builds//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`a62d3a9` -> `4e3426b`](https://renovatebot.com/diffs/npm/angular%2fplatform-browser-builds//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`bcaa235` -> `46e3a02`](https://renovatebot.com/diffs/npm/angular%2fplatform-browser-dynamic-builds//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`acc2b55` -> `040bb3c`](https://renovatebot.com/diffs/npm/angular%2fplatform-server-builds//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`e99fe6b` -> `4c4ca97`](https://renovatebot.com/diffs/npm/angular%2frouter-builds//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17157","RelatedDescription":"Open PR \"build: update angular packages\" (#17157)"},{"Id":"576719320","IsPullRequest":true,"CreatedAt":"2020-03-06T06:08:07","Actor":"spenceryue","Number":"17156","RawContent":null,"Title":"docs(@angular/cli): fix schema.json description for `stylePreprocessorOptions.includePaths`","State":"open","Body":"Previously, the `schema.json` description for `stylePreprocessorOptions` > `includePaths` specified that paths were resolved with respect to \"project root\", but this should read \"workspace root\".\r\n\r\nStarting at [styles.ts#L81](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L81),\r\n\r\n    includePaths.push(path.resolve(root, includePath)),\r\n\r\neach user-specified include path is resolved with respect to `root`, declared at [styles.ts#L27](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L27)\r\n\r\n    const { root, buildOptions } = wco;\r\n\r\nwhere `wco` is passed in from the containing function, [`getStylesConfig`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L26), called at [index.ts#L138](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L138)\r\n\r\n    getStylesConfig(wco),\r\n\r\ninside the `webpackPartialGenerator` callback, which was passed to `generateBrowserWebpackConfigFromContext` at [index.ts#L154](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L154)\r\n\r\n    return generateBrowserWebpackConfigFromContext(options, context, webpackPartialGenerator, host);\r\n\r\nwhich in turn passed the callback to [`generateWebpackConfig`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L226), which calls the callback at [webpack-browser-config.ts#L104](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L104)\r\n\r\n    const partials = webpackPartialGenerator(wco);\r\n\r\nwith the `wco` object declared at [webpack-browser-config.ts#L91](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L91), which has its `root` field set to `workspaceRoot`\r\n\r\n    root: workspaceRoot,\r\n\r\nwhich was passed in from `generateBrowserWebpackConfigFromContext` at [webpack-browser-config.ts#L222](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L222) as\r\n\r\n    getSystemPath(workspaceRoot),\r\n\r\nwhere `workspaceRoot` was declared at [webpack-browser-config.ts#L204](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L204) as\r\n\r\n    const workspaceRoot = normalize(context.workspaceRoot);\r\n\r\nusing the `context` received from the caller, [`buildBrowserWebpackConfigFromContext`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L129), whose own caller, [`setup`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/dev-server/index.ts#L163), passed in the `context` it received from [`setupWebpackBrowser`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/dev-server/index.ts#L115) which declares the type of `context` to be `BuilderContext`, whose definition includes a comment for the `workspaceRoot` field at [api.ts#L146](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/architect/src/api.ts#L146),\r\n\r\n    The absolute workspace root of this run.\r\n\r\nmotivating this PR.\r\n\r\nIt would probably also be helpful to also mention the include path resolution strategy in the [relevant section of the docs](https://angular.io/guide/workspace-config#style-preprocessor-options).","Url":"https://github.com/angular/angular-cli/pull/17156","RelatedDescription":"Open PR \"docs(@angular/cli): fix schema.json description for `stylePreprocessorOptions.includePaths`\" (#17156)"},{"Id":"574847036","IsPullRequest":true,"CreatedAt":"2020-03-05T19:33:53","Actor":"clydin","Number":"17145","RawContent":null,"Title":"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks","State":"closed","Body":"This synchronizes the behavior with the FW's wherein the language code will be used if the data for the full locale is not found.  The user will still be notified in the event this occurs.","Url":"https://github.com/angular/angular-cli/pull/17145","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks\" (#17145)"},{"Id":"576455567","IsPullRequest":true,"CreatedAt":"2020-03-05T19:32:08","Actor":"alan-agius4","Number":"17154","RawContent":null,"Title":"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration","State":"closed","Body":"Patch version of https://github.com/angular/angular-cli/pull/17153","Url":"https://github.com/angular/angular-cli/pull/17154","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration\" (#17154)"},{"Id":"576447124","IsPullRequest":true,"CreatedAt":"2020-03-05T19:30:25","Actor":"alan-agius4","Number":"17153","RawContent":null,"Title":"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/17153","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration\" (#17153)"},{"Id":"575739135","IsPullRequest":false,"CreatedAt":"2020-03-05T09:58:54","Actor":"Vicevini","Number":"17151","RawContent":null,"Title":"Error","State":"closed","Body":"üõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n\r\nI have this problem \r\n\r\n npm install -g @angular/cli\r\nnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\nC:\\Users\\vicev\\AppData\\Roaming\\npm\\ng -> C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\bin\\ng\r\n\r\n> @angular/cli@9.0.4 postinstall C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\r\n> node ./bin/postinstall/script.js\r\n\r\n+ @angular/cli@9.0.4\r\nupdated 1 package in 9.576s\r\n\r\n![image](https://user-images.githubusercontent.com/48629758/75920515-4c576280-5e3e-11ea-992e-9e6629e065de.png)\r\n\r\nüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõëüõë\r\n","Url":"https://github.com/angular/angular-cli/issues/17151","RelatedDescription":"Closed issue \"Error\" (#17151)"},{"Id":"576017453","IsPullRequest":true,"CreatedAt":"2020-03-05T06:13:32","Actor":"renovate[bot]","Number":"17152","RawContent":null,"Title":"build: update uuid to version 7.0.2","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [uuid](https://togithub.com/uuidjs/uuid) | dependencies | patch | [`7.0.1` -> `7.0.2`](https://renovatebot.com/diffs/npm/uuid/7.0.1/7.0.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>uuidjs/uuid</summary>\n\n### [`v7.0.2`](https://togithub.com/uuidjs/uuid/blob/master/CHANGELOG.md#&#8203;702httpsgithubcomuuidjsuuidcomparev701v702-2020-03-04)\n\n[Compare Source](https://togithub.com/uuidjs/uuid/compare/v7.0.1...v7.0.2)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17152","RelatedDescription":"Open PR \"build: update uuid to version 7.0.2\" (#17152)"},{"Id":"575073093","IsPullRequest":true,"CreatedAt":"2020-03-04T20:56:30","Actor":"mgechev","Number":"17149","RawContent":null,"Title":"refactor(@schematics/angular): remove redundant typeRoots","State":"closed","Body":"By default TypeScript will look up in this directory (see [docs](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types)).","Url":"https://github.com/angular/angular-cli/pull/17149","RelatedDescription":"Closed or merged PR \"refactor(@schematics/angular): remove redundant typeRoots\" (#17149)"},{"Id":"575162877","IsPullRequest":true,"CreatedAt":"2020-03-04T20:55:45","Actor":"renovate[bot]","Number":"17150","RawContent":null,"Title":"build: update terser to version 4.6.6","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | dependencies | patch | [`4.6.4` -> `4.6.6`](https://renovatebot.com/diffs/npm/terser/4.6.4/4.6.6) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>terser/terser</summary>\n\n### [`v4.6.6`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v466)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.5...v4.6.6)\n\n(hotfix release)\n\n-   Reverted code to 4.6.4 to allow for more time to investigate an issue.\n\n### [`v4.6.5`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v465-REVERTED)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.4...v4.6.5)\n\n-   Improved compress performance through using a new method to see if two nodes are equivalent, instead of printing them to a string.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17150","RelatedDescription":"Closed or merged PR \"build: update terser to version 4.6.6\" (#17150)"},{"Id":"575046915","IsPullRequest":false,"CreatedAt":"2020-03-04T00:27:41","Actor":"fireflysemantics","Number":"17148","RawContent":null,"Title":"When adding a library to the workspace, also update .gitignore","State":"open","Body":"When running `ng g library name_of_library` also add the libraries `node_modules` path to the top level `.gitignore`.","Url":"https://github.com/angular/angular-cli/issues/17148","RelatedDescription":"Open issue \"When adding a library to the workspace, also update .gitignore\" (#17148)"},{"Id":"575028901","IsPullRequest":false,"CreatedAt":"2020-03-03T23:36:06","Actor":"spencerb02","Number":"17146","RawContent":null,"Title":"ng build and ng serve use inconsistent methods to determine files emitted from webpack","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: \r\n@angular-devkit/build-angular: \"0.800.6\"\r\n@angular/cli: \"8.0.6\"\r\n\r\nI apologize I didn't do the leg work to discover exactly which version it broke in. I was using v8.0.6 and was updating to latest v8 on my way to v9 (soon).\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\nIn the latest version of ng 8 the emitted files from the webpack build are handled differently by `ng build` than by `ng serve`. This was not the case in 8.0.6. (I have not tested this in ng 9 nor have I tested `ng test`). \r\n\r\nThis is due to this code being removed from `@angular-devkit/build-webpack/src/utils.js`:\r\n```javascript\r\n// entrypoints might have multiple outputs\r\n// such as runtime.js\r\nfor (const [name, entrypoint] of compilation.entrypoints) {\r\n    const entryFiles = (entrypoint && entrypoint.getFiles()) || [];\r\n    for (const file of entryFiles) {\r\n        files.push({ name, file, extension: path.extname(file), initial: true });\r\n    }\r\n}\r\n```\r\ncommit: https://github.com/angular/angular-cli/commit/e2b190584b0f18a53e00f7f58facd7be3a4c282a#diff-4e79ab2e1e76b5c5a42a38b4f3b50036\r\n\r\nThe `getEmittedFiles` method is how `ng build` determines the emitted files. In 8.0.6 it used to traverse the compilations entry points and then the chunks. Now in 8.3.25 it just traverses the chunks. `ng serve`, however, still traverses the endpoints:\r\n`@angular-devkit/build-angular/src/angular-cli-files/plugins/index-html-webpack-plugin.js`\r\n```javascript\r\nfor (const [entryName, entrypoint] of compilation.entrypoints) {\r\n  const entryFiles = ((entrypoint && entrypoint.getFiles()) || []).map((f) => ({\r\n    name: entryName,\r\n    file: f,\r\n    extension: path.extname(f),\r\n  }));\r\n  //...\r\n}\r\n```\r\n\r\nThe outcome of this issue is that additional outputs of the `main` entrypoint are no longer added to the index.html when running `ng build` but they are included when I run `ng serve` which created false positives. (and lead to some really fun \"works on my box\" discussions with the quality engineer)\r\n\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\nThis is where it gets messy and I admit that I'm using a build extension. I'm adding to the webpack config through an `ngx-build-plus` plugin. Utilizing the plugin I add the following merge to the webpack config:\r\n\r\n```javascript\r\nconst merge = require(\"webpack-merge\");\r\n\r\nexports.default = {\r\n  pre(options) {\r\n    // ...\r\n  },\r\n  config(config) {\r\n    const mergeStrategy = merge.strategy({\r\n      // ...,\r\n      \"config.optimization.splitChunks.cacheGroups\": \"append\",\r\n    });\r\n\r\n    return mergeStrategy(config, {\r\n      optimization: {\r\n        splitChunks: {\r\n          cacheGroups: {\r\n            angularJS: {\r\n              name: \"angularJS\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](angular-?|ng-)/,\r\n              priority: 5,\r\n            },\r\n            angular: {\r\n              name: \"angular\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](@angular)[\\\\/]/,\r\n              priority: 5,\r\n            },\r\n          },\r\n        },\r\n      },\r\n    });\r\n  },\r\n  post(options) {\r\n    // ... \r\n  },\r\n};\r\n```\r\nThis creates 2 new bundles `angular.[hash:20].js` and `angularJS.[hash:20].js` (did I mention it's a hybrid app?) which are initial bundles which are output by the `main` entrypoint. When I run `ng serve` they are included in the index.html because they are attached to the `main` endpoint. When I run `ng build`, they are not included in the `index.html`.\r\n\r\nWith `ngx-build-plus` installed and assuming the above plugin is in a file called `config/webpack-loaders/ajs-plugin.js` run the build:\r\n`ng build --plugin ~config/webpack-loaders/ajs-plugin.js` or\r\n`ng serve --plugin ~config/webpack-loaders/ajs-plugin.js -o`\r\n\r\nI know that what I need to do is use the post step to enforce the cachegroups get added the way I expect, but I wanted to call out the inconsistency between the commands.\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n// OLD VERSION\r\nAngular CLI: 8.0.6\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.800.6\r\n@angular-devkit/build-angular     0.800.6\r\n@angular-devkit/build-optimizer   0.800.6\r\n@angular-devkit/build-webpack     0.800.6\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.0.6\r\n@ngtools/webpack                  8.0.6\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.800.6\r\nrxjs                              6.4.0\r\ntypescript                        3.4.5\r\nwebpack                           4.30.0\r\n\r\n\r\n// NEW VERSION\r\nAngular CLI: 8.3.25\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.25\r\n@angular-devkit/build-angular     0.803.25\r\n@angular-devkit/build-optimizer   0.803.25\r\n@angular-devkit/build-webpack     0.803.25\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.3.25\r\n@ngtools/webpack                  8.3.25\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.803.25\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2\r\n</code></pre>\r\n\r\nAngular json build options:\r\n```json\r\n\"architect\": {\r\n  \"build\": {\r\n    \"builder\": \"ngx-build-plus:browser\",\r\n    \"options\": {\r\n      \"outputPath\": \"dist/website\",\r\n      \"index\": \"config/templates/index.html\",\r\n      \"main\": \"src/main.ts\",\r\n      \"polyfills\": \"src/polyfills.ts\",\r\n      \"tsConfig\": \"tsconfig.app.json\",\r\n      \"aot\": false,\r\n      \"showCircularDependencies\": false,\r\n      \"assets\": [\r\n        \"src/assets\",\r\n      ],\r\n      \"styles\": [\r\n        \"src/styles.scss\"\r\n      ],\r\n    },\r\n  },\r\n  \"configurations\": {\r\n    \"production\": {\r\n      \"fileReplacements\": [{\r\n        \"replace\": \"src/environments/environment.ts\",\r\n        \"with\": \"src/environments/environment.prod.ts\"\r\n      }],\r\n      \"optimization\": true,\r\n      \"outputHashing\": \"all\",\r\n      \"sourceMap\": false,\r\n      \"extractCss\": true,\r\n      \"namedChunks\": false,\r\n      \"aot\": true,\r\n      \"extractLicenses\": true,\r\n      \"vendorChunk\": true,\r\n      \"forkTypeChecker\": true,\r\n      \"buildOptimizer\": true,\r\n      \"budgets\": []\r\n    },\r\n  },\r\n  \"serve\": {\r\n    \"builder\": \"ngx-build-plus:dev-server\",\r\n    \"options\": {\r\n      \"browserTarget\": \"website:build\"\r\n    },\r\n    \"configurations\": {\r\n      \"production\": {\r\n        \"browserTarget\": \"website:build:production\"\r\n      },\r\n      \"staging\": {\r\n        \"browserTarget\": \"website:build:staging\"\r\n      }\r\n    }\r\n  },\r\n}\r\n```\r\n\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nAll paths lead through `@angular-devkit\\build-angular\\src\\angular-cli-files\\utilities\\index-file\\augment-index-html.js augmentIndexHtml()` and the array of `files` that gets passed to it.\r\n\r\nWhen running `ng serve` files is set to an array like this:\r\n```javascript\r\n[\r\n  { name: 'main', file: 'runtime.js', extension: '.js' },\r\n  { name: 'main', file: 'angularJS.js', extension: '.js' },\r\n  { name: 'main', file: 'angular.js', extension: '.js' },\r\n  { name: 'main', file: 'vendor.js', extension: '.js' },\r\n  { name: 'main', file: 'main.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'runtime.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'polyfills.js', extension: '.js' },\r\n  { name: 'styles', file: 'runtime.js', extension: '.js' },\r\n  { name: 'styles', file: 'styles.js', extension: '.js' },\r\n]\r\n```\r\nNotice Angular and AngularJS have the name of `main`. This is because the name is set as the name of the entrypoint the `emittedFile` was found in.\r\n\r\nWhen running `ng build` the same files are built (according to `webpack-bundle-analyzer`) but the `files` array looks like this:\r\n```javascript\r\n[\r\n  { file: 'runtime.bc9d7222a5be40bb49f2.js', extension: '.js', name: 'runtime' },\r\n  { file: 'angularJS.bd8c6b36a4d831de98ad.js', extension: '.js', name: 'angularJS~main' },\r\n  { file: 'angular.2378ac52c8e97a70ffb9.js', extension: '.js', name: 'angular~main' },\r\n  { file: 'main.776ae6e317ff60328da0.js', extension: '.js', name: 'main' },\r\n  { file: 'polyfills.83265812522305ef22ce.js', extension: '.js', name: 'polyfills' },\r\n  { file: 'styles.2cdb9ded7df542f838e1.css', extension: '.css', name: 'styles' },\r\n  { file: 'vendor.7dc8e0ec3a85cc2dc3fc.js', extension: '.js', name: 'vendor' }\r\n]\r\n```\r\nNote that the name of these `emittedFiles` are the chunk name and not the entrypoint. These arrays of `emittedFile`s are then compared to the array of entrypoints to determine which ones are to be added to `index.html`:\r\n```javascript\r\n[\r\n  'polyfills-nomodule-es5',\r\n  'polyfills-es5',\r\n  'polyfills',\r\n  'styles',\r\n  'vendor',\r\n  'main'\r\n]\r\n```\r\nSo `ng serve` recognizes the angular bundles are part of the main entrypoint and adds them to \r\n`index.html` accordingly. `ng build` on the other hand doesn't because the chunk names are not the same as an entrypoint in the hardcoded list of entrypoints.\r\n\r\nIn conclusion:\r\n1) I need to make my use of the build extension more robust and ensure the `cachegroup` bundles are added to the `index.html` in the plugin's `post` step.\r\n2) I don't think `ng serve` and `ng build` should be different in how they map the emitted files.\r\n3) I am very open to hearing the \"right way\" of doing things if there is a better/more accepted approach for handling large, eagerly loaded 3rd party bundles.","Url":"https://github.com/angular/angular-cli/issues/17146","RelatedDescription":"Open issue \"ng build and ng serve use inconsistent methods to determine files emitted from webpack\" (#17146)"},{"Id":"574440692","IsPullRequest":true,"CreatedAt":"2020-03-03T21:37:37","Actor":"renovate[bot]","Number":"17137","RawContent":null,"Title":"build: update typescript to version 3.8.3","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [typescript](https://www.typescriptlang.org/) ([source](https://togithub.com/Microsoft/TypeScript)) | devDependencies | patch | [`3.8.2` -> `3.8.3`](https://renovatebot.com/diffs/npm/typescript/3.8.2/3.8.3) |\n| [typescript](https://www.typescriptlang.org/) ([source](https://togithub.com/Microsoft/TypeScript)) | dependencies | patch | [`3.8.2` -> `3.8.3`](https://renovatebot.com/diffs/npm/typescript/3.8.2/3.8.3) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>Microsoft/TypeScript</summary>\n\n### [`v3.8.3`](https://togithub.com/Microsoft/TypeScript/releases/v3.8.3)\n\n[Compare Source](https://togithub.com/Microsoft/TypeScript/compare/v3.8.2...v3.8.3)\n\nFor release notes, check out the [release announcement](https://devblogs.microsoft.com/typescript/announcing-typescript-3-8/).\n\nFor new features, check out the [What's new in TypeScript v3.8](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html).\n\nFor the complete list of fixed issues, check out the\n\n-   [fixed issues query for Typescript v3.8.0 (Beta)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.0%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.1 (RC)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.1%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.2 (Final)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.2%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.3](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.3%22+is%3Aclosed+).\n\nDownloads are available on:\n\n-   [npm](https://www.npmjs.com/package/typescript)\n-   [Visual Studio](https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.TypeScript-383) ([Select new version in project options](https://togithub.com/Microsoft/TypeScript/wiki/Updating-TypeScript-in-Visual-Studio-2017))\n-   [NuGet package](https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17137","RelatedDescription":"Closed or merged PR \"build: update typescript to version 3.8.3\" (#17137)"},{"Id":"574841551","IsPullRequest":false,"CreatedAt":"2020-03-03T18:04:01","Actor":"santhony7","Number":"17144","RawContent":null,"Title":"Add baseHref setting to the sourceLocale","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üöÄ Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [x] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ‚úçÔ∏è--> I don't think this is possible now or I have not found a good solution. You added the ability to specify a baseHref in each locale during i18n but no way to specify the baseHref for the sourceLocale. Not sure how else to specifiy a baseHref=\"/\" for en. Compiler always makes it '/en/'.\r\n\r\n\r\n### Describe the solution you'd like\r\n<!-- ‚úçÔ∏è--> Change the schema to allow an object for sourceLocal that has a property of baseHref.\r\n\r\n\r\n### Describe alternatives you've considered\r\n<!-- ‚úçÔ∏è--> The only workaround I have found it to create two builds: One for english and one for all other locales. \r\n","Url":"https://github.com/angular/angular-cli/issues/17144","RelatedDescription":"Closed issue \"Add baseHref setting to the sourceLocale\" (#17144)"},{"Id":"574765010","IsPullRequest":false,"CreatedAt":"2020-03-03T15:53:05","Actor":"rcketscientist","Number":"17143","RawContent":null,"Title":"ng-update exceeds peerDependency bounds","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\nWe did not have issues while lagging behind 6/7/8 releases.\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\npackageA depends on ng8 and material8.\r\nIf I `ng update packageA` it will attempt to update Angular to 9.  I can avoid this by temporarily removing material as a dependency.  Something about material flushes out a bug in ng-cli.  I've submitted a bug in the material repo, but they make a convincing argument that the bug is actually in cli:\r\nhttps://github.com/angular/components/issues/18536?email_source=notifications&email_token=AA6W5LUTQN4ZVQYEQLHDJYTRFASJJA5CNFSM4KXKGJNKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENF5OLA#issuecomment-592172844\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\npackageA depends on ng8 and material8.\r\n`ng update packageA`\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/common\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/core\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@angular-devkit/build-angular\" has an incompatible peer dependency to \"typescript\" (requires \">=3.1 < 3.6\", would install \"3.7.5\").\r\n\r\nIncompatible peer dependencies found.\r\nPeer dependency warnings when installing dependencies means that those dependencies might not work correctly together.\r\nYou can use the '--force' option to ignore incompatible peer dependencies and instead address these warnings later.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nAngular CLI: 8.3.24\r\nNode: 12.16.1\r\nOS: darwin x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.803.24\r\n@angular-devkit/build-angular      0.803.24\r\n@angular-devkit/build-ng-packagr   0.803.24\r\n@angular-devkit/build-optimizer    0.803.24\r\n@angular-devkit/build-webpack      0.803.24\r\n@angular-devkit/core               8.3.24\r\n@angular-devkit/schematics         8.3.24\r\n@angular/cdk                       8.2.3\r\n@angular/cli                       8.3.24\r\n@angular/material                  8.2.3\r\n@ngtools/webpack                   8.3.24\r\n@schematics/angular                8.3.24\r\n@schematics/update                 0.803.24\r\nng-packagr                         5.7.1\r\nrxjs                               6.4.0\r\ntypescript                         3.5.3\r\nwebpack                            4.39.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17143","RelatedDescription":"Open issue \"ng-update exceeds peerDependency bounds\" (#17143)"},{"Id":"574473518","IsPullRequest":false,"CreatedAt":"2020-03-03T12:01:15","Actor":"akashchavda","Number":"17138","RawContent":null,"Title":"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile","State":"closed","Body":"I am working on one of my application in AngularJS (CLI 9) framework.\r\n\r\nIts successfully run by `ng serve` command and open in `http://localhost:4200`\r\n\r\nbut when i build it by `ng build` i got below error\r\n\r\n`Unable to copy assets: EFAULT: bad address in system call argument, copyfile directoryPath/src/favicon.ico -> directoryPath/dist/favicon.ico`\r\n\r\nbelow is my build code..\r\n\r\n    \"build\": {\r\n              \"builder\": \"@angular-devkit/build-angular:browser\",\r\n              \"options\": {\r\n                \"outputPath\": \"dist\",\r\n                \"index\": \"src/index.html\",\r\n                \"main\": \"src/main.ts\",\r\n                \"polyfills\": \"src/polyfills.ts\",\r\n                \"tsConfig\": \"tsconfig.app.json\",\r\n                \"aot\": false,\r\n                \"assets\": [\r\n                  \"src/favicon.ico\",\r\n                  \"src/assets\"\r\n                ],\r\n                \"styles\": [\r\n                  \"./src/styles.scss\",\r\n                  \"./node_modules/bootstrap/scss/bootstrap.scss\",\r\n                  \"./node_modules/font-awesome/scss/font-awesome.scss\",\r\n                  \"./node_modules/admin-lte/build/scss/AdminLTE.scss\",\r\n                  \"./node_modules/@ng-select/ng-select/themes/ant.design.theme.css\",\r\n                  \"./node_modules/ngx-toastr/toastr.css\"\r\n                ],\r\n                \"stylePreprocessorOptions\": {\r\n                  \"includePaths\": [\r\n                    \"./node_modules\"\r\n                  ]\r\n                },\r\n                \"scripts\": [\r\n                  \"./node_modules/jquery/dist/jquery.js\",\r\n                  \"./node_modules/popper.js/dist/umd/popper.js\",\r\n                  \"./node_modules/bootstrap/dist/js/bootstrap.js\",\r\n                  \"./node_modules/jquery-slimscroll/jquery.slimscroll.js\",\r\n                  \"./node_modules/icheck/icheck.js\",\r\n                  \"./node_modules/fastclick/lib/fastclick.js\",\r\n                  \"./node_modules/admin-lte/dist/js/adminlte.js\"\r\n                ]\r\n              },\r\n              \"configurations\": {\r\n                \"production\": {\r\n                  \"fileReplacements\": [\r\n                    {\r\n                      \"replace\": \"src/environments/environment.ts\",\r\n                      \"with\": \"src/environments/environment.prod.ts\"\r\n                    }\r\n                  ],\r\n                  \"optimization\": true,\r\n                  \"outputHashing\": \"all\",\r\n                  \"sourceMap\": false,\r\n                  \"extractCss\": true,\r\n                  \"namedChunks\": false,\r\n                  \"aot\": true,\r\n                  \"extractLicenses\": true,\r\n                  \"vendorChunk\": false,\r\n                  \"buildOptimizer\": true,\r\n                  \"budgets\": [\r\n                    {\r\n                      \"type\": \"initial\",\r\n                      \"maximumWarning\": \"2mb\",\r\n                      \"maximumError\": \"5mb\"\r\n                    },\r\n                    {\r\n                      \"type\": \"anyComponentStyle\",\r\n                      \"maximumWarning\": \"6kb\",\r\n                      \"maximumError\": \"10kb\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n\r\nTHis is all angular dependencies\r\n\r\n    \"dependencies\": {\r\n        \"@angular/animations\": \"~9.0.0\",\r\n        \"@angular/common\": \"~9.0.0\",\r\n        \"@angular/compiler\": \"~9.0.0\",\r\n        \"@angular/core\": \"~9.0.0\",\r\n        \"@angular/forms\": \"~9.0.0\",\r\n        \"@angular/platform-browser\": \"~9.0.0\",\r\n        \"@angular/platform-browser-dynamic\": \"~9.0.0\",\r\n        \"@angular/router\": \"~9.0.0\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@angular-devkit/build-angular\": \"~0.900.1\",\r\n        \"@angular/cli\": \"~9.0.1\",\r\n        \"@angular/compiler-cli\": \"~9.0.0\",\r\n        \"@angular/language-service\": \"~9.0.0\",\r\n    }\r\n\r\nI have researched on google but i dont find any solutions.. \r\n\r\nlet me know how to resolve this issue.","Url":"https://github.com/angular/angular-cli/issues/17138","RelatedDescription":"Closed issue \"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile\" (#17138)"},{"Id":"574593144","IsPullRequest":false,"CreatedAt":"2020-03-03T11:14:32","Actor":"akashchavda","Number":"17141","RawContent":null,"Title":"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile","State":"closed","Body":"I am working on one of my application in AngularJS (CLI 9) framework.\r\n\r\nIts successfully run by `ng serve` command and open in `http://localhost:4200`\r\n\r\nbut when i build it by `ng build` i got below error\r\n\r\n`Unable to copy assets: EFAULT: bad address in system call argument, copyfile directoryPath/src/favicon.ico -> directoryPath/dist/favicon.ico`\r\n\r\nbelow is my build code..\r\n\r\n    \"build\": {\r\n              \"builder\": \"@angular-devkit/build-angular:browser\",\r\n              \"options\": {\r\n                \"outputPath\": \"dist\",\r\n                \"index\": \"src/index.html\",\r\n                \"main\": \"src/main.ts\",\r\n                \"polyfills\": \"src/polyfills.ts\",\r\n                \"tsConfig\": \"tsconfig.app.json\",\r\n                \"aot\": false,\r\n                \"assets\": [\r\n                  \"src/favicon.ico\",\r\n                  \"src/assets\"\r\n                ],\r\n                \"styles\": [\r\n                  \"./src/styles.scss\",\r\n                  \"./node_modules/bootstrap/scss/bootstrap.scss\",\r\n                  \"./node_modules/font-awesome/scss/font-awesome.scss\",\r\n                  \"./node_modules/admin-lte/build/scss/AdminLTE.scss\",\r\n                  \"./node_modules/@ng-select/ng-select/themes/ant.design.theme.css\",\r\n                  \"./node_modules/ngx-toastr/toastr.css\"\r\n                ],\r\n                \"stylePreprocessorOptions\": {\r\n                  \"includePaths\": [\r\n                    \"./node_modules\"\r\n                  ]\r\n                },\r\n                \"scripts\": [\r\n                  \"./node_modules/jquery/dist/jquery.js\",\r\n                  \"./node_modules/popper.js/dist/umd/popper.js\",\r\n                  \"./node_modules/bootstrap/dist/js/bootstrap.js\",\r\n                  \"./node_modules/jquery-slimscroll/jquery.slimscroll.js\",\r\n                  \"./node_modules/icheck/icheck.js\",\r\n                  \"./node_modules/fastclick/lib/fastclick.js\",\r\n                  \"./node_modules/admin-lte/dist/js/adminlte.js\"\r\n                ]\r\n              },\r\n              \"configurations\": {\r\n                \"production\": {\r\n                  \"fileReplacements\": [\r\n                    {\r\n                      \"replace\": \"src/environments/environment.ts\",\r\n                      \"with\": \"src/environments/environment.prod.ts\"\r\n                    }\r\n                  ],\r\n                  \"optimization\": true,\r\n                  \"outputHashing\": \"all\",\r\n                  \"sourceMap\": false,\r\n                  \"extractCss\": true,\r\n                  \"namedChunks\": false,\r\n                  \"aot\": true,\r\n                  \"extractLicenses\": true,\r\n                  \"vendorChunk\": false,\r\n                  \"buildOptimizer\": true,\r\n                  \"budgets\": [\r\n                    {\r\n                      \"type\": \"initial\",\r\n                      \"maximumWarning\": \"2mb\",\r\n                      \"maximumError\": \"5mb\"\r\n                    },\r\n                    {\r\n                      \"type\": \"anyComponentStyle\",\r\n                      \"maximumWarning\": \"6kb\",\r\n                      \"maximumError\": \"10kb\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n\r\nTHis is all angular dependencies\r\n\r\n    \"dependencies\": {\r\n        \"@angular/animations\": \"~9.0.0\",\r\n        \"@angular/common\": \"~9.0.0\",\r\n        \"@angular/compiler\": \"~9.0.0\",\r\n        \"@angular/core\": \"~9.0.0\",\r\n        \"@angular/forms\": \"~9.0.0\",\r\n        \"@angular/platform-browser\": \"~9.0.0\",\r\n        \"@angular/platform-browser-dynamic\": \"~9.0.0\",\r\n        \"@angular/router\": \"~9.0.0\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@angular-devkit/build-angular\": \"~0.900.1\",\r\n        \"@angular/cli\": \"~9.0.1\",\r\n        \"@angular/compiler-cli\": \"~9.0.0\",\r\n        \"@angular/language-service\": \"~9.0.0\",\r\n    }\r\n\r\nI have researched on google but i dont find any solutions.. \r\n\r\nlet me know how to resolve this issue.","Url":"https://github.com/angular/angular-cli/issues/17141","RelatedDescription":"Closed issue \"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile\" (#17141)"},{"Id":"574538931","IsPullRequest":false,"CreatedAt":"2020-03-03T09:44:20","Actor":"multimike77","Number":"17140","RawContent":null,"Title":"ng xi18n not working for library","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [x] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No. Related functionaliy only available with new i18n capabilities of angular 9.\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è-->I want to use ng xi18n command to extract messages for i18n tags which are part of a library project which is part of a monrepo setup created by the cli. According to docs at \r\nhttps://angular.io/cli/xi18n this is supposed to be possible  \r\n  \r\n> ng xi18n \\<project\\>\r\n> \\<project\\> The name of the project to build. Can be an application or a library.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n1. create project: `ng new lib-i18n`\r\n1. add localize: `ng add @angular/localize`\r\n1. generate library: `ng g library my-lib`\r\n1. add i18n attribute in my-lib.component.ts  \r\n    ```\r\n    <p i18n>\r\n      my-lib works!\r\n    </p>\r\n    ```\r\n1. run `ng xi18n my-lib`: Result will be  \r\n`An unhandled exception occurred: Project 'my-lib' does not support the 'extract-i18n' target.`  \r\nAfter adding corresponding extract-i18n target in angular.json, error output as below.\r\n\r\nI created a minimal demo project which incorporates the scenario describe above. It is located here:\r\nhttps://github.com/multimike77/lib-i18n-issue\r\n\r\nCheckout and run `npm install`. Then run `ng xi18n my-lib` and it should produce error as below.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nAn unhandled exception occurred: The \"path\" argument must be of type string. Received undefined\r\n\r\n[error] TypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received undefined\r\n    at validateString (internal/validators.js:117:11)\r\n    at Object.resolve (path.js:980:7)\r\n    at Object.getCommonConfig (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js:390:24)\r\n    at /Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/extract-i18n/index.js:91:27\r\n    at generateWebpackConfig (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/utils/webpack-browser-config.js:62:22)\r\n    at async Object.generateBrowserWebpackConfigFromContext (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/utils/webpack-browser-config.js:137:20)\r\n    at async execute (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/extract-i18n/index.js:73:24)\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-ng-packagr   0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nng-packagr                         9.0.2\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17140","RelatedDescription":"Open issue \"ng xi18n not working for library\" (#17140)"},{"Id":"574496585","IsPullRequest":false,"CreatedAt":"2020-03-03T08:26:07","Actor":"Maryannah","Number":"17139","RawContent":null,"Title":"Creating a module with --route & --routing creates duplicated & errored code","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by the schematics that create a module\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> I do not know, I have never tried it before\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> when running a command to create a module with --route & --routing, the code gets duplicated : there are routes in the *.module.ts along with the *-routing.module.ts\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ‚úçÔ∏è--> I didn't manage to create a stackblitz, but here are the commands to reproduce it locally.\r\n\r\n```bash\r\nnpx create-nx-workspace@latest workspace\r\ncd workspace\r\nng add @nrwl/angular --defaults\r\nng g @nrwl/angular:application app --style scss --routing true --prefix app\r\nng g m home --route home --module app.module.ts --routing true --project app\r\n```\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n    \"@angular/animations\": \"^9.0.0\",\r\n    \"@angular/cdk\": \"^9.0.0\",\r\n    \"@angular/common\": \"^9.0.0\",\r\n    \"@angular/compiler\": \"^9.0.0\",\r\n    \"@angular/core\": \"^9.0.0\",\r\n    \"@angular/flex-layout\": \"^9.0.0-beta.29\",\r\n    \"@angular/forms\": \"^9.0.0\",\r\n    \"@angular/material\": \"^9.0.0\",\r\n    \"@angular/platform-browser\": \"^9.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^9.0.0\",\r\n    \"@angular/router\": \"^9.0.0\",\r\n    \"@nrwl/angular\": \"^9.0.4\",\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\nI do not know if this is wanted or not, and I do not know which one is the best practice (the one to keep). \r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nHere is a picture of the issue, in case it helps : you can see routes on the module, but also a routing module that is imported with it. \r\n\r\n![image](https://user-images.githubusercontent.com/46892394/75770908-3156f680-5d49-11ea-824a-318471791ca9.png)\r\n\r\n<!--\r\nAfter testing a bit more, removing the `--routing` creates an invalid module : \r\n\r\n```typescript\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LayoutRoutingModule } from './layout-routing.module';\r\nimport { LayoutComponent } from './layout.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LayoutComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [LayoutComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LayoutRoutingModule,\r\n    RouterModule.forChild(routes);\r\n  ]\r\n})\r\nexport class LayoutModule { }\r\n```\r\n\r\nYou can see that there is a semi-colon right in the imports, and that the routing module is imported even though it wasn't created. \r\n\r\nAnother things, components that are created with this command do not follow the schematics configuration from the `angular.json` file. My components should use SCSS and OnPush detection strategy : \r\n\r\n```json\r\n      \"schematics\": {\r\n        \"@nrwl/angular:component\": {\r\n          \"style\": \"scss\",\r\n          \"changeDetection\": \"OnPush\"\r\n        },\r\n        \"@schematics/angular\": {\r\n          \"component\": {\r\n            \"changeDetection\": \"OnPush\",\r\n            \"style\": \"scss\"\r\n          }\r\n        }\r\n      },\r\n\r\n```\r\n\r\nBut they're created with CSS and default change detection. \r\n\r\n-->","Url":"https://github.com/angular/angular-cli/issues/17139","RelatedDescription":"Open issue \"Creating a module with --route & --routing creates duplicated & errored code\" (#17139)"},{"Id":"574337777","IsPullRequest":true,"CreatedAt":"2020-03-03T00:26:57","Actor":"kopach","Number":"17136","RawContent":null,"Title":"ci(@angular-devkit/build-angular): add ability to include untested files to coverage result","State":"open","Body":"Fix for issue  #1735 and #11227. Add `karma-sabarivka-reporter` as dependency for any new Angular project. This would allow including (if needed) untested files to coverage result. By default, no extra files are included, `include` config is empty.","Url":"https://github.com/angular/angular-cli/pull/17136","RelatedDescription":"Open PR \"ci(@angular-devkit/build-angular): add ability to include untested files to coverage result\" (#17136)"},{"Id":"574224286","IsPullRequest":false,"CreatedAt":"2020-03-02T20:22:49","Actor":"realharry","Number":"17135","RawContent":null,"Title":"Need a way to build smaller javascript files / to set maximum size for generated js files","State":"open","Body":"# üöÄ Feature request\r\n\r\nIt'll be nice to be able to control maximum size of the generated javascript files in some way, e.g., via a command line flag.\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\nI'm currently trying to set up an Angular SSR app on AWS Lambda + ALB. Unfortunately, there is a response size limit of 1Mb between ALB and Lambda. (https://docs.aws.amazon.com/elasticloadbalancing/latest/application/lambda-functions.html). Except for a trivial app, all my apps include at least one JS file that are larger than 1Mb. Sometimes it's `main-...js` files or it's `vendor-...js` files depending on the `--vendor-chunk`.\r\n\r\nThis is somewhat related to https://github.com/angular/angular-cli/issues/16866, but this is a request independent of any other problems. (I'm currently using cli v9.0.4, and enableIvy:false setting doesn't make much difference.) I never knew there was 1Mb limit when I started building for ALB+Lambda, and there will be many situations (currently unknown) that would prevent successful deployment of Angular apps in many different production environments.\r\n\r\nAt this point, there seems to be no workaround.\r\n\r\n\r\n### Describe the solution you'd like\r\n\r\nSomething like `--max-js-size = 516k` will be nice to control the maximum size of the generated JS files. Instead of generating 1 main or 1 vendor files, they should be divided into multiple files, each no bigger than 516k, for instance.\r\n\r\n\r\n### Describe alternatives you've considered\r\n\r\nOr, alternatively, if we can control the number of generated JS files, that'll be useful as well. For example, `--main-js-files=3` will divide the main js files into 3 files instead of one.\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17135","RelatedDescription":"Open issue \"Need a way to build smaller javascript files / to set maximum size for generated js files\" (#17135)"},{"Id":"575041576","IsPullRequest":false,"CreatedAt":"2020-02-18T19:22:51","Actor":"The-MAZZTer","Number":"17147","RawContent":null,"Title":"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build","State":"open","Body":"\r\n# üêû bug report\r\n\r\n### Affected Package\r\nAngular compilation process\r\n\r\n### Is this a regression?\r\nUnknown\r\n\r\n### Description\r\nI recently inherited a project which uses Angular with embedded React components. `import * as React from \"react\";` appears in a bunch of .TSX files included with the project, and embedded XML tags are used to indicate React elements, which I understand are compiled down to React.createElement calls.\r\n\r\nThe React object itself is never referenced in any source code directly,\r\n\r\nWhen I run the project in development mode it runs fine. When I build for production, the React.createElement calls remain as React.createElement instead of being compiled to the proper webpack import name.\r\n\r\nIf I add ANY explicit reference to React in any file, for example `console.log(React.version);`, the production build starts working again.\r\n\r\nI suspect what is happening is a pass to strip out unused code is happening before .tsx files are processed by TypeScript. And then after the code is compiled down to JS webpack then compiles everything together but React is already gone so the React references are left intact.\r\n\r\nIf so the best fix I can think of is to split up the TypeScript compilation process to first convert .TSX to temporary .TS files (if possible), run the stripping process on those and not the original .TSX, then complete the build process as normal with the .TS files.\r\n\r\nSimpler solutions might include hard coding React to never be stripped out if there are .tsx files present in the project.\r\n\r\n## üî¨ Minimal Reproduction\r\nUnfortunately, I don't have the needed skill set currently to create a minimal test case from scratch (no experience in React) and I am not authorized to share code from my project publicly. Sorry.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nERROR ReferenceError React is not defined\r\n</code></pre>\r\n\r\nThis occurs at the point in a .TSX where an inline XML element is located.\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 8.3.3\r\nNode: 12.3.1\r\nOS: win32 x64\r\nAngular: 8.2.5\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.803.3\r\n@angular-devkit/build-angular              0.803.3\r\n@angular-devkit/build-optimizer            0.803.3\r\n@angular-devkit/build-webpack              0.803.3\r\n@angular-devkit/core                       8.3.3\r\n@angular-devkit/schematics                 8.3.3\r\n@angular/cdk                               8.1.4\r\n@angular/cli                               8.3.3\r\n@angular/http                              7.2.15\r\n@angular/material                          8.1.4\r\n@ngtools/webpack                           8.3.3\r\n@nguniversal/module-map-ngfactory-loader   7.1.1\r\n@schematics/angular                        8.3.3\r\n@schematics/update                         0.803.3\r\nrxjs                                       6.5.3\r\ntypescript                                 3.5.3\r\nwebpack                                    4.39.2</code></pre>\r\n\r\n**Anything else relevant?**\r\nThis may be a bug in webpack; I am unsure about which component this bug lies in.\r\n\r\nI did not notice any change when messing with build options; only when adding an explicit reference to React to the code.","Url":"https://github.com/angular/angular-cli/issues/17147","RelatedDescription":"Open issue \"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build\" (#17147)"},{"Id":"574647610","IsPullRequest":false,"CreatedAt":"2020-02-17T19:33:30","Actor":"jonstelly","Number":"17142","RawContent":null,"Title":"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [x] update\r\n\r\n### Is this a regression?\r\n\r\nunsure\r\n\r\n### Description\r\n\r\nI have an angular cli project with npm symlinks to a different framework project.  When running an update `ng update @angular/cli @angular/core rxjs`, it seems that the package update/installation phase doesn't honor the `\"preserveSymlinks\": true` setting.  The result is that my framework symlink is removed, which causes the project to fail compilation so the migrations don't all run correctly.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n```bash\r\nnpm i -g @angular/cli@8.3.25\r\nmkdir ng-up\r\ncd ng-up\r\nng new framework\r\ncd framework\r\nng g lib @myfw/model\r\nng build @myfw/model\r\ncd ./dist/myfw/model\r\nnpm link\r\ncd ../../../..\r\nng new app\r\ncd app\r\nnpm link @myfw/model\r\n#edit ./app/src/app/app.module.ts to the below (importing ModelModule from @myfw/model\r\n#edit ./app/angular.json, add `preserveSymlinks: true`\r\nng serve #The app runs as expected\r\n```\r\n\r\napp/src/app/app.module.ts\r\n```typescript\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ModelModule } from '@myfw/model' //<- Add this from @myfw/model\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    ModelModule //<- Add this from @myfw/model\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```\r\n\r\nupgrade process\r\n```bash\r\nnpm i -g @angular/cli #Update angular cli to 9.0.2\r\ncd ../framework\r\nng update @angular/cli @angular/core rxjs --force #--force is needed for tsickle\r\nng build @myfw/model\r\ncd ../app\r\nng update @angular/cli @angular/core rxjs\r\n```\r\nget error as seen below.  `ls ./node_modules/@myfw` shows no directories, the symlinks have been deleted.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n> Undecorated classes with DI migration.\r\n  As of Angular 9, it is no longer supported to use Angular DI on a class that does not have an Angular decorator.\r\n  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes\r\n\r\n    This migration uses the Angular compiler internally and therefore projects that no longer build successfully after the update cannot run the migration. Please ensure there are no AOT compilation errors and rerun the migration. The following project failed: tsconfig.app.json\r\n\r\n    Error: error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n    error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n\r\n\r\n    Could not migrate all undecorated classes that use dependency\r\n    injection. Some project targets could not be analyzed due to\r\n    TypeScript program failures.\r\n\r\n    Migration can be rerun with: \"ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di\"\r\n\r\n  Migration completed.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n@angular/cli 8.3.25 to start (to generate the original projects)\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 12.11.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.2\r\n@angular-devkit/build-angular     0.900.2\r\n@angular-devkit/build-optimizer   0.900.2\r\n@angular-devkit/build-webpack     0.900.2\r\n@angular-devkit/core              9.0.2\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@ngtools/webpack                  9.0.2\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17142","RelatedDescription":"Open issue \"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail\" (#17142)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"577253572","IsPullRequest":true,"CreatedAt":"2020-03-07T01:32:22","Actor":"zelliott","Number":"18746","RawContent":null,"Title":"fix(mat-button-toggle): mat-button-toggle element should not have a focus indicator class.","State":"open","Body":"This class was mistakenly added onto both the `<mat-button-toggle>` element and its child `<button>`. It should only be on the child `<button>`, because only the child is in the tab order. The only reason the parent `<mat-button-toggle>` has a `tabindex=\"-1\"` is so that it can work with things like`cdkFocusInitial`.","Url":"https://github.com/angular/components/pull/18746","RelatedDescription":"Open PR \"fix(mat-button-toggle): mat-button-toggle element should not have a focus indicator class.\" (#18746)"},{"Id":"577247832","IsPullRequest":true,"CreatedAt":"2020-03-07T00:59:02","Actor":"livvielin","Number":"18745","RawContent":null,"Title":"Spruce up the basic toolbar example","State":"open","Body":"","Url":"https://github.com/angular/components/pull/18745","RelatedDescription":"Open PR \"Spruce up the basic toolbar example\" (#18745)"},{"Id":"577213293","IsPullRequest":false,"CreatedAt":"2020-03-06T22:39:43","Actor":"andrewseguin","Number":"18744","RawContent":null,"Title":"bug(snackbar): MatSnackBarRef subscribes to Observables in constructor, never unsubscribes","State":"open","Body":"See code at https://github.com/angular/components/blob/master/src/material/snack-bar/snack-bar-ref.ts\r\n\r\nThe constructor subscribes to several streams but I don't see that it ever unsubscribes. I assume this will cause a memory leak over time.\r\n\r\n```ts\r\n  constructor(containerInstance: MatSnackBarContainer,\r\n              private _overlayRef: OverlayRef) {\r\n    this.containerInstance = containerInstance;\r\n    // Dismiss snackbar on action.\r\n    this.onAction().subscribe(() => this.dismiss());\r\n    containerInstance._onExit.subscribe(() => this._finishDismiss());\r\n  }\r\n```","Url":"https://github.com/angular/components/issues/18744","RelatedDescription":"Open issue \"bug(snackbar): MatSnackBarRef subscribes to Observables in constructor, never unsubscribes\" (#18744)"},{"Id":"577176911","IsPullRequest":true,"CreatedAt":"2020-03-06T21:19:09","Actor":"jelbourn","Number":"18743","RawContent":null,"Title":"chore: copy 9.1.1 changelog to master","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18743","RelatedDescription":"Closed or merged PR \"chore: copy 9.1.1 changelog to master\" (#18743)"},{"Id":"577169095","IsPullRequest":true,"CreatedAt":"2020-03-06T20:51:29","Actor":"crisbeto","Number":"18742","RawContent":null,"Title":"fix(slide-toggle): incorrect text color when placed inside an overlay with a dark theme","State":"open","Body":"The slide toggle doesn't define its text color, but inherits it from the closest theme root element. The problem is that if the element is moved out to something like an overlay, the color may be inherited from the `body` which won't be correct. These changes explicitly set the `color`.\r\n\r\nFixes #18701.","Url":"https://github.com/angular/components/pull/18742","RelatedDescription":"Open PR \"fix(slide-toggle): incorrect text color when placed inside an overlay with a dark theme\" (#18742)"},{"Id":"576985939","IsPullRequest":true,"CreatedAt":"2020-03-06T20:03:20","Actor":"devversion","Number":"18738","RawContent":null,"Title":"refactor: ensure typography mixins expect consistent arguments","State":"closed","Body":"Currently we have a few components with typography mixins that do\r\nnot match the majority of other components. These components have\r\ntypography mixins where the `$config` is optional. We want to always\r\nrequire a config (similar to how it's done in other components) to avoid\r\nbreaking changes in the future, and to have a consistent API.","Url":"https://github.com/angular/components/pull/18738","RelatedDescription":"Closed or merged PR \"refactor: ensure typography mixins expect consistent arguments\" (#18738)"},{"Id":"576597703","IsPullRequest":true,"CreatedAt":"2020-03-06T20:02:28","Actor":"josephperrott","Number":"18732","RawContent":null,"Title":"chore: add script to resync caretaker app open PRs","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18732","RelatedDescription":"Closed or merged PR \"chore: add script to resync caretaker app open PRs\" (#18732)"},{"Id":"576583876","IsPullRequest":true,"CreatedAt":"2020-03-06T20:01:16","Actor":"andrewseguin","Number":"18731","RawContent":null,"Title":"chore: split portion of CHANGELOG.md","State":"closed","Body":"The CHANGELOG.md file is super laggy in Webstorm, and cannot show its preview in GitHub. Splitting off changes up to 7.0.0 and putting them in CHANGELOG_ARCHIVE.md.\r\n\r\nAdded a note to the end of CHANGELOG.md:\r\n\r\n> \"To view changes that occurred prior to 7.0.0, see [CHANGELOG_ARCHIVE.md](https://github.com/angular/components/blob/master/CHANGELOG_ARCHIVE.md).\"\r\n\r\nAdded a note to the beginning of CHANGELOG_ARCHIVE.md:\r\n> \"This contains changes before 7.0.0. See [CHANGELOG.md](https://github.com/angular/components/blob/master/CHANGELOG.md) for changes in 7.0.0+.\"","Url":"https://github.com/angular/components/pull/18731","RelatedDescription":"Closed or merged PR \"chore: split portion of CHANGELOG.md\" (#18731)"},{"Id":"577134660","IsPullRequest":true,"CreatedAt":"2020-03-06T19:59:55","Actor":"atscott","Number":"18741","RawContent":null,"Title":"fix(material-experimental/mdc-form-field): avoid expression changed a‚Ä¶","State":"closed","Body":"‚Ä¶fter check\r\n\r\nThere is currently a bug in the Angular Framework that results in\r\nExpressionChangedAfterItHasBeenChecked errors not throwing when they\r\nshould for OnPush components. Because we modify a variable used in the\r\ntemplate after it was already checked (in ngAfterViewInit), we need to\r\ntrigger change detection manually or the change might not be picked up.\r\n\r\nThis was detected when running the CI for the fix in the framework to make \r\nthe error actually throw when it should: https://github.com/angular/angular/pull/34443\r\n\r\nMaybe also worth noting that the non-mdc form-field also calls `detectChanges`\r\nto avoid this same problem: https://github.com/angular/components/blob/e0634c9e379266751f6fa3911f94916c7c465609/src/material/form-field/form-field.ts#L374-L378","Url":"https://github.com/angular/components/pull/18741","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-form-field): avoid expression changed a‚Ä¶\" (#18741)"},{"Id":"577102795","IsPullRequest":false,"CreatedAt":"2020-03-06T18:30:20","Actor":"MDzyga","Number":"18740","RawContent":null,"Title":"fr(Google-maps): Add option to define api key & draw directions","State":"open","Body":"#### Feature Description\r\nHi,\r\nPlease add option to define api key during import `GoogleMapsModule` like in `@agm/core` package.\r\nIt would be nice to be able to draw directions.\r\n#### Use Case\r\nWithout that features I'm not able to:\r\n- use proper api key when I have 3 environments\r\n- draw directions\r\n","Url":"https://github.com/angular/components/issues/18740","RelatedDescription":"Open issue \"fr(Google-maps): Add option to define api key & draw directions\" (#18740)"},{"Id":"577045399","IsPullRequest":true,"CreatedAt":"2020-03-06T16:36:42","Actor":"pankajparkar","Number":"18739","RawContent":null,"Title":"build: Bump up year in license.","State":"open","Body":"","Url":"https://github.com/angular/components/pull/18739","RelatedDescription":"Open PR \"build: Bump up year in license.\" (#18739)"},{"Id":"576967142","IsPullRequest":false,"CreatedAt":"2020-03-06T14:28:33","Actor":"KlausHans","Number":"18737","RawContent":null,"Title":"bug(Sidenav+Tabs+Drag n drop): Drag scroll not working if Sidenav-Content height set to 100vh","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-ebzjz5?file=src%2Fapp%2Fexpansion-overview-example.html\r\n\r\nSteps to reproduce:\r\n1. Put a mat-accordion with drag n drop inside a mat-tab that is inside mat-sidenav-content.\r\n2. Set the height of mat-sidenav-content to 100vh, so all items of the sidenav are always visible. The mat-accordion overflows the 100vh with scroll due to a large amount of items in it.\r\n3. Try to drag an item from the list to a position that is not visible without scrolling. It won't scroll.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nThe view autoscrolls while draging the item to the bottom of the screen.\r\n\r\n\r\n#### Actual Behavior\r\nIt doesn't autoscoll.\r\n\r\nIt does if i either delete the tab-group or if i delete the max-height of 100vh of the sidenav-content.\r\nPlease take a look at the stackblitz.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.5\r\n- CDK/Material: 9.1\r\n- Browser(s): all \r\n- Operating System (e.g. Windows, macOS, Ubuntu): all\r\n\r\nA possible workaround could be to delete the height of 100vh and set items in the sidenav to a fixed position so they are always visible. Not testet though.","Url":"https://github.com/angular/components/issues/18737","RelatedDescription":"Open issue \"bug(Sidenav+Tabs+Drag n drop): Drag scroll not working if Sidenav-Content height set to 100vh\" (#18737)"},{"Id":"576962716","IsPullRequest":true,"CreatedAt":"2020-03-06T14:20:59","Actor":"devversion","Number":"18736","RawContent":null,"Title":"build: setup snapshot builds for experimental and new packages","State":"open","Body":"* Sets up snapshot builds for the experimental packages\r\n* Sets up snapshot builds for the new packages (`google-maps`, `youtube-player`)\r\n* Updates snapshot builds repositories to match package name. Similar to how it is done in\r\n  framework, and to improve consistency. This means that: \r\n  - `material2-builds` becomes `material-builds`\r\n  - `material2-moment-adapter` becomes `material-moment-adapter`.\r\n\r\nWe can do the rename because Github creates repository redirects. This should prevent breakages for people relying on the builds repositories. Though we never denoted those as public.\r\n\r\n@jelbourn @josephperrott If we go with renaming these old build repositories for consistency, then the following things would need to be made:\r\n\r\n1. Delete the newly created `material-moment-adapter-builds` repo.\r\n2. Rename `material2-moment-adapter-builds` repo to `material-moment-adapter-builds`\r\n3. Rename `material2-builds` to `material-builds`.","Url":"https://github.com/angular/components/pull/18736","RelatedDescription":"Open PR \"build: setup snapshot builds for experimental and new packages\" (#18736)"},{"Id":"576742343","IsPullRequest":false,"CreatedAt":"2020-03-06T07:13:18","Actor":"manu-058","Number":"18735","RawContent":null,"Title":"bug(mat-autocomplete): when additional data is appended to the list, focus of the current active element is lost","State":"open","Body":"#### Reproduction\r\n\r\n\r\nSteps to reproduce:\r\n1. https://stackblitz.com/edit/angular-wzvzfq (load link)\r\n2. click on autocomplete component.\r\n3. press 'DOWN_ARROW_KEY' (data is appended but the active element is losing the focus)\r\n4. But this behaviour not present mat-select ( focus of active element is not lost after appending the data)\r\n\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n=> when data is appended to the existing list, focus should remain on the current active element.\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n=> when additional data is appended to the list, focus of the current active element is lost.\r\n\r\n#### Environment\r\n\r\n- Angular: 8\r\n- CDK/Material: 8.2.3\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  windows\r\n\r\n**Suggestion to correct this behaviour.**\r\nchanges needed in autocomplete-trigger.ts file\r\nexisting-1\r\n\r\n![Screenshot (252)](https://user-images.githubusercontent.com/38914354/76060303-f5b96800-5fa6-11ea-87e1-a7bd3b4e23d8.png)\r\n\r\nchanges-1\r\n![Screenshot (253)](https://user-images.githubusercontent.com/38914354/76060439-52b51e00-5fa7-11ea-9b8b-f3b83e1bb638.png)\r\n\r\nexisting-2\r\n![Screenshot (254)](https://user-images.githubusercontent.com/38914354/76060459-5e084980-5fa7-11ea-91d6-343ea4cdcad1.png)\r\n\r\nchanges-2\r\n![Screenshot (255)](https://user-images.githubusercontent.com/38914354/76060483-6a8ca200-5fa7-11ea-9991-09f678ed57e7.png)\r\n\r\nthis may solve the issue, i guess.\r\n","Url":"https://github.com/angular/components/issues/18735","RelatedDescription":"Open issue \"bug(mat-autocomplete): when additional data is appended to the list, focus of the current active element is lost\" (#18735)"},{"Id":"576694588","IsPullRequest":false,"CreatedAt":"2020-03-06T04:42:53","Actor":"huynhvequyen","Number":"18734","RawContent":null,"Title":"bug([COMPONENT]): [TITLE]","State":"closed","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Import {ScrollDispatchModule} from '@angular/cdk/scrolling'; \r\n2.  Place *cdkVirtualFor inside a **mat-option** tag\r\n \r\n#### Expected Behavior\r\nVirtual scrolling should work fine as it is within **div** tag\r\n#### Actual Behavior\r\nWhat behavior did you actually see?\r\nIt throws an error saying \"can't bind to cdkVirtualFor since it is not a known property of mat-option ...\". The same goes with any other components like **mat-card** etc.. \r\n\r\n#### Environment\r\n\r\n- Angular: Angular: 7.2.0\r\n- CDK/Material: @angular/cdk 7.3.7, @angular/material 7.3.7\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18734","RelatedDescription":"Closed issue \"bug([COMPONENT]): [TITLE]\" (#18734)"},{"Id":"576694311","IsPullRequest":false,"CreatedAt":"2020-03-06T04:41:35","Actor":"huynhvequyen","Number":"18733","RawContent":null,"Title":"bug(Cdk-virtualscroll): Could not use cdkVirtualFor in other material tag","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Import {ScrollDispatchModule} from '@angular/cdk/scrolling'; \r\n2.  Place *cdkVirtualFor inside a **mat-option** tag\r\n \r\n#### Expected Behavior\r\nVirtual scrolling should work fine as it is within **div** tag\r\n#### Actual Behavior\r\nWhat behavior did you actually see?\r\nIt throws an error saying \"can't bind to cdkVirtualFor since it is not a known property of **mat-option** ...\". The same goes with any other components like **mat-card** etc.. \r\n\r\n#### Environment\r\n\r\n- Angular: Angular: 7.2.0\r\n- CDK/Material: @angular/cdk 7.3.7, @angular/material 7.3.7\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18733","RelatedDescription":"Open issue \"bug(Cdk-virtualscroll): Could not use cdkVirtualFor in other material tag\" (#18733)"},{"Id":"576543330","IsPullRequest":false,"CreatedAt":"2020-03-05T23:16:41","Actor":"Gil-Epshtain","Number":"18729","RawContent":null,"Title":"material/badge: \"badge\" is too small (font too large)","State":"closed","Body":"<!-- \r\nFilling out this template is required! Do not delete it when submitting your issue! Without this information, your issue may be auto-closed. \r\n\r\nPlease submit AngularJS Material questions to the [AngularJS Material Forum](https://groups.google.com/forum/#!forum/ngmaterial) instead of submitting an issue.\r\n\r\n---------------------------------------------------------------------\r\nThis repo is for AngularJS Material, not Angular Material or the CDK.\r\n---------------------------------------------------------------------\r\n\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n#### Bug, enhancement request, or proposal:\r\nProposal\r\n\r\n<!-- Please note that we are not accepting major feature requests, i.e. requests for new components, at this time. -->\r\n\r\n#### The issue: \r\nThe matBadge can contain only up to 3 digits number.\r\n\r\n#### Detailed Reproduction Steps: \r\n- I'm using matBadge in my project to display items count.\r\n- In some cases the count is bigger than 3 digits number.\r\n- If the value is bigger than 3 digits, I have a special method that will change the value. To first digits and a magnitude letter (for example 1,589 will be 1.5K or 3,652,123 will be 3.6M)\r\n\r\nResult:\r\n- Trying to display this formatted number (1.5K) in the matBadge will trigger CSS role `    text-overflow: ellipsis;` which will hide the value and only display \"1...\" instead of \"1.5K\"\r\n- Trying to change the size of the matBadge using the built-in property `matBadgeSize` will change the size of the entire badge with the font size (the problem isn't solved)\r\n \r\n### What is the expected behavior?\r\nBe able to display '1.5K' in a matBadge .\r\n\r\n### What is the current behavior?\r\nTrying to display '1.5K' in a matBadge cause CSS to hide the text.\r\n\r\n### What is the use-case or motivation for changing an existing behavior?\r\nBe able to display count larger the 1000 in matBadge\r\n\r\n### Which versions of AngularJS, Material, OS, and browsers are affected?\r\n<!-- Please note that only issues related to AngularJS 1.x and AngularJS Material 1.x should be submitted here.\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n- Angular: 9.0\r\n- Angular Material: 9.1\r\n-TypeScript: 3.7.5\r\n- OS: Win10\r\n- Browsers:  Chrome/ Opera\r\n \r\n### Is there anything else we should know? Stack Traces, Screenshots, etc.\r\n![image](https://user-images.githubusercontent.com/7883039/76009067-46827f80-5f19-11ea-952d-18a27b5471ab.png)\r\n\r\n\r\n<!-- Please double check that you have provided the required reproduction steps and a Demo via CodePen, Plunker, or GitHub repo. -->\r\n","Url":"https://github.com/angular/components/issues/18729","RelatedDescription":"Closed issue \"material/badge: \"badge\" is too small (font too large)\" (#18729)"},{"Id":"576512250","IsPullRequest":true,"CreatedAt":"2020-03-05T22:46:11","Actor":"devversion","Number":"18728","RawContent":null,"Title":"build: downgrade ibazel version to v0.12.0","State":"closed","Body":"We recently updated to ibazel v0.12.2. This version seems to have\r\nregressed with their `@bazel/bazelisk` support.\r\n\r\nTo keep our development workflow working, we downgrade until the\r\nissue has been fixed upstream: https://github.com/bazelbuild/bazel-watcher/issues/352\r\n\r\nAdditionally cleans up a lock file entry as suggested per `yarn install`.","Url":"https://github.com/angular/components/pull/18728","RelatedDescription":"Closed or merged PR \"build: downgrade ibazel version to v0.12.0\" (#18728)"},{"Id":"576498665","IsPullRequest":true,"CreatedAt":"2020-03-05T22:45:44","Actor":"crisbeto","Number":"18727","RawContent":null,"Title":"fix(material-experimental/mdc-progress-bar): account for breaking changes in latest canary","State":"closed","Body":"Updates the repo to the latest MDC canary version and accounts for the breaking changes introduced in https://github.com/material-components/material-components-web/commit/98b843417ef6c0a10460532a37df389b0c7e936f.","Url":"https://github.com/angular/components/pull/18727","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-progress-bar): account for breaking changes in latest canary\" (#18727)"},{"Id":"576553817","IsPullRequest":false,"CreatedAt":"2020-03-05T21:53:06","Actor":"ianbever","Number":"18730","RawContent":null,"Title":"material/form-field: outline appearance contrast does not meet WCAG ratio","State":"open","Body":"Regarding the accessibility built into Angular Material's components, I see that the default color for the outline form field is a 1px rgba(0,0,0,0.12) border that doesn't meet a 3:1 contrast ratio with a white surface to meet WCAG 2.1 Success Criterion 1.4.11: Non-text Contrast.\r\n\r\nhttps://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html\r\n\r\nIs it possible to darken this to black at rgba(0,0,0,0.42), which would meet the minimum WCAG color contrast for non-text elements?","Url":"https://github.com/angular/components/issues/18730","RelatedDescription":"Open issue \"material/form-field: outline appearance contrast does not meet WCAG ratio\" (#18730)"},{"Id":"576172972","IsPullRequest":false,"CreatedAt":"2020-03-05T21:23:14","Actor":"flash-me","Number":"18721","RawContent":null,"Title":"bug([@angular/material*]): Packages won't be catched by ngcc anymore | v9.1.1","State":"closed","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. `npm i @angular/compiler @angular/compiler-cli @angular/core @angular/material @angular/cdk tslib typescript@3.7.5`\r\n2. run `ngcc --properties es2015 --first-only --create-ivy-entry-points`\r\n\r\n![image](https://user-images.githubusercontent.com/5240450/75975953-bd982380-5ed9-11ea-8f58-ef55d2c55e8f.png)\r\n\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n\r\n`@angular/material` packages to be compiled by ngcc like before.\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\n`@angular/*` packages and `@angular/cdk` will be compiled by `ngcc` but `@angular/material` not\r\n\r\n#### Environment\r\n\r\n```\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.16.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... cli, common, compiler, compiler-cli, core, elements, forms\r\n... platform-browser\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.5\r\n@angular-devkit/build-ng-packagr   0.900.5\r\n@angular-devkit/core               9.0.5\r\n@angular-devkit/schematics         9.0.5\r\n@angular/cdk                       9.1.1\r\n@angular/material                  9.1.1\r\n@schematics/angular                9.0.5\r\n@schematics/update                 0.900.5\r\nng-packagr                         9.0.2\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\n```\r\n\r\ncheers\r\nflash :zap:\r\n","Url":"https://github.com/angular/components/issues/18721","RelatedDescription":"Closed issue \"bug([@angular/material*]): Packages won't be catched by ngcc anymore | v9.1.1\" (#18721)"},{"Id":"576338797","IsPullRequest":false,"CreatedAt":"2020-03-05T19:21:05","Actor":"mackelito","Number":"18723","RawContent":null,"Title":"help([Mat-Toolbar]): 'mat-toolbar' is not a known element:","State":"closed","Body":"Rather suddenly I started to get these errors (Basically for every material component I use.. this was working fine the other day but now it's not !?\r\n````\r\nERROR in src/app/layouts/main-layout/main-layout.component.html:2:3 - error NG8001: 'mat-toolbar' is not a known element:\r\n    1. If 'mat-toolbar' is an Angular component, then verify that it is part of this module.\r\n    2. If 'mat-toolbar' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\r\n````\r\nThe modules has been imported..\r\n````\r\nimport { NgModule } from '@angular/core';\r\nimport { MainLayoutComponent } from './main-layout/main-layout.component';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { HeaderFooterLayoutComponent } from './header-footer-layout/header-footer-layout.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MainLayoutComponent,\r\n    HeaderFooterLayoutComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    FlexLayoutModule,\r\n    MatToolbarModule,\r\n    MatSidenavModule,\r\n    MatListModule,\r\n    MatIconModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [\r\n    MainLayoutComponent,\r\n    HeaderFooterLayoutComponent\r\n  ]\r\n})\r\nexport class LayoutsModule { }\r\n\r\n````\r\n<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n\r\n#### What troubleshooting steps have you tried?\r\nI have done `rm -rf node_modules` and cleared npm cache.. \r\nThen did a `npm i`\r\n#### Environment\r\nAngular CLI: 9.0.5\r\nNode: 12.14.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.5\r\n@angular/cdk                      9.1.1\r\n@angular/fire                     5.4.2\r\n@angular/flex-layout              9.0.0-beta.29\r\n@angular/material                 9.1.1\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2","Url":"https://github.com/angular/components/issues/18723","RelatedDescription":"Closed issue \"help([Mat-Toolbar]): 'mat-toolbar' is not a known element:\" (#18723)"},{"Id":"576458992","IsPullRequest":false,"CreatedAt":"2020-03-05T18:47:16","Actor":"Achilles1515","Number":"18726","RawContent":null,"Title":"bug(drag-drop): Root element pointer down listeners causing excessive change detection","State":"open","Body":"#### Reproduction\r\n\r\n[https://stackblitz.com/edit/angular-kwisjn?file=src/app/cdk-drag-drop-overview-example.html](https://stackblitz.com/edit/angular-kwisjn?file=src/app/cdk-drag-drop-overview-example.html)\r\n \r\n The StackBlitz demo above is a slightly modified version of the \"Basic Drag&Drop\" official example with a change detection counter added and a second draggable box.\r\n\r\nSimply clicking (and not even dragging) an element containing the `cdkDrag` directive causes app-wide change detection to occur. This behavior is exemplified by clicking the second box and witnessing the change detection counter increase.\r\n\r\nThe first draggable box in the demo has had its root element listeners (`mousedown` and `touchstart`) modified to run outsize Angular zone.\r\n\r\n[drag-ref.ts code](https://github.com/angular/components/blob/master/src/cdk/drag-drop/drag-ref.ts#L359):\r\n```ts\r\n/**\r\n   * Sets an alternate drag root element. The root element is the element that will be moved as\r\n   * the user is dragging. Passing an alternate root element is useful when trying to enable\r\n   * dragging on an element that you might not have access to.\r\n   */\r\n  withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\r\n    const element = coerceElement(rootElement);\r\n\r\n    if (element !== this._rootElement) {\r\n      if (this._rootElement) {\r\n        this._removeRootElementListeners(this._rootElement);\r\n      }\r\n\r\n      element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n      this._initialTransform = undefined;\r\n      this._rootElement = element;\r\n    }\r\n\r\n    return this;\r\n  }\r\n```\r\n\r\nIs there any reason these event listeners can't be instantiated outside the Angular zone? Like so:\r\n\r\n```ts\r\n  withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\r\n    const element = coerceElement(rootElement);\r\n\r\n    if (element !== this._rootElement) {\r\n      if (this._rootElement) {\r\n        this._removeRootElementListeners(this._rootElement);\r\n      }\r\n\r\n      this._ngZone.runOutsideAngular(() => {\r\n        element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n        element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n      });\r\n      this._initialTransform = undefined;\r\n      this._rootElement = element;\r\n    }\r\n\r\n    return this;\r\n  }\r\n```\r\n\r\n#### Expected Behavior\r\n\r\nNo change detection occurs when simply clicking a draggable item.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nChange detection occurs when simply clicking a draggable item.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular:\r\n- CDK/Material: 9.1.1\r\n\r\n","Url":"https://github.com/angular/components/issues/18726","RelatedDescription":"Open issue \"bug(drag-drop): Root element pointer down listeners causing excessive change detection\" (#18726)"},{"Id":"576125759","IsPullRequest":true,"CreatedAt":"2020-03-05T18:42:21","Actor":"devversion","Number":"18720","RawContent":null,"Title":"build: include tslib as explicit dependency for `ng_package` rule","State":"closed","Body":"In a previous commit we removed `tslib` from the rollup globals so\r\nthat `ng_package` can bundle `tslib` into the UMD bundles.\r\n\r\nThis works fine in non-sandbox environments (e.g. windows), but doesn't\r\nwork in sandbox environments because `ng_package` does not bring in\r\ntransitive dependencies from entry-points. Hence we need to explicitly\r\npass in `tslib` as dependency for `ng_package`. This matches what\r\n`angular/angular` does for including tslib.","Url":"https://github.com/angular/components/pull/18720","RelatedDescription":"Closed or merged PR \"build: include tslib as explicit dependency for `ng_package` rule\" (#18720)"},{"Id":"576442435","IsPullRequest":true,"CreatedAt":"2020-03-05T18:41:59","Actor":"jelbourn","Number":"18725","RawContent":null,"Title":"docs: clarify \"what we're working on\" in readme","State":"closed","Body":"Changing this to reflect that this captures what we're working on, but does not mean that these tasks will be _finished_ in the current quarter","Url":"https://github.com/angular/components/pull/18725","RelatedDescription":"Closed or merged PR \"docs: clarify \"what we're working on\" in readme\" (#18725)"},{"Id":"576403836","IsPullRequest":true,"CreatedAt":"2020-03-05T17:07:05","Actor":"zelliott","Number":"18724","RawContent":null,"Title":"docs(focus indicators): Add documentation for focus indicators.","State":"open","Body":"","Url":"https://github.com/angular/components/pull/18724","RelatedDescription":"Open PR \"docs(focus indicators): Add documentation for focus indicators.\" (#18724)"},{"Id":"576189768","IsPullRequest":false,"CreatedAt":"2020-03-05T11:36:44","Actor":"Domvel","Number":"18722","RawContent":null,"Title":"theme/color: Add selector class names for the current mat colors. (like \"mat-app-background\") ","State":"open","Body":"#### Feature Description\r\n\r\nI would be great if Angular Material implements class-names for the active theme colors.\r\n\r\nThere is already a class `mat-app-background` to get the background color. Very helpful if you use the dark theme. https://material.angular.io/guide/theming (search for \"mat-app-background\")\r\n\r\nTheming is a challenging job for non-mat elements like `div`. I found a solution for me (see below). But Angular Material should simplify this by build in these features. `mat-app-background` already exists - why not for colors too?\r\n\r\nOk, there are two cases for styling:\r\n\r\n- Background and text contrast. (use class-name e.g. `mat-color-primary`)\r\n- Text only with the background color. (use class-name e.g. `mat-color-primary-text`)\r\n\r\n#### Use Case\r\n\r\nStyle every element by simply adding the color class name into the html element. No hassle. No own / custom implementation.\r\n\r\n#### My Current Solution\r\n\r\nThis is the complete file for light and dark theme. Simply add `dark-theme` class to the body. \r\nNOTE: Also add the class `mat-app-background` to the `body` element. (or a level deeper.)\r\n\r\n```scss\r\n@import \"~@angular/material/theming\";\r\n\r\n@include mat-core();\r\n\r\n// LIGHT\r\n$custom-app-light-primary: mat-palette($my-blue);\r\n$custom-app-light-accent: mat-palette($my-green);\r\n$custom-app-light-warn: mat-palette($mat-red);\r\n\r\n$custom-app-light-theme: mat-light-theme(\r\n  $custom-app-light-primary,\r\n  $custom-app-light-accent,\r\n  $custom-app-light-warn\r\n);\r\n@include angular-material-theme($custom-app-light-theme);\r\n\r\n// DARK\r\n$custom-app-dark-primary: mat-palette($my-blue);\r\n$custom-app-dark-accent: mat-palette($my-green-light);\r\n$custom-app-dark-warn: mat-palette($mat-red);\r\n\r\n$custom-app-dark-theme: mat-dark-theme(\r\n  $custom-app-dark-primary,\r\n  $custom-app-dark-accent,\r\n  $custom-app-dark-warn\r\n);\r\n\r\n.color-primary {\r\n  background-color: mat-color($custom-app-light-primary);\r\n  color: mat-color($custom-app-light-primary, default-contrast);\r\n}\r\n\r\n.color-accent {\r\n  background-color: mat-color($custom-app-light-accent);\r\n  color: mat-color($custom-app-light-accent, default-contrast);\r\n}\r\n\r\n.color-warn {\r\n  background-color: mat-color($custom-app-light-warn);\r\n  color: mat-color($custom-app-light-warn, default-contrast);\r\n}\r\n\r\n.dark-theme {\r\n  @include angular-material-theme($custom-app-dark-theme);\r\n\r\n  .color-primary {\r\n    background-color: mat-color($custom-app-dark-primary);\r\n    color: mat-color($custom-app-dark-primary, default-contrast);\r\n  }\r\n\r\n  .color-accent {\r\n    background-color: mat-color($custom-app-dark-accent);\r\n    color: mat-color($custom-app-dark-accent, default-contrast);\r\n  }\r\n\r\n  .color-warn {\r\n    background-color: mat-color($custom-app-dark-warn);\r\n    color: mat-color($custom-app-dark-warn, default-contrast);\r\n  }\r\n}\r\n```\r\n\r\nBtw. my proposal with the text color is about creating class names with `-text` suffix. Like: \r\n\r\n```scss\r\n.color-primary-text {\r\n  color: mat-color($custom-app-dark-warn);\r\n}\r\n```\r\n\r\nSo with my solution you have solved the color styling for both cases. Backgroud with contrast for text color and text color only.\r\n\r\n```html\r\n<div class=\"color-primary\">Awesome!</div>\r\n<!-- Or with your official way (naming):-->\r\n<div class=\"mat-color-primary\">Awesome!</div>\r\n```","Url":"https://github.com/angular/components/issues/18722","RelatedDescription":"Open issue \"theme/color: Add selector class names for the current mat colors. (like \"mat-app-background\") \" (#18722)"},{"Id":"576031594","IsPullRequest":false,"CreatedAt":"2020-03-05T06:51:34","Actor":"spraveen420","Number":"18719","RawContent":null,"Title":"matstepper: clear(not selected) when rendering initially","State":"open","Body":"#### Feature Description\r\n\r\nDuring initial render matstepper should not be selected by default or clear button to unselected all even initial state should be unselected\r\n\r\n#### Use Case\r\n\r\nWhen I am in some other page I don't want initial step to be selected it should show only flow\r\n","Url":"https://github.com/angular/components/issues/18719","RelatedDescription":"Open issue \"matstepper: clear(not selected) when rendering initially\" (#18719)"},{"Id":"575916431","IsPullRequest":false,"CreatedAt":"2020-03-05T00:40:24","Actor":"njennes","Number":"18718","RawContent":null,"Title":"mat-select: First option is auto selected after hitting tab on keyboard - Angular 9 specific","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\nhttps://stackblitz.com/edit/angular-9-0-0-rc-1-ugp4bv\r\n\r\nSteps to reproduce:\r\n1. Select a valid option in the first dropdown menu other than \"None\"\r\n2. Do a few tabs on the keyboard to see that nothing changes\r\n3. In the first dropdown select the \"None\" value\r\n4. Hit tab on the keyboard, you can see that it auto selects the first valid option in the dropdown, even though you selected \"None\" as the option. It should stay on the \"None\" option\r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nI expect the \"None\" value to stay as that option when I select it and hit tab on the keyboard\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\nWhen I select \"None\" and hit tab on the keyboard, it auto selects the first valid value even though I want \"None\" as the option\r\n\r\n#### Environment\r\n\r\n- Angular: 9 (It doesn't happen in versions below 9)\r\n- CDK/Material: 9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18718","RelatedDescription":"Open issue \"mat-select: First option is auto selected after hitting tab on keyboard - Angular 9 specific\" (#18718)"},{"Id":"575801511","IsPullRequest":true,"CreatedAt":"2020-03-04T22:12:21","Actor":"mmalerba","Number":"18717","RawContent":null,"Title":"chore: add title format and \"needs triage\" label in issue template","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18717","RelatedDescription":"Closed or merged PR \"chore: add title format and \"needs triage\" label in issue template\" (#18717)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-03-07T05:30:05.7291015Z","RunDurationInMilliseconds":3101}