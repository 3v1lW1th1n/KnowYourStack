{"Data":{"Vue-Issues":{"Issues":[{"Id":"499225878","IsPullRequest":false,"CreatedAt":"2019-09-27T04:20:14","Actor":"mjmnagy","Number":"10570","RawContent":null,"Title":"Component not updating after vuex mutation ","State":"closed","Body":"I have the following component and i cannot figure out why the computed property of `details` is not updating when the `fetch()` method is being called\r\n\r\n\t\t<template>\r\n\t\t  <div>\r\n\t\t\t{{ haveData }} //remains undefined\r\n\t\t  </div>\r\n\t\t</template>\r\n\r\n\t\t<script>\r\n\t\texport default {\r\n\t\t  props: {\r\n\t\t\tgroup: {\r\n\t\t\t  type: Object,\r\n\t\t\t  required: true\r\n\t\t\t},\r\n\t\t  },\r\n\t\t  computed: {\r\n\t\t\tcurrentGroup() {\r\n\t\t\t  return this.$store.getters['user/navbar_menu_app_current_group'](\r\n\t\t\t\tthis.group.id\r\n\t\t\t  )\r\n\t\t\t  \r\n\t\t\t  /*-- which is the following function \r\n\t\t\t\t navbar_menu_app_current_group: state => item => {\r\n\t\t\t\t\treturn state.menu.find(m => {\r\n\t\t\t\t\t  return m.id == item\r\n\t\t\t\t\t})\r\n\t\t\t\t  }\r\n\t\t\t  */\r\n\t\t\t  \r\n\t\t\t  /*-- this function returns an object like so \r\n\t\t\t\t  {\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tlabel: 'kity cats',\r\n\t\t\t\t  }\r\n\t\t\t\t  ***details --> IS NOT DEFINED. if i add it to the current group as null my problem goes away however this is a previous api call which does not set the \"details\" parameter\r\n\t\t\t  */\r\n\t\t\t},\r\n\t\t\tdetails() {\r\n\t\t\t  let c = this.currentGroup.details\r\n\t\t\t  console.log(c) // returns undefined which makes sense but it should be updated after this.fetch() is called\r\n\t\t\t  return c\r\n\t\t\t},\r\n\t\t\thaveData() {\r\n\t\t\t  return this.details != null\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  methods: {\r\n\t\t\tasync fetch() {\r\n\t\t\t  await this.$store.dispatch(\r\n\t\t\t\t'user/navbar_menu_app_details_get',\r\n\t\t\t\tthis.group.id\r\n\t\t\t  )\r\n\t\t\t  //this is setting the \"details\" part of the state on menu which is referred to in the computed properties above\r\n\t\t\t  //Previous to this there is no state \"this.group.details\"\r\n              //If i add a console log to the mutation the action calls i get what is expected\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  created() {\r\n\t\t\tif (!this.haveData) {\r\n\t\t\t  this.fetch()\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t\t</script>\r\n\r\n\r\nit seems if i change the array listing to include detail it works\r\n\r\n`original`\r\n\r\n        [\r\n\t\t  {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tlabel: 'kity cats',\r\n\t\t  }\r\n         ....\r\n        ]\r\n\r\nto\r\n\r\n\t\t  {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tlabel: 'kity cats',\r\n                details: null\r\n\t\t  }\r\n\r\nI do not get this problem\r\n\r\nThe unfortunate part is that the array is created from a large api call and adding the details seems like unnecessary as it may never be needed\r\n\r\nHow can i get the computed properties to work without adding the `details:null` to the `default` state?\r\n\r\nthanks ","Url":"https://github.com/vuejs/vue/issues/10570","RelatedDescription":"Closed issue \"Component not updating after vuex mutation \" (#10570)"},{"Id":"499179692","IsPullRequest":false,"CreatedAt":"2019-09-27T00:54:08","Actor":"MrGaoGang","Number":"10569","RawContent":null,"Title":"how to ignore selft define tag in SFC","State":"closed","Body":"hello, i have i structure in my SFC, such as:\r\n\r\n```html\r\n<template>\r\n  <button :style=\"styles\" @click=\"handleClick\">\r\n  </button>\r\n</template>\r\n\r\n<script>\r\n\r\n</script>\r\n\r\n<docs>\r\n   This button is amazing, use it responsibly.\r\n</docs>\r\n```\r\ni have a self define `docs` tags, but i find when i use `vue cli` to build project; the `docs` tag also build to js files, so how should i ignore the tag when i build project!\r\n\r\nthank!","Url":"https://github.com/vuejs/vue/issues/10569","RelatedDescription":"Closed issue \"how to ignore selft define tag in SFC\" (#10569)"},{"Id":"499008698","IsPullRequest":false,"CreatedAt":"2019-09-26T17:12:31","Actor":"itomtom","Number":"10568","RawContent":null,"Title":"Extending Single File Component results to double mounting","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-rr65f](https://codesandbox.io/s/vue-template-rr65f)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun codesandbox and you will see 2 'Created Parent' and 1 'Create Child' console logs.\r\n\r\n### What is expected?\r\nOnly 1 'Create Child' console log\r\n\r\n### What is actually happening?\r\nExtending the parent template and class is causing extra mounts not required. \r\n\r\n---\r\nWhat is the correct way for extending Single File Components to reuse template and class?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10568","RelatedDescription":"Closed issue \"Extending Single File Component results to double mounting\" (#10568)"},{"Id":"498987024","IsPullRequest":false,"CreatedAt":"2019-09-26T16:20:32","Actor":"paul-schaaf","Number":"10567","RawContent":null,"Title":"Event Forwarding","State":"closed","Body":"### What problem does this feature solve?\r\nThis feature removes boilerplate-ish code to forward events, making the coding experience feel more vue-ish.\r\n\r\nIn a parent-child-grandchild scenario where the grandchild needs to pass information to the parent, it currently has to emit an event which is then captured by the child who forwards it to the parent.\r\n\r\nThis feature would remove the need to write the function in the child that forwards the event from the grandchild to the parent.\r\n\r\nFYI: This has been implemented in Svelte: \r\nhttps://svelte.dev/tutorial/event-forwarding\r\n\r\n> But that's a lot of code to write, so Svelte gives us an equivalent shorthand — an on:message event directive without a value means >'forward all message events'.\r\n\r\n### What does the proposed API look like?\r\nFor Instance:\r\n- \"[at]click.forward\"\r\n- simply \"[at]click\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10567","RelatedDescription":"Closed issue \"Event Forwarding\" (#10567)"},{"Id":"498934129","IsPullRequest":false,"CreatedAt":"2019-09-26T14:46:28","Actor":"itomtom","Number":"10566","RawContent":null,"Title":"Extending Single File Component results to double mounting","State":"closed","Body":"Parent Component A\r\n```html\r\n<template>...</template>\r\n<script lang=\"ts\">\r\nimport {Component} from 'vue-property-decorator';\r\n@Component()\r\nexport default class ComponentA {\r\n  public created() { console.log('created A'); }\r\n}\r\n</script>\r\n```\r\nChild Component B\r\n```html\r\n<template>\r\n  ...\r\n  <ComponentA></ComponentA>\r\n</template>\r\n<script lang=\"ts\">\r\nimport {Component} from 'vue-property-decorator';\r\nimport ComponentA from './ComponentA.vue'\r\n@Component({\r\n  components: { ComponentA }\r\n})\r\nexport default class ComponentB extends ComponentA {\r\n  public created() { console.log('created B'); }\r\n}\r\n</script>\r\n```\r\n\r\nWhen the child component is consumed as:\r\n```html\r\n<template>\r\n  ...\r\n  <ComponentB></ComponentB>\r\n</template>\r\n<script lang=\"ts\">\r\nimport {Component} from 'vue-property-decorator';\r\nimport ComponentB from './ComponentB.vue'\r\n@Component({\r\n  components: { ComponentB }\r\n})\r\nexport default class Demo extends Vue {}\r\n```\r\n\r\nWe see `created A` and `created B` both being printed when the desired behaviour is to only have `created B` to be printed and only Component B is to be instantiated. ","Url":"https://github.com/vuejs/vue/issues/10566","RelatedDescription":"Closed issue \"Extending Single File Component results to double mounting\" (#10566)"},{"Id":"498731231","IsPullRequest":false,"CreatedAt":"2019-09-26T08:21:07","Actor":"shuai-z","Number":"10565","RawContent":null,"Title":"scoped style not working in slot","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/embed/vue-template-ed9kk](https://codesandbox.io/embed/vue-template-ed9kk)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- click button\r\n\r\n### What is expected?\r\nText \"red\" should be in red.\r\n\r\n### What is actually happening?\r\nText \"red\" is black.\r\n\r\n---\r\nclass=\"foo\" is needed to make the OLD and NEW vnode the same (in sameVnode), so that Vue will try to patch instead of creating a new element.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10565","RelatedDescription":"Closed issue \"scoped style not working in slot\" (#10565)"},{"Id":"498724281","IsPullRequest":false,"CreatedAt":"2019-09-26T08:02:03","Actor":"shuai-z","Number":"10564","RawContent":null,"Title":"scoped style not working in slot","State":"closed","Body":"### Version\r\n\r\n2.6.10\r\n\r\n### Reproduction\r\n\r\napp.vue:\r\n\r\n```html\r\n<template>\r\n  <div>\r\n    <c :x=\"x\">\r\n      <div class=\"red\">red</div>\r\n    </c>\r\n    <button @click=\"onClick\">button</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport c from './c.vue'\r\n\r\nexport default {\r\n  components: {\r\n    c\r\n  },\r\n  data() {\r\n    return {\r\n      x: true\r\n    }\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      this.x = !this.x\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.red {\r\n  color: red;\r\n}\r\n</style>\r\n```\r\n\r\nc.vue:\r\n\r\n```html\r\n<template>\r\n  <div>\r\n    <div v-if=\"x\" class=\"foo\">xxxxxx</div>\r\n    <template v-else>\r\n      <slot></slot>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['x']\r\n}\r\n</script>\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n- click button\r\n\r\n### What is expected?\r\n\r\nText \"red\" should be in red.\r\n\r\n### What is actually happening?\r\n\r\nText \"red\" is black.\r\n\r\n---\r\n\r\n`class=\"foo\"` is needed to make the OLD and NEW vnode the *same* (in sameVnode), so that Vue will try to patch instead of creating a new element.\r\n","Url":"https://github.com/vuejs/vue/issues/10564","RelatedDescription":"Closed issue \"scoped style not working in slot\" (#10564)"},{"Id":"498571860","IsPullRequest":false,"CreatedAt":"2019-09-26T07:43:08","Actor":"taralx","Number":"10561","RawContent":null,"Title":"vue.js with es5, modules, and dev conditionals","State":"closed","Body":"### What problem does this feature solve?\r\nRight now you can kind of get any two of these, but not all three:\r\n\r\nvue.esm.browser.js - no dev conditionals\r\nvue.esm.js - no es5\r\nvue.js - no modules\r\n\r\n### What does the proposed API look like?\r\nvue.esm.es5.js or something similar, where classes have not been transpiled out. It is very useful for subsequent compiling with JSCompiler.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10561","RelatedDescription":"Closed issue \"vue.js with es5, modules, and dev conditionals\" (#10561)"},{"Id":"498706741","IsPullRequest":false,"CreatedAt":"2019-09-26T07:39:26","Actor":"AasmundEndresen","Number":"10563","RawContent":null,"Title":"[Vue Warn]: Unknown custom element: <some-component> - did you register the component correctly?","State":"closed","Body":"### What problem does this feature solve?\r\nDO NOT CLOSE!! This is a bug - but I am working in a private repo, and have a NDA with my employer so I'm not able to provide a minimal reproduction which only leaves me with this option to actually submit an issue.\r\n\r\nI am recieving a Vue Warn in multiple places that the components are not registered properly.  However I've been able to confirm through console.logs that the components are in fact imported.  I am also able to get rid of the error by changing the import style of the component.\r\n\r\nThe problem occurs, very inconsistently when I use named imports from an index file - if I change the imports to be default imports directly from the component file the problem disappears.  There is no reason this should be causing an issue in Vue, as this is basic ES6 syntax and works fine in other frameworks such as React and Svelte.\r\n\r\nI'm lead to believe this SHOULD also work fine in Vue because for most components its not an issue, it only fails with some.\r\n\r\n### What does the proposed API look like?\r\n```\r\n// In SomeComponent\r\n<script>\r\nexport default { name: 'some-component', ... }\r\n</script>\r\n\r\n\r\n// In SomeOtherComponent\r\n<script>\r\nexport default { name: 'some-other-component', ... }\r\n</script>\r\n\r\n// In index.js\r\nexport { default as SomeComponent } from './SomeComponent.vue';\r\nexport { default as SomeOtherComponent } from './SomeOtherComponent.vue';\r\n\r\n// In MainScreen.vue\r\n<template>\r\n  <some-component />\r\n  <some-other-component />\r\n</template>\r\n\r\n<script>\r\n  import { SomeComponent, SomeOtherComponent } from './components';\r\n  export default {\r\n    name: 'main-screen',\r\n    components: {\r\n      'some-component': SomeComponent,\r\n      'some-other-component': SomeOtherComponent,\r\n    }\r\n  }\r\n</script>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10563","RelatedDescription":"Closed issue \"[Vue Warn]: Unknown custom element: <some-component> - did you register the component correctly?\" (#10563)"},{"Id":"498687817","IsPullRequest":false,"CreatedAt":"2019-09-26T06:33:49","Actor":"putrasurya","Number":"10562","RawContent":null,"Title":"Avoid mutating a prop directly ISSUE (in very very simple component)","State":"closed","Body":"can anyone explain? \r\nThanks in advance!\r\n\r\n![image](https://user-images.githubusercontent.com/3635850/65663817-0e217000-e062-11e9-9a2f-22580ad88fa9.png)\r\n\r\n![image](https://user-images.githubusercontent.com/3635850/65663844-1d082280-e062-11e9-9640-3d2881f97ee7.png)\r\n","Url":"https://github.com/vuejs/vue/issues/10562","RelatedDescription":"Closed issue \"Avoid mutating a prop directly ISSUE (in very very simple component)\" (#10562)"},{"Id":"498385255","IsPullRequest":false,"CreatedAt":"2019-09-25T16:10:09","Actor":"sokolovdm","Number":"10560","RawContent":null,"Title":"variable in style and pug settings","State":"closed","Body":"Hello. Is it possible to pass a variable in a style tag and pug bemto settings?\r\n\r\nSomethink like this.\r\n\r\n```\r\n<template lang=\"pug\">\r\n    include ../src/libs/bemto/bemto.pug\r\n    - set_bemto_settings({ prefix: classPrefix, modifier: '--' })\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n            return {\r\n                classPrefix: 'test-'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    $prefix: classPrefix;\r\n\r\n    .#{$prefix}button{\r\n    \r\n    }\r\n\r\n    .#{$prefix}section{\r\n        \r\n    }\r\n\r\n</style>\r\n\r\n```","Url":"https://github.com/vuejs/vue/issues/10560","RelatedDescription":"Closed issue \"variable in style and pug settings\" (#10560)"},{"Id":"498012856","IsPullRequest":false,"CreatedAt":"2019-09-25T13:37:07","Actor":"PhilipJohnBasile","Number":"10557","RawContent":null,"Title":"Swap out Old Image for Patreon Bronze Backer","State":"closed","Body":"\r\n![name](https://user-images.githubusercontent.com/1419847/65564381-b62c2180-df1a-11e9-8197-05fd73f86ad5.gif)\r\n### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/dev/BACKERS.md](https://github.com/vuejs/vue/blob/dev/BACKERS.md)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nGoto Patreon Bronze Backers section and swap out image.\r\n\r\n### What is expected?\r\nnew image is needed and is attached to this ticket\r\n\r\n### What is actually happening?\r\nold image appears\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10557","RelatedDescription":"Closed issue \"Swap out Old Image for Patreon Bronze Backer\" (#10557)"},{"Id":"498209273","IsPullRequest":false,"CreatedAt":"2019-09-25T10:58:23","Actor":"quangvision","Number":"10559","RawContent":null,"Title":"Method runs twice with v-for when a node loaded asynchronous","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/quang_it/c1sm8dox/](https://jsfiddle.net/quang_it/c1sm8dox/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nPlease check my jsfiddle https://jsfiddle.net/quang_it/c1sm8dox/\r\n\r\n### What is expected?\r\nThe method \"numbers()\" should only run once\r\n\r\n### What is actually happening?\r\nThe method \"numbers()\" seems run twice\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10559","RelatedDescription":"Closed issue \"Method runs twice with v-for when a node loaded asynchronous\" (#10559)"},{"Id":"498206693","IsPullRequest":false,"CreatedAt":"2019-09-25T10:52:33","Actor":"quangvision","Number":"10558","RawContent":null,"Title":"Weird Error: Method runs twice with v-for when a node loaded asynchronous","State":"closed","Body":"**Problem**\r\nA method seems get called twice within v-for loop related to a node loaded with v-if async.\r\n**Reproduced**\r\nPlease check my jsfiddle [https://jsfiddle.net/quang_it/c1sm8dox/](https://jsfiddle.net/quang_it/c1sm8dox/)\r\n**How to debug**\r\nOpen up chrome devtools, you will see \"loaded\" printed out twice\r\n\r\nThank :)","Url":"https://github.com/vuejs/vue/issues/10558","RelatedDescription":"Closed issue \"Weird Error: Method runs twice with v-for when a node loaded asynchronous\" (#10558)"},{"Id":"497824265","IsPullRequest":true,"CreatedAt":"2019-09-24T17:27:54","Actor":"vue-bot","Number":"10556","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"closed","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/10556","RelatedDescription":"Closed or merged PR \"[automated] Patreon sponsors update\" (#10556)"},{"Id":"497731133","IsPullRequest":false,"CreatedAt":"2019-09-24T15:40:08","Actor":"trickstival","Number":"10555","RawContent":null,"Title":"Prop value empty string is cast to true","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/trickstival/Ltpr2ysw/13/](https://jsfiddle.net/trickstival/Ltpr2ysw/13/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCheck out the output value in the dom. It's true.\r\n\r\n### What is expected?\r\nSince in JavaScript `''` is falsy, I think it would make more sense to output `''` itself or `false`.\r\n\r\n### What is actually happening?\r\nIt outputs `true`.\r\n\r\n---\r\nIf you switch the prop type option to `[String, Boolean]` it should work, as it prioritizes `String` values, even if the parent is actually passing a string, which I don't know if makes sense. \r\n\r\nIt's probably related to this part of the code:\r\nhttps://github.com/vuejs/vue/blob/33e669b22f69a1f9c9147528360fe0bba85534f0/src/core/util/props.js#L31\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10555","RelatedDescription":"Closed issue \"Prop value empty string is cast to true\" (#10555)"},{"Id":"497707393","IsPullRequest":false,"CreatedAt":"2019-09-24T13:58:37","Actor":"petr001","Number":"10554","RawContent":null,"Title":"componentInstance is undefined with v-slot syntax on this.$slots[slots] VNodes","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-7rsmp](https://codesandbox.io/s/vue-template-7rsmp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ncomponentInstance via this.$slots.foo[bar] which are filled with new v-slot syntax is undefined.\r\n\r\nFor example:\r\nthis.$slots.myslot[0].componentInstance // returns undefined\r\n\r\n### What is expected?\r\nShould return VueComponent instance\r\n\r\n### What is actually happening?\r\nundefined is returned\r\n\r\n---\r\nOld slot=\"xxx\" syntax properly returns VueComponent instance in componentInstance property\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10554","RelatedDescription":"Open issue \"componentInstance is undefined with v-slot syntax on this.$slots[slots] VNodes\" (#10554)"},{"Id":"497699519","IsPullRequest":true,"CreatedAt":"2019-09-24T13:46:05","Actor":"oguimbal","Number":"10553","RawContent":null,"Title":"fix(compiler): infinite loop in generateCodeFrame (#10547)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nI'm having timeouts when trying to run some e2e tests ... but they seem unrelated to this fix (they happen without this fix)","Url":"https://github.com/vuejs/vue/pull/10553","RelatedDescription":"Open PR \"fix(compiler): infinite loop in generateCodeFrame (#10547)\" (#10553)"},{"Id":"497539303","IsPullRequest":false,"CreatedAt":"2019-09-24T08:32:24","Actor":"egamma","Number":"10552","RawContent":null,"Title":"test","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/10552","RelatedDescription":"Closed issue \"test\" (#10552)"},{"Id":"497493642","IsPullRequest":true,"CreatedAt":"2019-09-24T06:51:27","Actor":"Gherciu","Number":"10551","RawContent":null,"Title":"[Enhancement] improved eslint-config to be more readable","State":"open","Body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] New/updated tests are included\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nupdated eslint-config to be more readable and more understandable","Url":"https://github.com/vuejs/vue/pull/10551","RelatedDescription":"Open PR \"[Enhancement] improved eslint-config to be more readable\" (#10551)"},{"Id":"497409107","IsPullRequest":false,"CreatedAt":"2019-09-24T06:48:13","Actor":"LongTengDao","Number":"10548","RawContent":null,"Title":"Give a way to use shadow root in template/render","State":"closed","Body":"### What problem does this feature solve?\r\n\r\nShadow root can be used to make css scoped. But when I wrap all my components with shadow root, I must write two or more components every time for each component, and handly write props pass rule in outer shell component, handly create shadowRoot, and construct inner component(s) mount on it.\r\n\r\n```js\r\nconst Inner1 = Vue.extend({\r\n    props: [ 'x', 'y' ],\r\n    template: '<div> {{ x }} {{ y }} </div>',\r\n});\r\n\r\nconst Inner2 = Vue.extend({\r\n    props: [ 'z' ],\r\n    template: '<div> {{ z }} </div>',\r\n});\r\n\r\nconst Outer = Vue.extend({\r\n    props: [ 'x', 'y', 'z' ],\r\n    template: '<div />',\r\n    mounted () {\r\n        const shadowRoot = this.$el.attachShadow();\r\n        shadowRoot.appendChild(document.createElement('style')).textContent = 'css 1 ...';\r\n        shadowRoot.appendChild(document.createElement('style')).textContent = 'css 2 ...';\r\n        new Inner1({\r\n            el: shadowRoot.appendChild(document.createElement('div')),\r\n            propsData: { x, y },\r\n        });\r\n        new Inner2((\r\n            el: shadowRoot.appendChild(document.createElement('div')),\r\n            propsData: { z },\r\n        });\r\n    },\r\n});\r\n```\r\n\r\n### What does the proposed API look like?\r\n\r\n`<shadow></shadow>` is redundancy and will bring break change by increasing reserved tag name list. `v-shadow` won't serve all case, and hard to add prop in the furthur, and also bring break change with reserved directive list. So I suggest `<?shadow>`:\r\n\r\n```html\r\n<template>\r\n    <div>\r\n        <?shadow mode=\"closed\" ?>\r\n        <style> css 1 ... </style>\r\n        <style> css 2 ... </style>\r\n        <div> {{ x }} {{ y }} </div>\r\n        <div> {{ z }} </div>\r\n    </div>\r\n</template>\r\n```\r\n\r\nEven support:\r\n\r\n```html\r\n<template>\r\n    <?shadow mode=\"closed\" ?>\r\n    <style> css 1 ... </style>\r\n    <style> css 2 ... </style>\r\n    <div> {{ x }} {{ y }} </div>\r\n    <div> {{ z }} </div>\r\n</template>\r\n```\r\n\r\nThen the `options.el` can be `string | Element | ShadowRoot`, and `vm.$el` can be `Element | ShadowRoot`. And `vm.$createElement` in render will be extended to allow:\r\n\r\n```js\r\nfunction render (createElement) {\r\n    return createElement('?shadow', { mode: 'closed' }, [ ... ]);\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10548","RelatedDescription":"Closed issue \"Give a way to use shadow root in template/render\" (#10548)"},{"Id":"497430418","IsPullRequest":true,"CreatedAt":"2019-09-24T03:15:22","Actor":"fisker","Number":"10550","RawContent":null,"Title":"chore(eslint): update eslint to v6","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\nUpdate ESLint to v6\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10550","RelatedDescription":"Open PR \"chore(eslint): update eslint to v6\" (#10550)"},{"Id":"497425327","IsPullRequest":true,"CreatedAt":"2019-09-24T02:53:30","Actor":"fisker","Number":"10549","RawContent":null,"Title":"build: update `rollup` related dependencies","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [x] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10549","RelatedDescription":"Open PR \"build: update `rollup` related dependencies\" (#10549)"},{"Id":"496826462","IsPullRequest":false,"CreatedAt":"2019-09-22T20:08:58","Actor":"oguimbal","Number":"10547","RawContent":null,"Title":"Infinite loop in vue-template-compiler","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/oguimbal/vuebug](https://github.com/oguimbal/vuebug)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\ngit clone git@github.com:oguimbal/vuebug.git\r\nnpm i\r\nnpm start\r\n```\r\n\r\nWait a couple of seconds, and your compilation process will be frozen.\r\n\r\nIf you attach a debugger to the node process, you will see the infinite loop in `generateCodeFrame()` method of vue-template-compiler:\r\n\r\n![bug](https://raw.githubusercontent.com/oguimbal/vuebug/master/bug.png)\r\n\r\n### What is expected?\r\nI would expect the compiler not to freeze\r\n\r\n### What is actually happening?\r\nThe compiler is freezing\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10547","RelatedDescription":"Open issue \"Infinite loop in vue-template-compiler\" (#10547)"},{"Id":"496771532","IsPullRequest":false,"CreatedAt":"2019-09-22T14:24:47","Actor":"ngfk","Number":"10546","RawContent":null,"Title":"v-bind.prop doesn't pass object types","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ngfkoster/9cxmrnsg/60/](https://jsfiddle.net/ngfkoster/9cxmrnsg/60/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nReproduction link  shows a custom element with a \"value\" property expecting an array.\r\n\r\nRegular binding fails as expected because it isn't an attribute. Property binding works but transforms the array to a string. Third item shows the expected result created using native code.\r\n\r\n### What is expected?\r\nv-bind.prop should pass the array\r\n\r\n### What is actually happening?\r\nv-bind.prop passes the the array as a string\r\n\r\n---\r\nIssue #9138 might be similar.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10546","RelatedDescription":"Closed issue \"v-bind.prop doesn't pass object types\" (#10546)"},{"Id":"496713530","IsPullRequest":false,"CreatedAt":"2019-09-22T06:55:51","Actor":"IuriPires","Number":"10545","RawContent":null,"Title":"Input autocomplete off does not work","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/nvo9x0ru/25/](https://jsfiddle.net/nvo9x0ru/25/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nWe have a componet called SmartInput in our project and it's used all around the application, somehow autocomplete=\"off\" does not work. Does not matter what we try to do, it does not work. For exemple, if you have a login page and Chromes ask you to save the email and password and you try to use this same component all way around the application, Chrome will auto fill the input for you, but we don't want it.  We got a form which is been filled with the login information just because we use that component.\r\n\r\n### What is expected?\r\nautocomplete=\"off\" to work.\r\n\r\n### What is actually happening?\r\nautocomplete=\"off\" is ignored.\r\n\r\n---\r\nIf you guys want, I can show and send some evidence to make it easier to find a way to fix this bug\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10545","RelatedDescription":"Closed issue \"Input autocomplete off does not work\" (#10545)"},{"Id":"496601178","IsPullRequest":false,"CreatedAt":"2019-09-21T14:02:42","Actor":"15757115286","Number":"10544","RawContent":null,"Title":"nested dynamic components occur memory leaks","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/15757115286/pen/MWgZYgg](https://codepen.io/15757115286/pen/MWgZYgg)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. collect garbage and take a snapshot before click the button toggleB  \r\n\r\n2.click button toggleB, change the value of the input \r\n\r\n3.click button toggle A, make sure the external dynamic component is componentA \r\n\r\n4.collect garbage and take a snapshot\r\n\r\n\r\n### What is expected?\r\nthe delta of the VueComponent is 0\r\n\r\n### What is actually happening?\r\nthe delta of the VueComponent is bigger than 0\r\n\r\n---\r\nthe version of the chrome is 77.0.3865.90\r\nwhen toggle the componet repeatedly, the count of VueComponent in memory  is always increase\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10544","RelatedDescription":"Closed issue \"nested dynamic components occur memory leaks\" (#10544)"},{"Id":"496558002","IsPullRequest":false,"CreatedAt":"2019-09-21T13:16:57","Actor":"joeizang","Number":"10543","RawContent":null,"Title":"Renderless Component in Typescript","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/ruth-izang/pen/GRKPKGp](https://codepen.io/ruth-izang/pen/GRKPKGp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\njust create a new vue project with typescript support, create a renderless component as a typescript file so eg. ProcessUser.ts using the Vue.extend style and just put the render function inside\r\n\r\n### What is expected?\r\nI should be able to return anything via scopedSlots to a random parent and not show errors in vscode or during build\r\n\r\n### What is actually happening?\r\nshows red squiggles in vscode and shows errors during build of project\r\n\r\n---\r\nencountered this when migrating a js based renderless component to typescript at work and the typescript version of the component just spits these errors: \r\n\r\n(method) ComponentOptions<Vue, unknown, unknown, unknown, never[], Record<never, \r\n       any>>.render? \r\n       (createElement: CreateElement, hack: RenderContext<Record<never, any>>): VNode\r\n     No overload matches this call.\r\n    The last overload gave the following error.\r\n    Argument of type '{ render(): void; }' is not assignable to parameter of type \r\n    'ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, \r\n    PropsDefinition<Record<string, any>>, Record<string, any>>'.\r\n      Types of property 'render' are incompatible.\r\n        Type '() => void' is not assignable to type '(createElement: CreateElement, hack: \r\n    RenderContext<Record<string, any>>) => VNode'.\r\n          Type 'void' is not assignable to type 'VNode'.ts(2769)\r\n    vue.d.ts(90, 3): The last overload is declared here.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10543","RelatedDescription":"Closed issue \"Renderless Component in Typescript\" (#10543)"},{"Id":"496458661","IsPullRequest":false,"CreatedAt":"2019-09-20T17:28:24","Actor":"franciscolourenco","Number":"10542","RawContent":null,"Title":"<video v-model=\"currentTime\"/>","State":"closed","Body":"### What problem does this feature solve?\r\nReactively setting the playback position of the html5 video element.\r\n\r\nThis would allow playback position to be reflected in a data property, and the playback position to be set by modifying a data property.\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\nData binding with video element's `currentTime` property\r\n\r\n```\r\n<video v-model=\"currentTime\"/>\r\n```\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/video\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10542","RelatedDescription":"Closed issue \"<video v-model=\"currentTime\"/>\" (#10542)"},{"Id":"496426093","IsPullRequest":false,"CreatedAt":"2019-09-20T15:49:55","Actor":"Manosianer","Number":"10541","RawContent":null,"Title":"Dots in front of <component v-for/>","State":"closed","Body":"Hi,\r\nI've made a website using vuejs and everything worked fine while I used Firefox as a browser. Then I switched to Chrome and all components witht a v-for have a dot in the front like in a <ul>\r\nWhat can I do to make them invisible or better do delete them","Url":"https://github.com/vuejs/vue/issues/10541","RelatedDescription":"Closed issue \"Dots in front of <component v-for/>\" (#10541)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"498912902","IsPullRequest":false,"CreatedAt":"2019-09-26T14:13:22","Actor":"jantajov","Number":"2944","RawContent":null,"Title":"Callback passed to beforeRouterEnter executed after DOM updates","State":"closed","Body":"Hello, I am trying to implement asynchronous data fetching before navigation as described [here](https://router.vuejs.org/guide/advanced/data-fetching.html#fetching-after-navigation) however I ran into a problem.\r\n\r\n[Documentation](https://router.vuejs.org/guide/advanced/navigation-guards.html#the-full-navigation-resolution-flow) mentions that the callback passed to `next()` is executed after the component is rendered.\r\n\r\nThis is inconvenient, the callback actually updates the component data and triggers all watches and re-render of the component.\r\n\r\nIs there any way how to execute the callback right before the component is mounted? And if not, can you please suggest a workaround of implement such feature?","Url":"https://github.com/vuejs/vue-router/issues/2944","RelatedDescription":"Closed issue \"Callback passed to beforeRouterEnter executed after DOM updates\" (#2944)"},{"Id":"497788628","IsPullRequest":false,"CreatedAt":"2019-09-24T16:17:13","Actor":"wrosa-pariveda","Number":"2943","RawContent":null,"Title":"Update navigation hooks to include which \"action\" triggered it","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently it is not possible to use the navigation hooks in order to react to specific directions a user is using in the application.\r\n\r\nFor example, I cannot use the hooks to react to when users  go to the next screen ( using router.push ), but do nothing if they are navigating back ( using router.back )\r\n\r\n### What does the proposed API look like?\r\nCurrently the NavigationGuard signature is such, as defined by vue-router's TypeScript definitions:\r\n```\r\ntype NavigationGuard < V extends Vue = Vue > = (\r\n  to: Route,\r\n  from: Route,\r\n  next: (to?: RawLocation | false | ((vm: V) => any) | void) => void\r\n) => any\r\n```\r\n\r\nthe proposed change would simply add a new parameter to the callback to tell which \"action\" was the cause of the callback invocation.\r\n\r\n```\r\ntype NavigationGuard < V extends Vue = Vue > = (\r\n  to: Route,\r\n  from: Route,\r\n  next: (to?: RawLocation | false | ((vm: V) => any) | void) => void,\r\n  action: \"go\" | \"push\" | \"back\" | \"replace\"\r\n) => any\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2943","RelatedDescription":"Closed issue \"Update navigation hooks to include which \"action\" triggered it\" (#2943)"},{"Id":"497408607","IsPullRequest":false,"CreatedAt":"2019-09-24T03:59:14","Actor":"1161906592","Number":"2942","RawContent":null,"Title":"提供一个方法来释放router实例。","State":"closed","Body":"### What problem does this feature solve?\r\n当vue和single-spa这种微应用框架一起使用的时候，页面可能会有多个router实例，并且存在router实例需要被释放的场景。目前vue实例是可以正确的释放，但是router以及router创建的时候添加事件监听就不能得到释放，造成路由切换页面不响应和内存泄漏的问题。\r\n\r\n### What does the proposed API look like?\r\nrouter.$destory() 类似这种即可。\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2942","RelatedDescription":"Closed issue \"提供一个方法来释放router实例。\" (#2942)"},{"Id":"496309115","IsPullRequest":false,"CreatedAt":"2019-09-23T09:38:42","Actor":"antonyme","Number":"2938","RawContent":null,"Title":"<router-link> component is mutating a prop","State":"closed","Body":"### Version\r\n2.6.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/embed/vue-template-hf9hq](https://codesandbox.io/embed/vue-template-hf9hq)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Click on 'route' link\r\n- Look at the console\r\n\r\n### What is expected?\r\nIn `components/Parent.vue` the object `childRoute`, that is passed as the `to` prop of `<router-link>`, should not be mutated.\r\n\r\n### What is actually happening?\r\nIt is mutated (the key `parent` is added to `childRoute.params`)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2938","RelatedDescription":"Closed issue \"<router-link> component is mutating a prop\" (#2938)"},{"Id":"496991989","IsPullRequest":false,"CreatedAt":"2019-09-23T09:38:13","Actor":"posva","Number":"2941","RawContent":null,"Title":"Should we implicitly merge params?","State":"open","Body":"Coming from https://github.com/vuejs/vue-router/issues/2800#issuecomment-499005359\r\n\r\nRight now we are allowing implicit partial params to the location passed to router-link but this is bug-prone as the router link could be used in a different views that may not even be the parent of the location but still share the same param id and I don't think we should reuse the param in that case.\r\n\r\nTake the following case:\r\n\r\n```js\r\nconst routes = [\r\n\t{ path: '/a/:id', name: 'a' },\r\n\t{ path: '/a/:id/:dynamic', name: 'a.dyn' },\r\n\t{ path: '/b/:id', name: 'b', children: [\r\n\t  { path: 'one', name: 'b.one' },\r\n\t  { path: 'two', name: 'b.two' },\r\n      { path: ':dynamic', name: 'b.dyn' }\r\n\t  ]\r\n\t}\r\n]\r\n```\r\n\r\n- we are on `/a/2`, `{ name: 'b.one' }` will point to `/b/2/one` but we are sharing a param across different routes\r\n- we are on `/b/2/two`, `{ name: 'b.one' }` will point to `/b/2/one`\r\n- we are on `/b/2/two`, `{ name: 'b.dyn', params: { dynamic: 'foo' } }` will point to `/b/2/foo`, params are partially merged\r\n- we are on `/a/2`, `{ name: 'b.dyn', params: { dynamic: 'foo' } }` will point to `/b/2/foo`, params are partially merged across routes that are unrelated\r\n- we are on `/a/2/other`, `{ name: 'b.dyn' }` will point to `/b/2/other`, params are taken from a different route\r\n\r\nThis makes me wonder if it's really a good idea to implicitly merge params solely based on their name. We don't do this with `query` and it's very easy to pass explicitly pass params with `{ params: {...this.$route.params, ...otherParams} }` and make it easier to guess. In any case, we won't remove current behavior but I need to trace back to where we started doing that and make sure is the right choice for future versions\r\n\r\nThe goal of this issue is to discuss about this behavior in order to decide wether to keep it for future versions or not","Url":"https://github.com/vuejs/vue-router/issues/2941","RelatedDescription":"Open issue \"Should we implicitly merge params?\" (#2941)"},{"Id":"496827488","IsPullRequest":false,"CreatedAt":"2019-09-22T20:16:33","Actor":"goeh","Number":"2940","RawContent":null,"Title":"Provide method to get all routes","State":"open","Body":"### What problem does this feature solve?\r\nIf an application is split into several Vue components/libraries, each component can add their specific routes using router.addRoutes(array).\r\nIn the main application we then want to dynamically create menu items from all available routes. Currently there seems to be no way to get all routes, including those added with addRoutes().\r\n\r\nWe've done a workaround by importing routes manually from all included components and appending them into one array. This array is then used when constructing the router instance. It's a lot of boilerplate and easy to miss an import. A Router.getRoutes() method would really help in this use-case.\r\n\r\n### What does the proposed API look like?\r\n`router.getRoutes()` or `router.getAllRoutes()` that returns an array of route configurations.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2940","RelatedDescription":"Open issue \"Provide method to get all routes\" (#2940)"},{"Id":"496738493","IsPullRequest":false,"CreatedAt":"2019-09-22T06:12:47","Actor":"nshusr","Number":"2939","RawContent":null,"Title":"TypeScript Reference ctx.root.$router.options.routes will report an error","State":"closed","Body":"Reference ctx.root.$router.options.routes will report an error\r\n\r\nfilepath: types/router.d.ts\r\n\r\nThe option object is not written in the file, causing ts to report an error.\r\n","Url":"https://github.com/vuejs/vue-router/issues/2939","RelatedDescription":"Closed issue \"TypeScript Reference ctx.root.$router.options.routes will report an error\" (#2939)"},{"Id":"496124184","IsPullRequest":false,"CreatedAt":"2019-09-20T07:08:00","Actor":"scvzerng","Number":"2937","RawContent":null,"Title":"alias的效果依赖路由定义顺序","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/scvzerng/vue-router-alias-bug.git](https://github.com/scvzerng/vue-router-alias-bug.git)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n分别点击两个路由\r\n\r\n### What is expected?\r\n两个路由的别名效果都能生效\r\n\r\n### What is actually happening?\r\n```javascrip\r\n        if (!pathMap[record.path]) {\r\n        pathList.push(record.path);\r\n        pathMap[record.path] = record;\r\n      }\r\n```\r\n这个判断导致alias定义在路由之前会被提前解析然后后面发现已经判断了正确的aliasRoute就不会替换了\r\n\r\n---\r\n这个效果是设计就是这样的吗，如果是的请在文档上标注出来，因为文档上没有任何说明alias使用的时候有定义的顺序要求\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2937","RelatedDescription":"Closed issue \"alias的效果依赖路由定义顺序\" (#2937)"},{"Id":"495924664","IsPullRequest":false,"CreatedAt":"2019-09-19T17:12:19","Actor":"adabutch","Number":"2936","RawContent":null,"Title":"t","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2936","RelatedDescription":"Closed issue \"t\" (#2936)"},{"Id":"495921313","IsPullRequest":true,"CreatedAt":"2019-09-19T17:04:10","Actor":"a11302482","Number":"2935","RawContent":null,"Title":"Remove route","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\nPartially addresses feature request #1234 to allow removal of dynamically added routes","Url":"https://github.com/vuejs/vue-router/pull/2935","RelatedDescription":"Open PR \"Remove route\" (#2935)"},{"Id":"495675250","IsPullRequest":false,"CreatedAt":"2019-09-19T09:46:22","Actor":"starstaysky","Number":"2934","RawContent":null,"Title":"When using beforeRouteEnter，maybe only one next() can be invoked is better","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB](https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1 beforeRouteEnter(to, from, next) {\r\n\r\n      next('/home')\r\n\r\n      next((vm) => {\r\n        next('/index')\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n\r\n2 current route  \" /home \"\r\n\r\n\r\nbeforeRouteEnter(to, from, next) {\r\n\r\n      next('/home')\r\n  }\r\n\r\n\r\n### What is expected?\r\n1 only one next() was in work\r\n2 not in work when next() called to itself\r\n\r\n\r\n### What is actually happening?\r\n\r\n1 when called next('/path'), it seemed to run api window.location.href, if any other next() after it ,should not be in work.\r\n\r\n\r\n\r\n\r\n2 when i was at page home and inovked next(/home), it entered in endless loop.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2934","RelatedDescription":"Closed issue \"When using beforeRouteEnter，maybe only one next() can be invoked is better\" (#2934)"},{"Id":"495608937","IsPullRequest":true,"CreatedAt":"2019-09-19T07:51:31","Actor":"starstaysky","Number":"2933","RawContent":null,"Title":"ci(debug): 代码调试","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2933","RelatedDescription":"Closed or merged PR \"ci(debug): 代码调试\" (#2933)"},{"Id":"495253606","IsPullRequest":false,"CreatedAt":"2019-09-18T15:46:13","Actor":"berniegp","Number":"2932","RawContent":null,"Title":"$router.push() followed by redirect in a route's beforeEnter hook causes uncaught promise rejection","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/asu3qnry/](https://jsfiddle.net/asu3qnry/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nTo trigger the uncaught promise rejection, click on \"/home\" and then the button.\r\n\r\n### What is expected?\r\nNo uncaught promise rejection because there are actually no errors generated by the application. It's simply a navigation (`$router.push`) that generates a redirect (`next('/foo')`) in a `beforeEnter` hook.\r\n\r\n### What is actually happening?\r\nConsole reports: `Uncaught (in promise) undefined`\r\n\r\n---\r\nUsing a `router-link` to `/bar` instead of the initial `$router.push('/bar')` does not produce the error.\r\n\r\nRelated to #2833 #2881 \r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2932","RelatedDescription":"Closed issue \"$router.push() followed by redirect in a route's beforeEnter hook causes uncaught promise rejection\" (#2932)"},{"Id":"494957714","IsPullRequest":true,"CreatedAt":"2019-09-18T07:05:52","Actor":"CroMarmot","Number":"2931","RawContent":null,"Title":"fix misspell in examples","State":"closed","Body":"change `<h1>` text in examples","Url":"https://github.com/vuejs/vue-router/pull/2931","RelatedDescription":"Closed or merged PR \"fix misspell in examples\" (#2931)"},{"Id":"494700083","IsPullRequest":true,"CreatedAt":"2019-09-17T15:36:42","Actor":"zrh122","Number":"2930","RawContent":null,"Title":"fix(router-view): fix deeply nested keep-alive router-views displaying","State":"open","Body":"Fix #2923.\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2930","RelatedDescription":"Open PR \"fix(router-view): fix deeply nested keep-alive router-views displaying\" (#2930)"},{"Id":"493724589","IsPullRequest":false,"CreatedAt":"2019-09-17T09:04:45","Actor":"pribilinskiy","Number":"2929","RawContent":null,"Title":"beforeLeave is mentioned in documentation","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect](https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect)\r\n\r\n### Steps to reproduce\r\nNavigate to https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect and read the note:\r\n> Note that Navigation Guards are not applied on the route that redirects, only on its target. In the example below, adding a beforeEnter or **beforeLeave** guard to the /a route would not have any effect.\r\n\r\n### What is expected?\r\n`beforeLeave` should not be mentioned as it's not implemented for a `RouteConfig` yet\r\nSee https://router.vuejs.org/api/#router-construction-options\r\n\r\n### What is actually happening?\r\n`beforeLeave` is in docs\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2929","RelatedDescription":"Closed issue \"beforeLeave is mentioned in documentation\" (#2929)"},{"Id":"493267537","IsPullRequest":false,"CreatedAt":"2019-09-13T11:10:53","Actor":"VasiliyRusin","Number":"2928","RawContent":null,"Title":"Router middleware","State":"closed","Body":"### What problem does this feature solve?\r\nSimple middleware out of the box. The idea and realization were shown in this article https://markus.oberlehner.net/blog/implementing-a-simple-middleware-with-vue-router/\r\nAnd I think it's really good solutions for router middleware.\r\n\r\nIf it can be realized by existing \"beforeEach\" hook, Is it really necessary? Yes. It's a beautiful and DRY way to check user authentification or page access rights, logging or A/B tests. Also, it isn't breaking existing code.\r\n\r\n### What does the proposed API look like?\r\nExample from the article. Maybe the object \"meta\" isn't necessary. It should be discussed.\r\n\r\n```javascript\r\n import Vue from 'vue';\r\n import Router from 'vue-router';\r\n \r\n import auth from './middleware/auth';\r\n import log from './middleware/log';\r\n \r\n import Home from './views/Home.vue';\r\n import Login from './views/Login.vue';\r\n import User from './views/User.vue';\r\n\r\n Vue.use(Router);\r\n\r\n const router = new Router({\r\n   routes: [\r\n     {\r\n       path: '/',\r\n       name: 'home',\r\n       component: Home,\r\n       meta: {\r\n         middleware: log,\r\n       },\r\n     },\r\n     {\r\n       path: '/login',\r\n       name: 'login',\r\n       component: Login,\r\n       meta: {\r\n         middleware: log,\r\n       },\r\n     },\r\n     {\r\n       path: '/user',\r\n       name: 'user',\r\n       component: User,\r\n       meta: {\r\n         // Hint: try to switch those two around to see\r\n         // how this affects execution of the callbacks.\r\n         middleware: [auth, log],\r\n       },\r\n     },\r\n   ],\r\n   mode: 'history',\r\n });\r\n\r\n export default router;\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2928","RelatedDescription":"Closed issue \"Router middleware\" (#2928)"},{"Id":"493238674","IsPullRequest":true,"CreatedAt":"2019-09-13T10:45:53","Actor":"Astray-git","Number":"2926","RawContent":null,"Title":"fix: publish should include all files under src","State":"closed","Body":"Currently the npm package only includes 4 js files under src, all folders are missing.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2926","RelatedDescription":"Closed or merged PR \"fix: publish should include all files under src\" (#2926)"},{"Id":"493252695","IsPullRequest":false,"CreatedAt":"2019-09-13T10:44:48","Actor":"njam","Number":"2927","RawContent":null,"Title":"'base' does not work with absolute URL","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://repl.it/@njam/vue-router-base](https://repl.it/@njam/vue-router-base)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Set 'base' to an absolute URL\r\n2. Resolve any link\r\n\r\n### What is expected?\r\nFinal URL is based on absolute base URL:\r\n\"http://example.com/foo\"\r\n\r\n\r\n### What is actually happening?\r\nFinal URL is using base URL as relative path:\r\n\"/http:/example.com/\"\r\n\r\n\r\n---\r\nI couldn't find a ticket for this, only a closed PR: https://github.com/vuejs/vue-router/pull/1353\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2927","RelatedDescription":"Closed issue \"'base' does not work with absolute URL\" (#2927)"},{"Id":"491097363","IsPullRequest":false,"CreatedAt":"2019-09-09T13:36:41","Actor":"pimlie","Number":"2925","RawContent":null,"Title":"Missing param due to case-sensitive token regex","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/j4s8ka1v/](https://jsfiddle.net/j4s8ka1v/)\r\n\r\n\r\n### Steps to reproduce\r\nUnfortunately the above reproduction link does **not** reproduce the issue, not sure why the _tokensToFunction_ method isnt used in the jsfiddle. But I've traced the issue to `tokensToFunction` from `path-to-regexp`. The issue seems to have been fixed in v3.1.0 due to [this pr](https://github.com/pillarjs/path-to-regexp/pull/191). You can check eg [`dist/vue-router.esm.js`](https://github.com/vuejs/vue-router/blob/dev/dist/vue-router.esm.js#L619) to see the RegExp does not set the `i` modifier\r\n\r\nThat makes this report more or less a fyi / request to upgrade `path-to-regexp` 😃 \r\n\r\nLocally the error is caused by a route similar to\r\n```\r\n  routes: [{\r\n      path: \"/:locale(en|pt-br)?/:source(.*)?\",\r\n      component: myComponent,\r\n    }],\r\n```\r\n\r\nwhich fails when you browse to e.g. `/pt-BR/path`:\r\n\r\n![image](https://user-images.githubusercontent.com/1067403/64534777-5af11100-d316-11e9-9225-f34616eee0fe.png)\r\n\r\n### What is expected?\r\nThat the token / param is matched case-insensitively\r\n\r\n### What is actually happening?\r\nIt doesnt, causing a missing param error\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2925","RelatedDescription":"Closed issue \"Missing param due to case-sensitive token regex\" (#2925)"},{"Id":"491067631","IsPullRequest":false,"CreatedAt":"2019-09-09T12:32:17","Actor":"pimlie","Number":"2924","RawContent":null,"Title":"Keep path-to-regexp as a dependency for non-browser builds (or expose its exports)","State":"open","Body":"### What problem does this feature solve?\r\nFor vue-router v2.0.0 `path-to-regexp` was moved from a dependency to a [dev dependency](https://github.com/vuejs/vue-router/commit/76d83b6eb4af507763c5ee6f61a52ed9a7804572) (thanks @pi0 for finding the commit).\r\n\r\nUnfortunately the commit doesnt list a reason why this was (probably mostly security/political?), but I think it could make sense to keep `path-to-regexp` as an external dependency for non-browser builds.\r\n\r\nOne reason is that Nuxt.js also uses e.g. the [`tokensToFunction`](https://github.com/nuxt/nuxt.js/blob/dev/packages/vue-app/template/utils.js#L452) method of `path-to-regexp`. This means that currently a Nuxt.js app will include two copies of that function, one from vue-router and one from Nuxt.js itself which increases the bundle size needlessly.\r\n\r\nAnother solution for the above could be that `vue-router` would expose the path-to-regexp methods like `tokensToFunction` method so Nuxt.js can use those, but using dependencies has more benefits ofc like quicker delivery of patches for `path-to-regexp`.\r\n\r\n### What does the proposed API look like?\r\nRevert: 76d83b6eb4af507763c5ee6f61a52ed9a7804572\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2924","RelatedDescription":"Open issue \"Keep path-to-regexp as a dependency for non-browser builds (or expose its exports)\" (#2924)"},{"Id":"490683137","IsPullRequest":false,"CreatedAt":"2019-09-09T08:18:47","Actor":"tmorehouse","Number":"2921","RawContent":null,"Title":"Ability to prevent `scrollBehavior` on a particular `<router-link>`","State":"closed","Body":"### What problem does this feature solve?\r\n\r\nIn some situations, when one is just changing the `hash` (or `query`) the current page scrolls to top (or not quite to the right position).  It would be nice to disable the `scrollBehavior` when users click on a specific `<router-link>`.\r\n\r\nUse case: when controlling tabbed content on a page, clicking the link should change the URL, but the user browser view shouldn't be scrolled (as the tabbed content just updates, and the user should remain at their current scroll position).\r\n\r\nI know this is possible with a custom `scrollBehaviour()` method, but it tends to make the app maintenance a bit more complex when adding new tabbed content sections in a document.\r\n\r\n### What does the proposed API look like?\r\n\r\nPossibly a new Boolean prop `prevent-scroll` on `<router-link>`, which when set would disable the `scrollBehavior` when users click on the `<router-link>` (specifically for when only the hash or query changes), or an optional property in the location object passed to `<router-link>`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2921","RelatedDescription":"Closed issue \"Ability to prevent `scrollBehavior` on a particular `<router-link>`\" (#2921)"},{"Id":"490737536","IsPullRequest":false,"CreatedAt":"2019-09-08T10:29:17","Actor":"lxcuso4","Number":"2923","RawContent":null,"Title":"keep-alive deeply nested router-views display the last visited component component","State":"open","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/lxcuso4/cu6keqw2/28](https://jsfiddle.net/lxcuso4/cu6keqw2/28)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on childA\r\nClick on index\r\nClick on childB\r\n\r\n### What is expected?\r\nwe want to show B page\r\n\r\n### What is actually happening?\r\nbut actually A page dispaly\r\n\r\n---\r\nThis behavior happens when we use keep-alive and have three layers of nested routing\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2923","RelatedDescription":"Open issue \"keep-alive deeply nested router-views display the last visited component component\" (#2923)"},{"Id":"490737054","IsPullRequest":false,"CreatedAt":"2019-09-08T10:23:23","Actor":"lxcuso4","Number":"2922","RawContent":null,"Title":"Router resove can't work","State":"closed","Body":"**Reproduction link**\r\nhttps://jsfiddle.net/lxcuso4/cu6keqw2/26/\r\n\r\n**Steps to reproduce**\r\nClick on childA \r\nClick on index\r\nClick on childB\r\n\r\n**What is expected?**\r\nwe want to show B page\r\n\r\n**What is actually happening?**\r\nbut actually A page dispaly\r\n\r\nThis behavior happens when we use keep-alive and have three layers of nested routing","Url":"https://github.com/vuejs/vue-router/issues/2922","RelatedDescription":"Closed issue \"Router resove can't work\" (#2922)"},{"Id":"489563585","IsPullRequest":false,"CreatedAt":"2019-09-05T07:57:39","Actor":"wanlixi","Number":"2920","RawContent":null,"Title":"When a page jumps, `popstate'and `hashchange' registered listening events will not be triggered","State":"closed","Body":"### What problem does this feature solve?\r\nProvide a monitor for page Jump Events\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nwindow.addEventListener(\"popstate\", function(e) {\r\n      console.log(\"popstate\");\r\n    });\r\n    window.addEventListener(\"hashchange\", function(e) {\r\n      console.log(\"hashchange\");\r\n    });\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2920","RelatedDescription":"Closed issue \"When a page jumps, `popstate'and `hashchange' registered listening events will not be triggered\" (#2920)"},{"Id":"488467467","IsPullRequest":false,"CreatedAt":"2019-09-03T08:37:32","Actor":"MalavitaC","Number":"2919","RawContent":null,"Title":"keep-alive会触发created和mounted钩子","State":"closed","Body":"[请看这个](https://github.com/vueComponent/ant-design-vue-pro/issues/27)","Url":"https://github.com/vuejs/vue-router/issues/2919","RelatedDescription":"Closed issue \"keep-alive会触发created和mounted钩子\" (#2919)"},{"Id":"488274168","IsPullRequest":false,"CreatedAt":"2019-09-03T06:51:05","Actor":"afwn90cj93201nixr2e1re","Number":"2917","RawContent":null,"Title":"registerModule and beforeRouteEnter fetching data need an example","State":"closed","Body":"As we know, **next inside beforeRouteEnter gonna call after mounted**, but if we wanna use mapActions or mapState and other stuff like that, we should initialize module before.\r\n\r\nSo, i can't find any workaround for this, that's why im writing here.\r\nSo, i have beforeRouterEnter guard, where im fetching some data.\r\n\r\n```javascript\r\nimport { mapActions, mapState } from 'vuex';\r\ncomputed: {\r\n            ...mapState('test', ['abcd','abcd123'])\r\n},\r\nasync beforeRouteEnter (to, from, next) {\r\n            console.log(\"before router enter\");\r\n            try{\r\n                let resp = await FetchingSomeData();\r\n                console.log(resp);\r\n                \r\n                next(vm => {\r\n                    console.log(\"next(vm => { called\");\r\n                    vm.$store.registerModule('test', {state:resp.object,...},{devtools_getStateDirectly:true});\r\n                });\r\n            }\r\n            catch(e){\r\n                next(vm => {vm.isEmpty = true;console.log(\"next(vm => {vm.isEmpty = true;\");});\r\n            }\r\n        },\r\n```\r\n```javascript\r\n        beforeDestroy() {\r\n            if(this.$store.state.test)this.$store.unregisterModule('test');\r\n        }\r\n```\r\nAs you can see i wanna register module only if there any response, but it should be registered before component created, but we can't set some variable to true, for making it inside created/beforeCreated(we can use only some global var, but it's crappy way).\r\n\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2917","RelatedDescription":"Closed issue \"registerModule and beforeRouteEnter fetching data need an example\" (#2917)"},{"Id":"488357147","IsPullRequest":false,"CreatedAt":"2019-09-03T06:49:48","Actor":"hezhongfeng","Number":"2918","RawContent":null,"Title":"Allow add query in beforeEach or some new API?","State":"closed","Body":"### What problem does this feature solve?\r\ncode like this\r\n```\r\nfunction getKey(src) {\r\n    return src.replace(/[xy]/g, function (c) {\r\n        let r = (Math.random() * 16) | 0;\r\n        let v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n        return v.toString(16);\r\n    });\r\n}\r\nrouter.beforeEach((to, from, next) => {\r\n    if (!to.query['test']) {\r\n        to.query['test'] = getKey('xxxxxxxx');\r\n        next({\r\n            path: to.path,\r\n            query: to.query\r\n        });\r\n    } else {\r\n       // here will console `Uncaught (in promise) undefined`\r\n        next();\r\n    }\r\n});\r\n```\r\nI want to add some query in beforeEach, but the query is read only in beforeEach ,So I must push the same path twice，`vue-router(3.1.x)` will appear Uncaught (in promise)  in console.\r\n\r\n### What does the proposed API look like?\r\nSome interceptors could operate query before beforeEach?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2918","RelatedDescription":"Closed issue \"Allow add query in beforeEach or some new API?\" (#2918)"},{"Id":"488103841","IsPullRequest":false,"CreatedAt":"2019-09-02T09:53:51","Actor":"JFGHT","Number":"2916","RawContent":null,"Title":"Error at redirecting throught beforeEach","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://github.com/JFGHT/vue-router-error-repro](https://github.com/JFGHT/vue-router-error-repro)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.- Push to any route (`this.$router.push('/test');`).\r\n2.- Redirect to same router but with extra param.\r\n```js\r\nif (to.fullPath === '/test') {\r\n  next('/en/test');\r\n}\r\n```\r\n\r\nroute:\r\n```js\r\n{\r\n  path: '/:lang?/test',\r\n  name: 'test',\r\n  component: () => import(/* webpackChunkName: \"test\" */ './views/Test.vue'),\r\n},\r\n```\r\n\r\n### What is expected?\r\nCorrect redirect.\r\n\r\n### What is actually happening?\r\nIt's redirecting but it's displaying an error:\r\n`vue-router.esm.js?8c4f:2051 Uncaught (in promise) undefined`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2916","RelatedDescription":"Closed issue \"Error at redirecting throught beforeEach\" (#2916)"},{"Id":"488027396","IsPullRequest":false,"CreatedAt":"2019-09-02T07:39:45","Actor":"farazshuja","Number":"2915","RawContent":null,"Title":"Switching to a nested route is automatically running the last commit event from parent’s store","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-c2gtb](https://codesandbox.io/s/vue-template-c2gtb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-c2gtb\r\n2. Click on ‘Go to Page with nested router’ link\r\n3. Click on ‘commit event’, it will show an alert box\r\n4. Now change the nested route by clicking ‘change nested route to reporting’\r\n\r\n### What is expected?\r\nRoute changed to reporting without showing the ‘hello’ alert box.\r\n\r\n### What is actually happening?\r\nIts showing the ‘hello’ alert box again.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2915","RelatedDescription":"Closed issue \"Switching to a nested route is automatically running the last commit event from parent’s store\" (#2915)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"499225737","IsPullRequest":false,"CreatedAt":"2019-09-27T04:19:31","Actor":"mjmnagy","Number":"1621","RawContent":null,"Title":"Component not updating after mutation","State":"closed","Body":"I have the following component and i cannot figure out why the computed property of `details` is not updating when the `fetch()` method is being called\r\n\r\n\t\t<template>\r\n\t\t  <div>\r\n\t\t\t{{ haveData }} //remains undefined\r\n\t\t  </div>\r\n\t\t</template>\r\n\r\n\t\t<script>\r\n\t\texport default {\r\n\t\t  props: {\r\n\t\t\tgroup: {\r\n\t\t\t  type: Object,\r\n\t\t\t  required: true\r\n\t\t\t},\r\n\t\t  },\r\n\t\t  computed: {\r\n\t\t\tcurrentGroup() {\r\n\t\t\t  return this.$store.getters['user/navbar_menu_app_current_group'](\r\n\t\t\t\tthis.group.id\r\n\t\t\t  )\r\n\t\t\t  \r\n\t\t\t  /*-- which is the following function \r\n\t\t\t\t navbar_menu_app_current_group: state => item => {\r\n\t\t\t\t\treturn state.menu.find(m => {\r\n\t\t\t\t\t  return m.id == item\r\n\t\t\t\t\t})\r\n\t\t\t\t  }\r\n\t\t\t  */\r\n\t\t\t  \r\n\t\t\t  /*-- this function returns an object like so \r\n\t\t\t\t  {\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tlabel: 'kity cats',\r\n\t\t\t\t  }\r\n\t\t\t\t  ***details --> IS NOT DEFINED. if i add it to the current group as null my problem goes away however this is a previous api call which does not set the \"details\" parameter\r\n\t\t\t  */\r\n\t\t\t},\r\n\t\t\tdetails() {\r\n\t\t\t  let c = this.currentGroup.details\r\n\t\t\t  console.log(c) // returns undefined which makes sense but it should be updated after this.fetch() is called\r\n\t\t\t  return c\r\n\t\t\t},\r\n\t\t\thaveData() {\r\n\t\t\t  return this.details != null\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  methods: {\r\n\t\t\tasync fetch() {\r\n\t\t\t  await this.$store.dispatch(\r\n\t\t\t\t'user/navbar_menu_app_details_get',\r\n\t\t\t\tthis.group.id\r\n\t\t\t  )\r\n\t\t\t  //this is setting the \"details\" part of the state on menu which is referred to in the computed properties above\r\n\t\t\t  //Previous to this there is no state \"this.group.details\"\r\n              //If i add a console log to the mutation the action calls i get what is expected\r\n\t\t\t}\r\n\t\t  },\r\n\t\t  created() {\r\n\t\t\tif (!this.haveData) {\r\n\t\t\t  this.fetch()\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t\t</script>\r\n\r\n\r\nit seems if i change the array listing to include detail it works\r\n\r\n`original`\r\n\r\n        [\r\n\t\t  {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tlabel: 'kity cats',\r\n\t\t  }\r\n         ....\r\n        ]\r\n\r\nto\r\n\r\n\t\t  {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tlabel: 'kity cats',\r\n                details: null\r\n\t\t  }\r\n\r\nI do not get this problem\r\n\r\nThe unfortunate part is that the array is created from a large api call and adding the details seems like unnecessary as it may never be needed\r\n\r\nHow can i get the computed properties to work without adding the `details:null` to the `default` state?\r\n\r\nthanks ","Url":"https://github.com/vuejs/vuex/issues/1621","RelatedDescription":"Closed issue \"Component not updating after mutation\" (#1621)"},{"Id":"499097651","IsPullRequest":false,"CreatedAt":"2019-09-26T20:23:28","Actor":"Brimstedt","Number":"1620","RawContent":null,"Title":"subscribeAction no longer fails when error is thrown","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/4y81kgfs/7/](https://jsfiddle.net/4y81kgfs/7/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSince version 3.1.0 there is a 'fix' which I consider a regression.  \"Errors thrown inside action subscribers no longer cause the entire action to fail.\"\r\n\r\n1) Create an action subscriber\r\n\r\n2) throw an error in the subscriber\r\n\r\n3) --> action is performed regardless of exception\r\n\r\n\r\n### What is expected?\r\nWhen an error is thrown in an action subscriber, I expect the action to be interrupted and the exception to bubble up to the caller.\r\n\r\n### What is actually happening?\r\nThe exception is quietly swallowed.\r\nAlso seems i cannot catch the exception.\r\n\r\n\r\n---\r\nIm not sure you can revert to the old behaviour since other users might be dependent on this silent swallowing (though I fail to see why anyone would like such behaviour :-) ... fail early and never ignore exceptions.)\r\nIf it cant be reverted, it would be nice to be able to interrupt the action flow by some other mechanism.\r\n\r\nI use this as part of validation/permission framework to prevent user in UI to perform actions shes not allowed to do. Of course this is checked in backend also, but user feedback can be given quicker and easier this way and it does not require implementation in every action - only in the subscriber.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1620","RelatedDescription":"Open issue \"subscribeAction no longer fails when error is thrown\" (#1620)"},{"Id":"498616677","IsPullRequest":false,"CreatedAt":"2019-09-26T02:26:15","Actor":"cvhainb","Number":"1619","RawContent":null,"Title":"How to set a nested object","State":"closed","Body":"Hello,\r\n\r\nI want to set an object like this\r\n\r\n```\r\nconst obj = {\r\n    'name': {'en': 'title en', 'de': 'title de'},\r\n};\r\n```\r\nI have posted a full here: [https://forum.vuejs.org/t/how-to-set-vuex-state-with-multi-languages/75041](https://forum.vuejs.org/t/how-to-set-vuex-state-with-multi-languages/75041)\r\n\r\nSorry for bad english.","Url":"https://github.com/vuejs/vuex/issues/1619","RelatedDescription":"Closed issue \"How to set a nested object\" (#1619)"},{"Id":"496208047","IsPullRequest":false,"CreatedAt":"2019-09-20T08:03:15","Actor":"yywc","Number":"1618","RawContent":null,"Title":"The third parameter of dispatch is undefined.","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-4fv3d](https://codesandbox.io/s/vue-template-4fv3d)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. go to link;\r\n2. open Console of page in the bottom;\r\n3. see the undefined;\r\n\r\n### What is expected?\r\nIn theory,it should show the code of cb.\r\n\r\n### What is actually happening?\r\nIn fact,it's undefined.\r\n\r\n---\r\nAccording to `Vuex` code, `wrappedActionHandler` function provide two params.One is `payload`,the other is `cb`.\r\n\r\n```js\r\n  // notice the cb\r\n  entry.push(function wrappedActionHandler (payload, cb) {\r\n    let res = handler.call(store, {\r\n      dispatch: local.dispatch,\r\n      commit: local.commit,\r\n      getters: local.getters,\r\n      state: local.state,\r\n      rootGetters: store.getters,\r\n      rootState: store.state\r\n    }, payload, cb) // pass it and do nothing\r\n    if (!isPromise(res)) {\r\n      res = Promise.resolve(res)\r\n    }\r\n    if (store._devtoolHook) {\r\n      return res.catch(err => {\r\n        store._devtoolHook.emit('vuex:error', err)\r\n        throw err\r\n      })\r\n    } else {\r\n      return res\r\n    }\r\n  })\r\n\r\n  // dispatch function only use payload\r\n  dispatch (_type, _payload) {\r\n    // check object-style dispatch\r\n    const {\r\n      type,\r\n      payload\r\n    } = unifyObjectStyle(_type, _payload)\r\n\r\n    const action = { type, payload }\r\n    const entry = this._actions[type]\r\n    // ...\r\n    const result = entry.length > 1\r\n      ? Promise.all(entry.map(handler => handler(payload))) // only payload parameter\r\n      : entry[0](payload)\r\n  }\r\n```\r\nSo I think `cb` parameter is useless and it should be delete from code in order to \r\neliminate misunderstanding.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1618","RelatedDescription":"Open issue \"The third parameter of dispatch is undefined.\" (#1618)"},{"Id":"490394247","IsPullRequest":true,"CreatedAt":"2019-09-19T06:00:40","Actor":"sandofvega","Number":"1613","RawContent":null,"Title":"[docs] Flux link update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1613","RelatedDescription":"Closed or merged PR \"[docs] Flux link update\" (#1613)"},{"Id":"494684457","IsPullRequest":true,"CreatedAt":"2019-09-17T15:09:54","Actor":"rivajunior","Number":"1617","RawContent":null,"Title":"Update mutations.md Object Rest/Spread reference","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1617","RelatedDescription":"Open PR \"Update mutations.md Object Rest/Spread reference\" (#1617)"},{"Id":"493255066","IsPullRequest":false,"CreatedAt":"2019-09-13T15:47:35","Actor":"berniegp","Number":"1616","RawContent":null,"Title":"$router.push() with redirect in route's beforeEnter hook causes uncaught promise rejection","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/asu3qnry/](https://jsfiddle.net/asu3qnry/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nTo trigger the uncaught promise rejection, click on \"/home\" and then the button.\r\n\r\n### What is expected?\r\nNo error in console\r\n\r\n### What is actually happening?\r\nConsole reports `Uncaught (in promise) undefined`\r\n\r\n---\r\nUsing a `router-link` instead of the initial `$router.push()` call removes the error.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1616","RelatedDescription":"Closed issue \"$router.push() with redirect in route's beforeEnter hook causes uncaught promise rejection\" (#1616)"},{"Id":"490751423","IsPullRequest":false,"CreatedAt":"2019-09-08T12:58:58","Actor":"Abhith","Number":"1615","RawContent":null,"Title":"Docs Website : Add a favicon","State":"open","Body":"### What problem does this feature solve?\r\nIn case if the user opened so many browser tabs including other websites without a favicon, it's difficult to identify the docs tab from them.\r\n\r\n### What does the proposed API look like?\r\nAdd a favicon.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1615","RelatedDescription":"Open issue \"Docs Website : Add a favicon\" (#1615)"},{"Id":"490547764","IsPullRequest":true,"CreatedAt":"2019-09-06T22:33:29","Actor":"Jinjiang","Number":"1614","RawContent":null,"Title":"docs(zh): updated","State":"open","Body":"https://github.com/vuejs/vuex/compare/91f3e69...a5dd20c /ping @justineo\r\n","Url":"https://github.com/vuejs/vuex/pull/1614","RelatedDescription":"Open PR \"docs(zh): updated\" (#1614)"},{"Id":"488913330","IsPullRequest":true,"CreatedAt":"2019-09-04T04:16:04","Actor":"jungor","Number":"1612","RawContent":null,"Title":"docs(zh): fix typo","State":"closed","Body":"fix typo in zh docs of `modules`","Url":"https://github.com/vuejs/vuex/pull/1612","RelatedDescription":"Closed or merged PR \"docs(zh): fix typo\" (#1612)"},{"Id":"486669084","IsPullRequest":true,"CreatedAt":"2019-08-29T00:13:59","Actor":"theneverstill","Number":"1611","RawContent":null,"Title":"docs: Patch preserveState option usage","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1611","RelatedDescription":"Open PR \"docs: Patch preserveState option usage\" (#1611)"},{"Id":"484453250","IsPullRequest":false,"CreatedAt":"2019-08-23T10:19:58","Actor":"zjhILYxxq","Number":"1610","RawContent":null,"Title":"vuex3.1.1版本 unregisterModule方法存在问题","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n### 卸载一个不存在的动态module\r\n源码:\r\n```\r\nunregister (path) {\r\n    const parent = this.get(path.slice(0, -1))\r\n    const key = path[path.length - 1]\r\n    if (!parent.getChild(key).runtime) return\r\n\r\n    parent.removeChild(key)\r\n  }\r\n```\r\n\r\n  如果要 **卸载** 的 **module** 在 **父module** 中不存在， **parent.getChild(key)** 返回 **undefined** ，会抛出异常: **Cannot read property 'runtime' of undefined**。","Url":"https://github.com/vuejs/vuex/issues/1610","RelatedDescription":"Closed issue \"vuex3.1.1版本 unregisterModule方法存在问题\" (#1610)"},{"Id":"480860186","IsPullRequest":true,"CreatedAt":"2019-08-21T12:42:04","Actor":"Alex-Sokolov","Number":"1607","RawContent":null,"Title":"docs: [RU] Example syntax fixes","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1607","RelatedDescription":"Closed or merged PR \"docs: [RU] Example syntax fixes\" (#1607)"},{"Id":"482305835","IsPullRequest":true,"CreatedAt":"2019-08-19T22:51:17","Actor":"faithyang","Number":"1609","RawContent":null,"Title":"replace Array indexof with includes","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1609","RelatedDescription":"Closed or merged PR \"replace Array indexof with includes\" (#1609)"},{"Id":"480976058","IsPullRequest":true,"CreatedAt":"2019-08-15T03:17:48","Actor":"linlinyang","Number":"1608","RawContent":null,"Title":"webpack preset useBuiltIns usage toast promise error","State":"open","Body":"when we use webpack,\r\nand set babel presets property useBuiltIns is 'usage'\r\nthen the polyfill will be loaded when Promise used\r\nso this way has a bug when we webpack,if we use vuex without used Promise,always show the error: vuex requires a Promise polyfill in this browser.\r\n\r\nso I have change the validate Promise way to:\r\n```\r\n      try {\r\n        new Promise(() => {})\r\n      } catch (error) {\r\n        assert(false, `vuex requires a Promise polyfill in this browser.`)\r\n      }\r\n```","Url":"https://github.com/vuejs/vuex/pull/1608","RelatedDescription":"Open PR \"webpack preset useBuiltIns usage toast promise error\" (#1608)"},{"Id":"480736391","IsPullRequest":true,"CreatedAt":"2019-08-14T15:11:52","Actor":"owanhunte","Number":"1606","RawContent":null,"Title":"Minor typo fix for Actions docs page.","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1606","RelatedDescription":"Open PR \"Minor typo fix for Actions docs page.\" (#1606)"},{"Id":"480571064","IsPullRequest":true,"CreatedAt":"2019-08-14T09:19:15","Actor":"SergioCrisostomo","Number":"1605","RawContent":null,"Title":"Add warning when setting state of a non-existent state property name ","State":"open","Body":"This PR add the possibility to be warned in development for the problem described in 1120.\r\nIt adds a unit test for that scenario.\r\n\r\nWhile testing this I found out another unit test that needed adjustment and did that in a separate commit. \r\n\r\nFixes #1120","Url":"https://github.com/vuejs/vuex/pull/1605","RelatedDescription":"Open PR \"Add warning when setting state of a non-existent state property name \" (#1605)"},{"Id":"480455403","IsPullRequest":false,"CreatedAt":"2019-08-14T02:48:46","Actor":"Asyncinfo","Number":"1604","RawContent":null,"Title":"previous data","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1604","RelatedDescription":"Closed issue \"previous data\" (#1604)"},{"Id":"480453939","IsPullRequest":true,"CreatedAt":"2019-08-14T02:41:43","Actor":"anhmv","Number":"1603","RawContent":null,"Title":"refactor zero padding function","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1603","RelatedDescription":"Open PR \"refactor zero padding function\" (#1603)"},{"Id":"480177433","IsPullRequest":true,"CreatedAt":"2019-08-14T01:07:01","Actor":"Alex-Sokolov","Number":"1602","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1602","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#1602)"},{"Id":"479674384","IsPullRequest":true,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"1601","RawContent":null,"Title":"fix(docs): Clearify state object type","State":"closed","Body":"Clearify in the docs that Vuex state object should be a plain object that follows the same rules as `data` in a Vue instance. This addition will clarify what is \"good practise\" to use in Vuex.\r\n\r\ncloses #1587 \r\ncloses https://github.com/vuejs/vue/pull/10379","Url":"https://github.com/vuejs/vuex/pull/1601","RelatedDescription":"Closed or merged PR \"fix(docs): Clearify state object type\" (#1601)"},{"Id":"478201435","IsPullRequest":true,"CreatedAt":"2019-08-08T01:00:07","Actor":"stephentian","Number":"1600","RawContent":null,"Title":"Fix: \" id='app' \"","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1600","RelatedDescription":"Open PR \"Fix: \" id='app' \"\" (#1600)"},{"Id":"478068219","IsPullRequest":true,"CreatedAt":"2019-08-07T18:08:25","Actor":"SagePacheco","Number":"1599","RawContent":null,"Title":"Update modules.md","State":"open","Body":"Minor language correction.","Url":"https://github.com/vuejs/vuex/pull/1599","RelatedDescription":"Open PR \"Update modules.md\" (#1599)"},{"Id":"477476046","IsPullRequest":false,"CreatedAt":"2019-08-06T16:24:54","Actor":"aosnow","Number":"1598","RawContent":null,"Title":"ModuleCollection.getNamespace 只能取第一级 key","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vuex](https://new-issue.vuejs.org/?repo=vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n// 循环下去的主体是 module 没问题\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// 循环下去主体是 String，因此 module = module.getChild(key);\r\n// module 永远指向 this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace   (module.namespaced ? key   '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n`store._modules.getNamespace(['user','member'])` 将只能得到 `user/`\r\n\r\n### What is expected?\r\n`store._modules.getNamespace(['user','member'])` 应该得到 `user/member/` 的结果\r\n\r\n### What is actually happening?\r\ngetNamespace(path) 返回的结果永远只有 root.getChild(key) 的匹配结果\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1598","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace 只能取第一级 key\" (#1598)"},{"Id":"477473589","IsPullRequest":false,"CreatedAt":"2019-08-06T16:16:48","Actor":"aosnow","Number":"1597","RawContent":null,"Title":"ModuleCollection.getNamespace 只能取第一级 key","State":"closed","Body":"```\r\n// 循环下去的主体是 module 没问题\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// 循环下去主体是 String，因此 module = module.getChild(key);\r\n// module 永远指向 this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace + (module.namespaced ? key + '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n\r\ngetNamespace(path) 返回的结果永远只有 root.getChild(key) 的匹配结果\r\n ","Url":"https://github.com/vuejs/vuex/issues/1597","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace 只能取第一级 key\" (#1597)"},{"Id":"477384943","IsPullRequest":false,"CreatedAt":"2019-08-06T13:34:41","Actor":"cherenkor","Number":"1596","RawContent":null,"Title":"Improve modules data map import","State":"open","Body":"### What problem does this feature solve?\r\nRepeating code, Safe import, More convenient way to import data\r\n\r\n### What does the proposed API look like?\r\nHi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: ```state.headers.username```\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n```\r\n...mapState({ username: 'collection-data/headers.username' })\r\n```\r\n\r\nWhat do you think about it?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1596","RelatedDescription":"Open issue \"Improve modules data map import\" (#1596)"},{"Id":"477382886","IsPullRequest":false,"CreatedAt":"2019-08-06T13:30:54","Actor":"cherenkor","Number":"1595","RawContent":null,"Title":"Improve modules data import","State":"closed","Body":"Hi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: `state.headers.username`\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n`\r\n...mapState({\r\n      rawEndingDate: 'collection-data/headers.username'\r\n    })\r\n`\r\n\r\nWhat do you think about it?","Url":"https://github.com/vuejs/vuex/issues/1595","RelatedDescription":"Closed issue \"Improve modules data import\" (#1595)"},{"Id":"477167338","IsPullRequest":true,"CreatedAt":"2019-08-06T04:47:23","Actor":"sue71","Number":"1594","RawContent":null,"Title":"fix: remove invalid typings","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1594","RelatedDescription":"Closed or merged PR \"fix: remove invalid typings\" (#1594)"},{"Id":"477163822","IsPullRequest":false,"CreatedAt":"2019-08-06T04:31:33","Actor":"farazshuja","Number":"1593","RawContent":null,"Title":"Switching to a nested route is automatically running the last commit event from parent's store","State":"open","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-c2gtb](https://codesandbox.io/s/vue-template-c2gtb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-c2gtb\r\n2. Click on 'Go to Page with nested router' link\r\n3. Click on 'commit event', it will show an alert box\r\n4. Now change the nested route by clicking 'change nested route to reporting'\r\n\r\n### What is expected?\r\nRoute changed to reporting without showing the 'hello' alert box.\r\n\r\n### What is actually happening?\r\nIts showing the 'hello' alert box again.\r\n\r\n---\r\nOne of the releated issues\r\nhttps://github.com/vuejs/vuex/issues/1570\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1593","RelatedDescription":"Open issue \"Switching to a nested route is automatically running the last commit event from parent's store\" (#1593)"},{"Id":"476523653","IsPullRequest":false,"CreatedAt":"2019-08-04T07:21:04","Actor":"Rolanddoda","Number":"1592","RawContent":null,"Title":"mapState doesn't work with non namespaced module","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x](https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the reproduction link, there is a non namespaced module with has a count in it's state and a doubleCount in it's getters.\r\n\r\n**In the HelloWorld component I am trying to use vuex helpers to access the state and the getters like:**\r\n\r\n```js\r\n...mapState(['count']),\r\n...mapGetters(['doubleCount]')\r\n```\r\n\r\n### What is expected?\r\nSince the module it's not namespaced I should be able to access the state and getters of the module with vuex helpers.\r\n\r\nBoth `mapState` and `mapGetters` should work fine.\r\n\r\n### What is actually happening?\r\nHowever, only the mapGetters helper it's working.\r\n\r\n---\r\nIn order to get the `mapState` to work I should do:\r\n\r\n```js\r\n    ...mapState({\r\n      count: state => state.myModule.count\r\n    })\r\n```\r\n\r\nHowever IMHO, the mapState should work with just a string since the module in the end it's merged with the global store.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1592","RelatedDescription":"Open issue \"mapState doesn't work with non namespaced module\" (#1592)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-09-27T05:30:52.0081529Z","RunDurationInMilliseconds":1760}