{"Data":{"GitHub":{"Issues":[{"Id":"565060710","IsPullRequest":true,"CreatedAt":"2020-02-14T02:14:44","Actor":"antoniovs1029","Number":"4841","RawContent":null,"Title":"[Draft] Adding KeyToValueTransformers before finishing exporting to ONNX","State":"open","Body":"In this PR I try to add a KeyToValueTransformer at the end of the `transforms` list that is used by `SaveOnnxCommand`, so that the resulting ONNX model can map values back from the keys, even when the NimbusML pipeline doesn't include the transformers to map them back.\r\n\r\nThis is a Draft PR so there are several things that will need to be added.","Url":"https://github.com/dotnet/machinelearning/pull/4841","RelatedDescription":"Open PR \"[Draft] Adding KeyToValueTransformers before finishing exporting to ONNX\" (#4841)"},{"Id":"565046323","IsPullRequest":false,"CreatedAt":"2020-02-14T01:21:26","Actor":"frank-dong-ms","Number":"4840","RawContent":null,"Title":"generate test failure rate report using runfo tool","State":"open","Body":"https://github.com/jaredpar/random/blob/master/dotnet/Azure/runfo/README.md","Url":"https://github.com/dotnet/machinelearning/issues/4840","RelatedDescription":"Open issue \"generate test failure rate report using runfo tool\" (#4840)"},{"Id":"565046013","IsPullRequest":false,"CreatedAt":"2020-02-14T01:20:22","Actor":"frank-dong-ms","Number":"4839","RawContent":null,"Title":"update build to include a binlog instead of the plain text err/wrn/out files","State":"open","Body":"http://msbuildlog.com/ \r\n","Url":"https://github.com/dotnet/machinelearning/issues/4839","RelatedDescription":"Open issue \"update build to include a binlog instead of the plain text err/wrn/out files\" (#4839)"},{"Id":"565035782","IsPullRequest":true,"CreatedAt":"2020-02-14T00:46:39","Actor":"sharwell","Number":"4838","RawContent":null,"Title":"Optimize generic MethodInfo for Func<T1, T2, TResult>","State":"open","Body":"ðŸš§ Builds on #4836","Url":"https://github.com/dotnet/machinelearning/pull/4838","RelatedDescription":"Open PR \"Optimize generic MethodInfo for Func<T1, T2, TResult>\" (#4838)"},{"Id":"565028450","IsPullRequest":true,"CreatedAt":"2020-02-14T00:23:00","Actor":"mstfbl","Number":"4837","RawContent":null,"Title":"[WIP, Test Stability] Running on private agent pool","State":"open","Body":"Testing private agent pool MachineLearning Test https://dev.azure.com/dnceng/_settings/agentpools?poolId=80&view=jobs","Url":"https://github.com/dotnet/machinelearning/pull/4837","RelatedDescription":"Open PR \"[WIP, Test Stability] Running on private agent pool\" (#4837)"},{"Id":"565023088","IsPullRequest":true,"CreatedAt":"2020-02-14T00:05:57","Actor":"sharwell","Number":"4836","RawContent":null,"Title":"Optimize generic MethodInfo for Func<T, TResult>","State":"open","Body":"ðŸš§ Builds on #4588","Url":"https://github.com/dotnet/machinelearning/pull/4836","RelatedDescription":"Open PR \"Optimize generic MethodInfo for Func<T, TResult>\" (#4836)"},{"Id":"564927599","IsPullRequest":true,"CreatedAt":"2020-02-13T23:08:04","Actor":"sharwell","Number":"4835","RawContent":null,"Title":"Enable MSML_PrivateFieldName for the full solution","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/4835","RelatedDescription":"Closed or merged PR \"Enable MSML_PrivateFieldName for the full solution\" (#4835)"},{"Id":"564334426","IsPullRequest":true,"CreatedAt":"2020-02-13T21:52:55","Actor":"frank-dong-ms","Number":"4829","RawContent":null,"Title":"fix issue in WaiterWaiter caused by race condition","State":"closed","Body":"1. Fix issue in WaiterWaiter caused by race condition.\r\n2. Re-enable affected tests as below:\r\nEntryPointEvaluateRegression\r\nEntryPointSdcaBinary\r\nEntryPointSDCARegression\r\nEntryPointChainedCrossValMacros\r\nTestCrossValidationMacroWithStratification\r\nTestOvaMacro\r\nTrainAndPredictOnIris\r\nCrossValidationIris\r\nLinearClassifierTest\r\nSavePipeTrainAndScoreFccTransformStr\r\nBinaryClassifierLogisticRegressionNonNegativeTest\r\nInpsectLinearModelParameters\r\nTrainRegressionModel\r\nCustomTransformer\r\nTrainAndPredictIrisModelTest\r\nLightGbmBinaryClassificationOnnxConversionTest","Url":"https://github.com/dotnet/machinelearning/pull/4829","RelatedDescription":"Closed or merged PR \"fix issue in WaiterWaiter caused by race condition\" (#4829)"},{"Id":"564786910","IsPullRequest":true,"CreatedAt":"2020-02-13T20:18:45","Actor":"sharwell","Number":"4833","RawContent":null,"Title":"Enable MSML_ParameterLocalVarName for the full solution","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/4833","RelatedDescription":"Closed or merged PR \"Enable MSML_ParameterLocalVarName for the full solution\" (#4833)"},{"Id":"564369782","IsPullRequest":true,"CreatedAt":"2020-02-13T19:43:30","Actor":"mstfbl","Number":"4831","RawContent":null,"Title":"Added exception for non-existent directory in ImageLoader","State":"closed","Body":"Path.GetFullPath(\"C://non-Existant) was not throwing an exception. Hence there is a need to explicitly check for the existence of the imageFolder directory. Related to #4429 .  ","Url":"https://github.com/dotnet/machinelearning/pull/4831","RelatedDescription":"Closed or merged PR \"Added exception for non-existent directory in ImageLoader\" (#4831)"},{"Id":"564882152","IsPullRequest":true,"CreatedAt":"2020-02-13T18:49:37","Actor":"Lynx1820","Number":"4834","RawContent":null,"Title":"WIP: Fixing TextNormalizing test issue with Linux machines","State":"open","Body":"\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4834","RelatedDescription":"Open PR \"WIP: Fixing TextNormalizing test issue with Linux machines\" (#4834)"},{"Id":"564645526","IsPullRequest":false,"CreatedAt":"2020-02-13T12:18:37","Actor":"nighotatul","Number":"4832","RawContent":null,"Title":"how we get roc points to draw roc graph?","State":"open","Body":"@yaeldekel,@eerhardt,@najeeb-kazmi,@justinormont,@CESARDELATORRE\r\nhow we get roc points to draw roc graph?","Url":"https://github.com/dotnet/machinelearning/issues/4832","RelatedDescription":"Open issue \"how we get roc points to draw roc graph?\" (#4832)"},{"Id":"563490675","IsPullRequest":true,"CreatedAt":"2020-02-13T01:04:19","Actor":"mstfbl","Number":"4826","RawContent":null,"Title":"[Test Stability] PR to Test LinearClassifierTest","State":"closed","Body":"Testing LinearClassifierTest","Url":"https://github.com/dotnet/machinelearning/pull/4826","RelatedDescription":"Closed or merged PR \"[Test Stability] PR to Test LinearClassifierTest\" (#4826)"},{"Id":"564337674","IsPullRequest":true,"CreatedAt":"2020-02-13T00:05:19","Actor":"sharwell","Number":"4830","RawContent":null,"Title":"Update vs-threading analyzers to 16.5.132","State":"closed","Body":"","Url":"https://github.com/dotnet/machinelearning/pull/4830","RelatedDescription":"Closed or merged PR \"Update vs-threading analyzers to 16.5.132\" (#4830)"},{"Id":"562931909","IsPullRequest":true,"CreatedAt":"2020-02-12T21:47:10","Actor":"antoniovs1029","Number":"4824","RawContent":null,"Title":"Enable OnnxTransformer to accept KeyDataViewTypes as if they were UInt32","State":"closed","Body":"Addresses https://github.com/microsoft/NimbusML/issues/426\r\n\r\nAs discussed offline with @harishsk , @ganik and @pieths , the update in here is the best temporary solution to the problem.\r\n\r\nSimply enables OnnxTransformer to accept a `KeyDataViewType` column as input of a model that actually expects an `UInt32` input column. This, because of the way that NimbusML works with Category columns in Pandas' DataFrames, by converting them into `KeyDataViewType` columns in ML.NET, without actually adding KeyToValueTransformers into the pipeline.","Url":"https://github.com/dotnet/machinelearning/pull/4824","RelatedDescription":"Closed or merged PR \"Enable OnnxTransformer to accept KeyDataViewTypes as if they were UInt32\" (#4824)"},{"Id":"563951305","IsPullRequest":true,"CreatedAt":"2020-02-12T11:58:04","Actor":"yaeldekel","Number":"4828","RawContent":null,"Title":"Add support for combining hashes in vector columns to HashingTransformer","State":"open","Body":"I am making this change so that `CountTargetEncodingEstimator` (see PR #4514 ) can start using `HashingEstimator` instead of `HashJoiningTransform` (see this [comment](https://github.com/dotnet/machinelearning/pull/4514#issuecomment-584502932) in the above PR).\r\n\r\nIn addition to enabling `CountTargetEncodingEstimator` to use it, this will fix a bug when splitting datasets in the [CV command](https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Data/Commands/CrossValidationCommand.cs#L335) and in the [train-test/CV APIs](https://github.com/dotnet/machinelearning/blob/master/src/Microsoft.ML.Data/DataLoadSave/DataOperationsCatalog.cs#L522). If a stratification column that is a vector type is specified, currently an exception will be thrown because the `RangeFilter` applied after hashing cannot handle vector columns.","Url":"https://github.com/dotnet/machinelearning/pull/4828","RelatedDescription":"Open PR \"Add support for combining hashes in vector columns to HashingTransformer\" (#4828)"},{"Id":"563604008","IsPullRequest":true,"CreatedAt":"2020-02-12T05:35:14","Actor":"pieths","Number":"4827","RawContent":null,"Title":"Fix off by 1 error with the cats_int64s attribute for the OneHotEncoder ONNX operator","State":"closed","Body":"\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4827","RelatedDescription":"Closed or merged PR \"Fix off by 1 error with the cats_int64s attribute for the OneHotEncoder ONNX operator\" (#4827)"},{"Id":"562631891","IsPullRequest":false,"CreatedAt":"2020-02-11T21:24:15","Actor":"zeroskyx","Number":"4821","RawContent":null,"Title":"AutoML throws several OperationCanceledExceptions","State":"closed","Body":"Greetings,\r\n\r\nwhen using any AutoML API project such as [Sentiment Analysis for User Reviews](https://github.com/dotnet/machinelearning-samples/tree/master/samples/csharp/getting-started/BinaryClassification_AutoML), several exceptions are thrown in the background.\r\n\r\nThis is probably due to some internal cancellation and has no additional negative impacts but is pretty ugly in the debugger.\r\n\r\nWould it be feasible to wrap this cancellation in a `Task.ContinueWith()` in order to keep the debugger clean?\r\n\r\nKeep up the great work!","Url":"https://github.com/dotnet/machinelearning/issues/4821","RelatedDescription":"Closed issue \"AutoML throws several OperationCanceledExceptions\" (#4821)"},{"Id":"561993180","IsPullRequest":true,"CreatedAt":"2020-02-11T18:57:42","Actor":"harishsk","Number":"4818","RawContent":null,"Title":"Changed Binarizer node to be cast to the type of the predicted label â€¦","State":"closed","Body":"â€¦column's data type\r\n\r\nIn BinaryClassifierScorer's SaveAsOnnxCore function we were always casting the output of the Binarizer to a bool. But in some cases BinaryClassifierScorer can output a key value (uint) and in this case we should cast the output to a uint. This fix changes the cast to be dependent on the output type of the predicted label. ","Url":"https://github.com/dotnet/machinelearning/pull/4818","RelatedDescription":"Closed or merged PR \"Changed Binarizer node to be cast to the type of the predicted label â€¦\" (#4818)"},{"Id":"563016169","IsPullRequest":false,"CreatedAt":"2020-02-11T07:13:43","Actor":"MeTTaxa","Number":"4825","RawContent":null,"Title":"Expose Ensembling in ML.NET ","State":"open","Body":"The ensembles in Microsoft.ML.Ensemble/OutputCombiners would be very useful for our use cases for regressions. Can you help exposing them into ML.NET ?\r\n\r\nMost useful would be stacking and weighted average, and of course average and median.","Url":"https://github.com/dotnet/machinelearning/issues/4825","RelatedDescription":"Open issue \"Expose Ensembling in ML.NET \" (#4825)"},{"Id":"562874656","IsPullRequest":true,"CreatedAt":"2020-02-10T22:46:22","Actor":"harishsk","Number":"4823","RawContent":null,"Title":"Added Done() call in BaseTestBaseline.Cleanup and added related fixes","State":"open","Body":"This PR is similar to #4817 but standardizes the default value for Slope in PlattCalibrator to -1 instead of 1 since -1 seems to be used everywhere in the code. (If this PR is approved, I will be closing the other PR)","Url":"https://github.com/dotnet/machinelearning/pull/4823","RelatedDescription":"Open PR \"Added Done() call in BaseTestBaseline.Cleanup and added related fixes\" (#4823)"},{"Id":"561957117","IsPullRequest":true,"CreatedAt":"2020-02-10T21:39:27","Actor":"harishsk","Number":"4816","RawContent":null,"Title":"Fixed bug in tensorflow tests due to long paths for working folders","State":"closed","Body":"TF tests are relying on IClassFixture to carry forward state from test to test. This by default creates excessively long paths that result in file system errors when there is a longer prefix for the source code. I have fixed it to take temp paths with shorter path lengths.","Url":"https://github.com/dotnet/machinelearning/pull/4816","RelatedDescription":"Closed or merged PR \"Fixed bug in tensorflow tests due to long paths for working folders\" (#4816)"},{"Id":"562749985","IsPullRequest":true,"CreatedAt":"2020-02-10T21:16:46","Actor":"LittleLittleCloud","Number":"4822","RawContent":null,"Title":"add AutoMLService.Test's sign key to AutoML and CodeGen's assembly.cs","State":"closed","Body":"Doing that so AutoMLService.Test can visit internal class inside those two projects.","Url":"https://github.com/dotnet/machinelearning/pull/4822","RelatedDescription":"Closed or merged PR \"add AutoMLService.Test's sign key to AutoML and CodeGen's assembly.cs\" (#4822)"},{"Id":"561956326","IsPullRequest":true,"CreatedAt":"2020-02-10T20:53:18","Actor":"harishsk","Number":"4815","RawContent":null,"Title":"Fixed bugs in OptionalColumnTransform and added bool support","State":"closed","Body":"OptionalColumnTransform didn't have support for boolean initializers. When I went to add that I saw that the TensorProto data was being set incorrectly for a few other data types. I tried to fix that and I had to redo the AddInitializer functionality in OnnxContext and related plumbing in OnnxUtils.cs.\r\nThen when I went to add tests for all the data types that are now supported in OptionalColumnTransform, I realized I needed to simplify the column comparison in OnnxConversionTest. In the process I also added support SByte and Byte in OnnxUtils - CreateNamedValue and fixed up the corresponding tests.\r\n\r\nIn summary:\r\n- Cleaned up OnnxContext's initializer interface\r\n- Cleaned up column comparison functionality on OnnxConversionTest\r\n- Fixed bugs in OptionalColumnTransform's onnx export and added support for boolean initializers\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4815","RelatedDescription":"Closed or merged PR \"Fixed bugs in OptionalColumnTransform and added bool support\" (#4815)"},{"Id":"562047243","IsPullRequest":false,"CreatedAt":"2020-02-08T16:59:08","Actor":"Spocher","Number":"4819","RawContent":null,"Title":"Shuffle input cursor reader failed with an exception in ml.net 1.4.0","State":"open","Body":"- Windows 10 x64\r\n- NET Framework 4.7.2, ML.Net 1.4.0\r\n\r\nI create project for multiclass classification, some code:\r\n`var trainingDataView = mlContext.Data.LoadFromEnumerable(allTrainData);\r\n\r\nvar trainingPipeline = mlContext.Transforms.Conversion.MapValueToKey(inputColumnName: \"IdCategory\", outputColumnName: \"Label\")\r\n\t.Append(mlContext.Transforms.Text.FeaturizeText(inputColumnName: \"HeaderProduct\", outputColumnName: \"HeaderProductFeaturized\"))\r\n\t.Append(mlContext.Transforms.Text.FeaturizeText(inputColumnName: \"DescriptionProduct\", outputColumnName: \"DescriptionProductFeaturized\"))\r\n\t.Append(mlContext.Transforms.Concatenate(\"Features\", \"HeaderProductFeaturized\", \"DescriptionProductFeaturized\"))\r\n\t.Append(mlContext.MulticlassClassification.Trainers.SdcaMaximumEntropy())\r\n\t.Append(mlContext.Transforms.Conversion.MapKeyToValue(\"PredictedLabel\"));\r\n\r\nvar trainedModel = trainingPipeline.Fit(trainingDataView);`\r\n\r\nI try train model and have Exception:\r\n Shuffle input cursor reader failed with an exception, (   in Microsoft.ML.Transforms.RowShufflingTransformer.Cursor.MoveNextCore()\r\n   in  Microsoft.ML.Data.RootCursorBase.MoveNext()\r\n   in  Microsoft.ML.Trainers.TrainingCursorBase.MoveNext()\r\n   in  Microsoft.ML.Trainers.SdcaTrainerBase`3.TrainCore(IChannel ch, RoleMappedData data, LinearModelParameters predictor, Int32 weightSetCount)\r\n   in  Microsoft.ML.Trainers.StochasticTrainerBase`2.TrainModelCore(TrainContext context)\r\n   in  Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   in  Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n\r\nI downgraded the version ml.net to 1.3.1 an all worked fine.\r\na little later, I upgraded the version to 1.5.0-preview and all worked fine.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4819","RelatedDescription":"Open issue \"Shuffle input cursor reader failed with an exception in ml.net 1.4.0\" (#4819)"},{"Id":"561957436","IsPullRequest":true,"CreatedAt":"2020-02-08T02:32:40","Actor":"harishsk","Number":"4817","RawContent":null,"Title":"WIP: Make sure Done() is called in cleanup if it hasn't been called","State":"open","Body":"This makes sure call stack is collected for intermediate failures.","Url":"https://github.com/dotnet/machinelearning/pull/4817","RelatedDescription":"Open PR \"WIP: Make sure Done() is called in cleanup if it hasn't been called\" (#4817)"},{"Id":"561922933","IsPullRequest":true,"CreatedAt":"2020-02-08T01:20:40","Actor":"frank-dong-ms","Number":"4814","RawContent":null,"Title":"improve logging for Functional Tests","State":"closed","Body":"Better logging for FT:\r\n1. add test output logging handler and MessageKindToLog in FT base class\r\n2. move TestLogger to TestFrameworkCommon project as this is more common test project and we might need to use TestLogger in future for FT\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4814","RelatedDescription":"Closed or merged PR \"improve logging for Functional Tests\" (#4814)"},{"Id":"561848195","IsPullRequest":true,"CreatedAt":"2020-02-07T23:44:24","Actor":"frank-dong-ms","Number":"4811","RawContent":null,"Title":"remove build timeout as perf bump","State":"closed","Body":"seeing build perf bump like below few builds:\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=510766&view=logs&j=4a5328fc-3628-53de-aa0c-9ba4571cae61&t=d953246d-9492-5686-12cd-f07513b595b7\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=510972&view=logs&j=11c3dbcc-a5f4-5edd-335b-a8af5aa47d46&s=d654deb9-056d-50a2-1717-90c08683d50a\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=510945&view=logs&j=4a5328fc-3628-53de-aa0c-9ba4571cae61&t=d953246d-9492-5686-12cd-f07513b595b7\r\n\r\nthis PR remove build timeout as perf bump\r\n\r\nCan't use hosted agent pool for netcore3.0 due to space limitation:\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=512080&view=logs&jobId=4a5328fc-3628-53de-aa0c-9ba4571cae61&j=4a5328fc-3628-53de-aa0c-9ba4571cae61&t=d953246d-9492-5686-12cd-f07513b595b7\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4811","RelatedDescription":"Closed or merged PR \"remove build timeout as perf bump\" (#4811)"},{"Id":"561899846","IsPullRequest":true,"CreatedAt":"2020-02-07T23:13:48","Actor":"Lynx1820","Number":"4813","RawContent":null,"Title":"Fix for NgramTransform","State":"closed","Body":"- Casting UInt16 -> Int64  inside NgramTransform, since it may now receive UInt16 keys from TokeningByCharacters\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4813","RelatedDescription":"Closed or merged PR \"Fix for NgramTransform\" (#4813)"},{"Id":"561898450","IsPullRequest":true,"CreatedAt":"2020-02-07T22:12:16","Actor":"michaelgsharp","Number":"4812","RawContent":null,"Title":"Added in DateTime type support for TimeSeriesImputer","State":"open","Body":"Added in System.DateTime support for the Date column in TimeSeriesImputer.\r\n\r\nInternally it converts it to POSIX time before it sends it to the native implementation, and then converts it back to System.DateTime for the IDataView.\r\n\r\nAlso added more comments and comments for the Enums.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4812","RelatedDescription":"Open PR \"Added in DateTime type support for TimeSeriesImputer\" (#4812)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-02-14T05:30:40.4849396Z","RunDurationInMilliseconds":843}