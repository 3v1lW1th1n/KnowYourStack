{"Data":{"Vue":{"Events":[{"Id":"6810384866","Type":"PullRequestEvent","CreatedAt":"2017-11-05T04:49:44","Actor":"ktsn","Repository":"vuejs/vue","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue/pull/7002","RelatedDescription":"Opened pull request \"fix(types): expose VueConstructor (fix #6999)\" (#7002) at vuejs/vue","RelatedBody":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\n**Other information:**\r\nfix #6999"}],"ResultType":"GitHubEvent"},"Router":{"Events":[{"Id":"6809405629","Type":"IssuesEvent","CreatedAt":"2017-11-04T16:30:50","Actor":"jakesgordon","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1862","RelatedDescription":"Opened issue \"using addRoutes() when you already have a wildcard route fails to detect if the CURRENT url matches one of the new routes\" (#1862) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/c4jkw82o/5/](https://jsfiddle.net/c4jkw82o/5/)\r\n\r\n### Steps to reproduce\r\nThe JSFiddle shows the broken case.\r\n\r\nGiven an app/router that includes a wildcard '*' route, calling addRoutes() to dynamically add more routes does not correctly render the page if the CURRENT url matches one of the newly added routes.\r\n\r\nIf you comment out the wildcard '*' route and re-run then it works as expected.\r\n\r\n### What is expected?\r\nThe \"Test\" component should be rendered\r\n\r\n### What is actually happening?\r\nThe \"NotFound\" component is rendered\r\n\r\n---\r\nBACKGROUND...\r\n\r\nI am attempting to use webpack code splitting to keep all of my test related code in a different bundle, that includes vue components that are only used in the tests. I wanted to try to dynamically add my \"/test\" route from within this separate bundle and discovered that serving up that page showed my 404 not found component instead of my (top level) test component.\r\n\r\nDEBUGGING NOTES...\r\n\r\nFrom what I can tell, when the router is first constructed - in my main application.js bundle - it checks against the current URL \"/test\" and matches the wildcard route as $router.currentRoute. Later when the separate test.js bundle adds the new routes it checks again, this time it matches the new test route and tries to transition, but during confirmTransition() it decides that isSameRoute() is true (both matches had path=/test) and does not update.\r\n\r\n... after checking isSameRoute() there is actually a small attempt to see if the routes were dynamically changed...\r\n\r\n    // in the case the route map has been dynamically appended to\r\n    route.matched.length === current.matched.length\r\n\r\n.. but in this case this check also (incorrectly) returns true because while the length is the same (1) the details of route.matched[0] are different - current.matched is pointing to the wildcard route but route.matched is pointing to the new test route.\r\n\r\n\r\nP.S. THANK YOU FOR ALL YOUR WORK ON VUE - it is awesome!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"6809229327","Type":"IssuesEvent","CreatedAt":"2017-11-04T14:35:00","Actor":"posva","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1861","RelatedDescription":"Closed issue \"Router document `Scroll Behavior - scroll to anchor` section\" (#1861) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/wxsm/pen/EbKXoz](https://codepen.io/wxsm/pen/EbKXoz)\r\n\r\n### Steps to reproduce\r\nUsing the document code:\r\n\r\n```javascript\r\nscrollBehavior (to, from, savedPosition) {\r\n  if (to.hash) {\r\n    return {\r\n      selector: to.hash\r\n      // , offset: { x: 0, y: 10 }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nto scroll between anchors such as '#1', '#2'\r\n\r\n### What is expected?\r\nscroll properly without error.\r\n\r\n### What is actually happening?\r\nscroll properly WITH error like:\r\n\r\nFail to execute 'querySelector': '#1' is not a valid selector.\r\n\r\nSee minimal reproduction link on codepen, click the `go to foo` link, then check console.\r\n\r\n---\r\nThis is because `querySelector` dose not support such id selector. There is a better way to do this:\r\n\r\n```javascript\r\nif (to.hash) {\r\n  return {\r\n    selector: `[id='${to.hash.slice(1)}']`\r\n  }\r\n}\r\n```\r\n\r\nThis will cause no error.\r\n\r\nI think the document should update to this for better helping people. I can PR this if needed. thanks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"},{"Id":"6808706045","Type":"IssuesEvent","CreatedAt":"2017-11-04T07:10:04","Actor":"wxsms","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1861","RelatedDescription":"Opened issue \"Router document `Scroll Behavior - scroll to anchor` section\" (#1861) at vuejs/vue-router","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/wxsm/pen/EbKXoz](https://codepen.io/wxsm/pen/EbKXoz)\r\n\r\n### Steps to reproduce\r\nUsing the document code:\r\n\r\n```javascript\r\nscrollBehavior (to, from, savedPosition) {\r\n  if (to.hash) {\r\n    return {\r\n      selector: to.hash\r\n      // , offset: { x: 0, y: 10 }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nto scroll between anchors such as '#1', '#2'\r\n\r\n### What is expected?\r\nscroll properly without error.\r\n\r\n### What is actually happening?\r\nscroll properly WITH error like:\r\n\r\nFail to execute 'querySelector': '#1' is not a valid selector.\r\n\r\nSee minimal reproduction link on codepen, click the `go to foo` link, then check console.\r\n\r\n---\r\nThis is because `querySelector` dose not support such id selector. There is a better way to do this:\r\n\r\n```javascript\r\nif (to.hash) {\r\n  return {\r\n    selector: `[id='${to.hash.slice(1)}']`\r\n  }\r\n}\r\n```\r\n\r\nThis will cause no error.\r\n\r\nI think the document should update to this for better helping people. I can PR this if needed. thanks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"}],"ResultType":"GitHubEvent"},"Vuex":{"Events":[{"Id":"6809317183","Type":"PullRequestEvent","CreatedAt":"2017-11-04T15:33:31","Actor":"posva","Repository":"vuejs/vuex","Organization":"vuejs","RawContent":null,"RelatedAction":"reopened","RelatedUrl":"https://github.com/vuejs/vuex/pull/1031","RelatedDescription":null,"RelatedBody":"> Actions don't\r\n\r\nDid not make sense."}],"ResultType":"GitHubEvent"}},"RunOn":"2017-11-05T05:30:31.9278043Z","RunDurationInMilliseconds":1898}