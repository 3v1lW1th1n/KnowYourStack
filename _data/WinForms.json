{"Data":{"GitHub":{"Issues":[{"Id":"559740891","IsPullRequest":true,"CreatedAt":"2020-02-05T22:42:09","Actor":"hughbe","Number":"2805","RawContent":null,"Title":"Cleanup GetStartupInfo code","State":"closed","Body":"## Proposed Changes\r\n- Cleanup GetStartupInfo code\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2805)","Url":"https://github.com/dotnet/winforms/pull/2805","RelatedDescription":"Closed or merged PR \"Cleanup GetStartupInfo code\" (#2805)"},{"Id":"559393494","IsPullRequest":true,"CreatedAt":"2020-02-05T22:40:04","Actor":"hughbe","Number":"2800","RawContent":null,"Title":"More SendMessage cleanup","State":"closed","Body":"## Proposed Changes\r\n- More SendMessage cleanup\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2800)","Url":"https://github.com/dotnet/winforms/pull/2800","RelatedDescription":"Closed or merged PR \"More SendMessage cleanup\" (#2800)"},{"Id":"560357496","IsPullRequest":true,"CreatedAt":"2020-02-05T13:16:55","Actor":"dotnet-maestro[bot]","Number":"2809","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200204.2\r\n- **Date Produced**: 2/5/2020 12:17 AM\r\n- **Commit**: 0b404cb7575c8addc5e10f3fac57e79c596db28e\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20104.2\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20104.2\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20104.2\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20104.2\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20104.2\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2809)","Url":"https://github.com/dotnet/winforms/pull/2809","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2809)"},{"Id":"559705080","IsPullRequest":true,"CreatedAt":"2020-02-05T02:01:46","Actor":"dotnet-maestro[bot]","Number":"2804","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200203.5\r\n- **Date Produced**: 2/4/2020 3:04 AM\r\n- **Commit**: 27c8467294a4e64ac6642b4c12ca63495ff126c8\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20103.5\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20103.5\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20103.5\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20103.5\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20103.5\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2804)","Url":"https://github.com/dotnet/winforms/pull/2804","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2804)"},{"Id":"560023893","IsPullRequest":true,"CreatedAt":"2020-02-04T23:44:15","Actor":"RussKie","Number":"2808","RawContent":null,"Title":"Update to preview branding","State":"closed","Body":"\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2808)","Url":"https://github.com/dotnet/winforms/pull/2808","RelatedDescription":"Closed or merged PR \"Update to preview branding\" (#2808)"},{"Id":"559804556","IsPullRequest":true,"CreatedAt":"2020-02-04T20:50:40","Actor":"mmitche","Number":"2806","RawContent":null,"Title":"Use Label.N form of prerelease label","State":"closed","Body":"Avoids issues if we have more than 10 previews.\r\n\r\nOriginal change was incorrectly reverted at some point a few months ago.\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2806)","Url":"https://github.com/dotnet/winforms/pull/2806","RelatedDescription":"Closed or merged PR \"Use Label.N form of prerelease label\" (#2806)"},{"Id":"559957426","IsPullRequest":true,"CreatedAt":"2020-02-04T20:22:09","Actor":"hughbe","Number":"2807","RawContent":null,"Title":"Cleanup COPYDATASTRUCT","State":"open","Body":"## Proposed Changes\r\n- Cleanup COPYDATASTRUCT\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2807)","Url":"https://github.com/dotnet/winforms/pull/2807","RelatedDescription":"Open PR \"Cleanup COPYDATASTRUCT\" (#2807)"},{"Id":"559608739","IsPullRequest":false,"CreatedAt":"2020-02-04T10:00:35","Actor":"zhenlinyang","Number":"2803","RawContent":null,"Title":"Setting 'RichTextBox.Location' has no effect when the screen resolution is too low","State":"open","Body":"* .NET Core Version:\r\n3.1\r\n\r\n* Have you experienced this same bug with .NET Framework?:\r\nNo, This bug doesn't exist with .NET Framework.\r\n\r\n**Problem description:**\r\n\r\nSetting 'System.Windows.Forms.Form.RichTextBox.Location'>'screen resolution' has no effect, when the screen resolution is lower than 'System.Windows.Forms.Form.MinimumSize'. 'RichTextBox' is drawn at (0, 0).\r\n\r\n**Expected behavior:**\r\n\r\nDraw in the correct position even if the position is beyond the screen border.\r\n\r\n**Minimal repro:**\r\n\r\n```\r\nthis.SampleRichTextBox.Location = new System.Drawing.Point(940, 50);\r\nthis.MaximumSize = new System.Drawing.Size(6000, 721);\r\nthis.MinimumSize = new System.Drawing.Size(1280, 721);\r\n```\r\nSet screen resolution (800, 600).\r\nBuilding and running application with dotnet core 3.1.\r\n'RichTextBox' is drawn at (0, 0).\r\n\r\nScreenshots or projects are private, but we can communicate by email. ^_^","Url":"https://github.com/dotnet/winforms/issues/2803","RelatedDescription":"Open issue \"Setting 'RichTextBox.Location' has no effect when the screen resolution is too low\" (#2803)"},{"Id":"559579179","IsPullRequest":false,"CreatedAt":"2020-02-04T09:07:42","Actor":"Vino-Wang","Number":"2802","RawContent":null,"Title":"The UIA Name property is missing on the list element in selected PropertyGrid item","State":"open","Body":"<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n* .NET Core Version: 3.1.200-preview-014883\r\n<!-- e.g. 3.0 Preview1, or daily build number, use `dotnet --info` -->\r\n\r\n* Have you experienced this same bug with .NET Framework?: Yes\r\n<!-- Yes / No -->\r\n\r\n**Problem description:**\r\nThe Name property of the focusable element(list) is null.\r\n![Actual](https://user-images.githubusercontent.com/18568603/73729765-9e8a6280-4770-11ea-8375-18b99c20d5a5.jpg)\r\n\r\n<!--\r\n    Describe the current behavior, what is wrong or not working as expected.\r\n    Provide as much information as possible, including callstack for crashes/exceptions, screenshots or animations.\r\n  -->\r\n\r\n\r\n**Expected behavior:**\r\nThe list element should have a meaningful name instead of null.\r\n\r\n**Minimal repro:**\r\n1. Create a WinForm 4.8 app with a PropertyGrid whose property items contain a list of strings or run the attached core app. [UIA_Name_missing.zip](https://github.com/dotnet/winforms/files/4152306/UIA_Name_missing.zip)\r\n2. Run the Accessibility Insights for Windows tool to examine the UIA representation of the UI.\r\n3. When keyboard focus is over in the right side of a property item, check the UIA tree.","Url":"https://github.com/dotnet/winforms/issues/2802","RelatedDescription":"Open issue \"The UIA Name property is missing on the list element in selected PropertyGrid item\" (#2802)"},{"Id":"559467188","IsPullRequest":true,"CreatedAt":"2020-02-04T03:34:44","Actor":"RussKie","Number":"2801","RawContent":null,"Title":"fix: `Application.ExecutablePath` returns dll instead of exe","State":"open","Body":"Resolves #1143 following the advice from @swaroop-sridhar in https://github.com/dotnet/runtime/issues/11201#issuecomment-506480041\r\n\r\n<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\n\r\n\r\n## Proposed changes\r\n\r\n In .NET artifacts are DLLs even for executable projects. With some automagic they get bundled into executables.\r\nHowever `Assembly.GetEntryAssembly()` always returns the dll instead of the exe.\r\n\r\nFollowing the guidance from the Runtime team retrieve the path to the executable via `GetModuleFileNameW` call.\r\n\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- Customers can now retrieve a path to the applications executable instead of the application's dll.\r\n\r\n## Regression? \r\n\r\n- Yes\r\n\r\n## Risk\r\n\r\n- Small-medium due to possibly unaccounted use cases\r\n\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- I have created several app targeting net472 and netcoreapp5.0 to capture outputs of calling `Application.ExecutablePath` in the following scenarios:\r\n\t- a single project app:\r\n\t```powershell\r\n    [CmdletBinding(PositionalBinding=$false)]\r\n    Param(\r\n        [string] $frameworks = 'net472;netcoreapp5.0',\r\n        [string] $targetDirectory = '.\\',\r\n        [Parameter(ValueFromRemainingArguments=$true)][String[]]$properties\r\n    )\r\n\r\n    function Invoke-Tests {\r\n        Param(\r\n            [string] $frameworks,\r\n            [string] $targetDirectory\r\n        )\r\n\r\n        $frameworks.Split(';') | ForEach-Object {\r\n            $framework = $_\r\n            Write-Host \"> Executing test for $framework\"\r\n            $output = [System.IO.Path]::Combine($targetDirectory, \"app1.$framework.log\");\r\n            dotnet.exe run --framework $framework > $output;\r\n        }\r\n    }\r\n\r\n    function Update-Csproj {\r\n        Param(\r\n            [string] $csprojName,\r\n            [string] $frameworks\r\n        )\r\n\r\n        [xml]$csproj = Get-Content $csprojName;\r\n\r\n        # update the project to console from UI\r\n        $csproj.Project.PropertyGroup.OutputType = 'Exe';\r\n        # convert from single to multi-targeting\r\n        $csproj.Project.PropertyGroup.TargetFramework = '';\r\n        $node = $csproj.CreateElement(\"TargetFrameworks\")\r\n        $csproj.Project.PropertyGroup.AppendChild($node) | Out-Null;\r\n        $csproj.Project.PropertyGroup.TargetFrameworks = $frameworks;\r\n\r\n        $csproj.Save(\"$($pwd.Path)\\$csprojName\");\r\n    }\r\n\r\n    function Update-Program {\r\n        [string]$program = Get-Content 'Program.cs' -Raw;\r\n        $program = $program.Replace('Application.Run(new Form1());', 'Console.WriteLine(Application.ExecutablePath);').Replace('Application.SetHighDpiMode(HighDpiMode.SystemAware);', '');\r\n        $program | Out-File -FilePath 'Program.cs' -Encoding utf8 -Force\r\n    }\r\n\r\n    $appFolder = [System.IO.Path]::GetRandomFileName()\r\n    $outputDirectory = [System.IO.Path]::GetFullPath($targetDirectory);\r\n\r\n    try {\r\n        [System.IO.Directory]::CreateDirectory($appFolder) | Out-Null;\r\n        Push-Location $appFolder\r\n        dotnet.exe new winforms -n app\r\n        Set-Location app\r\n\r\n        Update-Csproj -csprojName 'app.csproj' -frameworks $frameworks\r\n        Update-Program\r\n        Invoke-Tests -frameworks $frameworks -targetDirectory  $outputDirectory\r\n    }\r\n    catch {\r\n        Write-Host $_ -ForegroundColor Red\r\n    }\r\n    finally {\r\n        Pop-Location\r\n        [System.IO.Directory]::Delete($appFolder, $true);\r\n    }\r\n\t```\r\n\t- a multi project app where `Application.ExecutablePath` is called from the library project\r\n\t```powershell\r\n    [CmdletBinding(PositionalBinding=$false)]\r\n    Param(\r\n        [string] $frameworks = 'net472;netcoreapp5.0',\r\n        [string] $targetDirectory = '.\\',\r\n        [Parameter(ValueFromRemainingArguments=$true)][String[]]$properties\r\n    )\r\n\r\n    function Invoke-Tests {\r\n        Param(\r\n            [string] $frameworks,\r\n            [string] $targetDirectory\r\n        )\r\n\r\n        $frameworks.Split(';') | ForEach-Object {\r\n            $framework = $_\r\n            Write-Host \"> Executing test for $framework\"\r\n            $output = [System.IO.Path]::Combine($targetDirectory, \"apps.$framework.log\");\r\n            dotnet.exe run --framework $framework > $output;\r\n        }\r\n    }\r\n\r\n    function Update-Csproj {\r\n        Param(\r\n            [string] $csprojName,\r\n            [string] $frameworks\r\n        )\r\n\r\n        [xml]$csproj = Get-Content $csprojName;\r\n\r\n        # update the project to console from UI\r\n        if ($csproj.Project.PropertyGroup.OutputType) {\r\n            $csproj.Project.PropertyGroup.OutputType = 'Exe';\r\n        }\r\n        # convert from single to multi-targeting\r\n        $csproj.Project.PropertyGroup.TargetFramework = '';\r\n        $node = $csproj.CreateElement(\"TargetFrameworks\")\r\n        $csproj.Project.PropertyGroup.AppendChild($node) | Out-Null;\r\n        $csproj.Project.PropertyGroup.TargetFrameworks = $frameworks;\r\n\r\n        $csproj.Save(\"$($pwd.Path)\\$csprojName\");\r\n    }\r\n\r\n    function New-TestClass {\r\n        \"namespace lib\r\n        {\r\n            public static class TestClass\r\n            {\r\n                public static string GetApplicationExecutablePath() \r\n                    => System.Windows.Forms.Application.ExecutablePath;\r\n            }\r\n        }\" | Out-File 'TestClass.cs' -Encoding utf8 -Force\r\n\r\n    }\r\n\r\n    function Update-Program {\r\n        [string]$program = Get-Content 'Program.cs' -Raw;\r\n        $program = $program.Replace('Application.Run(new Form1());', \"Console.WriteLine(lib.TestClass.GetApplicationExecutablePath());\").Replace('Application.SetHighDpiMode(HighDpiMode.SystemAware);', '');\r\n        $program | Out-File -FilePath 'Program.cs' -Encoding utf8 -Force\r\n    }\r\n\r\n    $appFolder = [System.IO.Path]::GetRandomFileName()\r\n    $outputDirectory = [System.IO.Path]::GetFullPath($targetDirectory);\r\n\r\n    try {\r\n        [System.IO.Directory]::CreateDirectory($appFolder) | Out-Null;\r\n        Push-Location $appFolder\r\n        dotnet.exe new winforms -n app\r\n        dotnet.exe new winformslib -n lib\r\n        dotnet.exe add app/app.csproj reference lib/lib.csproj\r\n\r\n        Push-Location lib\r\n        New-TestClass\r\n        Update-Csproj -csprojName 'lib.csproj' -frameworks $frameworks\r\n        Pop-Location\r\n\r\n        Set-Location app\r\n        Update-Csproj -csprojName 'app.csproj' -frameworks $frameworks\r\n        Update-Program\r\n        Invoke-Tests -frameworks $frameworks -targetDirectory  $outputDirectory\r\n    }\r\n    catch {\r\n        Write-Host $_ -ForegroundColor Red\r\n    }\r\n    finally {\r\n        Pop-Location\r\n        [System.IO.Directory]::Delete($appFolder, $true);\r\n    }\r\n\t```\r\n- Added the created projects by running the above scripts and run them against privately build binaries to confirm the results of netcoreapp5.0 were the same as the results from net472 app.\r\n\r\n## Test results\r\n* https://github.com/dotnet/winforms/pull/2801#issuecomment-582695948\r\n* https://github.com/dotnet/winforms/pull/2801#issuecomment-582696032\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2801)","Url":"https://github.com/dotnet/winforms/pull/2801","RelatedDescription":"Open PR \"fix: `Application.ExecutablePath` returns dll instead of exe\" (#2801)"},{"Id":"558693475","IsPullRequest":true,"CreatedAt":"2020-02-03T20:18:21","Actor":"dotnet-maestro[bot]","Number":"2796","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200201.2\r\n- **Date Produced**: 2/1/2020 11:43 PM\r\n- **Commit**: 779323758d3e8aa7e4ee3dc2619d57e696078089\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20101.2\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20101.2\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20101.2\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20101.2\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20101.2\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2796)\r\n","Url":"https://github.com/dotnet/winforms/pull/2796","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2796)"},{"Id":"558910683","IsPullRequest":false,"CreatedAt":"2020-02-03T08:06:25","Actor":"Vino-Wang","Number":"2799","RawContent":null,"Title":"MDI child form with ContainerControl/SplitContainer control activation bug: the control that gets focus is not the one that was previously focused","State":"open","Body":"<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n* .NET Core Version: 3.1.200-preview-014883\r\n<!-- e.g. 3.0 Preview1, or daily build number, use `dotnet --info` -->\r\n\r\n* Have you experienced this same bug with .NET Framework?: Yes\r\n<!-- Yes / No -->\r\n\r\n**Problem description:**\r\nIf the form is opened as MDI child and its focused control is located within ContainerControl(e.g. ActiveControl chain is: mdiChildForm > ContainerControl > TextBox). Then when other MDI child is activated, the form's ActiveControl property is resetting to null. And when the form is activated again, the control that gets focus is not the one that was previously focused.\r\n![MDI_activation_bug](https://user-images.githubusercontent.com/18568603/73635679-fd7fa700-469e-11ea-801a-103e26cecedf.gif)\r\n\r\n<!--\r\n    Describe the current behavior, what is wrong or not working as expected.\r\n    Provide as much information as possible, including callstack for crashes/exceptions, screenshots or animations.\r\n  -->\r\n\r\n**More info:**\r\nThis issue cannot repro with FlowLayoutPanel, GroupBox, Panel, TabControl, TableLayoutPanel container controls.\r\n\r\n**Expected behavior:**\r\n\r\n- Then when other MDI child is activated, the form's ActiveControl property should not be reset to null. \r\n- And when the form is activated again, the control that gets focus should be the one that was previously focused.\r\n![Expected](https://user-images.githubusercontent.com/18568603/73635689-03758800-469f-11ea-9ccc-e4d1a0b277ea.gif)\r\n\r\n\r\n**Minimal repro:**\r\n1.\tRun the attached project. [WinForms.MdiChildActivationIssue.zip](https://github.com/dotnet/winforms/files/4146789/WinForms.MdiChildActivationIssue.zip)\r\n\r\n2.\tClick the ‘Open MDI Child A’ menu item to show the child form A that contains the container control(have other controls in it. E.g. TextBox, button..).\r\n3.\tThen click the ‘Open MDI Child B’ menu item to show the child form B.\r\n4.\tSwitch the mouse focus between these Form to see whether the Active control is changed incorrectly.\r\n\r\nIn Steps 4:\r\n1.\tFirstly, make sure the mouse focus is on the first TextBox in the Form A.\r\n2.\tSwitch the focus to the Form B.\r\n3.\tThen back to the Form A, make the mouse focus is on the second TextBox/button1/third TextBox/checkbox1 controls which located within SplitContainer control.\r\n4.\tRepeat step 2).\r\n5.\tThen back to the Form A, now you can see the focus is changed to the first control.\r\n \r\n","Url":"https://github.com/dotnet/winforms/issues/2799","RelatedDescription":"Open issue \"MDI child form with ContainerControl/SplitContainer control activation bug: the control that gets focus is not the one that was previously focused\" (#2799)"},{"Id":"558099173","IsPullRequest":true,"CreatedAt":"2020-02-03T06:15:13","Actor":"hughbe","Number":"2792","RawContent":null,"Title":"Cleanup PRF_ constants","State":"closed","Body":"## Proposed Changes\r\n- Cleanup PRF_ constants\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2792)","Url":"https://github.com/dotnet/winforms/pull/2792","RelatedDescription":"Closed or merged PR \"Cleanup PRF_ constants\" (#2792)"},{"Id":"558863213","IsPullRequest":true,"CreatedAt":"2020-02-03T06:02:39","Actor":"RussKie","Number":"2798","RawContent":null,"Title":"Remove deprecated API","State":"open","Body":"As identified in https://github.com/dotnet/winforms/issues/2476#issuecomment-568494860\r\n\r\nRelates to #2091\r\n\r\n<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\n\r\n\r\n\r\n## Proposed changes\r\n\r\n- Remove the following API because they have been obsolete since .NET 2.0:\r\n\t* `StatusBar`\r\n\t* `StatusBarDrawItemEventArgs`\r\n\t* `StatusBarDrawItemEventHandler`\r\n\t* `StatusBarPanel`\r\n\t* `StatusBarPanelAutoSize`\r\n\t* `StatusBarPanelBorderStyle`\r\n\t* `StatusBarPanelClickEventArgs`\r\n\t* `StatusBarPanelClickEventHandler`\r\n\t* `StatusBarPanelStyle`\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- Removed controls no longer available to customers and will cause builds to break\r\n- Customers will need to replace the removed controls with available alternatives.\r\n\r\n## Regression? \r\n\r\n- ~Yes~ / No\r\n\r\n## Risk\r\n\r\n- Medium, the controls in questions have been deprecated in .NET 2.0 era, however there is a recorded use of those.\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- TBD\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2798)","Url":"https://github.com/dotnet/winforms/pull/2798","RelatedDescription":"Open PR \"Remove deprecated API\" (#2798)"},{"Id":"558712264","IsPullRequest":false,"CreatedAt":"2020-02-02T15:27:11","Actor":"swythan","Number":"2797","RawContent":null,"Title":"Setting ComboBox.SelectedItem changes order of controls in TableLayoutPanel","State":"open","Body":"<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n* .NET Core Version: \r\n3.1.1\r\n\r\n* Have you experienced this same bug with .NET Framework?: \r\nYes\r\nIt looks like a regression from 4.7.2 to 4.8. I'm filing a bug there too.\r\n\r\n**Problem description:**\r\nShort version: \r\nIn a specific situation, setting SelectedIndex/SelectedItem on a ComboBox can cause the controls in a TableLayoutPanel to change order (in the Controls collection and also visually).\r\n\r\nLong version:\r\nWe have a form that involves dynamically adding rows to a TableLayoutPanel. Each row contains a mix of ComboBox and TextBox controls. After adding each row of controls, we set the SelectedItem/Index on each ComboBox. One of the ComboBoxes has an SelectedIndexChanged event handler that modifies the SelectedIndex of one of the other ComboBoxes in the same row.\r\n\r\nOn .Net 4.7.2 (and earlier) this works fine. On .Net 4.8 & .Net Core 3.1 two of the controls in the first row of the TableLayoutPanel are swapped. The swap is apparent both in the order of the controls in the Controls property of the TableLayoutPanel, and also visually in the rendering of the form (i.e. they are inthe wrong columns). Note that neither of the swapped columns is involved directly in the above mentioned event handler.\r\n\r\n**Expected behavior:**\r\nChanging the SelectedIndex should not cause the controls to change order.\r\n\r\n**Minimal repro:**\r\nhttps://github.com/swythan/BugRepro.WinFormsComboBox","Url":"https://github.com/dotnet/winforms/issues/2797","RelatedDescription":"Open issue \"Setting ComboBox.SelectedItem changes order of controls in TableLayoutPanel\" (#2797)"},{"Id":"557035446","IsPullRequest":true,"CreatedAt":"2020-02-02T06:18:29","Actor":"hughbe","Number":"2784","RawContent":null,"Title":"Cleanup ENDROPFILES","State":"closed","Body":"## Proposed Changes\r\n- Cleanup ENDROPFILES and DragQueryFileW\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2784)","Url":"https://github.com/dotnet/winforms/pull/2784","RelatedDescription":"Closed or merged PR \"Cleanup ENDROPFILES\" (#2784)"},{"Id":"558537669","IsPullRequest":true,"CreatedAt":"2020-02-01T13:16:50","Actor":"dotnet-maestro[bot]","Number":"2795","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200131.7\r\n- **Date Produced**: 1/31/2020 10:34 PM\r\n- **Commit**: bdc8c2f698e8c15195872af1e316b4b8f0eae7e1\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20081.7\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20081.7\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20081.7\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20081.7\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20081.7\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2795)","Url":"https://github.com/dotnet/winforms/pull/2795","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2795)"},{"Id":"558174308","IsPullRequest":false,"CreatedAt":"2020-01-31T14:45:17","Actor":"vladimir-krestov","Number":"2794","RawContent":null,"Title":"[Accessibility]Narrator doesn't announce symbols and a selected range in DGV and ToolStrip","State":"open","Body":"<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n* .NET Core Version: 5.0.100-alpha.1.20073.10\r\n<!-- e.g. 3.0 Preview1, or daily build number, use `dotnet --info` -->\r\n\r\n* Have you experienced this same bug with .NET Framework?: TextPattern hasn't implemented in .Net 4.8 yet.\r\n<!-- Yes / No -->\r\n\r\n**Problem description:**\r\n- Narrator doesn't read symbols and a selected text range in `DataGridViewTextBoxCell` and `ToolStripTextBox` edit controls when using a keyboard or mouse selecting\r\nThis seems to be due to incorrect handling of keyboard arrow keys pressing.\r\n(Please check `ProcessDialogKey` method)\r\nBut if you change the focus and return then Narrator chooses the correct selected range. \r\n![ToolStrip](https://user-images.githubusercontent.com/49272759/73546925-198d0980-444f-11ea-8a32-287d269e9044.gif)\r\n\r\n\r\n**Expected behavior:**\r\n- Narrator reads symbols and a selected text range as in `TextBox`, `ComboBox`\r\n![TextBox](https://user-images.githubusercontent.com/49272759/73547850-cf0c8c80-4450-11ea-8428-01be040e45dc.gif)\r\n\r\n\r\n**Minimal repro:**\r\n- Create a .Net Core 5.0 app\r\n- Add ToolStrip or DataGridView with TextBox items\r\n- Run app and Narrator\r\n- Check text announcing\r\n","Url":"https://github.com/dotnet/winforms/issues/2794","RelatedDescription":"Open issue \"[Accessibility]Narrator doesn't announce symbols and a selected range in DGV and ToolStrip\" (#2794)"},{"Id":"558119338","IsPullRequest":true,"CreatedAt":"2020-01-31T13:17:41","Actor":"dotnet-maestro[bot]","Number":"2793","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200130.4\r\n- **Date Produced**: 1/31/2020 1:21 AM\r\n- **Commit**: 00402f1fdc2b59dbc4f0b1c143850cb72e69fc90\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20080.4\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20080.4\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20080.4\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20080.4\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20080.4\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2793)","Url":"https://github.com/dotnet/winforms/pull/2793","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2793)"},{"Id":"556713845","IsPullRequest":true,"CreatedAt":"2020-01-31T00:07:30","Actor":"RussKie","Number":"2782","RawContent":null,"Title":"Manual generation of transport package manifest","State":"closed","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\n\r\n\r\n## Proposed changes\r\n\r\n- Make the process of updating the transport package manifest manual to ensure changes in the manifest are made consciously.\r\nDuring the `pack` command the exisintg manifest will be compared against the list of assemblies in the nuspec file, and if those two differ - the build will fail.\r\nAddressing the feedback in https://github.com/dotnet/winforms/pull/2745#discussion_r370327755\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- None, infra change\r\n\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2782)","Url":"https://github.com/dotnet/winforms/pull/2782","RelatedDescription":"Closed or merged PR \"Manual generation of transport package manifest\" (#2782)"},{"Id":"557531094","IsPullRequest":true,"CreatedAt":"2020-01-30T14:29:40","Actor":"hughbe","Number":"2791","RawContent":null,"Title":"WIP: Cleanup FINDTEXTW","State":"open","Body":"## Proposed Changes\r\n- Cleanup FINDTEXTW\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2791)","Url":"https://github.com/dotnet/winforms/pull/2791","RelatedDescription":"Open PR \"WIP: Cleanup FINDTEXTW\" (#2791)"},{"Id":"557479153","IsPullRequest":true,"CreatedAt":"2020-01-30T13:16:54","Actor":"dotnet-maestro[bot]","Number":"2790","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Subscription**: 4d0c844d-0758-4fc5-c1ad-08d6354da8a8\r\n- **Build**: 20200129.8\r\n- **Date Produced**: 1/30/2020 4:30 AM\r\n- **Commit**: 8466781af43871ee0d4a1655acc008a305a62c0e\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 5.0.0-beta.20079.8\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.20079.8\r\n  - **Microsoft.DotNet.GenFacades** -> 5.0.0-beta.20079.8\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 5.0.0-beta.20079.8\r\n  - **Microsoft.DotNet.RemoteExecutor** -> 5.0.0-beta.20079.8\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2790)","Url":"https://github.com/dotnet/winforms/pull/2790","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#2790)"},{"Id":"557434773","IsPullRequest":true,"CreatedAt":"2020-01-30T11:33:28","Actor":"M-Lipin","Number":"2789","RawContent":null,"Title":"WIP: Fixing 2316: PropertyGridView crashes on editing ListBoxProperty with null values","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nFixes #2316 \r\n\r\n\r\n## Proposed changes\r\n\r\n- Adding the test selected item for null before accessing the selected item accessible object in PropertyGrid's ListBox property.\r\n\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- Users will not experience error even the ListBox property has\r\n null values.\r\n\r\n## Regression? \r\n\r\n- Yes\r\n\r\n## Risk\r\n\r\n- Minimal\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n### Before\r\n\r\nApplication crash. Error with callstack ( please see #2316 )\r\n\r\n### After\r\n\r\nNo error.\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- Manual testing;\r\n- Unit test (to be implemented);\r\n- UI automation.\r\n\r\n## Accessibility testing  <!-- Remove this section if PR does not change UI -->\r\n\r\n<!--\r\n     Microsoft prioritizes making our products accessible. \r\n     WinForms has a key role in allowing developers to create accessible apps. \r\n     \r\n     When submitting a change which impacts UI in any way, including adding new UI or\r\n     modifying existing controls the developer needs to run the Accessibility Insights\r\n     tool (https://accessibilityinsights.io/) and verify that there are no changes or\r\n     regressions. \r\n     \r\n     The developer should run the Fast Pass over the impacted control(s) and provide\r\n     a snapshot of the passing results along with before/after snapshots of the UI.\r\n     More info: (https://accessibilityinsights.io/docs/en/web/getstarted/fastpass)\r\n  -->\r\n\r\n\r\n \r\n\r\n## Test environment(s) <!-- Remove any that don't apply -->\r\n\r\n<!-- use `dotnet --info` -->\r\n\r\n.NET Core SDK (reflecting any global.json):\r\n Version:   5.0.100-alpha.1.20073.10\r\n Commit:    29f4d693a9\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.18363\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\5.0.100-alpha1-05536\\\r\n\r\nHost (useful for support):\r\n  Version: 5.0.0-alpha.1.20072.3\r\n  Commit:  c3dc1fdfdc\r\n\r\n<!-- Mention language, UI scaling, or anything else that might be relevant -->\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2789)","Url":"https://github.com/dotnet/winforms/pull/2789","RelatedDescription":"Open PR \"WIP: Fixing 2316: PropertyGridView crashes on editing ListBoxProperty with null values\" (#2789)"},{"Id":"557424553","IsPullRequest":false,"CreatedAt":"2020-01-30T11:13:18","Actor":"jmairboeck","Number":"2788","RawContent":null,"Title":"Add Bold Property to TreeNode","State":"open","Body":"The native Win32 TreeView control supports the item state flag TVIS_BOLD for making TreeNodes bold. This is not exposed in the Windows Forms TreeNode API.\r\n\r\nI would suggest adding a new Property `bool Bold { get; set; }` to TreeNode, which when set to `true`, sets the item state flag on the TreeView item.\r\n\r\n**Describe alternatives you've considered**\r\nThe canonical way to do this now by setting the NodeFont to something derived from the original is a bit cumbersome and also has the problem of potentially using the wrong font. The built-in default font may be different from the default font set in the OS.\r\n\r\nSetting the state flag manually via P/invoking SendMessage(TVM_SETITEMW ...) works but is difficult to implement and also only works if the TreeNode already has a handle, i.e. it has been added to the TreeView already.\r\n\r\n**Will this feature affect UI controls?**\r\nYes\r\n\r\nThe new property ```TreeNode.Bold``` should be settable via the Designer like other TreeNode properties.\r\n\r\n","Url":"https://github.com/dotnet/winforms/issues/2788","RelatedDescription":"Open issue \"Add Bold Property to TreeNode\" (#2788)"},{"Id":"557225979","IsPullRequest":true,"CreatedAt":"2020-01-30T02:36:51","Actor":"RussKie","Number":"2787","RawContent":null,"Title":"Enable PublicApiAnalyzers by default","State":"closed","Body":"Initially the analyzer was enabled in Release mode only. However most of development happens in Debug mode, resolving build breaking warnings will require additional cycles.\r\n\r\nTo streamline the process enable the analyzer by default.\r\n\r\n<!-- Mention language, UI scaling, or anything else that might be relevant -->\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2787)","Url":"https://github.com/dotnet/winforms/pull/2787","RelatedDescription":"Closed or merged PR \"Enable PublicApiAnalyzers by default\" (#2787)"},{"Id":"557148451","IsPullRequest":true,"CreatedAt":"2020-01-30T01:43:41","Actor":"hughbe","Number":"2785","RawContent":null,"Title":"Cleanup remaining TreeView constants","State":"closed","Body":"## Proposed Change\r\n- Cleanup remaining TreeView constants\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2785)","Url":"https://github.com/dotnet/winforms/pull/2785","RelatedDescription":"Closed or merged PR \"Cleanup remaining TreeView constants\" (#2785)"},{"Id":"556947357","IsPullRequest":true,"CreatedAt":"2020-01-30T01:05:42","Actor":"hughbe","Number":"2783","RawContent":null,"Title":"Cleanup GETTEXTLENGTHEX","State":"closed","Body":"## Proposed Changes\r\n- Cleanup GETTEXTLENGTHEX\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2783)","Url":"https://github.com/dotnet/winforms/pull/2783","RelatedDescription":"Closed or merged PR \"Cleanup GETTEXTLENGTHEX\" (#2783)"},{"Id":"556665185","IsPullRequest":true,"CreatedAt":"2020-01-30T00:57:04","Actor":"RussKie","Number":"2781","RawContent":null,"Title":"Consolidate Design projects","State":"closed","Body":"\r\n<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\n\r\n## Proposed changes\r\n\r\n- The initial decision to split types previously located in System.Design led to a number of problems including cyclic dependencies.\r\nThe perceived benefits of smaller assembly sizes has not realised as both assemblies (Design and Design.Editors) would often need to be references together.\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- The change should no be directly visible to consumers if they reference WindowsDesktop SDK. \r\n- Customers who chose to reference System.Windows.Forms.Design.Editors.dll will need to update reference to System.Windows.Forms.Design.dll\r\n\r\n## Regression? \r\n\r\n-  No\r\n\r\n## Risk\r\n\r\n- Minimal\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/2781)","Url":"https://github.com/dotnet/winforms/pull/2781","RelatedDescription":"Closed or merged PR \"Consolidate Design projects\" (#2781)"},{"Id":"557202929","IsPullRequest":false,"CreatedAt":"2020-01-30T00:45:18","Actor":"merriemcgaw","Number":"2786","RawContent":null,"Title":"DataGridView's edit controls don't support UIA Text pattern as required by UIA rules","State":"open","Body":"<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n* .NET Core Version: \r\nAll\r\n\r\n* Have you experienced this same bug with .NET Framework?: \r\nyes\r\n\r\n**Problem description:**\r\nDataGridView needs to support the TextPattern. Accessibility Insights reports failures for this issue\r\n\r\n**Expected behavior:**\r\nAccessibility Insights should not report failures.\r\n\r\n**Minimal repro:**\r\nCreate a DataGridView with multiple data cells","Url":"https://github.com/dotnet/winforms/issues/2786","RelatedDescription":"Open issue \"DataGridView's edit controls don't support UIA Text pattern as required by UIA rules\" (#2786)"},{"Id":"556496241","IsPullRequest":false,"CreatedAt":"2020-01-28T21:59:16","Actor":"zsd4yr","Number":"2780","RawContent":null,"Title":"Redirect all links pointing at CoreFX to point at Runtime","State":"open","Body":"For example, the link to the contribution guidelines is broken :) ","Url":"https://github.com/dotnet/winforms/issues/2780","RelatedDescription":"Open issue \"Redirect all links pointing at CoreFX to point at Runtime\" (#2780)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-02-06T05:30:56.9726268Z","RunDurationInMilliseconds":981}