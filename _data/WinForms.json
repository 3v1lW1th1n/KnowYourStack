{"Data":{"GitHub":{"Issues":[{"Id":"476445436","IsPullRequest":true,"CreatedAt":"2019-08-03T12:16:05","Actor":"dotnet-maestro[bot]","Number":"1567","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190802.16\r\n- **Date Produced**: 8/3/2019 12:35 AM\r\n- **Commit**: d8457f6ba527aef165ff6fb0aded44bf8123ce83\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 2.4.1-beta.19402.16\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19402.16\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19402.16\r\n  - **Microsoft.DotNet.GenFacades** -> 1.0.0-beta.19402.16\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1567)","Url":"https://github.com/dotnet/winforms/pull/1567","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1567)"},{"Id":"476445421","IsPullRequest":true,"CreatedAt":"2019-08-03T12:15:51","Actor":"dotnet-maestro[bot]","Number":"1566","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190802.16\r\n- **Date Produced**: 8/3/2019 12:35 AM\r\n- **Commit**: d8457f6ba527aef165ff6fb0aded44bf8123ce83\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 2.4.1-beta.19402.16\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19402.16\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19402.16\r\n  - **Microsoft.DotNet.GenFacades** -> 1.0.0-beta.19402.16\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1566)","Url":"https://github.com/dotnet/winforms/pull/1566","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1566)"},{"Id":"476401975","IsPullRequest":true,"CreatedAt":"2019-08-03T01:20:36","Actor":"JeremyKuhne","Number":"1565","RawContent":null,"Title":"Fix MSO interfaces","State":"open","Body":"This fixes MSO component interfaces so that they correctly match the COM interface definitions. It also hardens against being invoked with null pointers.\r\n\r\nSee related issue: #247\r\n\r\nNeed to define the interop scenarios with Office to fully test this. Wanted to make sure this PR is active for visibility. (And to prevent others from replicating the work I did here.)\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1565)","Url":"https://github.com/dotnet/winforms/pull/1565","RelatedDescription":"Open PR \"Fix MSO interfaces\" (#1565)"},{"Id":"476337446","IsPullRequest":false,"CreatedAt":"2019-08-02T20:08:02","Actor":"MatthewBeardmore","Number":"1564","RawContent":null,"Title":"string.Copy deprecation removes a necessary use case with TextRenderer.MeasureText","State":"open","Body":"* .NET Core Version: 3.0 Preview 7\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n**Problem description:**\r\nstring.Copy was deprecated in .NET Core 3.0 (for good reason), however, I had been using it with TextRenderer.MeasureText, which modifies the string when calling it if the string is too long for the width specified. Without string.Copy, I'm not sure how else you would use this API without string.Copy for now. With the warning showing that this API was removed as strings may be deduplicated in the future, I wasn't sure about how to properly change this code to be more future-proof, as I'm not sure it can be in its current state. \r\n\r\n**Minimal repro:**\r\n\r\nusing System;\r\nusing System.Drawing;\r\nusing System.Windows.Forms;\r\n\r\nnamespace ConsoleApp10\r\n{\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            string original = @\"C:\\New Folder\\New Folder\\New Folder\\New Folder\\New Folder\\New Folder\\text.txt\";\r\n            string result = GetCompactedString(original, 4);\r\n            //Result is now correctly \"...\\text.txt\"\r\n            //Expectation is that original is still the very long file path, but it is the same as result\r\n        }\r\n\r\n        public static string GetCompactedString(string stringToCompact, int maxWidth)\r\n        {\r\n            //This line is necessary to not cause the bug shown below\r\n            //string copy= string.Copy(stringToCompact);\r\n            string copy = stringToCompact;\r\n\r\n            var opts = TextFormatFlags.PathEllipsis | TextFormatFlags.ModifyString;\r\n            TextRenderer.MeasureText(copy, new Font(\"Segoe UI\", 9), new Size(maxWidth, 0), opts);\r\n\r\n            // https://connect.microsoft.com/VisualStudio/feedback/details/620330\r\n            int nullByteLoc = copy.IndexOf('\\0');\r\n            if (nullByteLoc != -1)\r\n            {\r\n                copy = copy.Substring(0, nullByteLoc);\r\n            }\r\n\r\n            return copy;\r\n        }\r\n    }\r\n}\r\n","Url":"https://github.com/dotnet/winforms/issues/1564","RelatedDescription":"Open issue \"string.Copy deprecation removes a necessary use case with TextRenderer.MeasureText\" (#1564)"},{"Id":"476162659","IsPullRequest":true,"CreatedAt":"2019-08-02T20:07:11","Actor":"RussKie","Number":"1557","RawContent":null,"Title":"fix: `AccessibleObject` throws 'Value does not fall within the expected range.' creating `CollectionEditor`","State":"closed","Body":"Fixes #1556\r\n\r\n## Proposed changes\r\n\r\n- Verify that the underlying control contains children before attempting to query those.\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- None\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- None\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- manual runs with IDE attached breaking on `System.ArgumentException` to ensure no exceptions are thrown\r\n- run Narrator to verify elements are still read correctly\r\n\r\n\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1557)","Url":"https://github.com/dotnet/winforms/pull/1557","RelatedDescription":"Closed or merged PR \"fix: `AccessibleObject` throws 'Value does not fall within the expected range.' creating `CollectionEditor`\" (#1557)"},{"Id":"476159185","IsPullRequest":false,"CreatedAt":"2019-08-02T20:07:11","Actor":"RussKie","Number":"1556","RawContent":null,"Title":"`AccessibleObject` throws 'Value does not fall within the expected range.' creating `CollectionEditor`","State":"closed","Body":"* Have you experienced this same bug with .NET Framework?: No\r\n\r\n```\r\nC:\\Development\\winforms>dotnet --info\r\n.NET Core SDK (reflecting any global.json):\r\n Version:   3.0.100-preview6-012264\r\n Commit:    be3f0c1a03\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.17763\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\3.0.100-preview6-012264\\\r\n\r\nHost (useful for support):\r\n  Version: 3.0.0-preview8-28373-17\r\n  Commit:  5d8d5e8661\r\n\r\n.NET Core SDKs installed:\r\n  2.1.700 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.701 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009677 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009696 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009711 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.801 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview5-011568 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview6-012264 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview8-013437 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.0.0-preview8.19374.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview7-27823-05 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview7-27824-03 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-27916-10 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-27917-07 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28373-17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28376-02 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28379-05 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0-preview8-28373-17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n```\r\n\r\n<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n**Problem description:**\r\n\r\nInvoking a collection editor for an int array appears to fail with accessibility object throwing a AE.\r\n\r\nMy understanding of the sequence of events is as follows:\r\n* the editor is created, no elements to edit added\r\n* an accessibility object is spawned requesting to focus on the first element <-- failure\r\n* elements are added to the editor\r\n* a focus is set to the first element\r\n\r\nThis looks like a race condition, @M-Lipin tested on his machine and he could not reproduce the issue.\r\nHowever looking at the code it looks like a we must verify that the accesibly object contains elements before attempting to retrieve the requested:\r\n![image](https://user-images.githubusercontent.com/4403806/62368963-c9cc9480-b536-11e9-9154-ca5fb2cab595.png)\r\n\r\n\r\n**Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62368483-5b3b0700-b535-11e9-9be0-2ade91f61f5f.png)\r\n\r\n```\r\nSystem.ArgumentException\r\n  HResult=0x80070057\r\n  Message=Value does not fall within the expected range.\r\n  Source=<Cannot evaluate the exception source>\r\n  StackTrace:\r\n<Cannot evaluate the exception stack trace>\r\n```\r\n\r\nCall stack (trimmed):\r\n```\r\n[Managed to Native Transition]\r\nSystem.Windows.Forms.dll!System.Windows.Forms.AccessibleObject.Accessibility.IAccessible.get_accChild(object childID = 1) Line 1320\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\AccessibleObject.cs(1320)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.InternalAccessibleObject.System.Windows.Forms.UnsafeNativeMethods.IAccessibleInternal.get_accChild(object childID = 1) Line 2800\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\AccessibleObject.cs(2800)\r\n[Native to Managed Transition]\r\n[Managed to Native Transition]\r\nSystem.Windows.Forms.dll!System.Windows.Forms.NativeWindow.DefWndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 666\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\NativeWindow.cs(666)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.DefWndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 5228\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\Control.cs(5228)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WmSetFocus(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 13168\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\Control.cs(13168)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 13667\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\Control.cs(13667)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.ListBox.WndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 2643\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\ListBox.cs(2643)\r\nSystem.Windows.Forms.Design.Editors.dll!System.ComponentModel.Design.CollectionEditor.FilterListBox.WndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 2182\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms.Design.Editors\\src\\System\\ComponentModel\\Design\\CollectionEditor.cs(2182)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.ControlNativeWindow.OnMessage(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 64\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\Control.ControlNativeWindow.cs(64)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.ControlNativeWindow.WndProc(ref System.Windows.Forms.Message m = {System.Windows.Forms.Message}) Line 116\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\Control.ControlNativeWindow.cs(116)\r\nSystem.Windows.Forms.dll!System.Windows.Forms.NativeWindow.DebuggableCallback(System.IntPtr hWnd = 0x00000000000b0878, int msg = 7, System.IntPtr wparam = 0x0000000000360fe6, System.IntPtr lparam = 0x0000000000000000) Line 625\r\n\tat C:\\Development\\winforms\\src\\System.Windows.Forms\\src\\System\\Windows\\Forms\\NativeWindow.cs(625)\r\n```\r\n\r\n**Expected behavior:**\r\n\r\nNo exceptions of any kind.\r\n\r\nThe fix may be as simple as adding a guard:\r\n```diff\r\ndiff --git a/src/System.Windows.Forms/src/System/Windows/Forms/AccessibleObject.cs b/src/System.Windows.Forms/src/System/Windows/Forms/AccessibleObject.cs\r\nindex cb226bda..44f970df 100644\r\n--- a/src/System.Windows.Forms/src/System/Windows/Forms/AccessibleObject.cs\r\n+++ b/src/System.Windows.Forms/src/System/Windows/Forms/AccessibleObject.cs\r\n@@ -1316,8 +1316,13 @@ namespace System.Windows.Forms\r\n                 }\r\n             }\r\n \r\n+            if (systemIAccessible == null || systemIAccessible.accChildCount == 0)\r\n+            {\r\n+                return null;\r\n+            }\r\n+\r\n             // Otherwise, return the default system child for this control (if any)\r\n-            return systemIAccessible?.get_accChild(childID);\r\n+            return systemIAccessible.get_accChild(childID);\r\n         }\r\n```\r\n\r\n**Minimal repro:**\r\n\r\nThis looks like a race condition and doesn't appear reproduce consistently across environments.\r\n\r\n* Build 1a7ac6b\r\n* Run WinformsControlsTest project\r\n* Click on \r\n* Edit `MyInt` property to spawn the editor\r\n\r\nIt may be required to get the IDE to break on `SystemArgumentException`.","Url":"https://github.com/dotnet/winforms/issues/1556","RelatedDescription":"Closed issue \"`AccessibleObject` throws 'Value does not fall within the expected range.' creating `CollectionEditor`\" (#1556)"},{"Id":"476297007","IsPullRequest":true,"CreatedAt":"2019-08-02T20:04:31","Actor":"JeremyKuhne","Number":"1563","RawContent":null,"Title":"Add missing StructLayout","State":"closed","Body":"[StructLayout] inadvertently got removed from an interop class that is being used like a struct.\r\n\r\nAudited the other interop classes- they all have the attribute.\r\n\r\nfixes #1558\r\n\r\n## Customer Impact\r\n\r\nMoving the mouse after changing some properties without committing can throw.\r\n\r\n## Regression? \r\n\r\nYes\r\n\r\n## Risk\r\n\r\nVery low\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1563)","Url":"https://github.com/dotnet/winforms/pull/1563","RelatedDescription":"Closed or merged PR \"Add missing StructLayout\" (#1563)"},{"Id":"476188025","IsPullRequest":false,"CreatedAt":"2019-08-02T20:04:31","Actor":"RussKie","Number":"1558","RawContent":null,"Title":"The specified structure must be blittable or have layout information.","State":"closed","Body":"* .NET Core Version: \r\n```\r\n.NET Core SDK (reflecting any global.json):\r\n Version:   3.0.100-preview6-012264\r\n Commit:    be3f0c1a03\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.17763\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\3.0.100-preview6-012264\\\r\n\r\nHost (useful for support):\r\n  Version: 3.0.0-preview8-28380-08\r\n  Commit:  c855ac7187\r\n\r\n.NET Core SDKs installed:\r\n  2.1.700 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.701 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009677 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009696 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.800-preview-009711 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.801 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview5-011568 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview6-012264 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview8-013437 [C:\\Program Files\\dotnet\\sdk]\r\n  3.0.100-preview8-013640 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.0.0-preview8.19374.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 3.0.0-preview8.19381.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 2.1.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview7-27823-05 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview7-27824-03 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-27916-10 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-27917-07 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28373-17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28376-02 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28379-05 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 3.0.0-preview8-28380-08 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0-preview8-28373-17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 3.0.0-preview8-28380-08 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n```\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n**Problem description:**\r\n\r\nIncorrect p/invoke definitions?\r\n\r\n**Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62374120-e622fe00-b543-11e9-8e03-0d59dbdf6e2f.png)\r\n\r\n```\r\nSystem.ArgumentException\r\n  HResult=0x80070057\r\n  Message=The specified structure must be blittable or have layout information. \r\n  Source=System.Private.CoreLib\r\n  StackTrace:\r\n   at System.Runtime.InteropServices.Marshal.PtrToStructureHelper(IntPtr ptr, Object structure, Boolean allowValueClasses)\r\n   at System.Runtime.InteropServices.Marshal.PtrToStructureHelper(IntPtr ptr, Type structureType)\r\n```\r\n\r\n**Expected behavior:**\r\n\r\nNo exceptions\r\n\r\n**Minimal repro:**\r\n\r\n1. Checkout 8437748b9bad0f8311218afb0f040dfaf8fdd737\r\n2. (optional) Run `.\\build-local.ps1` to have the latest sdk/app and necessary bindgings\r\n3. Build and run `WinformsControlsTest` project\r\n4. Update \"Exception Settings\" to break on `System.ArgumentException`\r\n4. Click [Collection Editors] button\r\n5. Edit \"StringArray\" property via the UI editor (ignore AEs in `AccessibilityObject`, if any - #1556)\r\n6. Modify the selected value but do NOT commit it (i.e. don't hit <kbd>ENTER</kbd>)\r\n7. Move mouse\r\n6. Observe VS to break on the exception ","Url":"https://github.com/dotnet/winforms/issues/1558","RelatedDescription":"Closed issue \"The specified structure must be blittable or have layout information.\" (#1558)"},{"Id":"476295865","IsPullRequest":true,"CreatedAt":"2019-08-02T18:05:40","Actor":"AdamYoblick","Number":"1562","RawContent":null,"Title":"Adding yaml stages (fixing indent typo)","State":"closed","Body":"\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1562)","Url":"https://github.com/dotnet/winforms/pull/1562","RelatedDescription":"Closed or merged PR \"Adding yaml stages (fixing indent typo)\" (#1562)"},{"Id":"476294425","IsPullRequest":true,"CreatedAt":"2019-08-02T18:01:39","Actor":"AdamYoblick","Number":"1561","RawContent":null,"Title":"Adding yaml stages (fixing yaml typo)","State":"closed","Body":"\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1561)","Url":"https://github.com/dotnet/winforms/pull/1561","RelatedDescription":"Closed or merged PR \"Adding yaml stages (fixing yaml typo)\" (#1561)"},{"Id":"476292357","IsPullRequest":true,"CreatedAt":"2019-08-02T17:55:56","Actor":"AdamYoblick","Number":"1560","RawContent":null,"Title":"Change slash direction for pre-build script call","State":"closed","Body":"## Customer Impact\r\n\r\n- None\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- Very low, only affects build steps, does not affect shipping bits\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1560)","Url":"https://github.com/dotnet/winforms/pull/1560","RelatedDescription":"Closed or merged PR \"Change slash direction for pre-build script call\" (#1560)"},{"Id":"474864739","IsPullRequest":true,"CreatedAt":"2019-08-02T17:48:39","Actor":"AdamYoblick","Number":"1543","RawContent":null,"Title":"add yaml stages to meet arcade servicing bar","State":"closed","Body":"Add yaml stages as documented here: https://github.com/dotnet/arcade/blob/master/Documentation/CorePackages/YamlStagesPublishing.md\r\n\r\n## Customer Impact\r\n\r\n- None, only affects build scripts and AzDO organization\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- None, product is not being changed\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1543)","Url":"https://github.com/dotnet/winforms/pull/1543","RelatedDescription":"Closed or merged PR \"add yaml stages to meet arcade servicing bar\" (#1543)"},{"Id":"476274441","IsPullRequest":false,"CreatedAt":"2019-08-02T17:03:38","Actor":"MatthewBeardmore","Number":"1559","RawContent":null,"Title":"Referencing mshtml.dll in a .NET Core 3 WinForms project","State":"open","Body":"* .NET Core Version: 3.0 Preview 7\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n**Problem description:**\r\n\r\nI am having an issue with adding Microsoft.mshtml to my converted (net471) .NET Core 3 project.  With .NET Framework, I was able to go into Reference Manager -> Assemblies tab -> Extensions sub tab, then find Microsoft.mshtml. ![Capture](https://user-images.githubusercontent.com/808932/62386440-d98fad00-b525-11e9-8fc4-66706d773fb7.PNG) As the assemblies tab does not exist in .NET Core 3 projects, I looked for a package on NuGet, but was unable to find anything from Microsoft (I tried https://www.nuget.org/packages/Unofficial.Microsoft.mshtml/, which compiles, but fails at runtime).\r\n\r\n\r\n**Actual behavior:** \r\nExpect to be able to find a NuGet package (or another manner of adding the reference) for Microsoft.mshtml.\r\n\r\n**Expected behavior:**\r\nUnable to find a way to add Microsoft.mshtml to a .NET Core 3 application.\r\n\r\n\r\n\r\n**Minimal repro:**\r\nN/A.","Url":"https://github.com/dotnet/winforms/issues/1559","RelatedDescription":"Open issue \"Referencing mshtml.dll in a .NET Core 3 WinForms project\" (#1559)"},{"Id":"476146760","IsPullRequest":true,"CreatedAt":"2019-08-02T12:41:21","Actor":"dotnet-maestro[bot]","Number":"1554","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190801.23\r\n- **Date Produced**: 8/2/2019 6:58 AM\r\n- **Commit**: 941d6497356e00ea6b2bc35a22a67f4ecf988fd6\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 2.4.1-beta.19401.23\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19401.23\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19401.23\r\n  - **Microsoft.DotNet.GenFacades** -> 1.0.0-beta.19401.23\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1554)","Url":"https://github.com/dotnet/winforms/pull/1554","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1554)"},{"Id":"476158611","IsPullRequest":false,"CreatedAt":"2019-08-02T12:37:48","Actor":"RussKie","Number":"1555","RawContent":null,"Title":"`AccessibleEvents` has malformed xml-docs","State":"open","Body":"* .NET Core Version: (e.g. 3.0 Preview1, or daily build number, use `dotnet --info`)\r\n* Have you experienced this same bug with .NET Framework?: Yes/No\r\n\r\n<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n**Problem description:**\r\n\r\n`AccessibleEvents` has malformed and partial xml-docs\r\n![image](https://user-images.githubusercontent.com/4403806/62367120-5e33f880-b531-11e9-8f38-f933bf560cbf.png)\r\n\r\nLikely the original issue was introduced in 5f065a719fc1b6c00f7b269d60f82fba1f709119.\r\n\r\nNeed to do a sweep across the codebase to ensure no more similar occurences.\r\n\r\n/cc: @hughbe ","Url":"https://github.com/dotnet/winforms/issues/1555","RelatedDescription":"Open issue \"`AccessibleEvents` has malformed xml-docs\" (#1555)"},{"Id":"476100474","IsPullRequest":false,"CreatedAt":"2019-08-02T10:01:05","Actor":"RussKie","Number":"1553","RawContent":null,"Title":"PropertyGrid: objects not expandable","State":"open","Body":"* Have you experienced this same bug with .NET Framework?: No\r\n\r\n<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n**Problem description:**\r\n\r\nThe property grid does not allow to expand complex objects if those aren't at the top level of object hierarchy.\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62362075-e5c73a80-b524-11e9-8db6-cb9fb62431a0.png)\r\n\r\n**Actual behavior:**\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62362233-3a6ab580-b525-11e9-97e4-50c4d4937e25.png)\r\n![image](https://user-images.githubusercontent.com/4403806/62362325-5ec69200-b525-11e9-941e-d911add3681d.png)\r\n\r\n**Expected behavior:**\r\n\r\nObject at all levels are expandable.\r\n\r\n**Minimal repro:**\r\n\r\nRun WinFormsControlsClassicTests and WinformsControlsTest side-by-side, click [Collection Editors] button and compare the property grids.\r\n","Url":"https://github.com/dotnet/winforms/issues/1553","RelatedDescription":"Open issue \"PropertyGrid: objects not expandable\" (#1553)"},{"Id":"476080452","IsPullRequest":true,"CreatedAt":"2019-08-02T09:15:05","Actor":"RussKie","Number":"1552","RawContent":null,"Title":"Fix 1272 Port StringArrayEditor from NET Fx","State":"open","Body":"<!-- Please read CONTRIBUTING.md before submitting a pull request -->\r\n\r\nFixes #1272\r\n\r\n\r\n## Proposed changes\r\n\r\n- Port StringArrayEditor from NET Fx\r\n- Revert \"Disable WinFormsControlsClassicTests.csproj on non-windows platforms\" 16bb16de4821b0eca7c86e0caaf289cd64cdac8f as it prevents the project from building on Windows platform too.\r\n\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- `StringArrayEditor` is now available\r\n\r\n## Regression? \r\n\r\n- Yes\r\n\r\n## Risk\r\n\r\n- Minimal, if any\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n### Before\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62375866-f210bf00-b547-11e9-93b3-3eb39023a057.png)\r\n\r\n\r\n### After\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62375677-7a429480-b547-11e9-9180-4925daf3ba6f.png)\r\n\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- manual / visual\r\n\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1552)","Url":"https://github.com/dotnet/winforms/pull/1552","RelatedDescription":"Open PR \"Fix 1272 Port StringArrayEditor from NET Fx\" (#1552)"},{"Id":"475860999","IsPullRequest":true,"CreatedAt":"2019-08-01T19:55:23","Actor":"RussKie","Number":"1551","RawContent":null,"Title":"fix SnapLine is not implemented","State":"open","Body":"Closes #1412\r\n\r\n\r\n## Proposed changes\r\n\r\n* Port the functionality from NET Fx\r\n\r\n* Discover and fix an old bug that incorrectly compared `MarginBottom` filter against `MarginTop OR PaddingBottom`\r\n![image](https://user-images.githubusercontent.com/4403806/62322753-6e56c400-b4ae-11e9-8c26-6e88fab7ec31.png)\r\n\r\n\r\n* Fix incorrect spacing in `ToString` implementation\r\n![image](https://user-images.githubusercontent.com/4403806/62323028-0a80cb00-b4af-11e9-9277-3c7829a996eb.png)\r\n\r\n\r\n* Add unit tests as well.\r\n\r\n\r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- More things working, less throwing `NotImplementedException`\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- None, unless the ported code is buggy\r\n\r\n<!-- end TELL-MODE -->\r\n\r\n\r\n## Test methodology <!-- How did you ensure quality? -->\r\n\r\n- Added unit tests\r\n- Designer to provide real testing\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1551)","Url":"https://github.com/dotnet/winforms/pull/1551","RelatedDescription":"Open PR \"fix SnapLine is not implemented\" (#1551)"},{"Id":"475644695","IsPullRequest":true,"CreatedAt":"2019-08-01T12:46:24","Actor":"dotnet-maestro[bot]","Number":"1550","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190731.19\r\n- **Date Produced**: 8/1/2019 12:27 AM\r\n- **Commit**: 48787606d809963cc800151cbfbefe0a74ae74b4\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 2.4.1-beta.19381.19\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19381.19\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19381.19\r\n  - **Microsoft.DotNet.GenFacades** -> 1.0.0-beta.19381.19\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1550)","Url":"https://github.com/dotnet/winforms/pull/1550","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1550)"},{"Id":"475491994","IsPullRequest":false,"CreatedAt":"2019-08-01T06:13:58","Actor":"Tanya-Solyanik","Number":"1549","RawContent":null,"Title":"System.Windows.Forms and S.W.F.Design should test round trip between framework versions","State":"open","Body":"Existing tests verify:\r\n1. integration scenarios where resources that are generated on .Net framework are read on Core\r\n2. test for presence of Serializable attribute on the known types and only on the known types\r\n3. roundtrip within Core 3.0 and compare resulting blob against .Net\r\n\r\nThe missing test is to deserialize hardcoded Core content on  .Net Framework.\r\nThe existing round-trip test should be extracted into a new multi-targeted assembly and tests should run once on Core and once on .Net. Similar issue will be applicable when we have multiple version of Core framework  ","Url":"https://github.com/dotnet/winforms/issues/1549","RelatedDescription":"Open issue \"System.Windows.Forms and S.W.F.Design should test round trip between framework versions\" (#1549)"},{"Id":"475308925","IsPullRequest":false,"CreatedAt":"2019-07-31T19:06:42","Actor":"carlossanlop","Number":"1548","RawContent":null,"Title":".NET Core 3.0 Preview 7 - PictureBox.LoadAsync throws an exception. \"Operation is not supported on this platform.\" ","State":"open","Body":"_From @ebizupnorth on Monday, July 29, 2019 4:28:28 AM_\r\n\r\n``` csharp\r\npictureBox1.WaitOnLoad = false;\r\npictureBox1.LoadAsync(\"https://publicdomainarchive.com/wp-content/uploads/2014/03/public-domain-images-free-stock-photos-high-quality-resolution-downloads-around-the-house-1.jpg\");\r\n```\r\nThe following code throws an Exception \"Operation is not supported on this platform.\" on .NET Core 3.0 Preview 7. The picture loads fine when using .NET Framework 4.8\r\n\r\nForm1.Designer.cs\r\n```csharp\r\nnamespace WindowsFormsApp1\r\n{\r\n    partial class Form1\r\n    {\r\n        /// <summary>\r\n        /// Required designer variable.\r\n        /// </summary>\r\n        private System.ComponentModel.IContainer components = null;\r\n\r\n        /// <summary>\r\n        /// Clean up any resources being used.\r\n        /// </summary>\r\n        /// <param name=\"disposing\">true if managed resources should be disposed; otherwise, false.</param>\r\n        protected override void Dispose(bool disposing)\r\n        {\r\n            if (disposing && (components != null))\r\n            {\r\n                components.Dispose();\r\n            }\r\n            base.Dispose(disposing);\r\n        }\r\n\r\n        #region Windows Form Designer generated code\r\n\r\n        /// <summary>\r\n        /// Required method for Designer support - do not modify\r\n        /// the contents of this method with the code editor.\r\n        /// </summary>\r\n        private void InitializeComponent()\r\n        {\r\n            this.pictureBox1 = new System.Windows.Forms.PictureBox();\r\n            this.button1 = new System.Windows.Forms.Button();\r\n            ((System.ComponentModel.ISupportInitialize)(this.pictureBox1)).BeginInit();\r\n            this.SuspendLayout();\r\n            // \r\n            // pictureBox1\r\n            // \r\n            this.pictureBox1.Location = new System.Drawing.Point(45, 78);\r\n            this.pictureBox1.Name = \"pictureBox1\";\r\n            this.pictureBox1.Size = new System.Drawing.Size(403, 392);\r\n            this.pictureBox1.SizeMode = System.Windows.Forms.PictureBoxSizeMode.StretchImage;\r\n            this.pictureBox1.TabIndex = 0;\r\n            this.pictureBox1.TabStop = false;\r\n            // \r\n            // button1\r\n            // \r\n            this.button1.Location = new System.Drawing.Point(551, 116);\r\n            this.button1.Name = \"button1\";\r\n            this.button1.Size = new System.Drawing.Size(75, 23);\r\n            this.button1.TabIndex = 1;\r\n            this.button1.Text = \"button1\";\r\n            this.button1.UseVisualStyleBackColor = true;\r\n            this.button1.Click += new System.EventHandler(this.Button1_Click);\r\n            // \r\n            // Form1\r\n            // \r\n            this.AutoScaleDimensions = new System.Drawing.SizeF(8F, 16F);\r\n            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;\r\n            this.ClientSize = new System.Drawing.Size(800, 561);\r\n            this.Controls.Add(this.button1);\r\n            this.Controls.Add(this.pictureBox1);\r\n            this.Name = \"Form1\";\r\n            this.Text = \"Form1\";\r\n            ((System.ComponentModel.ISupportInitialize)(this.pictureBox1)).EndInit();\r\n            this.ResumeLayout(false);\r\n\r\n        }\r\n\r\n        #endregion\r\n\r\n        private System.Windows.Forms.PictureBox pictureBox1;\r\n        private System.Windows.Forms.Button button1;\r\n    }\r\n}\r\n```\r\nForm1.resx\r\n```csharp\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<root>\r\n  <!-- \r\n    Microsoft ResX Schema \r\n    \r\n    Version 2.0\r\n    \r\n    The primary goals of this format is to allow a simple XML format \r\n    that is mostly human readable. The generation and parsing of the \r\n    various data types are done through the TypeConverter classes \r\n    associated with the data types.\r\n    \r\n    Example:\r\n    \r\n    ... ado.net/XML headers & schema ...\r\n    <resheader name=\"resmimetype\">text/microsoft-resx</resheader>\r\n    <resheader name=\"version\">2.0</resheader>\r\n    <resheader name=\"reader\">System.Resources.ResXResourceReader, System.Windows.Forms, ...</resheader>\r\n    <resheader name=\"writer\">System.Resources.ResXResourceWriter, System.Windows.Forms, ...</resheader>\r\n    <data name=\"Name1\"><value>this is my long string</value><comment>this is a comment</comment></data>\r\n    <data name=\"Color1\" type=\"System.Drawing.Color, System.Drawing\">Blue</data>\r\n    <data name=\"Bitmap1\" mimetype=\"application/x-microsoft.net.object.binary.base64\">\r\n        <value>[base64 mime encoded serialized .NET Framework object]</value>\r\n    </data>\r\n    <data name=\"Icon1\" type=\"System.Drawing.Icon, System.Drawing\" mimetype=\"application/x-microsoft.net.object.bytearray.base64\">\r\n        <value>[base64 mime encoded string representing a byte array form of the .NET Framework object]</value>\r\n        <comment>This is a comment</comment>\r\n    </data>\r\n                \r\n    There are any number of \"resheader\" rows that contain simple \r\n    name/value pairs.\r\n    \r\n    Each data row contains a name, and value. The row also contains a \r\n    type or mimetype. Type corresponds to a .NET class that support \r\n    text/value conversion through the TypeConverter architecture. \r\n    Classes that don't support this are serialized and stored with the \r\n    mimetype set.\r\n    \r\n    The mimetype is used for serialized objects, and tells the \r\n    ResXResourceReader how to depersist the object. This is currently not \r\n    extensible. For a given mimetype the value must be set accordingly:\r\n    \r\n    Note - application/x-microsoft.net.object.binary.base64 is the format \r\n    that the ResXResourceWriter will generate, however the reader can \r\n    read any of the formats listed below.\r\n    \r\n    mimetype: application/x-microsoft.net.object.binary.base64\r\n    value   : The object must be serialized with \r\n            : System.Runtime.Serialization.Formatters.Binary.BinaryFormatter\r\n            : and then encoded with base64 encoding.\r\n    \r\n    mimetype: application/x-microsoft.net.object.soap.base64\r\n    value   : The object must be serialized with \r\n            : System.Runtime.Serialization.Formatters.Soap.SoapFormatter\r\n            : and then encoded with base64 encoding.\r\n\r\n    mimetype: application/x-microsoft.net.object.bytearray.base64\r\n    value   : The object must be serialized into a byte array \r\n            : using a System.ComponentModel.TypeConverter\r\n            : and then encoded with base64 encoding.\r\n    -->\r\n  <xsd:schema id=\"root\" xmlns=\"\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\">\r\n    <xsd:import namespace=\"http://www.w3.org/XML/1998/namespace\" />\r\n    <xsd:element name=\"root\" msdata:IsDataSet=\"true\">\r\n      <xsd:complexType>\r\n        <xsd:choice maxOccurs=\"unbounded\">\r\n          <xsd:element name=\"metadata\">\r\n            <xsd:complexType>\r\n              <xsd:sequence>\r\n                <xsd:element name=\"value\" type=\"xsd:string\" minOccurs=\"0\" />\r\n              </xsd:sequence>\r\n              <xsd:attribute name=\"name\" use=\"required\" type=\"xsd:string\" />\r\n              <xsd:attribute name=\"type\" type=\"xsd:string\" />\r\n              <xsd:attribute name=\"mimetype\" type=\"xsd:string\" />\r\n              <xsd:attribute ref=\"xml:space\" />\r\n            </xsd:complexType>\r\n          </xsd:element>\r\n          <xsd:element name=\"assembly\">\r\n            <xsd:complexType>\r\n              <xsd:attribute name=\"alias\" type=\"xsd:string\" />\r\n              <xsd:attribute name=\"name\" type=\"xsd:string\" />\r\n            </xsd:complexType>\r\n          </xsd:element>\r\n          <xsd:element name=\"data\">\r\n            <xsd:complexType>\r\n              <xsd:sequence>\r\n                <xsd:element name=\"value\" type=\"xsd:string\" minOccurs=\"0\" msdata:Ordinal=\"1\" />\r\n                <xsd:element name=\"comment\" type=\"xsd:string\" minOccurs=\"0\" msdata:Ordinal=\"2\" />\r\n              </xsd:sequence>\r\n              <xsd:attribute name=\"name\" type=\"xsd:string\" use=\"required\" msdata:Ordinal=\"1\" />\r\n              <xsd:attribute name=\"type\" type=\"xsd:string\" msdata:Ordinal=\"3\" />\r\n              <xsd:attribute name=\"mimetype\" type=\"xsd:string\" msdata:Ordinal=\"4\" />\r\n              <xsd:attribute ref=\"xml:space\" />\r\n            </xsd:complexType>\r\n          </xsd:element>\r\n          <xsd:element name=\"resheader\">\r\n            <xsd:complexType>\r\n              <xsd:sequence>\r\n                <xsd:element name=\"value\" type=\"xsd:string\" minOccurs=\"0\" msdata:Ordinal=\"1\" />\r\n              </xsd:sequence>\r\n              <xsd:attribute name=\"name\" type=\"xsd:string\" use=\"required\" />\r\n            </xsd:complexType>\r\n          </xsd:element>\r\n        </xsd:choice>\r\n      </xsd:complexType>\r\n    </xsd:element>\r\n  </xsd:schema>\r\n  <resheader name=\"resmimetype\">\r\n    <value>text/microsoft-resx</value>\r\n  </resheader>\r\n  <resheader name=\"version\">\r\n    <value>2.0</value>\r\n  </resheader>\r\n  <resheader name=\"reader\">\r\n    <value>System.Resources.ResXResourceReader, System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</value>\r\n  </resheader>\r\n  <resheader name=\"writer\">\r\n    <value>System.Resources.ResXResourceWriter, System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089</value>\r\n  </resheader>\r\n</root>\r\n```\r\n\r\nForm1.cs\r\n```csharp\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.ComponentModel;\r\nusing System.Data;\r\nusing System.Drawing;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Threading.Tasks;\r\nusing System.Windows.Forms;\r\n\r\nnamespace WindowsFormsApp1\r\n{\r\n    public partial class Form1 : Form\r\n    {\r\n        public Form1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        private void Button1_Click(object sender, EventArgs e)\r\n        {\r\n            try\r\n            {\r\n                pictureBox1.WaitOnLoad = false;\r\n                pictureBox1.LoadAsync(\"https://publicdomainarchive.com/wp-content/uploads/2014/03/public-domain-images-free-stock-photos-high-quality-resolution-downloads-around-the-house-1.jpg\");\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                MessageBox.Show(ex.Message);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n_Copied from original issue: dotnet/core#3107_","Url":"https://github.com/dotnet/winforms/issues/1548","RelatedDescription":"Open issue \".NET Core 3.0 Preview 7 - PictureBox.LoadAsync throws an exception. \"Operation is not supported on this platform.\" \" (#1548)"},{"Id":"475104402","IsPullRequest":true,"CreatedAt":"2019-07-31T12:21:36","Actor":"dotnet-maestro[bot]","Number":"1547","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190730.3\r\n- **Date Produced**: 7/30/2019 6:57 PM\r\n- **Commit**: def377f94747dac91482aad67b33a1c011ffc770\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.XUnitExtensions** -> 2.4.1-beta.19380.3\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19380.3\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19380.3\r\n  - **Microsoft.DotNet.GenFacades** -> 1.0.0-beta.19380.3\r\n\r\n[marker]: <> (End:4d0c844d-0758-4fc5-c1ad-08d6354da8a8)\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1547)","Url":"https://github.com/dotnet/winforms/pull/1547","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1547)"},{"Id":"475057483","IsPullRequest":true,"CreatedAt":"2019-07-31T11:10:21","Actor":"RussKie","Number":"1546","RawContent":null,"Title":"Add accessibility tests","State":"closed","Body":"\r\n\r\n## Proposed changes\r\n\r\n- add accessibility test app \r\n\r\n<!-- We are in TELL-MODE the following section must be completed -->\r\n\r\n## Customer Impact\r\n\r\n- None\r\n\r\n## Regression? \r\n\r\n- No\r\n\r\n## Risk\r\n\r\n- None\r\n\r\n\r\n## Screenshots <!-- Remove this section if PR does not change UI -->\r\n\r\n![image](https://user-images.githubusercontent.com/4403806/62204049-11b3b600-b395-11e9-88f0-aff7278a013d.png)\r\n![image](https://user-images.githubusercontent.com/4403806/62204056-16786a00-b395-11e9-86ad-8ef1d161e333.png)\r\n\r\n\r\n\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1546)","Url":"https://github.com/dotnet/winforms/pull/1546","RelatedDescription":"Closed or merged PR \"Add accessibility tests\" (#1546)"},{"Id":"474941611","IsPullRequest":true,"CreatedAt":"2019-07-31T05:20:28","Actor":"dreddy-work","Number":"1545","RawContent":null,"Title":"Porting DataMemberFieldConverter into core","State":"open","Body":"Porting DataMemberFieldConverter to System.Windows.Forms.Design.dll and changing the references from System.Design to this assembly wherever required. \r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1545)\r\n\r\nFixes #1542\r\n**Proposed changes**\r\n- Porting DataMemberFieldConverter into core. \r\n\r\n**Customer Impact**\r\n - Some of the winforms properties have added this converter as member attribute and thus use of those properties, by third party applications, resulting in 'MissingMethodExceptions'.\r\n\r\n**Regression?**\r\nYes\r\n\r\n**Risk**\r\nNone\r\n\r\n**Screenshots \r\nBefore**\r\n\r\n![image](https://user-images.githubusercontent.com/36968667/62199975-5447a500-b339-11e9-9e48-0bc80a7bc280.png)\r\n\r\n**After**\r\n\r\nNo Exception.\r\n\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/1545","RelatedDescription":"Open PR \"Porting DataMemberFieldConverter into core\" (#1545)"},{"Id":"474905415","IsPullRequest":false,"CreatedAt":"2019-07-31T02:34:25","Actor":"KaneLeung","Number":"1544","RawContent":null,"Title":"WinForm RichTextBox SelectionChanged event fails when set SelectionFont","State":"open","Body":"* .NET Core Version:3.0.100-preview7-012821\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n<!-- Read https://github.com/dotnet/winforms/blob/master/Documentation/issue-guide.md -->\r\n\r\n**Problem description:WinForm RichTextBox SelectionChanged event fails when set SelectionFont\r\n\r\n**Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n\r\n**Expected behavior:**\r\n\r\n**Minimal [repro:RichTextboxBugTest](https://github.com/KaneLeung/RichTextboxBugTest)\r\n","Url":"https://github.com/dotnet/winforms/issues/1544","RelatedDescription":"Open issue \"WinForm RichTextBox SelectionChanged event fails when set SelectionFont\" (#1544)"},{"Id":"474810968","IsPullRequest":false,"CreatedAt":"2019-07-30T20:42:32","Actor":"merriemcgaw","Number":"1542","RawContent":null,"Title":"WinForms Interop: XamlParseException on .NET Core","State":"open","Body":"@thomasclaudiushuber commented on [Wed Jul 24 2019](https://github.com/dotnet/wpf/issues/1366)\r\n\r\n* .NET Core Version: 3.0.100-preview8-013410\r\n* Windows version: 1903\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n \r\n **Problem description:**\r\nCreating a WinForms DataGridView in WPF XAML throws XamlParseException on .NET Core. This happens for the DataPropertyName property of the DataGridViewTextBoxColumn:\r\n\r\n```\r\n   <winForms:DataGridViewTextBoxColumn HeaderText=\"Firstname\"\r\n                                                        DataPropertyName=\"FirstName\"/>\r\n```\r\n \r\n **Actual behavior:** \r\n\r\n```\r\nSystem.Windows.Markup.XamlParseException\r\n  HResult=0x80131501\r\n  Message=Invalid metadata for attribute 'System.ComponentModel.TypeConverterAttribute' on 'System.String DataPropertyName'. Expected '1' argument(s) of type 'System.Type'.\r\n  Source=PresentationFramework\r\n  StackTrace:\r\n   at System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)\r\n   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\r\n   at System.Windows.Markup.WpfXamlLoader.LoadBaml(XamlReader xamlReader, Boolean skipJournaledProperties, Object rootObject, XamlAccessLevel accessLevel, Uri baseUri)\r\n   at System.Windows.Markup.XamlReader.LoadBaml(Stream stream, ParserContext parserContext, Object parent, Boolean closeStream)\r\n   at System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)\r\n   at WinFormsInWpf.MainWindow.InitializeComponent() in C:\\Users\\thoma\\source\\repos\\WinFormsInWpf.Framework\\WinFormsInWpf.Core\\MainWindow.xaml:line 1\r\n   at WinFormsInWpf.MainWindow..ctor() in C:\\Users\\thoma\\source\\repos\\WinFormsInWpf.Framework\\WinFormsInWpf.Core\\MainWindow.xaml.cs:line 9\r\n\r\nInner Exception 1:\r\nXamlSchemaException: Invalid metadata for attribute 'System.ComponentModel.TypeConverterAttribute' on 'System.String DataPropertyName'. Expected '1' argument(s) of type 'System.Type'.\r\n```\r\n\r\n  **Expected behavior:**\r\n It should just work like in .NET Framework\r\n\r\n **Minimal repro:**\r\nI've created a minimal repro solution here that contains a working project that targets .NET Framework and a failing project that targets .NET Core: https://github.com/thomasclaudiushuber/WpfWinFormsXamlParseIssue\r\n\r\n \r\n\r\n\r\n---\r\n\r\n@rladuca commented on [Mon Jul 29 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516208100)\r\n\r\nThis looks like possibly a WinForms bug.  From what I am seeing, we're choking on trying to use `DataMemberFieldConverter` which is marked on a [few WinForms types](https://github.com/dotnet/winforms/search?q=DataMemberFieldConverter&unscoped_q=DataMemberFieldConverter).\r\n\r\nThis used to live in System.Design.  When I look at System.Design in WindowsDesktop, I see it's a facade assembly now, but there is no type forward for `DataMemberFieldConverter`.  This causes a Type.GetType call to fail [here](https://github.com/dotnet/wpf/blob/2cbb1ad9759c32dc575c7537057a29ee7da2e1b2/src/Microsoft.DotNet.Wpf/src/System.Xaml/System/Xaml/Schema/XamlNamespace.cs#L188).\r\n\r\n@zsd4yr @merriemcgaw @Tanya-Solyanik @AdamYoblick Does this ring any bells or am I off base?\r\n\r\n---\r\n\r\n@merriemcgaw commented on [Mon Jul 29 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516208378)\r\n\r\n@dreddy-work can you take a look? You did a lot of the System.Design stuff on our end. Seems possible to me.\r\n\r\n---\r\n\r\n@dreddy-work commented on [Mon Jul 29 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516219875)\r\n\r\nDataMemberFieldConverter is not yet ported to core. I will make those changes and get the PR out.\r\n\r\n---\r\n\r\n@dreddy-work commented on [Tue Jul 30 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516416035)\r\n\r\n@rladuca , DataMemberFieldConverter was internal class and we don't see typeforward even after we port it. How exactly this typeconverter is used in wpf? \r\n\r\n---\r\n\r\n@weltkante commented on [Tue Jul 30 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516427394)\r\n\r\n@dreddy-work Converters don't need to be public in order to be referenced from attributes, in WinForms you are exporting TypeConverter attributes referencing System.Design by concatenating strings (see the [link](https://github.com/dotnet/winforms/search?q=DataMemberFieldConverter&unscoped_q=DataMemberFieldConverter) from @rladuca above).\r\n\r\nWPF finds the attribute and wants to resolve the string, but there is not type forwarding in place.\r\n\r\n---\r\n\r\n@dreddy-work commented on [Tue Jul 30 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516429814)\r\n\r\nThanks. Will port this and make sure right assembly is referenced. @merriemcgaw  can you help move this issue to winforms repo?\r\n\r\n---\r\n\r\n@rladuca commented on [Tue Jul 30 2019](https://github.com/dotnet/wpf/issues/1366#issuecomment-516507724)\r\n\r\n@dreddy-work It's probably a good idea to sweep for any TypeConverters you are using, WPF will break on using any WinForm control where there is a similar state to this bug.\r\n\r\n","Url":"https://github.com/dotnet/winforms/issues/1542","RelatedDescription":"Open issue \"WinForms Interop: XamlParseException on .NET Core\" (#1542)"},{"Id":"474641345","IsPullRequest":true,"CreatedAt":"2019-07-30T19:25:10","Actor":"hughbe","Number":"1540","RawContent":null,"Title":"Disable WinFormsControlsClassicTests.csproj on non-windows platforms","State":"closed","Body":"I opted to do it this way because it is an old-style project that only supports .NET Framework. Therefore by overriding `Build` to be a nop on Unix we can avoid failures in the build\r\n\r\nOld error:\r\n\r\n> /Users/hugh/Documents/GitHub/winforms/.dotnet/sdk/3.0.100-preview6-012264/Microsoft.Common.CurrentVersion.targets(1175,5): error MSB3644: The reference assemblies for .NETFramework,Version=v4.7.2 were not found. To resolve this, install the Developer Pack (SDK/Targeting Pack) for this framework version or retarget your application. You can download .NET Framework Developer Packs at https://aka.ms/msbuild/developerpacks [/Users/hugh/Documents/GitHub/winforms/src/System.Windows.Forms/tests/IntegrationTests/WinFormsControlsClassicTests/WinFormsControlsClassicTests.csproj]\r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1540)","Url":"https://github.com/dotnet/winforms/pull/1540","RelatedDescription":"Closed or merged PR \"Disable WinFormsControlsClassicTests.csproj on non-windows platforms\" (#1540)"},{"Id":"474671707","IsPullRequest":true,"CreatedAt":"2019-07-30T16:02:19","Actor":"hughbe","Number":"1541","RawContent":null,"Title":"Cleanup Control event and property naming","State":"open","Body":"\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1541)","Url":"https://github.com/dotnet/winforms/pull/1541","RelatedDescription":"Open PR \"Cleanup Control event and property naming\" (#1541)"},{"Id":"474607409","IsPullRequest":true,"CreatedAt":"2019-07-30T14:58:47","Actor":"hughbe","Number":"1539","RawContent":null,"Title":"Skip more flakey tests","State":"closed","Body":"\n\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1539)","Url":"https://github.com/dotnet/winforms/pull/1539","RelatedDescription":"Closed or merged PR \"Skip more flakey tests\" (#1539)"},{"Id":"474563745","IsPullRequest":true,"CreatedAt":"2019-07-30T12:45:27","Actor":"hughbe","Number":"1538","RawContent":null,"Title":"Fix APICompat in winforms","State":"open","Body":"The correct way to do this is the following (wiki should be updated):\r\n```cs\r\ndotnet build ./src/System.Drawing/src/System.Drawing.Facade.csproj /p:BaselineAllAPICompatError=true\r\n```\r\n\r\nFixes #1059\r\n\r\n/cc @ViktorHofer @ericstj \r\n\r\n###### Microsoft Reviewers: [Open in CodeFlow](http://wpcp.azurewebsites.net/CodeFlowProtocolProxy2.php?pullrequest=https://github.com/dotnet/winforms/pull/1538)","Url":"https://github.com/dotnet/winforms/pull/1538","RelatedDescription":"Open PR \"Fix APICompat in winforms\" (#1538)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-08-04T05:30:55.0176765Z","RunDurationInMilliseconds":621}