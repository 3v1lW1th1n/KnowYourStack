{"Data":{"Blog":{"FeedItems":[{"Title":"Creating a Minimal ASP.NET Core Windows Container","PublishedOn":"2017-11-09T16:18:48+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"This is a guest post by Mike Rousos One of the benefits of containers is their small size, which allows them to be more quickly deployed and more efficiently packed onto a host than virtual machines...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/11/09/creating-a-minimal-asp-net-core-windows-container/","RawContent":null},{"Title":"Publishing a Web App to an Azure VM from Visual Studio","PublishedOn":"2017-11-01T22:35:42+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"We know virtual machines (VMs) are one of the most popular places to run apps in Azure, but publishing to a VM from Visual Studio has been a tricky experience for some. So, we’re pleased to announce...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/11/01/publishing-a-web-app-to-an-azure-vm-from-visual-studio/","RawContent":null},{"Title":"Recent updates for publishing","PublishedOn":"2017-10-31T18:18:45+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"We have recently added a few interesting features for ASP.NET publishing. The updates include: Container Registry Publish Updates Create publish profile without publishing In this post, we will...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/10/31/recent-updates-for-publishing/","RawContent":null},{"Title":"Sharing Configuration in ASP.NET Core SPA Scenarios","PublishedOn":"2017-10-27T15:17:34+00:00","CommentsCount":3,"FacebookCount":0,"Summary":"This is a guest post from Mike Rousos ASP.NET Core 2.0 recently released and, with it, came some new templates, including new project templates for single-page applications (SPA) served from an...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/10/27/sharing-configuration-in-asp-net-core-spa-scenarios/","RawContent":null},{"Title":"User accounts made easy with Azure","PublishedOn":"2017-10-17T21:01:45+00:00","CommentsCount":9,"FacebookCount":0,"Summary":"One of the most common requirements for web applications is for users create accounts for the purpose of access control and personalization. While ASP.NET templates have always made it easy to create...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/10/17/user-accounts-made-easy-with-azure/","RawContent":null},{"Title":"Announcing SignalR for ASP.NET Core Alpha 2","PublishedOn":"2017-10-09T22:46:08+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"A few weeks ago we released the alpha1 version of SignalR for ASP.NET Core 2.0. Today we are pleased to announce a release of the alpha2 version of SignalR for ASP.NET Core 2.0. This release contains...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/10/09/announcing-signalr-for-asp-net-core-alpha-2/","RawContent":null},{"Title":"Announcing SignalR (alpha) for ASP.NET Core 2.0","PublishedOn":"2017-09-14T23:41:29+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Today we are glad to announce an alpha release of SignalR for ASP.NET Core 2.0. This is the first official preview release of a new SignalR that is compatible with ASP.NET Core. It consists of a...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/09/14/announcing-signalr-for-asp-net-core-2-0/","RawContent":null},{"Title":"Welcome to the New Blog Template for ASP.NET Developers","PublishedOn":"2017-09-08T17:59:41+00:00","CommentsCount":4,"FacebookCount":0,"Summary":"By Juliet Daniel, Lucas Isaza, and Uma Lakshminarayan Have you always wanted to build a blog or other web application but haven&#8217;t had the time or educational resources to learn? With our blog...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/09/08/welcome-to-the-new-blog-template-for-asp-net-developers/","RawContent":null},{"Title":"Getting Started with Windows Containers","PublishedOn":"2017-09-07T19:51:33+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Containers provide a way of running an application in a controlled environment, isolated from other applications running on the machine, and from the underlying infrastructure. They are a...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/09/07/getting-started-with-windows-containers/","RawContent":null},{"Title":"ASP.NET Core 2.0 Features","PublishedOn":"2017-08-25T16:30:07+00:00","CommentsCount":22,"FacebookCount":0,"Summary":"Last week we announced the release of ASP.NET Core 2.0 and described some top new features, including Razor Pages, new and updated templates, and Application Insights integration. In this blog post we...","Href":"https://blogs.msdn.microsoft.com/webdev/2017/08/25/asp-net-core-2-0-features-1/","RawContent":null}],"ResultType":"Feed"},"Home":{"Events":[{"Id":"6840070961","Type":"IssuesEvent","CreatedAt":"2017-11-10T22:07:10","Actor":"Grandizer","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/2273","RelatedDescription":"Opened issue \"Error MSB3073 - Works Great Locally - Can't Publish to Azure or Local Folder\" (#2273) at aspnet/Home","RelatedBody":"I have been on .Net Core 2.0 since it came out and have published many times.  The only real difference I can think of that has changed is I updated to VS 15.4.3 a few days ago.\r\n\r\nMy project builds and runs locally like a champ.  When I go to publish to Azure (then tried local folder) I get the following error.\r\n\r\n```\r\nSeverity\tCode\tDescription\tProject\tFile\tLine\tSuppression State\r\nError\t\tThe command \"\"dotnet\" exec --runtimeconfig \"C:\\Avantia Projects\\Time Card\\avantia-timesheet\\Solution\\Almanac\\bin\\Release\\netcoreapp2.0\\Avantia.Almanac.runtimeconfig.json\" --depsfile \"C:\\Avantia Projects\\Time Card\\avantia-timesheet\\Solution\\Almanac\\bin\\Release\\netcoreapp2.0\\Avantia.Almanac.deps.json\" \"C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder\\microsoft.aspnetcore.mvc.razor.viewcompilation\\2.0.0\\build\\netstandard2.0\\Microsoft.AspNetCore.Mvc.Razor.ViewCompilation.dll\" @\"obj\\Release\\netcoreapp2.0\\microsoft.aspnetcore.mvc.razor.viewcompilation.rsp\"\" exited with code 1.\tAlmanac\tC:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder\\microsoft.aspnetcore.mvc.razor.viewcompilation\\2.0.0\\build\\netstandard2.0\\Microsoft.AspNetCore.Mvc.Razor.ViewCompilation.targets\t60\t\r\n```\r\nDouble-clicking on that error takes me to the following like:\r\n\r\n`    <Exec Command=\"$(ExecArgs)\" WorkingDirectory=\"$(MSBuildProjectDirectory)\" />`\r\n\r\nAfter reading a few articles I did clear out my bin and obj folders.  Even cleared the nugget cache and restored the packages.  One article spoke about authentication but as near as I can tell, I am up to date with that.  The first time I published after going to core 2 I did get errors and updated at that time.  So I have ruled that out (currently.)\r\n\r\nWhat other file(s) do you need from me.  I will be happy to pass those along as this is now stopping my testers from doing their job.\r\n\r\nThanks!\r\n\r\n\r\n\r\n"}],"ResultType":"GitHubEvent"},"SignalR":{"Events":[{"Id":"6842360244","Type":"IssuesEvent","CreatedAt":"2017-11-12T00:25:32","Actor":"chrisahardie","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/issues/1105","RelatedDescription":"Opened issue \"Error when scaling out app service with Redis backplane\" (#1105) at aspnet/SignalR","RelatedBody":"Howdy,\r\n\r\nI'm having an issue when setting up a Redis backplane to back a couple web instances in Azure. If I stand up two instances, I'll fail half the time.\r\n\r\nAttempt #1: Information: WebSocket connected to wss://signalrsandbox....azurewebsites.net/chat?id=e6648196-c140-48c4-bd8e-f89e184da69b\r\n\r\nAttempt #2: signalr-client-1.0.0-alpha2-final.min.js:1 WebSocket connection to 'wss://signalrsandbox...azurewebsites.net/chat?id=c5a5efd0-fcd0-449a-a665-8a5f52fee316' failed: Error during WebSocket handshake: Unexpected response code: 404\r\n\r\nWhat is really confusing me is that if I stand up two instances locally on different ports, then things work perfectly - I'll hammer on the refresh button and I'll only ever succeed. Any idea what would be difference between two local instances on my dev machine and two App Service instances deployed in Azure?\r\n\r\n**Client code:**\r\n\r\n```\r\n<script src=\"node_modules/@aspnet/signalr-client/dist/browser/signalr-client-1.0.0-alpha2-final.min.js\"></script>\r\n    <script>\r\n      let connection = new signalR.HubConnection('https://signalrsandbox....azurewebsites.net/chat');\r\n\r\n      connection.on('send', data => {\r\n          console.log(data);\r\n      });\r\n\r\n      connection.start()\r\n          .then(() => connection.invoke('send', 'Hello world'));\r\n    </script>\r\n```\r\n\r\n**Server code**\r\n\r\n```\r\npublic void ConfigureServices(IServiceCollection services)\r\n        {\r\n            services.AddCors(options =>\r\n            {\r\n                options.AddPolicy(\"CorsPolicy\",\r\n                    builder => builder.AllowAnyOrigin()\r\n                    .AllowAnyMethod()\r\n                    .AllowAnyHeader()\r\n                    .AllowCredentials() );\r\n            });\r\n            ConfigurationOptions config = new ConfigurationOptions\r\n            {\r\n                EndPoints =\r\n                {\r\n                    { \"pub-redisxxxxxx.1.azure.garantiadata.com\", 11915 },\r\n                },\r\n                KeepAlive = 180,\r\n                Password = \"xxxxxxxxxxxxx\"\r\n            };\r\n            services.AddSignalR().AddRedis((opts) => {\r\n                opts.Options = config;\r\n            });\r\n        }\r\n```\r\n\r\nI haven't seen much documentation about the redis backplane (awesome it's being baked in, btw!!!), so if this feature isn't ready, feel free to just close this ticket and I'll wait.\r\n\r\nPS - total aside, but here's a pic of my BBQ I leveled-up with SignalR Core this weekend :)\r\n\r\n![img_20170708_142651](https://user-images.githubusercontent.com/2429373/32694690-52d6fe86-c714-11e7-94b9-8301ec4aa838.jpg)\r\n"},{"Id":"6842046461","Type":"PullRequestEvent","CreatedAt":"2017-11-11T20:30:40","Actor":"MarkOMeara123","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/pull/1104","RelatedDescription":"Opened pull request \"Hubconnection Disposables\" (#1104) at aspnet/SignalR","RelatedBody":"Added ILoggerFactory and CancellationTokenSource to DisposeAsync\r\nHowever ILoggerFactory should not be disposed if Hubconnectionbuilder was not used to instantiate Hubconnection."},{"Id":"6841239407","Type":"IssuesEvent","CreatedAt":"2017-11-11T10:57:38","Actor":"MarkOMeara123","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/SignalR/issues/1099","RelatedDescription":"Closed issue \"SignalR .net Client HubConnection memory leak\" (#1099) at aspnet/SignalR","RelatedBody":"Hello\r\n\r\nThere appears a memory leak in the HubConnection.cs. Review line 35 : \r\n`private readonly CancellationTokenSource _connectionActive = new CancellationTokenSource();`\r\n\r\nThis is not disposed in the DisposeAsyncCore() method (line 126).\r\n\r\nTo replicate, the below code in a loop and review the accumulation of CancellationTokenSource objects in memory.\r\n\r\n```\r\n var connection = new HubConnectionBuilder()\r\n               .WithUrl(URL)\r\n               .WithConsoleLogger()\r\n               .Build();\r\n\r\nvar connection.DisposeAsync().Wait(1000); \r\n```\r\nCan this be corrected please, or a workaround offered?\r\n"},{"Id":"6841177706","Type":"IssuesEvent","CreatedAt":"2017-11-11T10:03:06","Actor":"davidfowl","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/SignalR/issues/1103","RelatedDescription":"Closed issue \"SignalR on Azure App Service with ARR Disabled\" (#1103) at aspnet/SignalR","RelatedBody":"Our server is scaling out with 1-3 instances in some specific period of time everyday. We have Azure Redis Backplane for connection persistency of signalr. In addition to this, the server doesn't ARR Affinity enabled. By the way we are using ServerSentEvents for Androids and WebSocket for iOS.\r\n\r\nThe problem is our mobile users(moto couriers) are disconnecting or reconnecting to SignalR server frequently because of their provider when the mobile signal is low.\r\n\r\nWe have checked all the things over mobile side. We pretty sure that we have one and only one signalr connection at a time. In addition to this when they are connected, we are storing their connectionids on persistent storage (SQL Database).\r\n\r\nWhile sending a message to users we choose the latest connection id stored on Database. This means that we only sent to client's only one connection id.\r\n\r\nHowever we get some feedbacks about the messages we sent over server popping up twice on their phones (Most of the time messages are received twice in the rush hours where server has 2 or 3 instances).\r\n\r\nWe are not able to trace it down why it is received twice especially on rush hours.\r\n\r\nThe question is, is there any chance this is about ARR Affinity? Because Redis backplane uses subscribe and publish methodology and since couriers are disconnecting/reconnecting frequently they have a chance to connect different servers, thus, when server sends a message, 2 servers might try to send that message and it is popping up on their phone twice even though they have one connection.\r\n\r\nAdditional info;\r\n\r\nSignalR DisconnectTimeOut = 60 seconds\r\n\r\nSignalR KeepAlive = 20 seconds"}],"ResultType":"GitHubEvent"},"Mvc":{"Events":[{"Id":"6841889794","Type":"IssuesEvent","CreatedAt":"2017-11-11T18:46:52","Actor":"dietrichha","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7048","RelatedDescription":"Opened issue \"DateTime Localization not working for Get Forms\" (#7048) at aspnet/Mvc","RelatedBody":"The model binder can not parse a German DateTime format like: \"30.11.2017\"\r\n\r\nLocalization is set up like this:\r\n\r\n  services.Configure<RequestLocalizationOptions>(options =>\r\n            {\r\n                var defaultCulture = new CultureInfo(\"de-DE\");\r\n                var supportedCultures = new List<CultureInfo>\r\n                {\r\n                    defaultCulture,\r\n                };\r\n\r\n                options.DefaultRequestCulture = new RequestCulture(defaultCulture);\r\n                options.SupportedCultures = supportedCultures;\r\n                options.SupportedUICultures = supportedCultures;\r\n            });\r\n\r\nIf I open an URL like https://localhost:44301/Test?From=30.11.2017 the DateTime from can not be bound / parsed. Instead I get an error in the ModelState (in the Controller):\r\n\r\nThe value '30.11.2017' is not valid for From.\r\n\r\nBut if I do the same for examples Double (in Germany we use a comma as separator) the model binds okay for: \"10,55\". \r\n\r\nI think the model binding should work for DateTime the same way as Doubles etc. seem to use the CultureInfo. \r\n\r\nSame problem described here: https://stackoverflow.com/questions/41642800/change-default-format-for-datetime-parsing-in-asp-net-core"},{"Id":"6841463275","Type":"IssuesEvent","CreatedAt":"2017-11-11T13:59:08","Actor":"pushqrdx","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7047","RelatedDescription":"Closed issue \"Support for handler name Intellisense auto completion ?\" (#7047) at aspnet/Mvc","RelatedBody":"Well i noticed that the implementation for `asp-page-handler` takes in a string which results in Intellisense not recognizing the underlying `OnGet / OnPost` handler methods in Razor Pages so i rolled on my own implementation using `nameof()` plus some magic. So unless i am missing on something is there anyway to simply do `asp-page-handler(HandlerName)` with Intellisense auto completion enabled ?"},{"Id":"6841443035","Type":"IssuesEvent","CreatedAt":"2017-11-11T13:43:09","Actor":"pushqrdx","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7047","RelatedDescription":"Opened issue \"Support for handler name Intellisense auto completion ?\" (#7047) at aspnet/Mvc","RelatedBody":"Well i noticed that the implementation for `asp-page-handler` takes in a string which results in Intellisense not recognizing the underlying `OnGet / OnPost` handler methods in Razor Pages so i rolled on my own implementation using `nameof()` plus some magic. So unless i am missing on something is there anyway to simply do `asp-page-handler(HandlerName)` with Intellisense auto completion enabled ?"},{"Id":"6840738192","Type":"IssuesEvent","CreatedAt":"2017-11-11T03:24:48","Actor":"John0King","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7046","RelatedDescription":"Opened issue \"Url generator in view  ignored  `Area` Name when  a other controller with AttributeRoute \" (#7046) at aspnet/Mvc","RelatedBody":"## MVC version\r\nAspNetCore MVC 2.0.0 on .net Framework 4.6.1\r\n\r\n## description\r\n```\r\nAreas/\r\n    Admin/\r\n        Controllers/\r\n            [Area(\"Admin\")]NewsController.Index  ---  with Route.MapRoute(\"{area:exists}/{controller=Home}/{action=Index}/{id?}\")\r\n\r\nControllers/\r\n    NewsController.Index  --with AttributeRoute [Route(\"News\")]\r\n```\r\n\r\nwhen I inside ` Admin area`  with `<a asp-action=\"Index\" asp-controller=\"News\">link</>`  ， It generate `/News` for me,\r\nand if I remove the attributeRoute or specific `asp-area=\"Admin\"`  it will generate  the right url `/Admin/News`\r\n\r\nI don't know why the `ambient values` are ignored "},{"Id":"6840197433","Type":"PullRequestEvent","CreatedAt":"2017-11-10T22:45:54","Actor":"jkotalik","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/pull/6970","RelatedDescription":"Closed pull request \"Makes MediaType (MT) a wrapper around HttpAbstractions MediaTypeHeaderValue (MTHV)\" (#6970) at aspnet/Mvc","RelatedBody":"Making this PR to identify the current issues between MT and MTHV. Here are the differences I identified.\r\n\r\n**MTHV is case sensitive and MT is case insensitive**\r\n```c#\r\n[Fact]\r\npublic void GetParameter_IsCaseInsensitive()\r\n{\r\n    // Arrange\r\n    var mediaType = \"application/json;charset=utf-8\";\r\n    var expectedParameter = new StringSegment(\"utf-8\");\r\n\r\n    var parsedMediaType = new MediaType(mediaType);\r\n\r\n    // Act\r\n    var result = parsedMediaType.GetParameter(\"CHARSET\");\r\n\r\n    // Assert\r\n    Assert.Equal(expectedParameter, result);\r\n}\r\n```\r\n\r\n**MT supports \"*\" for parameters, while MTHV says it is invalid.**\r\n```csharp\r\n[InlineData(\"text/entity+json;*\", true)]\r\n```\r\nThis will fail to parse in MTHV.\r\n\r\n**MT removes quotes around values that don't require it, while MTHV keeps them**\r\nThis passes for MT because it removes quotes around utf-8.\r\n```csharp\r\npublic static TheoryData<string> MediaTypesWithParameters\r\n{\r\n    get\r\n    {\r\n        return new TheoryData<string>\r\n        {\r\n            \"application/json+bson;format=pretty;charset=utf-8;q=0.8\",\r\n            \"application/json+bson;format=pretty;charset=\\\"utf-8\\\";q=0.8\",\r\n        };\r\n    }\r\n}\r\n\r\n[Theory]\r\n[MemberData(nameof(MediaTypesWithParameters))]\r\npublic void Constructor_CanParseMediaTypesWithParameters(string mediaType)\r\n{\r\n    // Arrange & Act\r\n    var result = new MediaType(mediaType, 0, mediaType.Length);\r\n\r\n    // Assert\r\n    Assert.Equal(new StringSegment(\"application\"), result.Type);\r\n    Assert.Equal(new StringSegment(\"json+bson\"), result.SubType);\r\n    Assert.Equal(new StringSegment(\"json\"), result.SubTypeWithoutSuffix);\r\n    Assert.Equal(new StringSegment(\"bson\"), result.SubTypeSuffix);\r\n    Assert.Equal(new StringSegment(\"pretty\"), result.GetParameter(\"format\"));\r\n    Assert.Equal(new StringSegment(\"0.8\"), result.GetParameter(\"q\"));\r\n    Assert.Equal(new StringSegment(\"utf-8\"), result.GetParameter(\"charset\"));\r\n}\r\n```\r\n**MT can take the full Accept header in the constructor, parse a single type, and not throw an exception.**\r\nWith MT, we can call\r\n```csharp\r\nvar parsedMediaType = new MediaType(\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\", start, length: null);\r\n```\r\nand it would succeed, returning the first type in the list of MediaType, \"text/html\", in the MediaType struct. MTHV will fail to parse this. We can try to parse it as a list and take the first one, but that seems bad. \r\n\r\ncc/ @muratg @Eilon "},{"Id":"6839775081","Type":"PullRequestEvent","CreatedAt":"2017-11-10T20:47:35","Actor":"jbagga","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/pull/7045","RelatedDescription":"Opened pull request \"Support input type \"week\"\" (#7045) at aspnet/Mvc","RelatedBody":"Addresses #7034 \r\n\r\n"}],"ResultType":"GitHubEvent"},"Identity":{"Events":[{"Id":"6840170769","Type":"PullRequestEvent","CreatedAt":"2017-11-10T22:37:15","Actor":"HaoK","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Identity/pull/1500","RelatedDescription":"Merged pull request \"Fix additional code path and add a test\" (#1500) at aspnet/Identity","RelatedBody":null},{"Id":"6840091001","Type":"IssuesEvent","CreatedAt":"2017-11-10T22:12:54","Actor":"AfkAtm","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Identity/issues/1498","RelatedDescription":"Closed issue \"Using Azure Active Directory OAuth with Identity ASP.NET Core 2.0\" (#1498) at aspnet/Identity","RelatedBody":"As part of the built in libraries that comes with ASP.NET Core 2.0 there is the ability to add OAuth using Microsoft accounts into the identity model.  The same way you can add Facebook, Google or Twitter.  I've used these before without issues and they are really easy to set up.  However, I've ran into no end of trouble trying to implement Azure Active Directory OAuth tying into the Identity model.  \r\n\r\nI'm not sure what I'm doing wrong as I've modeled my custom classes off of other OAuth providers and have done a great deal of research into AAD OAuth and interacting with it.  However, no matter what I do my ClaimsIdentity ends up being empty and SigninManager returns null when trying to pick up ExternalLogin information.  \r\n\r\nI've given more details on my issue over on Stack Overflow as I'm not sure if there is some misunderstanding of how this code should work on my end or if there is an issue with identity and playing with Azure Active Directory (which is why I'm adding this issue).  \r\nhttps://stackoverflow.com/questions/47188066/using-azure-active-directory-oauth-with-identity-model-in-asp-net-core-2-0"},{"Id":"6840032273","Type":"PullRequestEvent","CreatedAt":"2017-11-10T21:56:19","Actor":"HaoK","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/pull/1500","RelatedDescription":"Opened pull request \"Fix additional code path and add a test\" (#1500) at aspnet/Identity","RelatedBody":null}],"ResultType":"GitHubEvent"},"Kestrel":{"Events":[{"Id":"6841207725","Type":"IssuesEvent","CreatedAt":"2017-11-11T10:29:32","Actor":"davidfowl","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2156","RelatedDescription":"Opened issue \"Consider supporting unix domain sockets with SocketTransport\" (#2156) at aspnet/KestrelHttpServer","RelatedBody":"Seems like it's possible. \r\n\r\nhttps://github.com/dotnet/corefx/blob/958511d023231f120109967484fb63ae1837e6b8/src/System.IO.Pipes/src/System/Net/Sockets/UnixDomainSocketEndPoint.cs\r\n\r\nhttps://github.com/dotnet/corefx/blob/b5d0c3277dc384a23fee2e57a0b5c232c99dbd88/src/System.IO.Pipes/src/System/IO/Pipes/NamedPipeServerStream.Unix.cs#L290-L301\r\n\r\nIt would be cleaner if we kept using the socket APIs and could just copy that end point logic over to kestrel. Ideally we wouldn't have to use the pipe API to support this.\r\n\r\n/cc @stephentoub "},{"Id":"6840353723","Type":"IssuesEvent","CreatedAt":"2017-11-10T23:43:52","Actor":"ryanbrandenburg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1955","RelatedDescription":"Closed issue \"Flaky test: ConnectionClosedWhenResponseDoesNotSatisfyMinimumDataRate\" (#1955) at aspnet/KestrelHttpServer","RelatedBody":"Saw this test failure on Travis today. Appears to have failed this assertion:\r\n```c#\r\nAssert.True(aborted.Wait(TimeSpan.FromSeconds(60)));\r\n```\r\n\r\n\r\n```\r\nFailed   ConnectionClosedWhenResponseDoesNotSatisfyMinimumDataRate\r\nError Message:\r\n Assert.True() Failure\r\nExpected: True\r\nActual:   False\r\nStack Trace:\r\n   at Microsoft.AspNetCore.Server.Kestrel.FunctionalTests.ResponseTests.<ConnectionClosedWhenResponseDoesNotSatisfyMinimumDataRate>d__64.MoveNext() in /home/travis/build/aspnet/KestrelHttpServer/test/Kestrel.FunctionalTests/ResponseTests.cs:line 2499\r\n```\r\n\r\nhttps://travis-ci.org/aspnet/KestrelHttpServer/jobs/252952635#L994-L1000\r\n\r\ncc @cesarbs "},{"Id":"6839857904","Type":"IssuesEvent","CreatedAt":"2017-11-10T21:09:44","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1993","RelatedDescription":"Closed issue \"Deadlock on shutdown\" (#1993) at aspnet/KestrelHttpServer","RelatedBody":"Hello.\r\n\r\nThe problem is - `dotnet.exe` hangs on shutdown after loading Angular application\r\n\r\nHow to reproduce:\r\n1. `dotnet new angular`\r\n1. open in VS2017 and start via IIS\r\n1. after application starts do some job (click Increment in Counter, fetch some data, and again)\r\n1. close browser\r\n1. if nothing happens, do it one more time\r\n1. application hangs\r\n\r\nThe problem is this happens not only with IIS Express, the same situation is with IIS on WS2012. So it makes impossible to deploy the application (after creating app_offline.htm `dotnet.exe` does not stops, and it keeps application assemblies in use, i'v checked with [Hadnle](https://docs.microsoft.com/en-us/sysinternals/downloads/handle) that it is `dotnet.exe` who uses file).\r\n\r\n```\r\nPS D:\\job\\jade.git> dotnet --info\r\n.NET Command Line Tools (1.0.4)\r\n\r\nProduct Information:\r\n Version:            1.0.4\r\n Commit SHA-1 hash:  af1e6684fd\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.15063\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\1.0.4\r\n```\r\n\r\nVS threads & error above\r\n\r\n![image](https://user-images.githubusercontent.com/787292/29213482-e5a97112-7ebc-11e7-9074-33182067db00.png)\r\n\r\n![image](https://user-images.githubusercontent.com/787292/29213277-fa9c8862-7ebb-11e7-88ea-a5cca57ba7f4.png)\r\n\r\nAlso some console output (you can find it useful):\r\n```\r\nThe program '[2480] chrome.exe: WebKit' has exited with code -1 (0xffffffff).\r\nMicrosoft.AspNetCore.Server.Kestrel:Information: Connection id \"0HL70MQFQ3J21\" communication error.\r\n\r\nMicrosoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled\r\n'dotnet.exe' (CoreCLR: clrhost): Loaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\1.1.2\\Microsoft.Win32.Primitives.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\r\n'dotnet.exe' (CoreCLR: clrhost): Loaded 'C:\\Users\\ili\\.nuget\\packages\\system.diagnostics.stacktrace\\4.3.0\\lib\\netstandard1.3\\System.Diagnostics.StackTrace.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\r\n'dotnet.exe' (CoreCLR: clrhost): Loaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\1.1.2\\System.IO.MemoryMappedFiles.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\r\n'dotnet.exe' (CoreCLR: clrhost): Loaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\1.1.2\\System.IO.UnmanagedMemoryStream.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\r\nMicrosoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware:Error: An unhandled exception has occurred while executing the request\r\n\r\nSystem.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.IO.Stream.<CopyToAsyncInternal>d__27.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<PerformProxyRequest>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\nMicrosoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware:Error: An unhandled exception has occurred while executing the request\r\n\r\nSystem.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.IO.Stream.<CopyToAsyncInternal>d__27.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<PerformProxyRequest>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\nMicrosoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware:Warning: The response has already started, the error page middleware will not be executed.\r\nMicrosoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware:Warning: The response has already started, the error page middleware will not be executed.\r\nMicrosoft.AspNetCore.Server.Kestrel:Error: Connection id \"0HL70MQFQ3J21\": An unhandled exception was thrown by the application.\r\n\r\nSystem.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.IO.Stream.<CopyToAsyncInternal>d__27.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<PerformProxyRequest>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__8.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.Frame`1.<RequestProcessingAsync>d__2.MoveNext()\r\nMicrosoft.AspNetCore.Hosting.Internal.WebHost:Information: Request finished in 13467.0849ms 200 text/event-stream; charset=utf-8\r\nMicrosoft.AspNetCore.Server.Kestrel:Error: Connection id \"0HL70MQFQ3J22\": An unhandled exception was thrown by the application.\r\n\r\nSystem.Threading.Tasks.TaskCanceledException: A task was canceled.\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.IO.Stream.<CopyToAsyncInternal>d__27.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<PerformProxyRequest>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.SpaServices.Webpack.ConditionalProxyMiddleware.<Invoke>d__6.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__8.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.Frame`1.<RequestProcessingAsync>d__2.MoveNext()\r\nMicrosoft.AspNetCore.Hosting.Internal.WebHost:Information: Request finished in 5305.7273ms 200 text/event-stream; charset=utf-8\r\nThe thread 0xbc40 has exited with code 0 (0x0).\r\nThe thread 0x559c has exited with code 0 (0x0).\r\nThe thread 0x48c8 has exited with code 0 (0x0).\r\nThe thread 0xb604 has exited with code 0 (0x0).\r\nThe thread 0x8b48 has exited with code 0 (0x0).\r\nThe thread 0xcbc8 has exited with code 0 (0x0).\r\nThe thread 0xb72c has exited with code 0 (0x0).\r\nThe thread 0xc968 has exited with code 0 (0x0).\r\n\r\n```\r\n\r\n\r\n"},{"Id":"6839852723","Type":"IssuesEvent","CreatedAt":"2017-11-10T21:08:24","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1992","RelatedDescription":"Closed issue \"Allow Visual Studio to break on unhandled exceptions\" (#1992) at aspnet/KestrelHttpServer","RelatedBody":"Usually Visual Studio breaks on unhandled exceptions.\r\n\r\nWhen running Kestrel any exceptions in code serving HTTP requests appear to be caught by Kestrel and reported to the console.\r\n\r\n`Err.\r\n        [Microsoft.AspNetCore.Server.Kestrel] Connection id \"0HL70LNDQA2FS\": An unhandled exception was thrown by the application.\r\n        C:\\Users\\my\\Source\\bin\\Debug\\net461\\win7-x86\\Microsoft.Extensions.Logging.dll.Microsoft.Extensions.Logging.Logger.Log(...)`\r\n\r\nIs there a way to prevent kestrel from catching the exception, allowing it to be caught by the Visual Studio IDE?\r\nWithout the option \"Break when this exception type is thrown\"\r\n\r\n![image](https://user-images.githubusercontent.com/505330/29211816-844ffd12-7e9b-11e7-88e9-de6956158386.png)\r\n\r\n"},{"Id":"6839849995","Type":"IssuesEvent","CreatedAt":"2017-11-10T21:07:40","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1982","RelatedDescription":"Closed issue \"413 Payload Too Large on ASP.NET 2.0 \" (#1982) at aspnet/KestrelHttpServer","RelatedBody":"_From @maroallegro on August 3, 2017 12:49_\n\nWebApi created in .NetCore 2.0 by default references AspNetCore 2.0:\r\n\r\n```c#\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.AspNetCore.All\" Version=\"2.0.0-preview2-final\" />\r\n  </ItemGroup>\r\n```\r\n\r\nWhen we will not use IIS, but make startup project which starts WebApi:\r\n\r\n```c#\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            BuildWebHost().Run();\r\n        }\r\n\r\n        private static IWebHost BuildWebHost()\r\n        {\r\n            return new WebHostBuilder().UseContentRoot(Directory.GetCurrentDirectory()).UseKestrel()\r\n                .UseStartup<Startup>().UseUrls(\"http://localhost:59039/\").Build();\r\n        }\r\n    }\r\n```\r\nit is impossible to send 60 MB file, because WebApi throws 413 Payload Too Large error.\r\n\r\nSituation occurs despite of:\r\n-changing `maxAllowedContentLength` in `web.config` to bigger value\r\n-changing FormOptions in Startup.cs file\r\n\r\n```c#\r\n        public void ConfigureServices(IServiceCollection services)\r\n        {\r\n            // Add framework services.\r\n            services.Configure<FormOptions>(\r\n                options =>\r\n                    {\r\n                        options.MultipartBodyLengthLimit = 80000000;\r\n                        options.ValueLengthLimit = int.MaxValue;\r\n                        options.MultipartHeadersLengthLimit = int.MaxValue;\r\n                    });\r\n            services.AddMvc();\r\n        }\r\n```\r\n-moving web.config files to root folders\r\n\r\nProblem do not occur in .NETCore 1.1 WebApi because they references to AspNetCore 1.1:\r\n```c#\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.ApplicationInsights.AspNetCore\" Version=\"2.0.0\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore\" Version=\"1.1.2\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore.Mvc\" Version=\"1.1.3\" />\r\n    <PackageReference Include=\"Microsoft.Extensions.Logging.Debug\" Version=\"1.1.2\" />\r\n  </ItemGroup>\r\n```\r\nTo solve the problem in .NetCore 2.0 WebApi we can change:\r\n\r\n```c#\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.AspNetCore.All\" Version=\"2.0.0-preview2-final\" />\r\n  </ItemGroup>\r\n```\r\n\r\nto:\r\n\r\n```c#\r\n  <ItemGroup>\r\n    <PackageReference Include=\"Microsoft.ApplicationInsights.AspNetCore\" Version=\"2.0.0\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore\" Version=\"1.1.2\" />\r\n    <PackageReference Include=\"Microsoft.AspNetCore.Mvc\" Version=\"1.1.3\" />\r\n    <PackageReference Include=\"Microsoft.Extensions.Logging.Debug\" Version=\"1.1.2\" />\r\n  </ItemGroup>\r\n```\r\n\r\nPlease see projects below which shows the problem. When running specific WebApi set Starter project as Startup project.\r\n\r\n[FileTransferTestApp.zip](https://github.com/aspnet/Mvc/files/1197217/FileTransferTestApp.zip)\r\n\r\n\r\n\n\n_Copied from original issue: aspnet/Mvc#6623_"},{"Id":"6839836700","Type":"IssuesEvent","CreatedAt":"2017-11-10T21:04:07","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1964","RelatedDescription":"Closed issue \"Websocket stop working? \" (#1964) at aspnet/KestrelHttpServer","RelatedBody":"In my applicartion, I am using the web socket to update the status of data generationin the database. It works perfectly when one person is using. However when multiple users are trying to access this feature. web socket closes all the sudden.\r\nI am trying to get the point where is the bottom neck. I have set up the JMeter to test the websocket and found out I am getting this error message. \r\n\r\nMicrosoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4081 ECANCELED operation canceled\r\nMicrosoft.AspNetCore.Server.Kestrel: Information: Connection id \"0HL6FPVS1U8A1\" communication error.\r\n\r\nI was wondering if any has the similar problem or if there are any workaround I can make.\r\n\r\n\r\n"},{"Id":"6839827071","Type":"IssuesEvent","CreatedAt":"2017-11-10T21:01:31","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1921","RelatedDescription":"Closed issue \"Nginx 111: Connection refused errors.\" (#1921) at aspnet/KestrelHttpServer","RelatedBody":"I'm running ASP.NET Core Application behind Nginx. Sometimes, nginx will be given an error: \r\n\r\n`5181277 connect() failed (111: Connection refused) while connecting to upstream, client: x.x.x.x, server: , request: \"GET /xxx/xxx?key=value HTTP/1.1\", upstream: \"http://xxxxx:1234/xxx/xxx?key=value\", host: \"xx.xxxxx.com\"`\r\n\r\nThe nginx configuration like this:\r\n\r\n```\r\nuser  nginx;\r\nworker_processes  1;\r\nerror_log  /var/log/nginx/error.log warn;\r\npid        /var/run/nginx.pid;\r\n\r\n\r\nevents {\r\n    worker_connections  1024;\r\n}\r\n\r\n\r\nhttp {\r\n    include       /etc/nginx/mime.types;\r\n    default_type  application/octet-stream;\r\n\r\n#    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\r\n#                      '$status $body_bytes_sent \"$http_referer\" '\r\n#                      '\"$http_user_agent\"' '$http_x_forwarded_for' '\"$proxy_add_x_forwarded_for\"';\r\n\r\nlog_format main '{ \"@timestamp\": \"$time_local\", '\r\n                         '\"@fields\": { '\r\n                         '\"remote_addr\": \"$remote_addr\", '\r\n                         '\"remote_user\": \"$remote_user\", '\r\n                         '\"upstream_addr\": \"$upstream_addr\", '\r\n                         '\"upstream_response_time\": \"$upstream_response_time\", '\r\n                         '\"body_bytes_sent\": \"$body_bytes_sent\", '\r\n                         '\"request_time\": \"$request_time\", '\r\n                         '\"status\": \"$status\", '\r\n                         '\"request\": \"$request\", '\r\n                         '\"request_method\": \"$request_method\", '\r\n                         '\"request_uri\": \"$request_uri\", '\r\n                         '\"http_referer\": \"$http_referer\", '\r\n                         '\"body_bytes_sent\":\"$body_bytes_sent\", '\r\n                         '\"http_x_forwarded_for\": \"$http_x_forwarded_for\", '\r\n                         '\"proxy_add_x_forwarded_for\": \"$proxy_add_x_forwarded_for\", '\r\n                         '\"http_user_agent\": \"$http_user_agent\" } }';\r\n\r\n\r\n\r\n    access_log  /var/log/nginx/access.log  main;\r\n\r\n    sendfile        on;\r\n    #tcp_nopush     on;\r\n\r\n    keepalive_timeout  65;\r\n\r\n    gzip  on;\r\n    gzip_comp_level    5;\r\n    gzip_min_length    256;\r\n    gzip_proxied       any;\r\n    gzip_vary          on;\r\n    gzip_types\r\n      application/atom+xml\r\n      application/javascript\r\n      application/json\r\n      application/ld+json\r\n      application/manifest+json\r\n      application/rss+xml\r\n      application/vnd.geo+json\r\n      application/vnd.ms-fontobject\r\n      application/x-font-ttf\r\n      application/x-web-app-manifest+json\r\n      application/xhtml+xml\r\n      application/xml\r\n      font/opentype\r\n      image/bmp\r\n      image/svg+xml\r\n      image/x-icon\r\n      text/cache-manifest\r\n      text/css\r\n      text/plain\r\n      text/vcard\r\n      text/vnd.rim.location.xloc\r\n      text/vtt\r\n      text/x-component\r\n      text/x-cross-domain-policy;\r\n\r\n    #\r\n# Wide-open CORS config for nginx\r\n#\r\n\r\n    include /etc/nginx/conf.d/*.conf;\r\n}\r\n```\r\n\r\n```\r\nupstream visitor {\r\n#        server 172.31.31.228:5005;\r\n        server 172.31.5.38:5005;\r\n    }\r\n\r\nlocation ^~ /visitor/ {\r\n        proxy_pass http://visitor/;\r\n\r\n        proxy_buffer_size  128k;\r\n\r\n        proxy_buffers   32 32k;\r\n\r\n        proxy_busy_buffers_size 128k;\r\n        proxy_http_version 1.1;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header REMOTE-HOST $remote_addr;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n        proxy_set_header Upgrade $http_upgrade;\r\n        proxy_set_header Connection keep-alive;\r\n        proxy_set_header Host $host:$server_port;\r\n        proxy_cache_bypass $http_upgrade;\r\n    }\r\n```\r\n\r\nI'm sure my ASP.NET Core WebAPI is working well, but the client received 502 error. How can I resolve this problem?"},{"Id":"6839771533","Type":"IssuesEvent","CreatedAt":"2017-11-10T20:46:33","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1857","RelatedDescription":"Closed issue \" An unhandled exception has occurred: Error -4077 ECONNRESET connection reset by peer \" (#1857) at aspnet/KestrelHttpServer","RelatedBody":"I have two asp.net core 1.1.2 node with an iis arr 3 as load balancer in front of it.\r\nsuddenly i get the following error\r\n\r\n> An unhandled exception has occurred: Error -4077 ECONNRESET connection reset by peer\r\n\r\nwith this trace log :\r\n\r\n```\r\nMicrosoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware\r\n\r\nSystem.IO.IOException: Error -4077 ECONNRESET connection reset by peer ---> Microsoft.AspNetCore.Server.Kestrel.Internal.Networking.UvException: Error -4077 ECONNRESET connection reset by peer\r\n\r\n   --- End of inner exception stack trace ---\r\n\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.SocketInput.CheckConnectionError()\r\n\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.SocketInputExtensions.<PeekAsyncAwaited>d__3.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\r\n\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.MessageBody.ForContentLength.<PeekAsyncAwaited>d__4.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\r\n\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.MessageBody.<ReadAsyncAwaited>d__12.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.IO.StreamReader.<ReadBufferAsync>d__102.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at System.IO.StreamReader.<ReadAsyncInternal>d__69.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<BufferAsync>d__41.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<ReadNextPairAsyncImpl>d__34.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<ReadFormAsync>d__43.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Http.Features.FormFeature.<InnerReadFormAsync>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgeryTokenStore.<GetRequestTokensAsync>d__3.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.<ValidateRequestAsync>d__9.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.<OnAuthorizationAsync>d__3.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.<Invoke>d__2.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.<Invoke>d__2.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at NWebsec.AspNetCore.Middleware.Middleware.MiddlewareBase.<Invoke>d__2.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Session.SessionMiddleware.<Invoke>d__9.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>d__6.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>d__6.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.<Invoke>d__3.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__8.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()\r\n\r\n--- End of stack trace from previous location where exception was thrown ---\r\n\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.Http.Frame`1.<RequestProcessingAsync>d__2.MoveNext()\r\n\r\n```\r\n i also checked iis arr **sc-substatus** and **sc-status** which are 604 and 404 respectively but i don't know if its related to above issue or not.\r\n\r\nalso dump log for threads looks something like this\r\n\r\n\r\n```\r\n000000e6d97fec10 00007ff904233acf KERNELBASE!WaitForSingleObjectEx + 0x8f, calling ntdll!NtWaitForSingleObject\r\n000000e6d97fecb0 00007ff8deed3ad3 coreclr!CLRSemaphore::Wait + 0x63, calling kernel32!WaitForSingleObjectEx\r\n000000e6d97fece0 00007ff8dee514b5 coreclr!ThreadpoolMgr::AdjustMaxWorkersActive + 0xa5, calling coreclr!HillClimbing::Update\r\n000000e6d97fecf0 00007ff8dedf30fa coreclr!Thread::InternalReset + 0xc6, calling coreclr!Thread::SetBackground\r\n000000e6d97fed70 00007ff8dee037ea coreclr!ThreadpoolMgr::UnfairSemaphore::Wait + 0x126, calling coreclr!CLRSemaphore::Wait\r\n000000e6d97fedc0 00007ff8dedf5f0f coreclr!ThreadpoolMgr::WorkerThreadStart + 0x13f, calling coreclr!ThreadpoolMgr::UnfairSemaphore::Wait\r\n000000e6d97fedf0 00007ff8dee749f9 coreclr!EEHeapFreeInProcessHeap + 0x29, calling kernel32!HeapFreeStub\r\n000000e6d97fee20 00007ff8dede7beb coreclr!operator delete + 0x33\r\n000000e6d97fee60 00007ff8dedf6efb coreclr!Thread::intermediateThreadProc + 0x8b\r\n000000e6d97feef0 00007ff90422e39a KERNELBASE!ConsoleCallServerGeneric + 0x116, calling KERNELBASE!_security_check_cookie\r\n000000e6d97ff030 00007ff9071a8f98 ntdll!RtlpLowFragHeapAllocFromContext + 0x378, calling ntdll!memset\r\n000000e6d97ff040 00007ff9071a8f98 ntdll!RtlpLowFragHeapAllocFromContext + 0x378, calling ntdll!memset\r\n000000e6d97ff050 00007ff90422e178 KERNELBASE!ConsoleCallServer + 0x3c, calling KERNELBASE!ConsoleCallServerGeneric\r\n000000e6d97ff060 00007ff9071a8f98 ntdll!RtlpLowFragHeapAllocFromContext + 0x378, calling ntdll!memset\r\n000000e6d97ff100 00007ff9071a7a68 ntdll!RtlpAllocateHeapInternal + 0xf8, calling ntdll!RtlpLowFragHeapAllocFromContext\r\n000000e6d97ff1c0 00007ff8edd38988 libuv!__crt_seh_guarded_call<void>::operator()<<lambda_fb3a7dec4e47f37f22dae91bb15c9095>,<lambda_698284760c8add0bfb0756c19673e34b> & __ptr64,<lambda_dfb8eca1e75fef3034a8fb18dd509707> > + 0x284, calling libuv!_acrt_add_locale_ref\r\n000000e6d97ff1f0 00007ff8edd386b6 libuv!__crt_seh_guarded_call<void>::operator()<<lambda_5e887d1dcbef67a5eb4283622ba103bf>,<lambda_4466841279450cc726390878d4a41900> & __ptr64,<lambda_341c25c0346d94847f1f3c463c57e077> > + 0x3a, calling libuv!_acrt_unlock\r\n000000e6d97ff200 00007ff8fb4c2355 version!DllMain + 0x35, calling kernel32!TlsSetValueStub\r\n000000e6d97ff230 00007ff9071d0800 ntdll!RtlSetLastWin32Error + 0x40, calling ntdll!_security_check_cookie\r\n000000e6d97ff250 00007ff8ebc8837a Microsoft_DiaSymReader_Native_amd64!_vcrt_FlsSetValue + 0x4a\r\n000000e6d97ff280 00007ff8ebc87bd9 Microsoft_DiaSymReader_Native_amd64!_vcrt_getptd_noexit + 0xa5, calling kernel32!SetLastErrorStub\r\n000000e6d97ff2b0 00007ff8ebc87409 Microsoft_DiaSymReader_Native_amd64!_vcrt_thread_attach + 0x9, calling Microsoft_DiaSymReader_Native_amd64!_vcrt_getptd_noexit\r\n000000e6d97ff2e0 00007ff8ebc84b36 Microsoft_DiaSymReader_Native_amd64!_scrt_dllmain_crt_thread_attach + 0x16, calling Microsoft_DiaSymReader_Native_amd64!TMEQTS::IsTMEQTS\r\n000000e6d97ff2f0 00007ff90719a296 ntdll!RtlDeactivateActivationContextUnsafeFast + 0xf6, calling ntdll!_security_check_cookie\r\n000000e6d97ff310 00007ff8ebc84559 Microsoft_DiaSymReader_Native_amd64!dllmain_crt_dispatch + 0x2d, calling Microsoft_DiaSymReader_Native_amd64!_scrt_dllmain_crt_thread_attach\r\n000000e6d97ff320 00007ff907197e53 ntdll!RtlActivateActivationContextUnsafeFast + 0x93, calling ntdll!_security_check_cookie\r\n000000e6d97ff340 00007ff8ebc847a0 Microsoft_DiaSymReader_Native_amd64!dllmain_dispatch + 0x74, calling Microsoft_DiaSymReader_Native_amd64!DllMain\r\n000000e6d97ff380 00007ff907177874 ntdll!LdrpCallTlsInitializers + 0x3c, calling ntdll!RtlReleaseSRWLockShared\r\n000000e6d97ff3a0 00007ff90719a35f ntdll!LdrpCallInitRoutine + 0x4b\r\n000000e6d97ff3c0 00007ff90717fd30 ntdll!LdrpReleaseLoaderLock + 0x20, calling ntdll!RtlLeaveCriticalSection\r\n000000e6d97ff3d0 00007ff9071ebab4 ntdll!LdrpDropLastInProgressCount + 0x38, calling ntdll!RtlLeaveCriticalSection\r\n000000e6d97ff400 00007ff907197d6a ntdll!LdrpInitializeThread + 0x20a, calling ntdll!LdrpDropLastInProgressCount\r\n000000e6d97ff470 00007ff907197cac ntdll!LdrpInitializeThread + 0x14c, calling ntdll!RtlActivateActivationContextUnsafeFast\r\n000000e6d97ff478 00007ff907197cdb ntdll!LdrpInitializeThread + 0x17b, calling ntdll!RtlDeactivateActivationContextUnsafeFast\r\n000000e6d97ff4c0 00007ff907197d35 ntdll!LdrpInitializeThread + 0x1d5, calling ntdll!RtlActivateActivationContextUnsafeFast\r\n000000e6d97ff4c8 00007ff907197d52 ntdll!LdrpInitializeThread + 0x1f2, calling ntdll!RtlDeactivateActivationContextUnsafeFast\r\n000000e6d97ff4f0 00007ff9071ea092 ntdll!_LdrpInitialize + 0x8e, calling ntdll!NtTestAlert\r\n000000e6d97ff570 00007ff9071e9fb8 ntdll!LdrInitializeThunk + 0x18, calling ntdll!NtContinue\r\n000000e6d97ff9e0 00007ff8dedf6ed6 coreclr!Thread::intermediateThreadProc + 0x66, calling coreclr!_chkstk\r\n000000e6d97ffa20 00007ff906a58364 kernel32!BaseThreadInitThunk + 0x14, calling kernel32!guard_dispatch_icall_nop\r\n000000e6d97ffa50 00007ff9071d70d1 ntdll!RtlUserThreadStart + 0x21, calling ntdll!guard_dispatch_icall_nop\r\n\r\n```\r\nbut again i don't know if dump is related to error -4077 or not\r\n\r\nany suggestion or help would be appreciated?"},{"Id":"6839715337","Type":"IssuesEvent","CreatedAt":"2017-11-10T20:31:35","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/1899","RelatedDescription":"Closed issue \"Consistently handle invalid chunk sizes in request bodies\" (#1899) at aspnet/KestrelHttpServer","RelatedBody":"Sometimes invalid chunk sizes in chunked request bodies result in a 400 response, and other times the connection is simply closed. [Here's why.](https://github.com/aspnet/KestrelHttpServer/blob/a97c08843c620171b8ca781fd1d7fe8b7af0ac4a/src/Microsoft.AspNetCore.Server.Kestrel.Core/Internal/Http/MessageBody.cs#L749-L754) Given an OverflowException, I think we should call ThrowRequestRejected like we do for a character out of range which would result in a 4XX response."}],"ResultType":"GitHubEvent"},"Razor":{"Events":[{"Id":"6842401071","Type":"IssuesEvent","CreatedAt":"2017-11-12T01:02:08","Actor":"thanhnntq","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/1766","RelatedDescription":"Opened issue \"Targeted tag name cannot be null or whitespace.\" (#1766) at aspnet/Razor","RelatedBody":"An error occurred during the compilation of a resource required to process this request. Please review the following specific error details and modify your source code appropriately.\r\n...\\TNHeThong\\TNLoi\\ChucNang\\TNChucNang.QuanTriHeThong\\Views\\Home\\Index.cshtml\r\n\r\n    Targeted tag name cannot be null or whitespace.\r\n\r\n[TNHeThong.zip](https://github.com/aspnet/Razor/files/1464284/TNHeThong.zip)\r\n"},{"Id":"6841463710","Type":"IssuesEvent","CreatedAt":"2017-11-11T13:59:27","Actor":"pushqrdx","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/1765","RelatedDescription":"Opened issue \"Support for handler name Intellisense auto completion ?\" (#1765) at aspnet/Razor","RelatedBody":"Well i noticed that the implementation for `asp-page-handler` takes in a string which results in Intellisense not recognizing the underlying `OnGet / OnPost` handler methods in Razor Pages so i rolled on my own implementation using `nameof()` plus some magic. So unless i am missing on something is there anyway to simply do `asp-page-handler(HandlerName)` with Intellisense auto completion enabled ?"},{"Id":"6840410699","Type":"IssuesEvent","CreatedAt":"2017-11-11T00:07:39","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/1764","RelatedDescription":"Opened issue \"Own _ViewImports.cshtml file change detection\" (#1764) at aspnet/Razor","RelatedBody":"Right now WTE owns the monitoring of `_ViewImports.cshtml` and then appropriately re-parsing impacted cshtml files. We should own that code."},{"Id":"6840357017","Type":"PullRequestEvent","CreatedAt":"2017-11-10T23:45:14","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/pull/1763","RelatedDescription":"Closed pull request \"Use CodeAnalysis.Razor services instead of legacy ones.\" (#1763) at aspnet/Razor","RelatedBody":"- Deleted Legacy/* services that were not TagHelper related (that will be deleted once the TagHelper project system is in place) and moved to using CodeAnalysis.Razor services.\r\n- Deleted corresponding legacy tests.\r\n- Exported public API services in `Microsoft.VisualStudio.Editor.Razor` so external components can utilize MEF to bring them in. We use Roslyn workspace services internally to pass our own services around.\r\n- Made changes on the WTE side to consume these bits and all their tests pass.\r\n\r\n#1762"},{"Id":"6839444600","Type":"PullRequestEvent","CreatedAt":"2017-11-10T19:23:52","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/pull/1763","RelatedDescription":"Opened pull request \"Use CodeAnalysis.Razor services instead of legacy ones.\" (#1763) at aspnet/Razor","RelatedBody":"- Deleted Legacy/* services that were not TagHelper related (that will be deleted once the TagHelper project system is in place) and moved to using CodeAnalysis.Razor services.\r\n- Deleted corresponding legacy tests.\r\n- Exported public API services in `Microsoft.VisualStudio.Editor.Razor` so external components can utilize MEF to bring them in. We use Roslyn workspace services internally to pass our own services around.\r\n- Made changes on the WTE side to consume these bits and all their tests pass.\r\n\r\n#1762"},{"Id":"6835366695","Type":"PullRequestEvent","CreatedAt":"2017-11-10T00:45:27","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Razor/pull/1761","RelatedDescription":"Merged pull request \"Preparing to update to 2.2 SDK\" (#1761) at aspnet/Razor","RelatedBody":""},{"Id":"6835088289","Type":"PullRequestEvent","CreatedAt":"2017-11-09T23:19:59","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/pull/1761","RelatedDescription":"Opened pull request \"Preparing to update to 2.2 SDK\" (#1761) at aspnet/Razor","RelatedBody":""},{"Id":"6833373186","Type":"IssuesEvent","CreatedAt":"2017-11-09T17:15:39","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/1760","RelatedDescription":"Opened issue \"Make TagHelperDescriptorFactory errors provide more information\" (#1760) at aspnet/Razor","RelatedBody":"For instance, when a `TagHelper`s tag name or attribute name is null or whitespace we don't provide the TagHelper type that we're looking at. If we put that information in the error it would be much easier to diagnose issues.\r\n\r\nFor instance: https://github.com/aspnet/Mvc/issues/7029"}],"ResultType":"GitHubEvent"},"Templates":{"Events":[{"Id":"6760798601","Type":"IssuesEvent","CreatedAt":"2017-10-24T22:00:58","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/67","RelatedDescription":"Closed issue \"External Logins does not set the Email\" (#67) at aspnet/Templates","RelatedBody":"- Enable Facebook Login\n- Login using Facebook for the first time\n- Email field is blank. It should be set from what we got from Facebook\n"},{"Id":"6760789807","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:58:48","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/86","RelatedDescription":"Closed issue \"Identity: Consider less generic name for ManageController\" (#86) at aspnet/Templates","RelatedBody":"Manage is a very generic name and you would probably expect http://abcdefg/Manage to be about managing something from your applications business domain rather than user accounts.\n\nManageAccount would probably be a better name.\n"},{"Id":"6760785159","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:57:37","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/115","RelatedDescription":"Closed issue \"Need more templates\" (#115) at aspnet/Templates","RelatedBody":"MVC 6 project templates should include a test project template. And the main ASP.NET 5 Preview Templates / Web Application or ... / Empty templates should have a few more sub-options, enabling for example addition and removal of XML support, creation of a minimal MVC project, or adding in EF (without choosing Individual User Accounts authentication).\n\nHopefully this will allow the new project dialogue to enable the options shown below -- plus a few options specific to MVC 6.\n![disabled project features](https://cloud.githubusercontent.com/assets/6431421/8257821/2a76a606-1665-11e5-8e75-cdb21473f6a1.png)\n"},{"Id":"6760779940","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:56:18","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/104","RelatedDescription":"Closed issue \"OrgAuth: Account Controller should return void\" (#104) at aspnet/Templates","RelatedBody":"Since https://github.com/aspnet/Mvc/issues/2409 is fixed. We should change the AccountController for SSO/ MultiOrg to return void\n"},{"Id":"6760777806","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:55:46","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/120","RelatedDescription":"Closed issue \"Template feedback\" (#120) at aspnet/Templates","RelatedBody":"Porting from MVC repo https://github.com/aspnet/Mvc/issues/2637\n"},{"Id":"6760775251","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:55:10","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/137","RelatedDescription":"Closed issue \"Need a SPA template\" (#137) at aspnet/Templates","RelatedBody":""},{"Id":"6760770959","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:54:08","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/365","RelatedDescription":"Closed issue \"Poor user and dev experience in Identity email confirmation\" (#365) at aspnet/Templates","RelatedBody":"There are two issues using the default template for identity when using email confirmation.\n\nFollowing the guide here: http://docs.asp.net/en/latest/security/authentication/accconfirm.html\n\nPoor user experience: When you click \"Register\" it sends the email off, but just redirects the user to the Home controller. Redirecting to something else to indicate they have to confirm their account would be a better example. Perhaps the default template should have such a view OOTB.\n\nPoor dev experience: When logging in with an external account (lets say Facebook) if the account doesn't exist you get thrown into AccountController.ExternalLoginConfirmation, great. This screen requires an email, so you complete the registration then you're logged in but never shoots off the email confirmation link here. Perhaps a commented out section in this action to deal with this would improve the dev experience here.\n"},{"Id":"6760770378","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:59","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/382","RelatedDescription":"Closed issue \"MVC Template Should Apply ResponseCache Attribute to Error Action\" (#382) at aspnet/Templates","RelatedBody":"HomeController.Error() should be updated:\n\n```\n    [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]\n    public IActionResult Error()\n    {\n        return View();\n    }\n```\n\nThere is no good scenario where you would want errors to be cached, either on the client or via a proxy, or to have error information stored in such caches (especially if it might contain sensitive information in stack traces, etc.).\n"},{"Id":"6760769801","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:51","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/406","RelatedDescription":"Closed issue \"Add a flow for changing email in the Manage page\" (#406) at aspnet/Templates","RelatedBody":"Porting from ASP.NET Identity repo https://github.com/aspnet/Identity/issues/727\n"},{"Id":"6760769204","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:42","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/423","RelatedDescription":"Closed issue \"Don't create Project_Readme.html for ASP.NET 5 Empty\" (#423) at aspnet/Templates","RelatedBody":"I created an empty project for both ASP.NET 4 and ASP.NET 5. The ASP.NET 5 project had a Project_Readme.html and the ASP.NET 4 one did not. I'm not aware if that was on purpose or not, but we should be consistent with the empty projects. I think we should not add the Project_Readme.html for all Empty projects.\n"},{"Id":"6760768174","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:28","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/444","RelatedDescription":"Closed issue \"Support On-Premises option for Work & School Accounts\" (#444) at aspnet/Templates","RelatedBody":"Support this for Web APIs and Web Apps.\n"},{"Id":"6760767634","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:19","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/451","RelatedDescription":"Closed issue \"ValidationSummary.All should be replaced with ModelOnly\" (#451) at aspnet/Templates","RelatedBody":"All the views in the Accounts folder use\n`<div asp-validation-summary=\"ValidationSummary.All\" class=\"text-danger\"></div>`\n\nThey should just use \n`<div asp-validation-summary=\"ValidationSummary.ModelOnly\" class=\"text-danger\"></div>`\n\nSo you get each error twice. \n\n![image](https://cloud.githubusercontent.com/assets/3605364/13896326/ae916ee2-ed2b-11e5-8bf5-f9ad5246e82c.png)\n"},{"Id":"6760767057","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:11","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/490","RelatedDescription":"Closed issue \"Show external providers on the Register page\" (#490) at aspnet/Templates","RelatedBody":"The individual auth template has a login page and a register page. Login shows a password login and external providers. Register only shows a password login. Register should also show external providers, as this is where new users will go to sign-up.\n"},{"Id":"6760766431","Type":"IssuesEvent","CreatedAt":"2017-10-24T21:53:02","Actor":"Eilon","Repository":"aspnet/Templates","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Templates/issues/492","RelatedDescription":"Closed issue \"Add tests to project templates\" (#492) at aspnet/Templates","RelatedBody":"Hi,\n\nTesting is unfortunately a part of most of our jobs. I don't know if it is already planned/done but in visual studio when I create a new ASP.NET MVC 6 (or is it Core 1 ? Not sure) there are no tests. This is particularly annoying for the template including user accounts. I spent a few hours writing tests for the included templates.\n\nI was wondering whether other people would be interested ?\n"}],"ResultType":"GitHubEvent"},"Tooling":{"Events":[{"Id":"6762343502","Type":"IssuesEvent","CreatedAt":"2017-10-25T07:30:40","Actor":"Pichasepong","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1060","RelatedDescription":"Opened issue \"Problems .net core 1.0.1 vs 2015 tooling preview 2 error logs file.Help Me. \" (#1060) at aspnet/Tooling","RelatedBody":"Problems installing on Server 2012 R2 ,Dot net core 1.0.1 vs 2015 tooling preview 2 error logs file.\r\n\r\n![product_dotnetcoreerror](https://user-images.githubusercontent.com/12063904/31985990-040a5f72-b991-11e7-9356-ddd06160a87c.jpg)\r\n"},{"Id":"6704265290","Type":"IssuesEvent","CreatedAt":"2017-10-11T19:06:00","Actor":"StefH","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/877","RelatedDescription":"Closed issue \"VS 2017 RC : How to define a multi framework project ?\" (#877) at aspnet/Tooling","RelatedBody":"I've this **csproj** file:\r\n\r\n```xml\r\n<Project ToolsVersion=\"15.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">\r\n  <Import Project=\"$(MSBuildExtensionsPath)\\$(MSBuildToolsVersion)\\Microsoft.Common.props\" />\r\n  <PropertyGroup>\r\n    <TargetFrameworks>netstandard1.3</TargetFrameworks>\r\n  </PropertyGroup>\r\n  <ItemGroup>\r\n    <Compile Include=\"**\\*.cs\" />\r\n    <EmbeddedResource Include=\"**\\*.resx\" />\r\n  </ItemGroup>\r\n  <ItemGroup Condition=\" '$(TargetFramework)' == 'netstandard1.3' \">\r\n    <PackageReference Include=\"JetBrains.Annotations\">\r\n      <Version>10.2.1</Version>\r\n    </PackageReference>\r\n    <PackageReference Include=\"NETStandard.Library\">\r\n      <Version>1.6.1</Version>\r\n    </PackageReference>\r\n    <PackageReference Include=\"Microsoft.NET.Sdk\">\r\n      <Version>1.0.0-alpha-20161104-2</Version>\r\n      <PrivateAssets>All</PrivateAssets>\r\n    </PackageReference>\r\n    <PackageReference Include=\"Newtonsoft.Json\">\r\n      <Version>9.0.1</Version>\r\n    </PackageReference>\r\n  </ItemGroup>\r\n  <Import Project=\"$(MSBuildToolsPath)\\Microsoft.CSharp.targets\" />\r\n</Project>\r\n```\r\n\r\nWhich produces this error:\r\n```bash\r\nRestoring NuGet packages...\r\nTo prevent NuGet from restoring packages during build, open the Visual Studio Options dialog, click on the Package Manager node and uncheck 'Allow NuGet to download missing packages during build.'\r\nError occurred while restoring NuGet packages: Invalid restore input. Invalid target framework 'unsupported'. Input files: C:\\temp\\ClassLibrary1\\ClassLibrary1.csproj.\r\n1>------ Rebuild All started: Project: ClassLibrary1, Configuration: Debug Any CPU ------\r\n1>Build started 2016-11-23 07:43:43.\r\n1>Target DispatchToInnerBuilds:\r\n1>  Target _CheckForInvalidConfigurationAndPlatform:\r\n1>    C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\\MSBuild\\15.0\\Bin\\Microsoft.Common.CurrentVersion.targets(733,5): error : The OutputPath property is not set for project 'ClassLibrary1.csproj'.  Please check to make sure that you have specified a valid combination of Configuration and Platform for this project.  Configuration='Debug'  Platform='AnyCPU'.  This error may also appear if some other project is trying to follow a project-to-project reference to this project, this project has been unloaded or is not included in the solution, and the referencing project does not build using the same or an equivalent Configuration or Platform.\r\n1>  Done building target \"_CheckForInvalidConfigurationAndPlatform\" in project \"ClassLibrary1.csproj\" -- FAILED.\r\n1>\r\n1>  Done building project \"ClassLibrary1.csproj\" -- FAILED.\r\n1>\r\n1>Build FAILED.\r\n```"}],"ResultType":"GitHubEvent"},"Announcements":{"Events":[{"Id":"6780432155","Type":"IssuesEvent","CreatedAt":"2017-10-29T14:10:51","Actor":"smitpatel","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Announcements/issues/276","RelatedDescription":"Closed issue \"Improved end to end testing support for MVC applications: Typo?\" (#276) at aspnet/Announcements","RelatedBody":"Hi @javiercn, I think the constructor name is wrong in the first example code block in #275\r\n\r\nShouldn't it be \r\n```\r\n        public MyApplicationFunctionalTests (WebApplicationTestFixture<Startup> fixture)\r\n        {\r\n            Client = fixture.Client;\r\n        }\r\n```\r\n\r\n"},{"Id":"6779929600","Type":"IssuesEvent","CreatedAt":"2017-10-29T07:24:18","Actor":"searus","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/276","RelatedDescription":"Opened issue \"Improved end to end testing support for MVC applications: Typo?\" (#276) at aspnet/Announcements","RelatedBody":"Hi, I think the constructor name is wrong in the first example code block in #275\r\n\r\nShouldn't it be \r\n```\r\n        public MyApplicationFunctionalTests (WebApplicationTestFixture<Startup> fixture)\r\n        {\r\n            Client = fixture.Client;\r\n        }\r\n```\r\n\r\n"},{"Id":"6777426880","Type":"IssuesEvent","CreatedAt":"2017-10-27T22:12:32","Actor":"javiercn","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/275","RelatedDescription":"Opened issue \"Improved end to end testing support for MVC applications\" (#275) at aspnet/Announcements","RelatedBody":"# Improved end to end testing support for MVC applications\r\n\r\nIn this release we have created a new package Microsoft.AspNetCore.Mvc.Testing to help streamline\r\nend to end testing of MVC applications using TestServer.\r\n\r\nThis package takes care of some of the typical pitfalls users run into when trying to test MVC applications\r\nusing TestServer.\r\n* It copies the .deps file from your project into the test assembly bin folder.\r\n* It sets the content root the application's project root so that static files and views can be found.\r\n* It provides a class `WebApplicationTestFixture<TStartup>` that streamlines the bootstrapping of your app on\r\nTestServer.\r\n\r\n## Sample end to end in memory test using xUnit\r\n\r\n```csharp\r\nusing Xunit;\r\n\r\nnamespace MyApplication.FunctionalTests\r\n{\r\n    public class MyApplicationFunctionalTests : IClassFixture<WebApplicationTestFixture<Startup>>\r\n    {\r\n        public TempDataInSessionTest(WebApplicationTestFixture<Startup> fixture)\r\n        {\r\n            Client = fixture.Client;\r\n        }\r\n\r\n        public HttpClient Client { get; }\r\n\r\n        [Fact]\r\n        public async Task GetHomePage()\r\n        {\r\n            // Arrange & Act\r\n            var response = await Client.GetAsync(\"/\");\r\n\r\n            // Assert\r\n            Assert.Equal(HttpStatusCodes.OK, response.StatusCode);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Important notes\r\n\r\n### Shadow copying needs to be disabled\r\nFor end to end in-memory tests to work properly, shadow copying needs to be disabled on your test framework of choice, as it causes the tests to execute in a different folder than the output folder.\r\nFor instructions on how to do this on xUnit see https://xunit.github.io/docs/configuring-with-json.html.\r\n\r\n### Your app needs to have a CreateWebHostBuilderMethod on the Program class\r\nBy convention our ```WebApplicationTestFixture<TStartup>``` tries to find a method with the signature ```public static IWebHostBuilder CreateWebHostBuilder(string [] args)``` on the entry point class of the assembly where Startup is located. (Typically your Program class) If you don't have this method ```WebApplicationTestFixture<TStartup>``` won't be able to initialize your app in the same way it is done on a normal run. You can configure the WebHostBuilder yourself by overriding CreateWebHostBuilder on ```WebApplicationTestFixture<TStartup>```.\r\n\r\n### The test infrastructure needs to know the content root of the application under test\r\nTo set the content root for your app, ```WebApplicationTestFixture<TStartup>``` first locate your solution file ```(.sln)``` and then make a guess about where project might be. The Content Root of the application is defined by convention as ```<<SolutionFolder>>/<<ProjectAssemblyName>>```. For example, based on the folder structure defined below, the content root of the application is defined as ```c:\\work\\MyApp```. This is important because if not set correctly to the root folder of your application under test all views and static files will not be found.\r\n\r\n```\r\nc:/work/\r\n    MyApp.sln\r\n    MyApp/MyApp.csproj\r\n    MyApp.FunctionalTests/MyApp.FunctionalTests.csproj\r\n```\r\n\r\nThe process for determining the folder to use as the content root when running the tests is the following:\r\n* ```WebApplicationTestFixture<TStartup>``` starts on the bin folder of the test project, in the example above ```c:/work/MyApp.FunctionalTests/MyApp.FunctionalTests/bin/<<Configuration>>/<<Framework>>```\r\n* It navigates to the parent folder until it finds a ```.sln``` file.\r\n* It appends ```<<AssemblyName>>``` to the folder in which it found the ```.sln``` file and set that as the content root.\r\n\r\nIf you happen to be using a different convention for the layout of your projects, you can inherit from WebApplicationTestFixture and pass in the relative path from your solution to the application under test when calling the constructor. For example ```\"/src/MyApp\"```\r\n\r\n```csharp\r\npublic class MyAppTestFixture<TStartup> : WebApplicationTestFixture<TStartup> where TStartup : class\r\n{\r\n    public MyAppTestFixture(string solutionRelativePath)\r\n        : base(\"/src/MyApp\") { }\r\n}\r\n```"},{"Id":"6754805124","Type":"IssuesEvent","CreatedAt":"2017-10-23T21:16:00","Actor":"Eilon","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/274","RelatedDescription":"Opened issue \"ASP.NET/EF Core 2.0.3 patch pre-release test feed\" (#274) at aspnet/Announcements","RelatedBody":"Hi, we now have a public test feed that you can use to try out the ASP.NET/EF Core 2.0.3 patch!\r\n\r\nYou can test this pre-release patch by adding the following feed to your app's or machine's NuGet.config file:\r\n* `https://dotnet.myget.org/F/aspnet-2-0-2-october2017-patch-public/api/v3/index.json`\r\n   * ![image](https://user-images.githubusercontent.com/202643/31913542-4757d2a0-b7fc-11e7-9bf7-7157bd18a6ca.png)\r\n   * (please ignore the *name* of the feed; it is incorrect 😦)\r\n\r\n## Update your project\r\n1. Open an existing .NET Core 2.0 project's CSPROJ file\r\n2. Update the version of the `Microsoft.AspNetCore.All` package from `2.0.0` to `2.0.3-*`\r\n3. Update the version of all the other `<PackageReference>` items from `2.0.0` to `2.0.1-*` (*Note: This is a different version than the `.All` package!*)\r\n4. Add the following element to the `<PropertyGroup>` at the top of the CSPROJ file:\r\n   * `<NoWarn>$(NOWARN);NU1605</NoWarn>`\r\n5. From a command line window (terminal), run `dotnet restore` to restore the pre-release patch packages into the project (or restore packages from your IDE, such as Visual Studio 2017)\r\n6. You should now be able to run your project with the pre-release patch packages\r\n\r\n## Additional resources\r\n* More info on updating NuGet packages is available here:\r\n   * https://docs.microsoft.com/en-us/nuget/consume-packages/reinstalling-and-updating-packages\r\n* The full list of fixes and changes made in this patch are available using this query:\r\n   * https://github.com/search?utf8=%E2%9C%93&q=org%3Aaspnet+is%3Aissue+is%3Aclosed+milestone%3A2.0.3&type=Issues\r\n* You can browse the list of updated packages on this gallery page:\r\n   * https://dotnet.myget.org/gallery/aspnet-2-0-2-october2017-patch-public\r\n\r\n## Feedback\r\nWe are looking for feedback on this patch. We'd like to know if you have any issues with this patch by updating your apps and libraries to the latest packages and seeing if it fixes the issues you've had, or if it introduces any new issues. If you have any issues or questions, please reply on the [discussion thread](XYZ) to let us know as soon as possible.\r\n\r\n## What's next\r\nWe will post an update when the patch is publicly available on [NuGet.org](https://nuget.org).\r\n\r\nThanks,\r\nEilon"},{"Id":"6704873205","Type":"IssuesEvent","CreatedAt":"2017-10-11T21:19:35","Actor":"jbagga","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/273","RelatedDescription":"Opened issue \"Use ContractResolver to create paths from expressions for json-patch\" (#273) at aspnet/Announcements","RelatedBody":"`JsonPatchDocumentOfT.cs` will use the `ContractResolver` provided to get paths instead of forcing to lower case.\r\n\r\nAddresses aspnet/JsonPatch#90.\r\n\r\nSee aspnet/JsonPatch for discussion.\r\n"},{"Id":"6692649574","Type":"IssuesEvent","CreatedAt":"2017-10-09T17:08:31","Actor":"Tratcher","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/271","RelatedDescription":"Opened issue \"WsFederation 2.0.0-preview1 out of band release\" (#271) at aspnet/Announcements","RelatedBody":"WsFederation preview support is now available for ASP.NET Core 2.0.0. The Microsoft.AspNetCore.Authentication.WsFederation 2.0.0-preview1 package is available at https://www.nuget.org/packages/Microsoft.AspNetCore.Authentication.WsFederation/. This is a standalone preview that targets netstandard2.0 and should work with existing ASP.NET Core 2.0.0 applications (.NET Core 2.0 or .NET 4.6.1). A non-preview ASP.NET Core 2.0.0 compatible package will follow once we’ve addressed your feedback.\r\n \r\nThe code is available at https://github.com/aspnet/security/tree/rel/2.0.0-ws-preview1 and issues can be filed at https://github.com/aspnet/security/issues. Please give us a 👍 from the reactions menu on the linked discussion post if you have successfully used this component and are ready for the final release.\r\n \r\nThis component is a port from Microsoft.Owin.Security.WsFederation and uses many of the same mechanics. It has also been updated to integrate with ASP.NET Core 2.0’s authentication model. See the samples below.\r\n \r\nAside from updating the usage pattern to match ASP.NET Core, there are also some functional changes to be aware of.\r\nA.\tThis component no longer checks every form post request for sign-in messages by default. Sign-in callbacks are restricted to the \"/signin-wsfed\" path by default. The CallbackPath can be changed to the application root “/” used by some auth providers if you also enable SkipUnrecognizedRequests to allow sharing that request path with other components.\r\nB.\tThis component no longer allows unsolicited logins by default. That WsFederation protocol feature is susceptible to XSRF attacks. See the AllowUnsolicitedLogins option to opt into that feature if your application requires it.\r\n\r\nSee https://github.com/aspnet/Security/issues/1473 for discussion.\r\n \r\nSamples:\r\n \r\nFor applications only using WsFederation (similar to using OpenIdConnect):\r\n \r\n        public void ConfigureServices(IServiceCollection services)\r\n        {\r\n            services.AddAuthentication(sharedOptions =>\r\n            {\r\n                sharedOptions.DefaultScheme = CookieAuthenticationDefaults.AuthenticationScheme;\r\n                sharedOptions.DefaultSignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\r\n                sharedOptions.DefaultChallengeScheme = WsFederationDefaults.AuthenticationScheme;\r\n            })\r\n            .AddWsFederation(options =>\r\n            {\r\n                options.Wtrealm = Configuration[\"wsfed:realm\"];\r\n                options.MetadataAddress = Configuration[\"wsfed:metadata\"];\r\n            })\r\n            .AddCookie();\r\n        }\r\n \r\n        public void Configure(IApplicationBuilder app)\r\n        {\r\n           app.UseAuthentication();\r\n \r\n                         // …\r\n        }\r\n \r\nFor applications using WsFederation with Identity:\r\n \r\n            services.AddAuthentication()\r\n                .AddWsFederation(options =>\r\n                {\r\n                    options.Wtrealm = Configuration[\"wsfed:realm\"];\r\n                    options.MetadataAddress = Configuration[\"wsfed:metadata\"];\r\n                });\r\n"}],"ResultType":"GitHubEvent"},"Twitter":{"ResultType":"TwitterTimeline","Tweets":[{"Id":"917884946324250624","CreatedAt":"2017-10-10T22:49:59+00:00","UserScreenname":"aspnet","Text":"The #aspnet Community Standup starts now - https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":13,"FavoriteCount":9,"RawContent":null},{"Id":"917877107904036865","CreatedAt":"2017-10-10T22:18:50+00:00","UserScreenname":"aspnet","Text":"Join us in a half hour (3:45 PM Pacific) for this week's #aspnet Community Standup at https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":11,"FavoriteCount":3,"RawContent":null},{"Id":"915262407743647744","CreatedAt":"2017-10-03T17:08:57+00:00","UserScreenname":"aspnet","Text":"We're live at https://t.co/4Ioo9jNSN2 for the exciting #SignalR deep dive. Join us now!","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":34,"FavoriteCount":22,"RawContent":null},{"Id":"915242491774869504","CreatedAt":"2017-10-03T15:49:49+00:00","UserScreenname":"aspnet","Text":"Join us for some #SignalR Core demos at 10 AM PDT (UTC-7) on #ASPNET Community Standup w/ SignalR dev @moozzyk.\n\nhttps://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":57,"FavoriteCount":26,"RawContent":null},{"Id":"912821323675529216","CreatedAt":"2017-09-26T23:28:57+00:00","UserScreenname":"aspnet","Text":"This week's community links from the #ASPNET Community Standup https://t.co/M37VVhlzcZ","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":8,"FavoriteCount":8,"RawContent":null},{"Id":"912799120355581952","CreatedAt":"2017-09-26T22:00:43+00:00","UserScreenname":"aspnet","Text":"Join us at 3:45 PM Pacific (UTC+8) for the #ASPNET Community Standup. #dotNetConf recap, @SignalR and more.\nhttps://t.co/sgzsUBZksP","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":23,"FavoriteCount":10,"RawContent":null}]}},"RunOn":"2017-11-12T05:30:10.2850304Z","RunDurationInMilliseconds":8572}