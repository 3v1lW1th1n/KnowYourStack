{"Data":{"Vue-Issues":{"Issues":[{"Id":"426783268","IsPullRequest":false,"CreatedAt":"2019-03-29T02:10:20","Actor":"Maorey","Number":"9788","RawContent":null,"Title":"Provide a way to reload a failed async component","State":"open","Body":"### What problem does this feature solve?\r\nLocal registration a async component by a factory function that return an object to handling loading state. But when the promise is rejected,  there will be always show error component  and no any way to reload it.\r\n\r\n### What does the proposed API look like?\r\n1. Recall the factory function on parent's next active/update hook when rejected\r\n2. [Recommend]Accepted more options to handle loading state such as provide an 'on' to \r\nlisten replacing component's(loading/error) events and the event context allows to changing loading state(rerend, of course)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9788","RelatedDescription":"Open issue \"Provide a way to reload a failed async component\" (#9788)"},{"Id":"426728675","IsPullRequest":true,"CreatedAt":"2019-03-28T22:07:41","Actor":"backbone87","Number":"9787","RawContent":null,"Title":"fix(typings): wrongly typed AsyncComponentFactory","State":"open","Body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [x] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [x] Yes \r\n- [ ] No \r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\nIf people used the wrongly typed part of the changed interface, typescript compiler may complain now. No effect in transpileOnly mode, it only effects the TS typechecker.\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nthe component property of the return value of the\r\nAsyncComponentFactory should be a promise and not a\r\nfunction returning a promise\r\n","Url":"https://github.com/vuejs/vue/pull/9787","RelatedDescription":"Open PR \"fix(typings): wrongly typed AsyncComponentFactory\" (#9787)"},{"Id":"426515149","IsPullRequest":false,"CreatedAt":"2019-03-28T14:13:07","Actor":"WillGoldstein","Number":"9786","RawContent":null,"Title":"Input element causing \"Component template should contain exactly one root element\" error","State":"closed","Body":"I am finding a strange error.\r\n\r\nWhen my code is:\r\n\r\n```\r\n<template>\r\n    <input v-model=\"copydata\" ref=\"copyinput\" @click=\"copyText\" >\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:'copypasta',\r\n        props:{\r\n            copy: {\r\n                type: String,\r\n                default: ''\r\n            }\r\n        },\r\n        data(){\r\n            return{\r\n                copydata:{\r\n                    type: String,\r\n                    default: ''\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            copyText() {\r\n                this.$refs.copyinput.select();\r\n                document.execCommand(\"copy\");\r\n            },\r\n        },\r\n        mounted:function(){\r\n            this.copydata = this.copy;\r\n        },\r\n    }\r\n</script>\r\n```\r\n\r\nI have no issues, but the second I introduce any element, such as:\r\n\r\n```\r\n<input v-model=\"copydata\" ref=\"copyinput\" @click=\"copyText\" ><p>Hi</p>\r\n```\r\nI get this error:\r\n\r\n```\r\n(Emitted value instead of an instance of Error)\r\n  Error compiling template:\r\n\r\n  <input v-model=\"copydata\" ref=\"copyinput\" @click=\"copyText\" ><p>Hi</p>\r\n\r\n  - Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.\r\n```","Url":"https://github.com/vuejs/vue/issues/9786","RelatedDescription":"Closed issue \"Input element causing \"Component template should contain exactly one root element\" error\" (#9786)"},{"Id":"426513357","IsPullRequest":true,"CreatedAt":"2019-03-28T14:09:41","Actor":"Shasharoman","Number":"9785","RawContent":null,"Title":"fix(parser): fixed `dynamicArgAttribute` RegExp","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nfixed #9781.\r\n\r\ncode explain:\r\n\r\n``` javascript\r\nconst before = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst after = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+?\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\n\r\nlet s = ' #[foo]>foo</template><template #[bar]>bar</template>';\r\n\r\nlet beforeMatch = s.match(before);\r\nlet afterMatch = s.match(after);\r\n\r\nconsole.log(beforeMatch[0]);     // '#[foo]>foo</template><template #[bar]'\r\nconsole.log(afterMatch[0]);        // '#[foo]'\r\n```","Url":"https://github.com/vuejs/vue/pull/9785","RelatedDescription":"Open PR \"fix(parser): fixed `dynamicArgAttribute` RegExp\" (#9785)"},{"Id":"426344569","IsPullRequest":false,"CreatedAt":"2019-03-28T07:46:05","Actor":"ANGULAR-X","Number":"9784","RawContent":null,"Title":"part-time qq group","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9784","RelatedDescription":"Closed issue \"part-time qq group\" (#9784)"},{"Id":"425810934","IsPullRequest":false,"CreatedAt":"2019-03-27T08:35:25","Actor":"FreddyCrugger","Number":"9783","RawContent":null,"Title":"Load first SPA settings internally while being set by the user from a UI","State":"closed","Body":"### What problem does this feature solve?\r\nHello,\r\n\r\nAt the moment when I write an app and have an area in my UI that let's the user set his own settings(ie: show newsletter, home page title , keywords and so on), I have load all from an API and save it all to local storage which takes time.\r\nIf vue had some kind of read/write possibility to a settings file we could then set all these settings internally while being written by the users themselves from the admin panel UI. Will these ever be possible in the future? Or perhaps is it already? I cannot find any docs on this. Thanks.\r\n\r\n### What does the proposed API look like?\r\nHaving some logic that enables use to read/write to an internal file\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9783","RelatedDescription":"Closed issue \"Load first SPA settings internally while being set by the user from a UI\" (#9783)"},{"Id":"425810323","IsPullRequest":false,"CreatedAt":"2019-03-27T07:50:42","Actor":"FreddyCrugger","Number":"9782","RawContent":null,"Title":"Creating a setting file from the user UI","State":"closed","Body":"Hello,\r\n\r\nAt the moment when I write an app and have an area in my UI that let's the user set his own settings(ie: show newsletter, home page title , keywords and so on), I have load all from an API and save it all to local storage which takes time.\r\nIf vue had some kind of read/write possibility to a settings file we could then set all these settings internally while being written by the users themselves from the admin panel UI. Will these ever be possible in the future? Or perhaps is it already? I cannot find any docs on this. Thanks.","Url":"https://github.com/vuejs/vue/issues/9782","RelatedDescription":"Closed issue \"Creating a setting file from the user UI\" (#9782)"},{"Id":"425799991","IsPullRequest":false,"CreatedAt":"2019-03-27T07:18:08","Actor":"tbutcaru","Number":"9781","RawContent":null,"Title":"Error using multiple dynamic slot names (Invalid dynamic argument expression)","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/tbutcaru/v-issue-multiple-dynamic-slot-names](https://github.com/tbutcaru/v-issue-multiple-dynamic-slot-names)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Clone this repo: https://github.com/tbutcaru/v-issue-multiple-dynamic-slot-names\r\n2. Run: `npm install`\r\n3. Run: `npm run serve`\r\n\r\n### What is expected?\r\nMultiple dynamic slot names should work as expected.\r\n\r\n### What is actually happening?\r\nThe following error is thrown:\r\n```\r\nInvalid dynamic argument expression: attribute names cannot contain spaces, quotes, <, >, / or =.#[headerslot]>Header slot</template>\r\n    Default slot\r\n    <template #[footerslot]\r\n```\r\n\r\n---\r\n**If one of the dynamic slot names is made static (doesn't matter which), the application is working.**     \r\n\r\n##### My investigation\r\n- file: `node_modules/vue-template-compiler/build.js`\r\n- line: 2563 (inside `attrs.forEach(function (attr) {`) added the following warn:   \r\n```\r\nwarn$1('--------------->> ' +  attr.name);\r\n```\r\n\r\n##### Investigation results:\r\n1. In the working scenario with only one dynamic slot name: the value of that dynamic slot name is `#[headerslot]`\r\n2. In the error scenario with two dynamic slot names: the value of the first dynamic slot name is\r\n```\r\n#[headerslot]>Header slot</template>\r\n    Default slot\r\n    <template #[footerslot]\r\n```\r\n\r\nSo, it looks like the compiler doesn't know how to extract just the attribute when there are multiple dynamic slot names.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9781","RelatedDescription":"Open issue \"Error using multiple dynamic slot names (Invalid dynamic argument expression)\" (#9781)"},{"Id":"425738452","IsPullRequest":true,"CreatedAt":"2019-03-27T05:45:55","Actor":"bkuri","Number":"9779","RawContent":null,"Title":"feat(v-model): add normalize modifier","State":"closed","Body":"<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] All tests are passing (I'm not 100% sure; **please see note below**)\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature\r\n\r\n**Other information:**\r\nUsing `String.normalize()` is desirable when dealing with user-facing text inputs, considering that unicode strings that look the same on screen can sometimes be encoded differently and thus bring a bunch of problems later on (i.e. when trying to find duplicate strings).\r\n\r\nMoreover, having to add `String.normalize()` every time is pretty much just as annoying as having to add `String.trim()` every time, so by that rationale I believe that adding this modifier to `v-model` makes just as much sense as having `trim` in there (which I very much appreciate!).\r\n\r\n**Notes:**\r\n- Sorry for not filing an issue first! I decided to just go for it since it's a pretty small modification. Hopefully this explanation is enough, but I can always add an issue later if needed.\r\n- I'm pretty sure that I added all relevant tests and they all seem to have passed. I did experience an issue trying to run the ChromeHeadless instance on my PC, however, although I'm not sure if that test suite applies to this PR anyway (if it does please let me know and I'll try to get it fixed asap).\r\n- I'm using the default `NFC` form of unicode normalization. It might be worth considering adding the other forms as well (`NFD`,`NFKC`,`NFKD`).\r\n\r\nMore informaton on `String.normalize()` and its usefulness can be found in the following links:\r\n- [Why you need to normalize unicode strings](https://withblue.ink/2019/03/11/why-you-need-to-normalize-unicode-strings.html)\r\n- [String.normalize() ­— MDN docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)","Url":"https://github.com/vuejs/vue/pull/9779","RelatedDescription":"Closed or merged PR \"feat(v-model): add normalize modifier\" (#9779)"},{"Id":"425745355","IsPullRequest":false,"CreatedAt":"2019-03-27T04:26:07","Actor":"longzhangtong","Number":"9780","RawContent":null,"Title":"Can't `v-for` be used for Set data types?","State":"closed","Body":"### What problem does this feature solve?\r\n```\r\n\"vue\": \"^2.6.6\",\r\n```\r\nTry to use the `v-for` to traverse the Set data type, but it doesn't work.\r\n\r\n### What does the proposed API look like?\r\nTraversing the Set data type using `v-for`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9780","RelatedDescription":"Closed issue \"Can't `v-for` be used for Set data types?\" (#9780)"},{"Id":"425680477","IsPullRequest":false,"CreatedAt":"2019-03-27T00:16:58","Actor":"shadow7412","Number":"9778","RawContent":null,"Title":"Update the ID of an item in a list.","State":"closed","Body":"### What problem does this feature solve?\r\nThe issue is described here: https://stackoverflow.com/questions/55292425/can-you-change-an-items-id-in-vue-js\r\n\r\nThe problem is when you create an item on the front-end, you want to show that item as soon as practical. Immediately is optimal. But to do that, you need to assign a temporary ID until the backend responds with the actual one.\r\n\r\nCurrently, by updating an iD, you are signalling to vue that the original object has been removed, and a new one with this other ID has been added. This triggers an in and out animation that isn't desired in my case.\r\n\r\n### What does the proposed API look like?\r\nI imagine it'd be similar to $set, but with some form of explicit mention of \"calm down, I'm not changing which object this is\".\r\n\r\nYou could probably use $set with an extra argument, such as:\r\n```javascript\r\n$set(item, \"ID\", 1234, true)\r\n```\r\n\r\nAlternatively, a brand new function could be appropriate.\r\n```javascript\r\n$setInPlace(item, \"ID\", 1234)\r\n```\r\n\r\nOr instead of giving an item the ID directly, perhaps a wrapper would be more appropriate:\r\n```javascript\r\nlet newItem = {\r\n    ID: TemporaryID()\r\n}\r\n\r\n// ... later ...\r\n\r\nitem.ID(realID)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9778","RelatedDescription":"Closed issue \"Update the ID of an item in a list.\" (#9778)"},{"Id":"425600711","IsPullRequest":false,"CreatedAt":"2019-03-26T20:00:17","Actor":"skegel13","Number":"9777","RawContent":null,"Title":"v-model on text input on chrome android not updating","State":"closed","Body":"### Version\r\n2.6.8\r\n\r\n### Reproduction link\r\n[https://jsbin.com/damesok/1](https://jsbin.com/damesok/1)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUsing v-model on text inputs in Vue is not updating a normal characters are being typed. However, numbers and spaces do trigger the update.\r\n\r\n### What is expected?\r\nMy value on v-model should be updated when I type into the field in Chrome on Android\r\n\r\n### What is actually happening?\r\nThe input is not being detected until I insert a number or a space.\r\n\r\n---\r\nI was able to get this to work on mobile using :value=\"model\" and @input=\"model = $event.target.value\", but I would assume v-model should work the same.\r\n\r\nI am creating this issue because an older issue reporting the same behavior has been closed but it does not appear the issue was fixed.\r\n\r\nhttps://github.com/vuejs/vue/issues/9299\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9777","RelatedDescription":"Closed issue \"v-model on text input on chrome android not updating\" (#9777)"},{"Id":"425092602","IsPullRequest":false,"CreatedAt":"2019-03-26T09:54:07","Actor":"cjblomqvist","Number":"9774","RawContent":null,"Title":"Public API for computed prop's similar to Vue.observable","State":"closed","Body":"### What problem does this feature solve?\r\nWith the new Vue.observable you can create a simple reactive store which is super nice. It seems you can use these reactive properties directly in views (you don't need to use them through local computed properties). In this scenario, it would be nice to be able to also have global state based computed properties. This way, you'd be able to create a very nice and imo quite capable yet simple store pattern (compared to more verbose and complex solutions like Vuex). You also don't have to sprinkle computed props on components where they imo don't really belong.\r\n\r\nIt's possible to do a workaround by initiating new Vue instances, but I assume that causes some significant and completely unnecessary overhead.\r\n\r\n### What does the proposed API look like?\r\nI'm completely open for your wisedom ;-) A few suggestions:\r\n\r\nA)\r\nVue.computed({\r\n  computedProp: function() { ... }\r\n});\r\n\r\nB)\r\nVue.observable({\r\n  regularReactiveProp: 'something',\r\n  get computedProp: function () { ... }\r\n});\r\n\r\nI'm btw. not a big fan of transforming all functions to computed props, as this makes it less simple (impossible?) to pass along one store object that also contains all methods (for a more full scale model layer).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9774","RelatedDescription":"Closed issue \"Public API for computed prop's similar to Vue.observable\" (#9774)"},{"Id":"425265405","IsPullRequest":true,"CreatedAt":"2019-03-26T07:32:35","Actor":"Zhang-Wei-666","Number":"9776","RawContent":null,"Title":"Fix( unit ): using the. exact modifier error when all system modifiers","State":"open","Body":"\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/9776","RelatedDescription":"Open PR \"Fix( unit ): using the. exact modifier error when all system modifiers\" (#9776)"},{"Id":"425245363","IsPullRequest":false,"CreatedAt":"2019-03-26T06:19:44","Actor":"LucaGabi","Number":"9775","RawContent":null,"Title":"Recreate binding","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\nIs there a awy to recreate html binding after the vuejs instance is created?\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9775","RelatedDescription":"Closed issue \"Recreate binding\" (#9775)"},{"Id":"425073544","IsPullRequest":true,"CreatedAt":"2019-03-25T19:19:05","Actor":"baseprime","Number":"9773","RawContent":null,"Title":"#9772 TypeScript: Vue types $attrs should be type Record<string, any>","State":"open","Body":"Fixes https://github.com/vuejs/vue/issues/9772\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [x] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/9773","RelatedDescription":"Open PR \"#9772 TypeScript: Vue types $attrs should be type Record<string, any>\" (#9773)"},{"Id":"425071304","IsPullRequest":false,"CreatedAt":"2019-03-25T19:13:24","Actor":"baseprime","Number":"9772","RawContent":null,"Title":"TypeScript: Vue types $attrs should be type Record<string, any>","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### What is expected?\r\n`Vue.prototype.$attrs` should be type `Record<string, any>` and not `Record<string, string>`.\r\n\r\nSince `2.4.0`, `vm.$attrs` has contained extracted bindings not recognized as props. The type of these values is unknown.\r\n\r\n### Steps to reproduce\r\nTake the following component:\r\n```javascript\r\nnew Vue({\r\n  data: function () {\r\n    return {\r\n      count: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    let someFunc = this.$attrs.someBoundAttr as Function\r\n    // Type 'string' cannot be converted to type 'Function'\r\n  },\r\n  template: `\r\n    <button v-on:click=\"count++\" :someBoundAttr=\"() => count\">\r\n      You clicked me {{ count }} times.\r\n    </button>`\r\n})\r\n```\r\n\r\nNotice the error in TypeScript checking:\r\n```\r\nType 'string' cannot be converted to type 'Function'\r\n```\r\n\r\n### What is actually happening?\r\n...\r\n\r\n\r\n### Reproduction link\r\n[http://www.typescriptlang.org/play/](http://www.typescriptlang.org/play/)\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9772","RelatedDescription":"Open issue \"TypeScript: Vue types $attrs should be type Record<string, any>\" (#9772)"},{"Id":"425070083","IsPullRequest":false,"CreatedAt":"2019-03-25T19:10:23","Actor":"baseprime","Number":"9771","RawContent":null,"Title":"TypeScript: Vue types $attrs should be type Record<string, any>","State":"closed","Body":"### What is expected\r\n`Vue.prototype.$attrs` should be type `Record<string, any>` and not `Record<string, string>`.\r\n\r\nSince `2.4.0`, `vm.$attrs` has contained extracted bindings not recognized as props. The type of these values is unknown.\r\n\r\n### Reproduction\r\nTake the following component:\r\n```javascript\r\nnew Vue({\r\n  data: function () {\r\n    return {\r\n      count: 0\r\n    }\r\n  },\r\n  methods: {\r\n    someFuncAttr() {\r\n      // do something\r\n    }\r\n  },\r\n  mounted() {\r\n    let someFunc = this.$attrs.someBoundAttr\r\n    // Type 'string' cannot be converted to type 'Function'\r\n  },\r\n  template: `\r\n    <button v-on:click=\"count++\" :someBoundAttr=\"someFuncAttr\">\r\n      You clicked me {{ count }} times.\r\n    </button>`\r\n})\r\n```\r\n\r\nNotice the error in TypeScript checking:\r\n```\r\nType 'string' cannot be converted to type 'Function'\r\n```\r\n","Url":"https://github.com/vuejs/vue/issues/9771","RelatedDescription":"Closed issue \"TypeScript: Vue types $attrs should be type Record<string, any>\" (#9771)"},{"Id":"425019963","IsPullRequest":false,"CreatedAt":"2019-03-25T17:19:20","Actor":"Trunst","Number":"9770","RawContent":null,"Title":"v-for stops video tag when array of videos is updating","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/w95tp610/3/](https://jsfiddle.net/w95tp610/3/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThis is a small test for keeping a object in a list of videos. When clicking on \"Keep\" on any of the videos then the others will be removed.\r\n\r\nClick on \"Keep\" for video with id 2. It works fine for id 1 and 3 (start and last element in array) but not for anything in the middle\r\n\r\n### What is expected?\r\nThat the video continues playing.\r\n\r\n### What is actually happening?\r\nThe video freezes\r\n\r\n---\r\nThis issue occurs for me in chrome (62.0) but works as expected in firefox\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9770","RelatedDescription":"Closed issue \"v-for stops video tag when array of videos is updating\" (#9770)"},{"Id":"424983368","IsPullRequest":false,"CreatedAt":"2019-03-25T16:01:29","Actor":"bbugh","Number":"9769","RawContent":null,"Title":"v-html not working for slot","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/mo476zhg/](https://jsfiddle.net/mo476zhg/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a component with a `slot`.\r\n2. Use `v-html` on the slot to provide default content\r\n3. Attempt to use component without providing slot content\r\n4. Observe that `v-html` is ignored on the slot\r\n\r\n### What is expected?\r\n`v-html` should output to the `slot` when no default slot value is provided\r\n\r\n### What is actually happening?\r\nv-html is ignored and the slot is empty\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9769","RelatedDescription":"Closed issue \"v-html not working for slot\" (#9769)"},{"Id":"424938431","IsPullRequest":false,"CreatedAt":"2019-03-25T14:42:43","Actor":"woothu","Number":"9768","RawContent":null,"Title":"Cannot escape quotes in String","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/zbbaEp?editors=1010](https://codepen.io/anon/pen/zbbaEp?editors=1010)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on the link.\r\n\r\n### What is expected?\r\nQuote escaping works the same both in template and javascript.\r\n\r\n### What is actually happening?\r\nQuote escaping doesn't work in templates.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9768","RelatedDescription":"Closed issue \"Cannot escape quotes in String\" (#9768)"},{"Id":"424665227","IsPullRequest":false,"CreatedAt":"2019-03-24T22:00:42","Actor":"techyaura","Number":"9767","RawContent":null,"Title":"Layout overlapping while having multiple layouts","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://vuetify-template.netlify.com/login](https://vuetify-template.netlify.com/login)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Go to https://vuetify-template.netlify.com\r\n2. Refresh  hard refresh the app\r\n3. While refreshing, one can see  fluctuating effect of the default layout.\r\n\r\n\r\n### What is expected?\r\nDefault layout appears for some moment while refreshing th login page which belong to login layout.\r\n\r\n### What is actually happening?\r\nNO fluctuation or calling of the default layout should be appeared.\r\n\r\n---\r\nGithub code link: https://github.com/techyaura/vuetify-template\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9767","RelatedDescription":"Closed issue \"Layout overlapping while having multiple layouts\" (#9767)"},{"Id":"424511051","IsPullRequest":false,"CreatedAt":"2019-03-23T15:26:01","Actor":"lianzhao","Number":"9766","RawContent":null,"Title":"Vue does not support set custom indexer on custom iterable types","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/lianzhao/vue-iterable-indexer](https://github.com/lianzhao/vue-iterable-indexer)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nclick the button on UI\r\n\r\n### What is expected?\r\nPrints `10, 3, 4, 5` on UI\r\n\r\n### What is actually happening?\r\nPrints `2, 3, 4, 5`\r\n![image](https://user-images.githubusercontent.com/536786/54867943-d0e1da00-4dc1-11e9-93a0-743027b8d361.png)\r\n\r\n---\r\nI implemented `CircularBuffer` which implements `Iterable`. It also implements get/set indexers by `Object.defineProperty`.\r\n\r\nBut `this.$set(this.items, 0, 10)` was not working. What can I do to except waiting for Vue 3.0?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9766","RelatedDescription":"Closed issue \"Vue does not support set custom indexer on custom iterable types\" (#9766)"},{"Id":"424501586","IsPullRequest":true,"CreatedAt":"2019-03-23T13:37:23","Actor":"Shasharoman","Number":"9765","RawContent":null,"Title":"feat(v-on): v-on support listeners array","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nThis pull request is for #9718 \r\n","Url":"https://github.com/vuejs/vue/pull/9765","RelatedDescription":"Open PR \"feat(v-on): v-on support listeners array\" (#9765)"},{"Id":"424475533","IsPullRequest":false,"CreatedAt":"2019-03-23T07:56:31","Actor":"richardchen0954","Number":"9764","RawContent":null,"Title":"hello","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9764","RelatedDescription":"Closed issue \"hello\" (#9764)"},{"Id":"424454051","IsPullRequest":false,"CreatedAt":"2019-03-23T04:55:18","Actor":"objcxiaobai","Number":"9763","RawContent":null,"Title":"在data里某个字段初始化为0，但是mounted使用的时候突然变成1，但在created中没有问题","State":"closed","Body":"### Version\r\n2.5.22\r\n\r\n### Reproduction link\r\n[https://jsbin.com/?html,js](https://jsbin.com/?html,js)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\ndata (){\r\n        return {\r\n          pageNo: 0\r\n        }\r\n  },\r\n  mounted: function () {\r\n    this.xxxx()\r\n  },\r\n  methods:{\r\n   xxxx(){\r\n   const self = this;\r\n  //此时self.pageNo变为1\r\n  axios.get('/xxx/xxx/xxxx', { parame: { page: self.pageNo, size: 10 } })\r\n          //xxx\r\n \t}\r\n }\r\n```\r\n\r\n### What is expected?\r\n解决变1的问题\r\n\r\n### What is actually happening?\r\n变为1\r\n\r\n---\r\n没有\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9763","RelatedDescription":"Closed issue \"在data里某个字段初始化为0，但是mounted使用的时候突然变成1，但在created中没有问题\" (#9763)"},{"Id":"424393595","IsPullRequest":false,"CreatedAt":"2019-03-22T20:57:27","Actor":"powerbilayeredmap","Number":"9762","RawContent":null,"Title":"new Vue can return promise from mounted event?","State":"closed","Body":"### What problem does this feature solve?\r\nrestarting the discussion of #7209 - I would like to do the following\r\n\r\nconsole.log(1);\r\nvar v = await new Vue({\r\nmounted:async function(){\r\nawait $.get('somescript');\r\nconsole.log(2);\r\n}\r\n})\r\nconsole.log(3);\r\n\r\nand have console log 1,2,3.\r\n\r\nCurrently I need to wrap Vue loading into a new Promise(resolve,reject), and its not as nice.\r\n\r\n### What does the proposed API look like?\r\nconsole.log(1);\r\nvar v = await new Vue({\r\nmounted:async function(){\r\nawait $.get('somescript');\r\nconsole.log(2);\r\n}\r\n})\r\nconsole.log(3);\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9762","RelatedDescription":"Closed issue \"new Vue can return promise from mounted event?\" (#9762)"},{"Id":"424392976","IsPullRequest":false,"CreatedAt":"2019-03-22T20:45:32","Actor":"powerbilayeredmap","Number":"9761","RawContent":null,"Title":"New Vue and Mounted should be async?","State":"closed","Body":"restarting the discussion of #7209 - I would like to do the following\r\n\r\nconsole.log(1);\r\nvar v = await new Vue({\r\nmounted:async function(){\r\nawait $.get('somescript');\r\nconsole.log(2);\r\n}\r\n})\r\nconsole.log(3);\r\n\r\nand have console log 1,2,3.\r\n\r\nCurrently I need to wrap Vue loading into a new Promise(resolve,reject), and its not as nice.","Url":"https://github.com/vuejs/vue/issues/9761","RelatedDescription":"Closed issue \"New Vue and Mounted should be async?\" (#9761)"},{"Id":"424342953","IsPullRequest":false,"CreatedAt":"2019-03-22T18:23:28","Actor":"mrdibre","Number":"9760","RawContent":null,"Title":"Error with multiple slot-scope in template","State":"closed","Body":"I have a template with multiple templates using v-for and slot-scope, and the last one is rendering, not all.\r\n\r\nMy template:\r\n\r\n```html\r\n<Kanban :steps=\"steps\" :cards=\"cards\" @cardMoved=\"cardMoved\" @newReserva=\"newReserva\">\r\n\r\n\t<template v-for=\"card in getReservadosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n\t\t<Reservados :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n  </template>\r\n\r\n\t<template v-for=\"card in getHospedadosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n\t\t<Reservados :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n  </template>\r\n\r\n  <template v-for=\"card in getConcluidosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n\t\t<Reservados :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n\t</template>\r\n\r\n</Kanban>\r\n```\r\n\r\nVue compiler\r\n\r\n```javascript1\r\nfunction render() {\r\n    with(this) {\r\n        return _c('Kanban', {\r\n            attrs: {\r\n                \"steps\": steps,\r\n                \"cards\": cards\r\n            },\r\n            on: {\r\n                \"cardMoved\": cardMoved,\r\n                \"newReserva\": newReserva\r\n            },\r\n            scopedSlots: _u([_l((getConcluidosCards), function(card) {\r\n                return {\r\n                    key: card.step,\r\n                    fn: function({\r\n                        step\r\n                    }) {\r\n                        return [_c('Reservados', {\r\n                            key: card\r\n                                .id,\r\n                            attrs: {\r\n                                \"card\": card,\r\n                                \"step\": step\r\n                            }\r\n                        })]\r\n                    }\r\n                }\r\n            })], null, true)\r\n        })\r\n    }\r\n}\r\n```\r\n\r\nWhy it is rendering only the last one and not all? And how it could be render correctly?","Url":"https://github.com/vuejs/vue/issues/9760","RelatedDescription":"Closed issue \"Error with multiple slot-scope in template\" (#9760)"},{"Id":"424340434","IsPullRequest":false,"CreatedAt":"2019-03-22T18:17:03","Actor":"mrdibre","Number":"9759","RawContent":null,"Title":"Error with multiple  slot-scope","State":"closed","Body":"I have a template with multiple templates using v-for and slot-scope, and the last one is rendering, not all.\r\n\r\nMy template:\r\n\r\n<Kanban :steps=\"steps\" :cards=\"cards\" @cardMoved=\"cardMoved\" @newReserva=\"newReserva\">\r\n \r\n    <template v-for=\"card in getReservadosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n        <Reservados :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n  </template>\r\n \r\n    <template v-for=\"card in getHospedadosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n        <d :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n  </template>\r\n \r\n  <template v-for=\"card in getConcluidosCards\" :slot=\"card.step\" slot-scope=\"{ step }\">\r\n        <Reservados :card=\"card\" :key=\"card.id\" :step=\"step\"/>\r\n    </template>\r\n \r\n</Kanban>\r\n\r\nVue compiler\r\n\r\nfunction render() {\r\n    with(this) {\r\n        return _c('Kanban', {\r\n            attrs: {\r\n                \"steps\": steps,\r\n                \"cards\": cards\r\n            },\r\n            on: {\r\n                \"cardMoved\": cardMoved,\r\n                \"newReserva\": newReserva\r\n            },\r\n            scopedSlots: _u([_l((getConcluidosCards), function(card) {\r\n                return {\r\n                    key: card.step,\r\n                    fn: function({\r\n                        step\r\n                    }) {\r\n                        return [_c('Reservados', {\r\n                            key: card\r\n                                .id,\r\n                            attrs: {\r\n                                \"card\": card,\r\n                                \"step\": step\r\n                            }\r\n                        })]\r\n                    }\r\n                }\r\n            })], null, true)\r\n        })\r\n    }\r\n}\r\n\r\nWhy it is rendering only the last one and not all? And how it could be render correctly?","Url":"https://github.com/vuejs/vue/issues/9759","RelatedDescription":"Closed issue \"Error with multiple  slot-scope\" (#9759)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"426632596","IsPullRequest":false,"CreatedAt":"2019-03-28T17:58:02","Actor":"posva","Number":"2688","RawContent":null,"Title":"Support array syntax for guards","State":"open","Body":"### What problem does this feature solve?\r\nThis will allow splitting guard logic in smaller functions and making it easy to chain them. It's similar to express middlewares\r\n\r\n### What does the proposed API look like?\r\n```js\r\n{ path: '/some', beforeEach: [authGuard, adminGuard], afterEach: [after1, after2] }\r\n\r\n// in component\r\nbeforeRouteEnter: [authGuard, adminGuard],\r\nbeforeRouteUpdate: [authGuard, adminGuard],\r\nbeforeRouteLeave: [confirmGuard, doubleConfirmGuard]\r\n```\r\n\r\ncurrent solution to this: https://www.npmjs.com/package/vue-router-multiguard\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2688","RelatedDescription":"Open issue \"Support array syntax for guards\" (#2688)"},{"Id":"426630857","IsPullRequest":false,"CreatedAt":"2019-03-28T17:54:19","Actor":"ColinLaws","Number":"2687","RawContent":null,"Title":"Multiple guards on one route","State":"closed","Body":"### What problem does this feature solve?\r\nMy application contains routes that require multiple layers of validation to run before proceeding to them. Some of my routes must have an 'Organization' selected. If a user attempts to hit the route without having an organization selected, they are redirected to another route to set up an organization. All of my routes require that a user is authenticated, or else they are redirected to my auth server.\r\n\r\nI understand that it is possible to nest each of my guards in one single guard; however, I have unique combinations of guards per route (not all routes have the same guards), which makes it difficult to express the requirements of a route without writing a guard to contain each guard the route requires (versus something easier and more expressive, such as an array).\r\n\r\nIn my opinion, this is clearly a responsibility of the framework to support this. I have heard the arguments that you can write one guard that contains each guard inside of it, but is that really a solution when we have multiple people asking for this feature? If many consumers of Vue require this feature, and they're all writing their own implementations to support this functionality, it should be absorbed into the framework.\r\n\r\nThe problem is common enough to justify given the strong support demonstrated by Issue #721\r\n\r\n### What does the proposed API look like?\r\n```\r\nlet router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path: '/dashboard',\r\n            name: 'dashboard',\r\n            component: ...,\r\n            beforeEach: [guard1, guard2],    // Each guard is a function accepting (to, from, next)\r\n        }\r\n});\r\n```","Url":"https://github.com/vuejs/vue-router/issues/2687","RelatedDescription":"Closed issue \"Multiple guards on one route\" (#2687)"},{"Id":"426629856","IsPullRequest":false,"CreatedAt":"2019-03-28T17:52:08","Actor":"ColinLaws","Number":"2686","RawContent":null,"Title":"Feature request: Multiple Route Guards","State":"closed","Body":"What problem does this feature solve?\r\nMy application contains routes that require multiple layers of validation to run before proceeding to them. Some of my routes must have an 'Organization' selected. If a user attempts to hit the route without having an organization selected, they are redirected to another route to set up an organization. All of my routes require that a user is authenticated, or else they are redirected to my auth server.\r\n\r\nI understand that it is possible to nest each of my guards in one single guard; however, I have unique combinations of guards per route (not all routes have the same guards), which makes it difficult to express the requirements of a route without writing a guard to contain each guard the route requires (versus something easier and more expressive, such as an array).\r\n\r\nIn my opinion, this is clearly a responsibility of the framework to support this. I have heard the arguments that you can write one guard that contains each guard inside of it, but is that really a solution when we have multiple people asking for this feature? If many consumers of Vue require this feature, and they're all writing their own implementations to support this functionality, it should be absorbed into the framework.\r\n\r\nThe problem is common enough to justify given the strong support demonstrated by Issue #721\r\n\r\nWhat does the proposed API look like?\r\n```\r\nlet router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path: '/dashboard',\r\n            name: 'dashboard',\r\n            component: ...,\r\n            beforeEach: [guard1, guard2],    // Each guard is a function accepting (to, from, next)\r\n        }\r\n});\r\n```","Url":"https://github.com/vuejs/vue-router/issues/2686","RelatedDescription":"Closed issue \"Feature request: Multiple Route Guards\" (#2686)"},{"Id":"426629377","IsPullRequest":false,"CreatedAt":"2019-03-28T17:50:58","Actor":"ColinLaws","Number":"2685","RawContent":null,"Title":"Feature request: Multiple Route Guards","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  \r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2685","RelatedDescription":"Closed issue \"Feature request: Multiple Route Guards\" (#2685)"},{"Id":"426266910","IsPullRequest":true,"CreatedAt":"2019-03-28T08:28:18","Actor":"songzeng2016","Number":"2681","RawContent":null,"Title":"docs(zn): fix wrong characters in","State":"closed","Body":"fix wrong characters in zh-cn doc.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2681","RelatedDescription":"Closed or merged PR \"docs(zn): fix wrong characters in\" (#2681)"},{"Id":"426348821","IsPullRequest":false,"CreatedAt":"2019-03-28T07:57:59","Actor":"tanglianghong","Number":"2684","RawContent":null,"Title":"How to cache iframe for emergency help <keep-alive>?","State":"closed","Body":"This is one of my iframe components. When I switch to other tabs, I load iframe again when I switch back. How can I not load it?\r\n\r\n![20190328155535](https://user-images.githubusercontent.com/23239894/55140098-3ba06600-5172-11e9-987f-5bc075e8593b.png)\r\n","Url":"https://github.com/vuejs/vue-router/issues/2684","RelatedDescription":"Closed issue \"How to cache iframe for emergency help <keep-alive>?\" (#2684)"},{"Id":"426346570","IsPullRequest":false,"CreatedAt":"2019-03-28T07:51:46","Actor":"tanglianghong","Number":"2683","RawContent":null,"Title":"紧急求助 <keep-alive> 怎么缓存iframe?","State":"closed","Body":"<template>\r\n  <keep-alive>\r\n    <iframe id=\"show-iframe\" width='100%' frameborder=0 name=\"showHere\" scrolling=auto :src='src'></iframe>\r\n  </keep-alive>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      src: '@/FS_WEB_AGENT/test_foss.html?workno=1036&pwd=123456&isOpen=developmentTest'\r\n    }\r\n  },\r\n  mounted() {\r\n    const oIframe = document.getElementById('show-iframe')\r\n    const deviceHeight = document.documentElement.clientHeight\r\n    oIframe.style.height = (deviceHeight - 88) + 'px'\r\n  }\r\n}\r\n</script>\r\n\r\n这是我某个iframe组件。当我切换到其他tab的时候，再切换回来 又会加载一遍iframe，怎么样不加载呢","Url":"https://github.com/vuejs/vue-router/issues/2683","RelatedDescription":"Closed issue \"紧急求助 <keep-alive> 怎么缓存iframe?\" (#2683)"},{"Id":"426332498","IsPullRequest":false,"CreatedAt":"2019-03-28T07:09:42","Actor":"cyanwin","Number":"2682","RawContent":null,"Title":"Vue Router History mode can't save query params","State":"closed","Body":"Some router path use query params.\r\nFor example 'localhost: 8080?aaa=1' it can't work, refresh page query will be empty","Url":"https://github.com/vuejs/vue-router/issues/2682","RelatedDescription":"Closed issue \"Vue Router History mode can't save query params\" (#2682)"},{"Id":"426263940","IsPullRequest":true,"CreatedAt":"2019-03-28T02:26:44","Actor":"songzeng2016","Number":"2680","RawContent":null,"Title":" fix wrong characters in zh-cn doc.","State":"closed","Body":"fix wrong characters in zh-cn doc.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2680","RelatedDescription":"Closed or merged PR \" fix wrong characters in zh-cn doc.\" (#2680)"},{"Id":"426067373","IsPullRequest":false,"CreatedAt":"2019-03-27T17:01:29","Actor":"claudiolcastro","Number":"2679","RawContent":null,"Title":"Error on decoding ISO-8859-1 words","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/ZPdOxa?editors=1010](https://codepen.io/anon/pen/ZPdOxa?editors=1010)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nFirst click on the \"Test Ok\" link and see the route populate the $this.route.query.q. Then, click on the \"Test fail\" and see the route chash and not populate the $this.route.query.q.\r\n\r\n### What is expected?\r\nIt was expected that the router converted the \"test%E9\" to \"testé\" and populate the this.$route.query.q. \r\n\r\n### What is actually happening?\r\nVue-router is failing to populate the this.$route.query.q.\r\n\r\n---\r\nBy debugging the code,  I realized  that the `decodeURIComponent` does not work properly with  ISO-8859-1 words. In other hand, the `unescape` method works well.\r\n\r\nExample below:\r\n\r\n```\r\ntext = 'test%E9'\r\n> \"test%E9\"\r\n\r\ndecodeURIComponent(text)\r\n> VM568:1 Uncaught URIError: URI malformed\r\n    at decodeURIComponent (<anonymous>)\r\n    at <anonymous>:1:1\r\n\r\nunescape(text)\r\n> \"testé\"\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2679","RelatedDescription":"Closed issue \"Error on decoding ISO-8859-1 words\" (#2679)"},{"Id":"426045309","IsPullRequest":false,"CreatedAt":"2019-03-27T15:58:00","Actor":"claudiolcastro","Number":"2678","RawContent":null,"Title":"Error on decoding ISO-8859-1 words","State":"closed","Body":"Hey,\r\n\r\nI'm having an error when a pass a word encoded in  ISO-8859-1 as query to the router.\r\n\r\nIt's seems that `var decode = decodeURIComponent;` can not handle iso words. It's crash the entire route, and does not return any error.\r\n\r\nBy debbunging the code i saw that the `decodeURIComponent` return `\"Uncaught URIError: URI malformed\"`\r\n\r\nA solution for this, i think would be replace the `decodeURIComponent`  for `unescape` method, that i've tested and it worked well. **But i realise that `unescape` method is deprecated**\r\n\r\nSo, anyone have any idea how to solve this problem?\r\n\r\nThanks\r\n\r\nhttps://github.com/vuejs/vue-router/blob/b8e7b7a7bc61d853c581af5541925e388f36fcd0/src/util/query.js#L46","Url":"https://github.com/vuejs/vue-router/issues/2678","RelatedDescription":"Closed issue \"Error on decoding ISO-8859-1 words\" (#2678)"},{"Id":"426004468","IsPullRequest":false,"CreatedAt":"2019-03-27T14:50:09","Actor":"EvanBurbidge","Number":"2677","RawContent":null,"Title":"Page refresh after addRoutes method fails to load the new route","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/EvanBurbidge/vue-router-tester](https://github.com/EvanBurbidge/vue-router-tester)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Clone the project\r\n- Install dependencies\r\n- Run the project\r\n- Navigate to /testing\r\n- reload the page\r\n- then navigate to the about page\r\n- navigate to the foo link\r\n- reload the page\r\n\r\n### What is expected?\r\nWhen I reload the page the tester component is fetched for the /testing route. Or when I navigate to the foo component and reload the page I should see the same component load. \r\n\r\n### What is actually happening?\r\nWhen we reload the page I expect the component assigned to that route to be present, however it does not load on page refresh, the router is setup within a parent component and on page refresh this data is lost. Looking at the router.options.routes I can see that it is not modified with a new route when we call the addRoutes method. When trying to store the configuration in localStorage / sessionStorage we lose the import part of the component.\r\n\r\n---\r\nWhile this method is handy for adding new routes to the router, you will never know when a user is going to reload their browser, if some data goes wrong or something like that, therefore we should probably ensure that this method allows us to easily add new routes that will persist through a page refresh, if I am 2/ 3 child levels deep into a set of components then when I refresh I should see those components not a blank screen.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2677","RelatedDescription":"Closed issue \"Page refresh after addRoutes method fails to load the new route\" (#2677)"},{"Id":"426004367","IsPullRequest":false,"CreatedAt":"2019-03-27T14:48:24","Actor":"EvanBurbidge","Number":"2676","RawContent":null,"Title":"Page refresh after addRoutes method fails to load the new route and components","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/EvanBurbidge/vue-router-tester](https://github.com/EvanBurbidge/vue-router-tester)\r\n\r\n### Steps to reproduce\r\n- Clone the project\r\n- Install dependencies\r\n- Run the project\r\n- Navigate to /testing\r\n- reload the page\r\n- then navigate to the about page\r\n- navigate to the foo link\r\n- reload the page\r\n\r\n### What is expected?\r\nWhen I reload the page the tester component is fetched for the /testing route. Or when I navigate to the foo component and reload the page I should see the same component load. \r\n\r\n### What is actually happening?\r\nWhen we reload the page I expect the component assigned to that route to be present, however it does not load on page refresh, the router is setup within a parent component and on page refresh this data is lost. Looking at the router.options.routes I can see that it is not modified with a new route when we call the addRoutes method. When trying to store the configuration in localStorage / sessionStorage we lose the import part of the component.\r\n\r\n---\r\nWhile this method is handy for adding new routes to the router, you will never know when a user is going to reload their browser, if some data goes wrong or something like that, therefore we should probably ensure that this method allows us to easily add new routes that will persist through a page refresh, if I am 2/ 3 child levels deep into a set of components then when I refresh I should see those components not a blank screen.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2676","RelatedDescription":"Closed issue \"Page refresh after addRoutes method fails to load the new route and components\" (#2676)"},{"Id":"425994013","IsPullRequest":false,"CreatedAt":"2019-03-27T14:32:41","Actor":"OnlyBreak","Number":"2675","RawContent":null,"Title":"SSR cannot get matched component (router.getMatchedComponents())","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://jsbin.com/qiduticizu/edit?html,js,output](https://jsbin.com/qiduticizu/edit?html,js,output)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSSR gets matched component  is function when I use router redirect.\r\n\r\n(by router.getMatchedComponents())\r\n\r\n\r\n### What is expected?\r\nThe matched is a component,  and component.asyncData isn't undefined when asyncData was set in logic components.\r\n\r\n### What is actually happening?\r\nmatched components is function and  asyncData is undefined.\r\n\r\nfunction is:\r\n```\r\nfunction VueComponent (options) {\r\n      this._init(options);\r\n    }\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2675","RelatedDescription":"Closed issue \"SSR cannot get matched component (router.getMatchedComponents())\" (#2675)"},{"Id":"425255976","IsPullRequest":false,"CreatedAt":"2019-03-26T11:43:36","Actor":"AndreKR","Number":"2672","RawContent":null,"Title":"router.app.$data undefined in beforeEach on first load","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/q574co12/](https://jsfiddle.net/q574co12/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun the minimal reproduction link, check console output\r\n\r\n### What is expected?\r\nBrowser shows \"Hello\"\r\nConsole output: \"Joe\"\r\n\r\n### What is actually happening?\r\nBrowser shows \"Please log in\"\r\nConsole output: undefined\r\n\r\n---\r\nIn the example I want to check if someone is logged in and otherwise redirect to a login route. However, this solution always redirects to the login route, even if someone is logged in, because the loggedInUser is not available in `router.app`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2672","RelatedDescription":"Closed issue \"router.app.$data undefined in beforeEach on first load\" (#2672)"},{"Id":"425266084","IsPullRequest":false,"CreatedAt":"2019-03-26T09:15:44","Actor":"Richard-Choooou","Number":"2674","RawContent":null,"Title":"请问vue router 4 会做成 react router 4的模式吗？","State":"closed","Body":"### What problem does this feature solve?\r\n感觉目前集中式的管理，路由一旦很多就有点不利于维护，可能是我的使用方式不对吧，不知道能不能提供最佳实践。\r\n\r\n### What does the proposed API look like?\r\n-\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2674","RelatedDescription":"Closed issue \"请问vue router 4 会做成 react router 4的模式吗？\" (#2674)"},{"Id":"425265372","IsPullRequest":false,"CreatedAt":"2019-03-26T07:32:29","Actor":"Richard-Choooou","Number":"2673","RawContent":null,"Title":"请问vue router 4 会做成 react router 4的模式吗？","State":"closed","Body":"感觉目前集中式的管理，路由一旦很多就有点不利于维护，可能是我的使用方式不对吧，不知道能不能提供最佳实践。","Url":"https://github.com/vuejs/vue-router/issues/2673","RelatedDescription":"Closed issue \"请问vue router 4 会做成 react router 4的模式吗？\" (#2673)"},{"Id":"424578780","IsPullRequest":false,"CreatedAt":"2019-03-24T22:04:03","Actor":"timelights","Number":"2671","RawContent":null,"Title":"vue-router not working when accessed directly on URL address of the browser","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/issues/2668](https://github.com/vuejs/vue-router/issues/2668)\r\nAlso logged issue on [https://github.com/zeit/serve/issues/515](https://github.com/zeit/serve/issues/515)\r\nbecause I do not know where the root cause of issue is (either on ```npm run build``` or ```serve -s```). But it seems working when running on ```npm run serve```.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. npm run build\r\n2. npm install -g serve\r\n3. serve dist\r\n4. visit localhost:5000\r\n5. click the router-link to /route/to/login = component correctly displayed\r\n6. access the route directly in URL address (or just refresh the page) localhost:5000/route/to/login = this shows issue, 404 page is displayed\r\n\r\n### What is expected?\r\nAccess the route directly in the URL (localhost:5000/route/to/login) to display the Login component\r\n\r\n### What is actually happening?\r\n404 page is displayed.\r\n**Important to read notes below for more understanding of the issue.**\r\n\r\n---\r\n# Important Notes\r\n\r\nCompare:\r\nWhen clicking on a ```<router-link to=\"/route/to/login\">Login</router-link>```\r\nThe Login component is displayed\r\n\r\n**BUT** when refreshing the page **OR**\r\nWhen accessing the URL directly in the browser (localhost:5000/route/to/login)\r\n404 page is displayed. (**Note** that this is working on ```npm run serve``` but not on ```serve``` at dist folder)\r\n\r\nSee issue #2668 for more details of the code.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2671","RelatedDescription":"Closed issue \"vue-router not working when accessed directly on URL address of the browser\" (#2671)"},{"Id":"424525745","IsPullRequest":false,"CreatedAt":"2019-03-24T22:02:13","Actor":"thayannevls","Number":"2670","RawContent":null,"Title":"Translate docs to PT-BR","State":"closed","Body":"### What problem does this feature solve?\r\nhttps://vuejs.org/ and https://vuex.vuejs.org/ docs already are translated to PT-BR, would be interesting to Vue-Router be translated to Brazil Portuguese too.\r\n\r\n### What does the proposed API look like?\r\nI want to start translating, can I make a fork and start working on this? I can start translating the `docs/README.md`, `docs/installation.md` and the `docs/api/README.md`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2670","RelatedDescription":"Closed issue \"Translate docs to PT-BR\" (#2670)"},{"Id":"424493574","IsPullRequest":true,"CreatedAt":"2019-03-23T12:10:17","Actor":"posva","Number":"2669","RawContent":null,"Title":"chore(deps): update deps to fix netlify deploy","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2669","RelatedDescription":"Closed or merged PR \"chore(deps): update deps to fix netlify deploy\" (#2669)"},{"Id":"424480244","IsPullRequest":false,"CreatedAt":"2019-03-23T09:43:32","Actor":"timelights","Number":"2668","RawContent":null,"Title":"vue-router is redirected to 404 page instead of the correct component","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/BbMByN](https://codepen.io/anon/pen/BbMByN)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. vue create my-app (choose default)\r\n2. npm install vue-router\r\n3. add neccesarry code to create basic routing\r\n\r\n### What is expected?\r\n```npm run serve```\r\n-- localhost:8080/my/route/to/login\r\nLogin component is displayed\r\n\r\n```npm run build```\r\non cli, enter \"serve\" to run the build under dist folder\r\n-- localhost:5000/my/route/to/login\r\nLogin component is displayed\r\n\r\n### What is actually happening?\r\n```npm run serve```\r\n-- localhost:8080/my/route/to/login\r\nLogin component is displayed\r\n\r\n```npm run build```\r\non cli, enter \"serve\" to run the build under dist folder\r\n-- localhost:5000/my/route/to/login\r\n404 | The requested path could not be found\r\n\r\n---\r\nnpm install -g serve\r\nserve --version = 10.1.2\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2668","RelatedDescription":"Closed issue \"vue-router is redirected to 404 page instead of the correct component\" (#2668)"},{"Id":"424383693","IsPullRequest":false,"CreatedAt":"2019-03-22T20:18:17","Actor":"josendulip","Number":"2667","RawContent":null,"Title":"Hi! Is there another way to open user page? I tried router.go, router.replace but they are not working., what should I do?","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n`export default {\r\n  name: \"NavBar\",\r\ncomponents:{...},\r\ndata() {\r\n    return {\r\n      name: null,\r\n      email: null,\r\n      pwd: null,\r\n    };\r\n  },\r\n  methods: {\r\n    logInner(){\r\n          fb.auth().signInWithEmailAndPassword(this.email, this.pwd)\r\n              .then(function() { //then((user) O User esta caso voce care guardar alguma info do utilizador ao fazer login. Cookies ou redirecionar artigo personalizados.\r\n               this.$router.push({\r\n                    path: 'users'\r\n                })\r\n              })\r\n              .catch(function(error) {\r\n                  // Handle Errors here.\r\n                  var errorCode = error.code;\r\n                  var errorMessage = error.message;\r\n                  if (errorCode === 'auth/wrong-password') {\r\n                      alert('Wrong password.');\r\n                  } else {\r\n                      alert(errorMessage);\r\n                  }\r\n                  console.log(error);\r\n          });\r\n\r\n      },`\r\n","Url":"https://github.com/vuejs/vue-router/issues/2667","RelatedDescription":"Closed issue \"Hi! Is there another way to open user page? I tried router.go, router.replace but they are not working., what should I do?\" (#2667)"},{"Id":"424262456","IsPullRequest":true,"CreatedAt":"2019-03-22T15:21:19","Actor":"Scrum","Number":"2666","RawContent":null,"Title":"docs: fix typo","State":"closed","Body":"\r\n","Url":"https://github.com/vuejs/vue-router/pull/2666","RelatedDescription":"Closed or merged PR \"docs: fix typo\" (#2666)"},{"Id":"424261945","IsPullRequest":true,"CreatedAt":"2019-03-22T15:21:06","Actor":"Scrum","Number":"2665","RawContent":null,"Title":"docs: fix typo","State":"closed","Body":"\r\n","Url":"https://github.com/vuejs/vue-router/pull/2665","RelatedDescription":"Closed or merged PR \"docs: fix typo\" (#2665)"},{"Id":"424085440","IsPullRequest":true,"CreatedAt":"2019-03-22T07:52:18","Actor":"Hquestion","Number":"2664","RawContent":null,"Title":"feat(core): support add routes as children to an existing route","State":"open","Body":"VueRouter.addRoutes method support add routes as children to an existing route\r\n\r\n\r\n","Url":"https://github.com/vuejs/vue-router/pull/2664","RelatedDescription":"Open PR \"feat(core): support add routes as children to an existing route\" (#2664)"},{"Id":"423969779","IsPullRequest":false,"CreatedAt":"2019-03-21T22:29:35","Actor":"anvelicon","Number":"2663","RawContent":null,"Title":" of charleston","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2663","RelatedDescription":"Closed issue \" of charleston\" (#2663)"},{"Id":"423736310","IsPullRequest":false,"CreatedAt":"2019-03-21T15:38:56","Actor":"johannpinson","Number":"2662","RawContent":null,"Title":"Typescript: `Location` interface typing for params should be more permissive ","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/mjjz2zlr8x?fontsize=14](https://codesandbox.io/s/mjjz2zlr8x?fontsize=14)\r\n\r\n![Capture d’écran 2019-03-21 à 14 43 46](https://user-images.githubusercontent.com/2202989/54756088-c5d35200-4be7-11e9-8e07-ea27793a84ee.png)\r\n\r\n\r\n### Steps to reproduce\r\nIt just needs to follow the guide on https://router.vuejs.org/guide/essentials/navigation.html\r\nBy adding this:\r\n```\r\nconst userId = 123\r\nthis.$router.push({ name: 'user', params: { userId }})\r\n```\r\n\r\nI got this TS error in VSCode:\r\n```\r\nArgument of type '{ name: string; params: { userId: number; }; }' is not assignable to parameter of type 'RawLocation'.\r\n  Type '{ name: string; params: { userId: number; }; }' is not assignable to type 'Location'.\r\n    Types of property 'params' are incompatible.\r\n      Type '{ userId: number; }' is not assignable to type 'Dictionary<string>'.\r\n        Property 'userId' is incompatible with index signature.\r\n          Type 'number' is not assignable to type 'string'.\r\n```\r\n\r\n### What is expected?\r\nThe property `params` in the interface Location must be more permissive that just the String type as value \r\n\r\n### What is actually happening?\r\nIf I try to pass a number or a boolean, there is an unexpected error\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2662","RelatedDescription":"Closed issue \"Typescript: `Location` interface typing for params should be more permissive \" (#2662)"},{"Id":"423685987","IsPullRequest":false,"CreatedAt":"2019-03-21T15:35:54","Actor":"baturali","Number":"2661","RawContent":null,"Title":"$router Optional query parameters","State":"closed","Body":"### What problem does this feature solve?\r\nThe main problem I am experiencing is the unnecessary query parameters inside `$router.replace()`. Now, assuming I am inserting multiple parameters or a JSON object inside the `query:`, some of the paramters might have null, undefined or empty values. It would be great if we had an option to simply avoid showing these parameters in the URL if they are not wanted.\r\n\r\n### What does the proposed API look like?\r\nAs an example I have the below `replace()`\r\n```\r\nconst hasBrandQuery = 'brandIds: 5'\r\nconst hasProductQuery = null\r\nthis.$router.replace({\r\n  query: {\r\n    hasBrandQuery,\r\n    hasProductQuery\r\n  }\r\n})\r\n```\r\nThe problem I have with the code above is that I don't want `hasProductQuery` to be shown in my URL, simply because it has no specific value and it should only show `hasBrandQuery`.\r\nI think this would be a good feature if we had an option to enable such a thing.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2661","RelatedDescription":"Closed issue \"$router Optional query parameters\" (#2661)"},{"Id":"423509448","IsPullRequest":false,"CreatedAt":"2019-03-20T23:00:19","Actor":"OliverJEvans","Number":"2660","RawContent":null,"Title":"SSR app with async components, 500s when using component styles","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/OliverJEvans/vue-ssr-issue](https://github.com/OliverJEvans/vue-ssr-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nAfter cloning, run commands in terminal ... `npm install`, `npm run build` then `npm run start`. \r\n\r\nOpen browser at http://localhost:8080/ and observe 500 error.\r\n\r\nServer console shows `[vue-router] Failed to resolve async component default: ReferenceError: document is not defined`\r\n\r\nIn file Hero.vue, remove styles on lines 7-10 and re-run `npm run build` and `npm run start`. \r\n\r\nServer runs correctly\r\n\r\n### What is expected?\r\nI expect hero component to have green background and allow nested components to have styles.\r\n\r\n### What is actually happening?\r\nServer 500s with `document is\r\n not defined` error message\r\n\r\n---\r\nWhen non-lazy loading the views in router.js, everything works fine. Something to do with lazy loading those chunks in breaks nested component styles. \r\n\r\nThis issue might not be specific to vue-router but as it is the one throwing the error, I thought I'd start here for assistance. Thank you\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2660","RelatedDescription":"Open issue \"SSR app with async components, 500s when using component styles\" (#2660)"},{"Id":"423218487","IsPullRequest":false,"CreatedAt":"2019-03-20T12:12:32","Actor":"Troland","Number":"2659","RawContent":null,"Title":"Dynamic base get whitescreen","State":"closed","Body":"Version\r\n3.0.1\r\n\r\nReproduction link\r\nhttps://codesandbox.io/s/92477v6zy\r\n\r\nSteps to reproduce\r\n1、 set router like this: export default new Router({ mode: \"history\", base: /abc/${window._global.pid}/, routes: [] }) window.global is a global object injected into the index.html by the server render. like window.global = {pid: 3} 2、sometimes when enter into the route the page turns whitescreen and can't enter into the targeted route like http://abc.com/abc/3/home\r\n\r\nWhat is expected?\r\nIt should render the targed route\r\n\r\nWhat is actually happening?\r\nThe page turn white-screen\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/2659","RelatedDescription":"Closed issue \"Dynamic base get whitescreen\" (#2659)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"424233038","IsPullRequest":true,"CreatedAt":"2019-03-25T12:47:59","Actor":"brunossn","Number":"1527","RawContent":null,"Title":"Correção de erro de digitação","State":"closed","Body":"Mudança de \"argumetos\" para \"argumentos\"","Url":"https://github.com/vuejs/vuex/pull/1527","RelatedDescription":"Closed or merged PR \"Correção de erro de digitação\" (#1527)"},{"Id":"424461016","IsPullRequest":true,"CreatedAt":"2019-03-25T12:45:48","Actor":"tomouchi","Number":"1528","RawContent":null,"Title":"docs(ja): Fix code part","State":"closed","Body":"コード部分が間違っているようだったので他の言語と同じくなるように修正しました。","Url":"https://github.com/vuejs/vuex/pull/1528","RelatedDescription":"Closed or merged PR \"docs(ja): Fix code part\" (#1528)"},{"Id":"424779602","IsPullRequest":true,"CreatedAt":"2019-03-25T12:44:05","Actor":"Jinjiang","Number":"1529","RawContent":null,"Title":"docs(zh): updated","State":"closed","Body":"Ref: https://github.com/vuejs/vuex/compare/665455f...b58d3d6\r\n/ping @justineo\r\nThanks.","Url":"https://github.com/vuejs/vuex/pull/1529","RelatedDescription":"Closed or merged PR \"docs(zh): updated\" (#1529)"},{"Id":"410145165","IsPullRequest":true,"CreatedAt":"2019-03-25T12:31:54","Actor":"parth67","Number":"1508","RawContent":null,"Title":"Fixed issue#1507 : Memory leak happening while using registerModule/u…","State":"closed","Body":"Fixes #1507 \r\n\r\nClosure function was fixed with helper function partial which doesn't retain oldVm in environment.","Url":"https://github.com/vuejs/vuex/pull/1508","RelatedDescription":"Closed or merged PR \"Fixed issue#1507 : Memory leak happening while using registerModule/u…\" (#1508)"},{"Id":"409797501","IsPullRequest":false,"CreatedAt":"2019-03-25T12:31:54","Actor":"skkart","Number":"1507","RawContent":null,"Title":"Memory leak happening while using registerModule/unregisterModule.","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/mrj8spu0/](https://jsfiddle.net/mrj8spu0/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n1. Open the JSFiddle link mentioned as part of this issue.\r\n2. Check and record the heap memory in the browser on initial stage.\r\n3. Click on the \"Register\" button to dynamically register Module B 100 times\r\n4. Now we will see an increase in heap memory on account of registering module 100 times.\r\n5. Click on \"Un-Register\" button to dynamically un-register Module B 100 times\r\n6. Check the heap memory again, at this point will see an jump in memory usage on account of un-registering 100 module. \r\n\r\n### What is expected?\r\nHeap memory generated on step 3 & 5 must be cleared after step 6. (Final stage)\r\n\r\n### What is actually happening?\r\nHeap memory of the browser is not getting cleared.\r\n\r\n---\r\nWe are observing memory leak of Store._vm while using registerModule/unregisterModule extensively.\r\nOn heap profiling we found that the oldVm instance is not getting garbage collected.\r\n\r\nProbable Solution:\r\nDe-reference the oldVm instance on the same function scope where its getting instantiated (i.e. resetStoreVM() )\r\n\r\nThe above can be achieved by adding following code inside resetStoreVM function.\r\n\r\noldVm.$destroy(); \r\noldVm = null; // This is the missing code\r\n\r\nAttached google chrome (V 72.0.3626.96) heap snapshot and file.\r\n![heapsnapshot](https://user-images.githubusercontent.com/38841241/52727462-4ac0bf80-2fdb-11e9-91ce-7dd012cba4b5.png)\r\n\r\n[Heap-20190213T220212.heaptimeline.zip](https://github.com/vuejs/vuex/files/2861246/Heap-20190213T220212.heaptimeline.zip)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1507","RelatedDescription":"Closed issue \"Memory leak happening while using registerModule/unregisterModule.\" (#1507)"},{"Id":"422808526","IsPullRequest":false,"CreatedAt":"2019-03-19T15:46:29","Actor":"FlorentinBurgeat","Number":"1526","RawContent":null,"Title":"Unused callback parameter in registerAction method causing trouble when testing mapActions","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/4c0d0ae0abcd48f1df2c0c263402a94a214168b2/src/store.js#L434](https://github.com/vuejs/vuex/blob/4c0d0ae0abcd48f1df2c0c263402a94a214168b2/src/store.js#L434)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a component with method using mapActions\r\n2. Test call of the method\r\n3. Notice that the store action is called with 3 parameters: the store, the payload, and a unused callback always set to undefined.\r\n\r\n### What is expected?\r\nThe action must be called with only the 2 first parameters.\r\n\r\n### What is actually happening?\r\nThe action is called with a third parameters (cb) set to undefined.\r\n\r\n---\r\nI think this is an error. I don't see where it can be used.\r\nI did not do a JSFiddle but linked you directly to the line where the potentially unused callback is.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1526","RelatedDescription":"Open issue \"Unused callback parameter in registerAction method causing trouble when testing mapActions\" (#1526)"},{"Id":"422588972","IsPullRequest":true,"CreatedAt":"2019-03-19T13:40:45","Actor":"Styx11","Number":"1524","RawContent":null,"Title":"docs(zh): fixed a sentence into bold","State":"closed","Body":"there is a sentence which should be bold instead of wrapping with double asterisk\r\n\r\n中文文档的 *严格模式* 一章有个句子应该是加粗格式，但它显示为被双星号包裹。","Url":"https://github.com/vuejs/vuex/pull/1524","RelatedDescription":"Closed or merged PR \"docs(zh): fixed a sentence into bold\" (#1524)"},{"Id":"422698596","IsPullRequest":true,"CreatedAt":"2019-03-19T13:39:44","Actor":"banderson623","Number":"1525","RawContent":null,"Title":"docs(en) Small phrase improvement: silly","State":"closed","Body":"Replace \"dumb\" with \"silly\", since dumb [is defined as mute or unable to speak](https://www.dictionary.com/browse/dumb). Let's clarify this a bit, what the doc is implying is this function call may seem to be a bit extra and non obvious at first glance. \r\n\r\nThe whimsical word \"silly\" is a nice stand in for this.\r\n\r\n![](https://media0.giphy.com/media/ujzJFRYbyjZe0/giphy.gif)","Url":"https://github.com/vuejs/vuex/pull/1525","RelatedDescription":"Closed or merged PR \"docs(en) Small phrase improvement: silly\" (#1525)"},{"Id":"421852602","IsPullRequest":true,"CreatedAt":"2019-03-17T04:44:46","Actor":"dollinad","Number":"1523","RawContent":null,"Title":"Fix minor errors in README.md","State":"closed","Body":"Changes involve:\r\n- Removal of dead links: data flow.png and vuex.png\r\n- Removal of discourse markers (although, also, in addition) to make sentences precise","Url":"https://github.com/vuejs/vuex/pull/1523","RelatedDescription":"Closed or merged PR \"Fix minor errors in README.md\" (#1523)"},{"Id":"420554353","IsPullRequest":true,"CreatedAt":"2019-03-13T15:10:35","Actor":"duyanpeng","Number":"1522","RawContent":null,"Title":"Add  subscribeAction  unit","State":"open","Body":"Add  subscribeAction api unit\r\nthank you","Url":"https://github.com/vuejs/vuex/pull/1522","RelatedDescription":"Open PR \"Add  subscribeAction  unit\" (#1522)"},{"Id":"420548516","IsPullRequest":true,"CreatedAt":"2019-03-13T15:06:18","Actor":"duyanpeng","Number":"1521","RawContent":null,"Title":"add subscribeAction unit","State":"closed","Body":"add subscribeAction api unit ","Url":"https://github.com/vuejs/vuex/pull/1521","RelatedDescription":"Closed or merged PR \"add subscribeAction unit\" (#1521)"},{"Id":"418608570","IsPullRequest":false,"CreatedAt":"2019-03-10T18:15:17","Actor":"zzzgit","Number":"1518","RawContent":null,"Title":"Why can’t I assign a socketio object to state in strict mode? ","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n\r\n\r\n### Steps to reproduce\r\n![image](https://user-images.githubusercontent.com/1060733/54004291-023a9300-4190-11e9-8112-17f8814c1fd1.png)\r\n![image](https://user-images.githubusercontent.com/1060733/54004314-154d6300-4190-11e9-808f-b28bf5396181.png)\r\n![image](https://user-images.githubusercontent.com/1060733/54004330-226a5200-4190-11e9-896e-765daa3626c8.png)\r\n\r\n\r\n### What is expected?\r\n\r\n\r\n### What is actually happening?\r\nin strict mode, I can't assign socket object to state.\r\nis there a solution?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1518","RelatedDescription":"Closed issue \"Why can’t I assign a socketio object to state in strict mode? \" (#1518)"},{"Id":"418332613","IsPullRequest":true,"CreatedAt":"2019-03-10T13:44:16","Actor":"davidsandoz","Number":"1517","RawContent":null,"Title":"Make mutation and action payload optional in definition file","State":"closed","Body":"When testing a mutation without payload in TypeScript, it complains that about the missing payload, even though it's not mandatory.\r\n\r\nThis PR simply makes the payload optional.\r\n\r\nFixes #1491","Url":"https://github.com/vuejs/vuex/pull/1517","RelatedDescription":"Closed or merged PR \"Make mutation and action payload optional in definition file\" (#1517)"},{"Id":"418852210","IsPullRequest":false,"CreatedAt":"2019-03-08T16:11:11","Actor":"jcupps","Number":"1520","RawContent":null,"Title":"Feature Request: Private State","State":"open","Body":"### What problem does this feature solve?\r\nI would like the ability to make certain state private to the store, i.e. accessible within store getters, actions, and mutations, but not directly accessible by consumers (e.g. components). This would prevent unintended reading or manipulation of state which should be done through getters or actions/mutations respectively. As far as I know, there is no good way to achieve this today in Vuex.\r\n\r\n### What does the proposed API look like?\r\nThe API could look something like this:\r\n\r\nA store:\r\n```javascript\r\n{\r\n  state() {\r\n    return {\r\n      somethingPublic: ''\r\n    };\r\n  },\r\n\r\n  privateState() {\r\n    return {\r\n      somethingPrivate: []\r\n    };\r\n  },\r\n\r\n  getters: {\r\n    filtered: (state, getters, privateState) => privateState.somethingPrivate.filter(...)\r\n  }\r\n}\r\n```\r\n\r\nIn a component:\r\n```javascript\r\n// works:\r\nthis.$store.state.somethingPublic\r\nthis.$store.getters.filtered\r\n// doesn't work:\r\nthis.$store.state.somethingPrivate\r\nthis.$store.privateState.somethingPrivate\r\n```\r\n\r\nThanks.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1520","RelatedDescription":"Open issue \"Feature Request: Private State\" (#1520)"},{"Id":"418840190","IsPullRequest":true,"CreatedAt":"2019-03-08T15:42:49","Actor":"vaga","Number":"1519","RawContent":null,"Title":"docs(fr): Fix typo","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1519","RelatedDescription":"Open PR \"docs(fr): Fix typo\" (#1519)"},{"Id":"413266987","IsPullRequest":true,"CreatedAt":"2019-03-07T18:10:47","Actor":"jennyliang220","Number":"1514","RawContent":null,"Title":"doc: change ECMASCript into ECMAScript","State":"closed","Body":"![image](https://user-images.githubusercontent.com/8498677/53224814-fa1f2580-36b0-11e9-8f4c-28f387d6161b.png)\r\n","Url":"https://github.com/vuejs/vuex/pull/1514","RelatedDescription":"Closed or merged PR \"doc: change ECMASCript into ECMAScript\" (#1514)"},{"Id":"418113903","IsPullRequest":false,"CreatedAt":"2019-03-07T03:36:37","Actor":"zzzgit","Number":"1516","RawContent":null,"Title":"Why can’t I assign a socketio object to state in strict mode","State":"closed","Body":"```javacript\r\nexport default {\r\n\tstate: {\r\n\t\tsocket: null,\r\n\t},\r\n\tmutations: {\r\n\t\tkeepSocket: (state, payload)=>{\r\n\t\t\tstate.socket = payload\r\n\t\t},\r\n\t},\r\n\tactions: {\r\n\t}\r\n}\r\n```\r\n\r\nI am using `vuex`, if I try to set a [socket-io](https://socket.io/) client object to state in strict mode, I will get an error like this:\r\n\r\n![image](https://user-images.githubusercontent.com/1060733/53930690-35681e00-40cd-11e9-966f-33e86f37044f.png)\r\n","Url":"https://github.com/vuejs/vuex/issues/1516","RelatedDescription":"Closed issue \"Why can’t I assign a socketio object to state in strict mode\" (#1516)"},{"Id":"417789787","IsPullRequest":false,"CreatedAt":"2019-03-06T12:56:21","Actor":"hezhuojie","Number":"1515","RawContent":null,"Title":"Bug: getters of a dynamic module will lose after unregistering other module","State":"open","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://jsbin.com/bejenutewi/edit?js,console](https://jsbin.com/bejenutewi/edit?js,console)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\njust one the page [https://jsbin.com/bejenutewi/edit?js,console](https://jsbin.com/bejenutewi/edit?js,console)\r\n\r\n### What is expected?\r\nresult of `store.getters['mod/getOne']` should always be 1\r\n\r\n### What is actually happening?\r\ngetter `mod/getOne` is missing, return `undefined`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1515","RelatedDescription":"Open issue \"Bug: getters of a dynamic module will lose after unregistering other module\" (#1515)"},{"Id":"410330210","IsPullRequest":false,"CreatedAt":"2019-02-23T15:17:55","Actor":"djam90","Number":"1509","RawContent":null,"Title":"Unit tests do not run when importing router into store and store into router","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://github.com/djam90/vuex-vue-router-issue](https://github.com/djam90/vuex-vue-router-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun `npm run test:unit` and see the failure. To get the tests to run again, do not import the store into the router and the router into the store.\r\n\r\n### What is expected?\r\nThe tests should run fine and circular imports should work. They *DO* work in the browser just not in Mocha testing environment. \r\n\r\n### What is actually happening?\r\nError as follows:\r\n\r\n```\r\nTypeError: Cannot read property 'getters' of undefined\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:261:1\r\n    at Array.forEach (<anonymous>)\r\n    at assertRawModule (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:260:1)\r\n    at ModuleCollection.register (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:186:1)\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:200:1\r\n    at /home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:75:1\r\n    at Array.forEach (<anonymous>)\r\n    at forEachValue (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:75:1)\r\n    at ModuleCollection.register (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:199:1)\r\n    at new ModuleCollection (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:160:1)\r\n    at new Store (/home/dan/code/vuex-router-issue/dist/webpack:/node_modules/vuex/dist/vuex.esm.js:311:1)\r\n```\r\n\r\n---\r\nMy VueX store needs to be able to import the router so it can do routing things like navigate to another page.\r\nMy router needs to be able to access state from VueX to determine what to do in a `router.beforeEach` handler.\r\n\r\nI have asked for help on Stack Overflow:\r\nhttps://stackoverflow.com/questions/54691789/unable-to-import-vuex-store-into-router-and-router-into-store-in-mocha-tests\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1509","RelatedDescription":"Closed issue \"Unit tests do not run when importing router into store and store into router\" (#1509)"},{"Id":"412632780","IsPullRequest":true,"CreatedAt":"2019-02-21T19:16:28","Actor":"perborgen","Number":"1512","RawContent":null,"Title":"Added Scrimba lessons","State":"closed","Body":"Here are the Scrimba lessons localized and with an `override.styl` file for the styling. Did I do it right?","Url":"https://github.com/vuejs/vuex/pull/1512","RelatedDescription":"Closed or merged PR \"Added Scrimba lessons\" (#1512)"},{"Id":"412637975","IsPullRequest":false,"CreatedAt":"2019-02-20T21:31:16","Actor":"tleeaf","Number":"1513","RawContent":null,"Title":"Naming store state array 'queue' results in one dropped array member","State":"closed","Body":"I named one of my store state members 'queue', which resulted in unexpected behavior, namely that one member of the array would disappear when testing the app in-browser. This occurs independently of any other actions or mutations. I confirmed this by checking the result in vue devtools for chrome, in the vuex tab, and also by adding a v-for that produced simple tags dependent on the data in the 'queue' array.\r\n\r\n`export const store = new Vuex.Store({\r\n  state: {\r\n     queue: [ \r\n      {id: 1333333333}, //one of these members will be dropped \r\n      {id: 1222222222},\r\n      {id: 1111111111}\r\n    ],\r\n    vocabulary: [],\r\n    lessons: [],    \r\n  },\r\n  mutations, actions, getters\r\n})`","Url":"https://github.com/vuejs/vuex/issues/1513","RelatedDescription":"Closed issue \"Naming store state array 'queue' results in one dropped array member\" (#1513)"},{"Id":"409173630","IsPullRequest":false,"CreatedAt":"2019-02-18T18:56:17","Actor":"visualjerk","Number":"1505","RawContent":null,"Title":"Infinite Loop With Error Handler And Vuex","State":"closed","Body":"### Version\r\n2.5.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/z6ww1zp2q4](https://codesandbox.io/s/z6ww1zp2q4)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- open browser console\r\n\r\n### What is expected?\r\nNot getting an infinite render loop:\r\n[Vue warn]: You may have an infinite update loop in a component render function.\r\n\r\n### What is actually happening?\r\nGetting an infinite render loop\r\n\r\n---\r\nThis happens when you handle an error that was caused during rendering and try to commit it to the store.\r\n\r\nIt looks like a component that throws an error tries to rerender after the store is updated, even so it doesn't use the store's state.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1505","RelatedDescription":"Closed issue \"Infinite Loop With Error Handler And Vuex\" (#1505)"},{"Id":"411557104","IsPullRequest":true,"CreatedAt":"2019-02-18T17:28:27","Actor":"Jinjiang","Number":"1511","RawContent":null,"Title":"docs(zh): update","State":"closed","Body":"Ref: https://github.com/vuejs/vuex/compare/a6973fa...31e4fbc\r\n/ping @Justineo","Url":"https://github.com/vuejs/vuex/pull/1511","RelatedDescription":"Closed or merged PR \"docs(zh): update\" (#1511)"},{"Id":"411250556","IsPullRequest":true,"CreatedAt":"2019-02-17T23:34:11","Actor":"brophdawg11","Number":"1510","RawContent":null,"Title":"Add support for namespace functions in mapXXX helpers","State":"open","Body":"This is a stab at adding the functionality requested by https://github.com/vuejs/vuex/issues/863.\r\n\r\nI also noticed that there was another attempt at this in https://github.com/vuejs/vuex/pull/924, but the diff seems to be beyond the scope of just the change.\r\n\r\nUnit tests have been added, but no changes have yet been made to TypeScript types or documentation, etc.","Url":"https://github.com/vuejs/vuex/pull/1510","RelatedDescription":"Open PR \"Add support for namespace functions in mapXXX helpers\" (#1510)"},{"Id":"406055885","IsPullRequest":true,"CreatedAt":"2019-02-13T15:21:16","Actor":"tuxinghuan","Number":"1501","RawContent":null,"Title":"docs(zh):fix a small typo","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1501","RelatedDescription":"Closed or merged PR \"docs(zh):fix a small typo\" (#1501)"},{"Id":"409792179","IsPullRequest":false,"CreatedAt":"2019-02-13T12:56:14","Actor":"skkart","Number":"1506","RawContent":null,"Title":"Memory leak happening while using registerModule/unregisterModule.","State":"closed","Body":"We are observing memory leak of Store._vm while using registerModule/unregisterModule.\r\nOn heap profiling we found that the oldVm instance is not getting garbage collected.\r\n\r\nI have created an demo link to illustrate the above mentioned problem\r\n[jsFiddle link](https://jsfiddle.net/mrj8spu0/)\r\n\r\nProbable Solution:\r\nDe-reference the oldVm instance on the same function scope where its getting instantiated (i.e. resetStoreVM() )\r\n\r\nThe above can be achieved by adding following code inside resetStoreVM function.\r\n**_oldVm.$destroy(); \r\noldVm = null;      // This is the missing code_**\r\n```\r\nfunction resetStoreVM (store, state, hot) {\r\n    var oldVm = store._vm;\r\n\r\n    ...\r\n\t...\r\n\r\n    if (oldVm) {\r\n      if (hot) {\r\n        // dispatch changes in all subscribed watchers\r\n        // to force getter re-evaluation for hot reloading.\r\n        store._withCommit(function () {\r\n          oldVm._data.$$state = null;\r\n        });\r\n      }\r\n\r\n      // Existing Code\r\n      Vue.nextTick(function () { return oldVm.$destroy(); });\r\n       \r\n      // The OldVm Object is still in heap even after destroy\r\n      // Appropriate Code\r\n      oldVm.$destroy(); \r\n      oldVm = null;\r\n    }\r\n  }\r\n```\r\n\r\nAttached google chrome (V 72.0.3626.96) heap snapshot and file.\r\n![heapsnapshot](https://user-images.githubusercontent.com/38841241/52712275-1983c780-2fba-11e9-8c67-43b24afe56e1.png)\r\n\r\n[Heap-20190213T172945.heapsnapshot.zip](https://github.com/vuejs/vuex/files/2860354/Heap-20190213T172945.heapsnapshot.zip)\r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1506","RelatedDescription":"Closed issue \"Memory leak happening while using registerModule/unregisterModule.\" (#1506)"},{"Id":"407854625","IsPullRequest":false,"CreatedAt":"2019-02-13T11:12:36","Actor":"ianwalter","Number":"1504","RawContent":null,"Title":"watch instance method behavior is inconsistent between Vue and Vuex","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://github.com/ianwalter/vuex-issue](https://github.com/ianwalter/vuex-issue)\r\n\r\n### Steps to reproduce\r\n1. Register a watcher in a component with a callback function that prints the new data value and old data value\r\n2. Register a watcher on a store instance with a callback function that prints the new data value and old data value\r\n\r\n### What is expected?\r\nThat when both watchers are triggered, both of them print the new data value and the old data value.\r\n\r\n### What is actually happening?\r\nThe component watcher prints the new data value and old data value, while the store watcher only prints the new data value (state) and an empty object (getters, if you haven't defined any). \r\n\r\n---\r\nBefore reading the Vuex documentation more closely, I assumed that this method behaved in the same way as it does in a component. Returning getters to the store watcher callback seems to me like returning computed in the component watcher callback. I think the old state data is more valuable too, especially since it could provide the initial state as the old data, something you can't get in an alternative way (like subscribing to mutations which only gives you the new state as well).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1504","RelatedDescription":"Closed issue \"watch instance method behavior is inconsistent between Vue and Vuex\" (#1504)"},{"Id":"407825529","IsPullRequest":false,"CreatedAt":"2019-02-07T17:59:59","Actor":"ianwalter","Number":"1503","RawContent":null,"Title":"Add a subscribeModule instance method","State":"open","Body":"### What problem does this feature solve?\r\nVuex doesn't provide a way for plugins to be notified when modules are added to the store dynamically through `registerModule`. This means that there can be changes in the state tree that are impossible for plugins to know about through the existing subscription methods like `subscribe` and `subscribeAction`. A common use case would be a plugin that saves the Vuex state to local storage. When a module is added through `registerModule`, the local storage plugin will not be able to store it's initial state to local storage.\r\n\r\n### What does the proposed API look like?\r\n`subscribeModule(handler: Function)`\r\n\r\nSubscribe to `registerModule`/`unregisterModule` events. The handler is called with a module object and a namespace when the module is registered. The module object is null when unregistered:\r\n\r\n```js\r\nstore.subscribeModule((mod, namespace) => {\r\n  if (mod) {\r\n    console.log(mod)\r\n  } else {\r\n    console.log(namespace)\r\n  }\r\n})\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1503","RelatedDescription":"Open issue \"Add a subscribeModule instance method\" (#1503)"},{"Id":"407229198","IsPullRequest":false,"CreatedAt":"2019-02-06T13:13:41","Actor":"SumNeuron","Number":"1502","RawContent":null,"Title":"DOCUMENTATION REQUEST: how to publish vuex module on npm. how to publish sfc component library and vuex module on npm","State":"open","Body":"### What problem does this feature solve?\r\nVuex modules, in theory, are divorced of their vue components which access them. One could take the module, register it and (re)make components to utilize the vuex module as desired. However, in (perhaps poor) practice, vuex modules and vue components are often made concurrently; namely, the components serve as the api to the store and it is expected that inclusion of the vue components come _with_ the vuex module.\r\n\r\nHowever turning a vuex module and library of sfcs into reusable chunks does not seem to be straight forward.\r\n\r\nThe expected behavior would be using the vue-cli to create a new project with a vuex store.\r\nthe store would be moved to its own directory:\r\n\r\n```\r\nsrc/\r\n-- store/\r\n---- modules/\r\n------ moduleA/\r\n-------- actions.js\r\n-------- state.js\r\n-------- mutations.js\r\n-------- getters.js\r\n-------- store.js \r\n...\r\n```\r\n\r\nAll components under `src/components` (or nested directories) would be exposed so users could import each constitute component\r\nAll modules under `src/store/modules` would be exposed so users could just import the module if desired \r\n\r\n\r\n### What does the proposed API look like?\r\n```\r\n# install library\r\nnpm install vuex-vue-sfc-library\r\n\r\n# inside app.vue or some other component\r\n// import the vuex modules and components that access the modules \r\nimport {moduleA, nestedComponentB, conglomerateComponentA} from 'vuex-vue-sfc-library\r\n\r\nexport default {\r\n    components: {\r\n        nestedComponentB, conglomerateComponentA\r\n    },\r\n    created() {\r\n        this.$store.registerModule('moduleA', moduleA)\r\n    }\r\n\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1502","RelatedDescription":"Open issue \"DOCUMENTATION REQUEST: how to publish vuex module on npm. how to publish sfc component library and vuex module on npm\" (#1502)"},{"Id":"405681673","IsPullRequest":false,"CreatedAt":"2019-02-01T12:29:01","Actor":"dcrystalj","Number":"1500","RawContent":null,"Title":"Confusing namespaced api","State":"open","Body":"### What problem does this feature solve?\r\nThe most confusing thing when using namespaced vuex is inconsistant api with state and getters.\r\n\r\nExample:\r\nto access state \r\n`this.$store.state.user.name`\r\n\r\nto access getter\r\n`this.$store.getters['user/fullName']`\r\n\r\nThis is so confusing for me and my coworkers. Is there reason to have this inconsistency?\r\n\r\n\r\n\r\nProblem occurs when you try to watch getters\r\nexample:\r\n```\r\nwatch: {\r\n  '$store.state.user.name': {\r\n    handler(name) {\r\n      console.log(name)\r\n    },\r\n  },\r\n  '$store.getters[user/fullName]': { // not working\r\n    handler(fullName) {\r\n      console.log(fullName)\r\n    },\r\n  },\r\n}\r\n```\r\nCurrent solution Is to use mapGetters() helper for getters only. Why? because of weird api.\r\nPlease note that we try to avoid mapGetters, mapState helpers... due to explicitly in large app\r\n\r\n### What does the proposed API look like?\r\nAdd api for getters same as is for state.\r\n\r\nExample:\r\n`$store.gettters.user.fullName`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1500","RelatedDescription":"Open issue \"Confusing namespaced api\" (#1500)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-03-29T05:30:42.0462077Z","RunDurationInMilliseconds":1555}