{"Data":{"GitHub":{"Issues":[{"Id":"538810095","IsPullRequest":false,"CreatedAt":"2019-12-17T03:26:27","Actor":"ellownet","Number":"2325","RawContent":null,"Title":"\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\System.Xaml\\ref\\System.Xaml-ref.csproj targets 'netcoreapp5.0'. It cannot be referenced by a project that targets '.NETCoreApp,Version=v3.0'.","State":"open","Body":"I'm not sure if I am asking a stupid question\r\n\r\nI am trying to compile the projects, any of them, and I am getting this message. Is this repository supposed to compile?\r\n\r\nCan someone point to a direction?\r\n\r\nI appreciate the patience, thanks.","Url":"https://github.com/dotnet/wpf/issues/2325","RelatedDescription":"Open issue \"\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\System.Xaml\\ref\\System.Xaml-ref.csproj targets 'netcoreapp5.0'. It cannot be referenced by a project that targets '.NETCoreApp,Version=v3.0'.\" (#2325)"},{"Id":"538770081","IsPullRequest":true,"CreatedAt":"2019-12-17T01:10:34","Actor":"dotnet-maestro[bot]","Number":"2324","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191216.3\r\n- **Date Produced**: 12/17/2019 12:33 AM\r\n- **Commit**: 54f8b920d04083735afc7fe6de61aad6fc1b4de3\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19616.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2324","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2324)"},{"Id":"538761385","IsPullRequest":true,"CreatedAt":"2019-12-17T00:55:05","Actor":"dotnet-maestro[bot]","Number":"2323","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191216.2\r\n- **Date Produced**: 12/17/2019 12:12 AM\r\n- **Commit**: 052fc8f0fcc3a8d422791470cd19065da9669590\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19616.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2323","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2323)"},{"Id":"538429551","IsPullRequest":false,"CreatedAt":"2019-12-16T13:59:26","Actor":"Normandy","Number":"2322","RawContent":null,"Title":"Dark mode for WPF styles","State":"open","Body":"I want ask about feature \"dark theme\". Will it be introduced in the near future? Now Im using several xaml files with different resource styles. I would like to know if WPF will interact with system colors?\r\n","Url":"https://github.com/dotnet/wpf/issues/2322","RelatedDescription":"Open issue \"Dark mode for WPF styles\" (#2322)"},{"Id":"538406456","IsPullRequest":true,"CreatedAt":"2019-12-16T13:48:11","Actor":"dotnet-maestro[bot]","Number":"2321","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191215.4\r\n- **Date Produced**: 12/16/2019 12:11 AM\r\n- **Commit**: dd13b09865f5a3238dc79ecb9989f799d3afe735\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19615.4\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2321","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2321)"},{"Id":"538258323","IsPullRequest":false,"CreatedAt":"2019-12-16T08:25:14","Actor":"walterlv","Number":"2320","RawContent":null,"Title":"Any WPF project lower than net461 with System.ValueTuple cannot be compiled","State":"open","Body":"* .NET Core Version: 3.1.100\r\n* Windows version: 10.0.18363.535 (1909)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)?: No \r\n* Security issues and bugs should be reported privately, learn more via our [responsible disclosure guidelines](https://github.com/dotnet/wpf/blob/master/README.md#reporting-security-issues-and-security-bugs).\r\n\r\n <!-- Read https://github.com/dotnet/wpf/blob/master/Documentation/issue-guide.md -->\r\n \r\n **Problem description:**\r\n\r\nIf a WPF project uses `Microsoft.NET.Sdk.WindowsDesktop` as its Sdk, and targets lower than `net461`, then it can never be compiled when referencing `System.ValueTuple`.\r\n \r\n```xml\r\n<Project Sdk=\"Microsoft.NET.Sdk.WindowsDesktop\">\r\n\r\n  <PropertyGroup>\r\n    <OutputType>WinExe</OutputType>\r\n    <TargetFramework>net46</TargetFramework>\r\n    <UseWPF>true</UseWPF>\r\n  </PropertyGroup>\r\n\r\n  <ItemGroup>\r\n    <PackageReference Include=\"System.ValueTuple\" Version=\"4.5.0\" />\r\n  </ItemGroup>\r\n\r\n</Project>\r\n```\r\n\r\nNecessary conditions:\r\n\r\n1. Sdk version 3.1\r\n1. use `Microsoft.NET.Sdk.WindowsDesktop` Sdk and `UseWpf`\r\n1. targeting `net46`/`net452`/`net451`/`net45`\r\n1. Package reference the `System.ValueTuple`\r\n\r\nThis issue is introduced in 3.1 and everything works fine in 3.0.\r\n\r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n \r\n`Error\tMC1000\tUnkown build error “Could not find assembly 'System.Core, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'. Either explicitly load this assembly using a method such as LoadFromAssemblyPath() or use a MetadataAssemblyResolver that returns a valid assembly.”\tWalterlv.Demo.CannotCompileWithValueTuple\tC:\\Program Files\\dotnet\\sdk\\3.1.100\\Sdks\\Microsoft.NET.Sdk.WindowsDesktop\\targets\\Microsoft.WinFX.targets\t225\t`\r\n\r\n **Expected behavior:**\r\n\r\nThe project should be compiled correctly.\r\n \r\n **Minimal repro:**\r\n\r\n1. Create a new WPF project via the Visual Studio WPF App (.NET Core) template;\r\n2. Edit the csproj file to targeting net46 and reference `System.ValueTuple`;\r\n3. Compile this project.\r\n\r\nYou can view the minimal project here:\r\n\r\n- [walterlv/Walterlv.Demo.CannotCompileWithValueTuple](https://github.com/walterlv/Walterlv.Demo.CannotCompileWithValueTuple)","Url":"https://github.com/dotnet/wpf/issues/2320","RelatedDescription":"Open issue \"Any WPF project lower than net461 with System.ValueTuple cannot be compiled\" (#2320)"},{"Id":"538049929","IsPullRequest":true,"CreatedAt":"2019-12-15T13:41:39","Actor":"dotnet-maestro[bot]","Number":"2319","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191214.6\r\n- **Date Produced**: 12/15/2019 12:17 AM\r\n- **Commit**: 03602f999c15965b3809362dcb39b94459560ca2\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19614.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2319","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2319)"},{"Id":"537916490","IsPullRequest":true,"CreatedAt":"2019-12-14T14:00:23","Actor":"dotnet-maestro[bot]","Number":"2318","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191214.1\r\n- **Date Produced**: 12/14/2019 1:29 PM\r\n- **Commit**: 7dee30995829711ac3a486f672cede1171ab4eb1\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19614.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2318","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2318)"},{"Id":"537912537","IsPullRequest":true,"CreatedAt":"2019-12-14T13:25:42","Actor":"dotnet-maestro[bot]","Number":"2317","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191213.6\r\n- **Date Produced**: 12/13/2019 11:13 PM\r\n- **Commit**: 6ad4b7d2aa20facf74bbc8a5306c754e41b767a2\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19613.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2317","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2317)"},{"Id":"537560609","IsPullRequest":true,"CreatedAt":"2019-12-13T14:00:24","Actor":"dotnet-maestro[bot]","Number":"2316","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191213.1\r\n- **Date Produced**: 12/13/2019 1:31 PM\r\n- **Commit**: 1cd05675e0d6672d9a52a16310e2345a3e92236c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19613.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2316","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2316)"},{"Id":"537544800","IsPullRequest":true,"CreatedAt":"2019-12-13T13:41:41","Actor":"dotnet-maestro[bot]","Number":"2315","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191212.8\r\n- **Date Produced**: 12/12/2019 11:13 PM\r\n- **Commit**: 725f2e751774666920df7f1275e79fe3ec55d0da\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19612.8\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2315","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2315)"},{"Id":"537292668","IsPullRequest":false,"CreatedAt":"2019-12-13T00:58:56","Actor":"arpitmathur","Number":"2314","RawContent":null,"Title":"WPF Application FailFast in System.Windows.Controls.TextBoxView.GetFormattedLine when using Hebrew text and non-adorner based text selection","State":"open","Body":"\r\nThe WPF application is using a Textbox component with the text in Hebrew language. The text contain a combination of text and date and month separated by ‘/’. The application is crashing when the user select the ‘/’ along with the number(i.e. date and month). In Windows 10 1909, with the .Net Framework version 4.8 is the environment where the application is experiencing the crash.\r\n \r\n**Steps to reproduce:**\r\n\r\nCreate a WPF application.\r\nUse a Textbox with the below properties and text.\r\n\r\nTextWrapping=\"Wrap\" FlowDirection=\"RightToLeft\" Margin=\"10\" Text=\"נסה לסמן את הלוכסן שבין הספרות 07/1997 והתוכנה תקרוס\" \r\n\r\n(Text Translation:  Try to mark the slash between the digits 07/1997 and the software will crash)\r\nSet the window size as below\r\n\r\nHeight=\"200\" Width=\"250\"\r\nPlease the below code, in App.xaml.cs\r\n\r\n          private void Application_Startup(object sender, StartupEventArgs e)\r\n\r\n        {\r\n\r\n            AppContext.SetSwitch(\"Switch.System.Windows.Controls.Text.UseAdornerForTextboxSelectionRendering\", false);\r\n\r\n        }\r\nPlease the below code in App.xaml\r\n\r\n  Startup=\"Application_Startup\"\r\nRun the application and select the text including the '/' in the text using the mouse.\r\nThe application will crash in few seconds \r\n\r\n**Notes:**\r\n1.  This does appear to be specific to Hebrew.  I was unable to reproduce this with Arabic, which is another RTL language.\r\n\r\n2.  RTL doesn't actually matter.  You can use the same text and change from RTL to LTR.  Still repros.\r\n\r\n3.  This is specific to non-adorner selection of text. ","Url":"https://github.com/dotnet/wpf/issues/2314","RelatedDescription":"Open issue \"WPF Application FailFast in System.Windows.Controls.TextBoxView.GetFormattedLine when using Hebrew text and non-adorner based text selection\" (#2314)"},{"Id":"536987280","IsPullRequest":true,"CreatedAt":"2019-12-12T13:55:24","Actor":"dotnet-maestro[bot]","Number":"2313","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191212.1\r\n- **Date Produced**: 12/12/2019 1:30 PM\r\n- **Commit**: c0dd179f9cac4c2dc4193d7a1bf7715b58267e39\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19612.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2313","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2313)"},{"Id":"536972076","IsPullRequest":true,"CreatedAt":"2019-12-12T13:52:12","Actor":"dotnet-maestro[bot]","Number":"2312","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191211.17\r\n- **Date Produced**: 12/12/2019 5:05 AM\r\n- **Commit**: 125376349b99337bae074dc37f953cbdcb06bff0\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19611.17\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2312","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2312)"},{"Id":"536358592","IsPullRequest":true,"CreatedAt":"2019-12-12T08:49:25","Actor":"dotnet-maestro[bot]","Number":"2304","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191210.8\r\n- **Date Produced**: 12/11/2019 4:52 AM\r\n- **Commit**: 7431a8e39c3a25d39d8f801a2e8b4e2b454fe233\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19610.8\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2304","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2304)"},{"Id":"536742522","IsPullRequest":true,"CreatedAt":"2019-12-12T04:05:28","Actor":"dotnet-maestro[bot]","Number":"2311","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191211.6\r\n- **Date Produced**: 12/12/2019 3:23 AM\r\n- **Commit**: 1ae70ae8e4c452b1a57cb6bf474173ef1005d8ab\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19611.6\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2311","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2311)"},{"Id":"536738906","IsPullRequest":true,"CreatedAt":"2019-12-12T03:50:24","Actor":"dotnet-maestro[bot]","Number":"2310","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191211.5\r\n- **Date Produced**: 12/12/2019 3:22 AM\r\n- **Commit**: 5aba8fa85b14f1e090e109ad91d5a80ce5ad4d1c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19611.5\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2310","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2310)"},{"Id":"536710008","IsPullRequest":true,"CreatedAt":"2019-12-12T02:05:26","Actor":"dotnet-maestro[bot]","Number":"2309","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191211.3\r\n- **Date Produced**: 12/12/2019 1:25 AM\r\n- **Commit**: a4ae239abe4922b868c19861a53a0ff9ac253554\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19611.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2309","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2309)"},{"Id":"536669877","IsPullRequest":true,"CreatedAt":"2019-12-12T00:16:02","Actor":"dotnet-maestro[bot]","Number":"2308","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191211.1\r\n- **Date Produced**: 12/11/2019 10:40 PM\r\n- **Commit**: 5d79f3e58f6ef8359aab26ee3535c7c11a343892\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19611.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2308","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2308)"},{"Id":"536043860","IsPullRequest":false,"CreatedAt":"2019-12-12T00:07:31","Actor":"climbak","Number":"2302","RawContent":null,"Title":"TreeView scroll issue","State":"closed","Body":"I encountered a strange scrolling issue in the WPF TreeView. I can only reproduce it with a specific layout and I have created a sample app to reproduce. I tried debugging the decompiled source in PresentationFramework, but was not able to find the true source.\r\n\r\nThe basics: I have a Grid layout in which I have put in a TreeView with some items in one column, a DataGrid in another column that shows details of the selected item in the TreeView. In the row below both the DataGrid and the TreeView, I have a button (I've tested a few different controls that all reprod) and it's in the same column as the DataGrid.\r\n\r\nWhen the TreeView is scrolled down and an item is selected, the DataGrid populates with the details of the selected item and then an UpdateLayout is called on the TreeView which causes the ScrollInfo values on it's ScrollViewer to revert to a Y value of 0 and the TreeView scrolls to the top.\r\n\r\nIn my sample application, you can just run it, click the Fill button to add items then click Expand All to expand them. Scroll down a bit and select any leaf item and the TreeView will scroll back to the top.\r\n\r\nIf the button at the bottom is removed from the xaml or if the first Grid column that houses the TreeView is set to a set width or *, the errant scroll won't repro.\r\n\r\nThe sample project can be found here: https://github.com/climbak/TreeViewScrollingIssue","Url":"https://github.com/dotnet/wpf/issues/2302","RelatedDescription":"Closed issue \"TreeView scroll issue\" (#2302)"},{"Id":"536545271","IsPullRequest":true,"CreatedAt":"2019-12-11T23:09:14","Actor":"rladuca","Number":"2305","RawContent":null,"Title":"Remove dependency on .NET SDK installs for IL Tools","State":"closed","Body":"Fixes #2298\r\n\r\nUse a set of matched, private IL tools in order to inject a module constructor into `PresentationCore`.  These are copied binaries from a .NET Framework 4.7.2 installation and SDK.\r\n\r\nAlso fixing some issues with utilizing `ILAsm` outside of the installed Framework directory and some bugs that went unnoticed in our injection targets.\r\n\r\n# Pending\r\n- [x] IL comparison between `PresentationCore` from this change and current .NET 5.0 `PresentationCore`.","Url":"https://github.com/dotnet/wpf/pull/2305","RelatedDescription":"Closed or merged PR \"Remove dependency on .NET SDK installs for IL Tools\" (#2305)"},{"Id":"535439814","IsPullRequest":false,"CreatedAt":"2019-12-11T23:09:14","Actor":"SamBent","Number":"2298","RawContent":null,"Title":"Remove dependency on .NET SDK installs for IL Tools","State":"closed","Body":"* .NET Core Version: (e.g. 3.0 Preview1, or daily build number, use `dotnet --info`) 5.0.100-alpha1-015914\r\n* Windows version: (`winver`) 1909 (10.0.18363)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)?  No\r\n\r\n **Problem description:** Build failure when suitable .NET SDK is not installed\r\n\r\n**Repro steps:**\r\n1. New machine with Win10 1909 (hence .NET 4.8).\r\n2. Setup machine per [WPF developer guide](https://github.com/dotnet/wpf/blob/master/Documentation/developer-guide.md).\r\n3. Fork/clone master branch of dotnet/wpf.\r\n4. Obtain fix for #2297 \r\n5. build \r\n \r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n D:\\repos\\wpf\\eng\\WpfArcadeSdk\\tools\\InjectModuleInitializer.targets(372,5): error MSB4044: The \"ILDasmTask\" task was not given a value for the required parameter \"ILDAsm\". [D:\\repos\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\PresentationCore\\PresentationCore.csproj]\r\n\r\n **Expected behavior:** No failure\r\n \r\nThis failure goes away after installing .NET 4.6.1 SDK, which makes a version of ildasm.exe visible to\r\nPresentationCore.csproj.  Note that ilasm.exe is already visible (at C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\ILAsm.exe) before installing a .NET SDK\r\n","Url":"https://github.com/dotnet/wpf/issues/2298","RelatedDescription":"Closed issue \"Remove dependency on .NET SDK installs for IL Tools\" (#2298)"},{"Id":"536592835","IsPullRequest":true,"CreatedAt":"2019-12-11T20:19:30","Actor":"vatsan-madhavan","Number":"2307","RawContent":null,"Title":"WIP: Add workload component ID's needed by this repo's build to global.json ","State":"open","Body":"Adding [workload component id's](https://docs.microsoft.com/en-us/visualstudio/install/workload-component-id-vs-enterprise) for build tools needed by this Repo to global.json as described at [ArcadeSdk.md](https://github.com/dotnet/arcade/blob/3d22e08e45bc87afd6dc5e6724dec28c78acb086/Documentation/ArcadeSdk.md). \r\n\r\n- ~The list of components is my best guess.~ The repo may need ~more or~ less than these.\r\n  - `wpf.vsconfig` has been tested on a new machine. It doesn't include even the basic CoreEditor component, yet a VS 2019 16.5 Preview 2 instillation based on this config file can successfully build the WPF repo (master branch). \r\n- This list would have to be improved (likely trimmed) over time through trial-and-error. \r\n- VS version (16.4+) is not a guess - WPF repo needs this as the min-version starting **now**. \r\n- There is a change to `eng\\common\\tools.ps1` This is a port of https://github.com/dotnet/arcade/issues/4534 . WPF repos ingestion of arcade updates seems to be broken for now - so I'm taking this change manually. When the updates resume, it will get fixed up automatically. \r\n\r\n\r\n- [x] Need to solve https://github.com/dotnet/arcade/issues/4534 first. ","Url":"https://github.com/dotnet/wpf/pull/2307","RelatedDescription":"Open PR \"WIP: Add workload component ID's needed by this repo's build to global.json \" (#2307)"},{"Id":"536566099","IsPullRequest":true,"CreatedAt":"2019-12-11T19:45:34","Actor":"dotnet-maestro[bot]","Number":"2306","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191210.4\r\n- **Date Produced**: 12/11/2019 7:58 AM\r\n- **Commit**: 1cfb75cf1b4b15309850d4003f6c683eadd9604c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19610.4\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2306","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2306)"},{"Id":"535913935","IsPullRequest":true,"CreatedAt":"2019-12-11T17:39:34","Actor":"SamBent","Number":"2301","RawContent":null,"Title":"Add .NET SDK to developer guide","State":"closed","Body":"Document dependency on .NET SDK.  \r\n\r\nThe build of PresentationCore uses IL tools.  ILdasm.exe is obtained from a .NET SDK, either 4.6.1 or 4.6.2 (but not higher).\r\n\r\nThis is a mitigation for #2298.","Url":"https://github.com/dotnet/wpf/pull/2301","RelatedDescription":"Closed or merged PR \"Add .NET SDK to developer guide\" (#2301)"},{"Id":"535906384","IsPullRequest":true,"CreatedAt":"2019-12-11T17:34:02","Actor":"SamBent","Number":"2300","RawContent":null,"Title":"Remove dependency on CorError.h","State":"closed","Body":"Copy (from .NET 4.6.1 SDK) the one HR definition used by DirectWriteForwarder.\r\n\r\nFixes #2297 \r\n","Url":"https://github.com/dotnet/wpf/pull/2300","RelatedDescription":"Closed or merged PR \"Remove dependency on CorError.h\" (#2300)"},{"Id":"535437082","IsPullRequest":false,"CreatedAt":"2019-12-11T17:34:02","Actor":"SamBent","Number":"2297","RawContent":null,"Title":"Remove dependency on .NET include file","State":"closed","Body":"* .NET Core Version: (e.g. 3.0 Preview1, or daily build number, use `dotnet --info`) 5.0.0-alpha.1.19564.1\r\n* Windows version: (`winver`) 1909 (OS Build 10.0.18363.476)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No\r\n\r\n **Problem description:**  Build failure when suitable .NET SDK is not installed.\r\n \r\n**Repro steps:**\r\n1. New machine with Win10 1909 (hence .NET 4.8).\r\n2. Setup machine per [WPF developer guide](https://github.com/dotnet/wpf/blob/master/Documentation/developer-guide.md).\r\n3. Fork/clone master branch of dotnet/wpf.\r\n4. build \r\n\r\n **Actual behavior:** \r\nD:\\repos\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\DirectWriteForwarder\\CPP\\DWriteWrapper\\Common.h(15,10): fatal error C1083: Cannot open include file: 'CorError.h': No such file or directory [D:\\repos\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\DirectWriteForwarder\\DirectWriteForwarder.vcxproj]\r\n \r\n **Expected behavior:** No build failure.\r\n \r\nThis failure goes away after installing .NET 4.6.1 SDK, which makes a version of CorError.h visible to \r\nDirectWriteForwarder.vcxproj.","Url":"https://github.com/dotnet/wpf/issues/2297","RelatedDescription":"Closed issue \"Remove dependency on .NET include file\" (#2297)"},{"Id":"536076748","IsPullRequest":true,"CreatedAt":"2019-12-11T01:12:46","Actor":"vatsan-madhavan","Number":"2303","RawContent":null,"Title":"Import Microsoft.WinFx.props only when it is present","State":"closed","Body":"Import Microsoft.WinFx.props only when it is present\r\n","Url":"https://github.com/dotnet/wpf/pull/2303","RelatedDescription":"Closed or merged PR \"Import Microsoft.WinFx.props only when it is present\" (#2303)"},{"Id":"535905568","IsPullRequest":false,"CreatedAt":"2019-12-10T18:25:24","Actor":"fatihyildizhan","Number":"2299","RawContent":null,"Title":"TabControl and ComboBox look broken","State":"open","Body":"\r\n![ui](https://user-images.githubusercontent.com/602600/70565608-86003080-1ba3-11ea-84a2-1bb39f308459.jpg)\r\n* .NET Core 3.1.100\r\n* Windows 10 1903\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No \r\n\r\n **Problem description:**\r\n\r\nI am using TabControl and ComboBox. They look perfect on the first run. When you move the Window some of the tabs and ComboBox look melted/broken. \r\n\r\n** Repro **\r\nI tested this app on 4 different computers with almost the same configuration. Looks broken on 2 computers. \r\n\r\nMove the app for a while on Desktop, change Tabs, scroll ComboBox then UI become like this.\r\n\r\nEdit note: I attached a screenshot.\r\n","Url":"https://github.com/dotnet/wpf/issues/2299","RelatedDescription":"Open issue \"TabControl and ComboBox look broken\" (#2299)"},{"Id":"535402741","IsPullRequest":false,"CreatedAt":"2019-12-09T23:40:02","Actor":"vatsan-madhavan","Number":"2296","RawContent":null,"Title":"Use Production C++ Tools in release/3.1 branch","State":"open","Body":"- Switch to use production C++ tools that are ambient to the build machine, instead of privatized C++ tools \r\n  - Dev/local builds would rely on tools from Dev16.4+ \r\n- Update tools.dotnet in global.json to 3.1.100\r\n\r\nThis change is being proposed based on a plan agreed with @tgani-msft and @jamshedd to move the LTS branch away from using private tools. \r\n\r\nThis was the plan: \r\n\r\n- Starts out with privatized tools (same as 3.0) \r\n- Switches to Dev 16.4 P1 when it becomes available (timing wise, this lines up with 3.0 RTM, roughly). \r\n- (not-critical) At 3.1 RTM, it will likely switch to using 16.4 RTM (3.1 and 16.4 schedules are lined up). \r\n- Steady State: 3.1 will use shipping tools, not private tools. ","Url":"https://github.com/dotnet/wpf/issues/2296","RelatedDescription":"Open issue \"Use Production C++ Tools in release/3.1 branch\" (#2296)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-12-17T05:30:56.3453511Z","RunDurationInMilliseconds":613}