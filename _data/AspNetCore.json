{"Data":{"Blog":{"FeedItems":[{"Title":"Publish Improvements in Visual Studio 2017 version 15.7","PublishedOn":"2018-04-18T19:00:00+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Today we released Visual Studio 2017 version 15.7 Preview 4. Our 15.7 update brings some exciting updates for publishing applications from Visual Studio that we’re excited to tell you about,...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/18/visual-studio-2017-15-7-p4-publish/","RawContent":null},{"Title":"What Happened to Bower?","PublishedOn":"2018-04-18T18:04:55+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Bower is a popular package management system for managing static content used by client-side web applications. Visual Studio provides rich support for Bower, including templates and package management...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/18/what-happened-to-bower/","RawContent":null},{"Title":"Library Manager: Client-side content manager for web apps","PublishedOn":"2018-04-17T21:48:24+00:00","CommentsCount":5,"FacebookCount":0,"Summary":"If you’re developing a modern web app, chances are your app will reference client-side JavaScript and CSS files like jQuery or bootstrap. Maybe you copy these from a previous project, download them,...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/17/library-manager-client-side-content-manager-for-web-apps/","RawContent":null},{"Title":"Blazor 0.2.0 release now available","PublishedOn":"2018-04-17T17:59:55+00:00","CommentsCount":5,"FacebookCount":0,"Summary":"Just a few weeks ago we announced the first preview release of an experimental web UI framework called Blazor. Blazor enables full-stack web development using C# and WebAssembly. So far thousands of...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/17/blazor-0-2-0-release-now-available/","RawContent":null},{"Title":"ASP.NET Core 2.1.0-preview2: Improvements to the Kestrel HTTP server","PublishedOn":"2018-04-13T00:42:44+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Change default transport to Sockets Building off the improvements to the managed sockets implementation in .NET Core we have changed the default transport in Kestrel from libuv to sockets. As a...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/12/asp-net-core-2-1-0-preview2-improvements-to-the-kestrel-http-server/","RawContent":null},{"Title":"ASP.NET Core 2.1.0-preview2 now available","PublishedOn":"2018-04-12T17:24:30+00:00","CommentsCount":4,"FacebookCount":0,"Summary":"Today we&#8217;re very happy to announce that the second preview of the next minor release of ASP.NET Core and .NET Core is now available for you to try out. This second preview includes many...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/04/12/asp-net-core-2-1-0-preview2-now-available/","RawContent":null},{"Title":"Get started building .NET web apps that run in the browser with Blazor","PublishedOn":"2018-03-22T17:00:26+00:00","CommentsCount":42,"FacebookCount":0,"Summary":"Today we released our first public preview of Blazor, a new experimental .NET web framework using C#/Razor and HTML that runs in the browser with WebAssembly. Blazor enables full stack web development...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/03/22/get-started-building-net-web-apps-in-the-browser-with-blazor/","RawContent":null},{"Title":"ASP.NET Core manageability and Application Insights improvements","PublishedOn":"2018-03-22T14:12:38+00:00","CommentsCount":4,"FacebookCount":0,"Summary":"There are many great investments on the ASP.NET Core 2.1 roadmap. These investments make ASP.NET Core applications easier to write, host, test, and make security and standards compliant. This blog...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/03/22/asp-net-core-manageability-and-application-insights-improvements/","RawContent":null},{"Title":"Announcing Preview 1 of ASP.NET MVC 5.2.5, Web API 5.2.5, and Web Pages 3.2.5","PublishedOn":"2018-03-19T22:00:27+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Today we released Preview 1 of ASP.NET MVC 5.2.5, Web API 5.2.5, and Web Pages 3.2.5 on NuGet. This is a patch release that contains only bug fixes. You can find the full list of bug fixes for this...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/03/19/announcing-preview-1-of-asp-net-mvc-5-2-5-web-api-5-2-5-and-web-pages-3-2-5/","RawContent":null},{"Title":"ASP.NET Core 2.1.0-preview1: Functional testing of MVC applications","PublishedOn":"2018-03-05T18:30:28+00:00","CommentsCount":2,"FacebookCount":0,"Summary":"For ASP.NET Core 2.1 we have created a new package, Microsoft.AspNetCore.Mvc.Testing, to help streamline in-memory end-to-end testing of MVC applications using TestServer. This package takes care of...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/03/05/asp-net-core-2-1-0-preview1-functional-testing-of-mvc-applications/","RawContent":null}],"ResultType":"Feed"},"Home":{"Events":[{"Id":"7582381577","Type":"IssuesEvent","CreatedAt":"2018-04-25T03:50:39","Actor":"HaoK","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Home/issues/3090","RelatedDescription":"Closed issue \"Authorization Handlers Fail to run with nullable resource\" (#3090) at aspnet/Home","RelatedBody":"In Asp.Net Core 2, I have a handler with the following signature (the resource is a nullable type).  The handler fails to run when a pass a null resource is passed into it.  Im guessing this happens when you pass a null value for a ref type resource as well.\r\n\r\nHandler Signature:\r\ninternal class TreatyManagementGroupAccessRequirementHandler : AuthorizationHandler<TreatyManagementGroupAccessRequirement, int?>\r\n\r\nCode calling handler:\r\nint? tmg = editModel.TreatyInformation.TreatyManagementGroupId;\r\n\r\n// this code always fails and never runs the above Auth handler.\r\n                var authResult = await _authorizationService.AuthorizeAsync(User, tmg, Policies.RequireEditPermission);"},{"Id":"7581588444","Type":"IssuesEvent","CreatedAt":"2018-04-24T23:00:53","Actor":"pakrym","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Home/issues/3040","RelatedDescription":"Closed issue \"Move SlabMemoryPool to another package\" (#3040) at aspnet/Home","RelatedBody":"So that it's possible to use the BufferReader and BufferWriter without importing the pool.\r\n\r\n/cc @pakrym "},{"Id":"7580990984","Type":"IssuesEvent","CreatedAt":"2018-04-24T20:41:07","Actor":"darl0026","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/3090","RelatedDescription":"Opened issue \"Authorization Handlers Fail to run with nullable resource\" (#3090) at aspnet/Home","RelatedBody":"In Asp.Net Core 2, I have a handler with the following signature.  The handler fails to run when a pass a null resource is passed into it.  Im guessing this happens when you pass a null value for a ref type resource as well.\r\n\r\nHandler Signature:\r\ninternal class TreatyManagementGroupAccessRequirementHandler : AuthorizationHandler<TreatyManagementGroupAccessRequirement, int?>\r\n\r\nCode calling handler:\r\nint? tmg = editModel.TreatyInformation.TreatyManagementGroupId;\r\n\r\n// this code always fails and never runs the above Auth handler.\r\n                var authResult = await _authorizationService.AuthorizeAsync(User, tmg, Policies.RequireEditPermission);"},{"Id":"7578422985","Type":"IssuesEvent","CreatedAt":"2018-04-24T13:25:35","Actor":"smflorentino","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/3089","RelatedDescription":"Opened issue \"ObjectDisposedException thrown on server shutdown due to disposed LoggerFactory\" (#3089) at aspnet/Home","RelatedBody":"When shutting down my ASP.NET Core server by calling `IWebHost.Dispose()`, the following exception is thrown on in-flight requests.\r\n\r\nThis means we can't close in-flight requests cleanly and return a `500` when we should be returning a `503`.\r\n\r\nHere is how we insert our logger into ASP.NET core inside `Startup.cs`:\r\n```\r\n        public void Configure(IApplicationBuilder app)\r\n        {\r\n            // Capture ASP.NET Core Warning logs:\r\n            var loggerFactory = app.ApplicationServices.GetService<ILoggerFactory>();\r\n            ////loggerFactory.AddDebug();\r\n            loggerFactory.AddLogger(this.serviceLogger, LogLevel.Warning);\r\n```\r\n\r\nThe extension method from above simply is:\r\n```\r\n        public static void AddLogger(this ILoggerFactory loggerFactory, MyService.Common.Logging.ILogger logger, LogLevel logLevel)\r\n        {\r\n            loggerFactory.AddProvider(new LoggerProvider(logger, logLevel));\r\n        }\r\n```\r\n\r\nHere is the exception that's thrown:\r\n```\r\nProcessRequestAsyncSystem.ObjectDisposedException: Cannot access a disposed object.\r\nObject name: 'LoggerFactory'.\r\n   at Microsoft.Extensions.Logging.LoggerFactory.CreateLogger(String categoryName)\r\n   at Microsoft.Extensions.Logging.Logger`1..ctor(ILoggerFactory factory)\r\n   at Microsoft.Extensions.Logging.LoggerFactoryExtensions.CreateLogger[T](ILoggerFactory factory)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.Json.Internal.MvcJsonMvcOptionsSetup.Configure(MvcOptions options)\r\n   at Microsoft.Extensions.Options.OptionsCache`1.CreateOptions()\r\n   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)\r\n   at Microsoft.Extensions.Options.OptionsCache`1.get_Value()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ObjectResultExecutor..ctor(IOptions`1 options, IHttpResponseStreamWriterFactory writerFactory, ILoggerFactory loggerFactory)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteExpressionBuilder.<>c__DisplayClass14_0.<Build>b__0(ServiceProvider provider)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeResultAsync>d__30.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResultFilterAsync>d__28.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResultExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at MyService.Gateway.Security.MyServiceMetricsAuthMiddleware.<Invoke>d__5.MoveNext() in C:\\myservice\\src\\Hot\\Gateway\\Gateway.Service\\Security\\MyServiceMetrics\\MyServiceMetricsAuthMiddleware.cs:line 114\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at MyService.Hot.Gateway.AuthMiddleware.<Invoke>d__4.MoveNext() in C:\\myservice\\src\\Hot\\Gateway\\Gateway.Service\\Security\\AuthMiddleware.cs:line 118\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at MyService.Common.AspNetCore.LoggingMiddleware.<Invoke>d__7.MoveNext() in C:\\myservice\\src\\Common\\AspNetCore\\Logging\\LoggingMiddleware.cs:line 138\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Server.WebListener.MessagePump.<ProcessRequestAsync>d__24.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Server.WebListener.MessagePump.<ProcessRequestAsync>d__24.MoveNext()\r\n```"},{"Id":"7578311237","Type":"IssuesEvent","CreatedAt":"2018-04-24T13:07:53","Actor":"onionhammer","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/3088","RelatedDescription":"Opened issue \"Rendering views to string fails when targeting net471\" (#3088) at aspnet/Home","RelatedBody":"Easily reproduce:\r\n\r\n```\r\ngit clone https://github.com/onionhammer/Wivuu.RazorInline.git\r\ncd Wivuu.RazorInline\r\ndotnet test \r\n```\r\n\r\nShould pass. Now change tests/tests.csproj to target net471 instead of netcoreapp2.0 and re-run the tests. This produces the following:\r\n\r\nSystem.InvalidOperationException: Unable to find view 'ViewTest'. The following locations were searched:\r\n/Views/ViewTest.cshtml\r\n/Views/Shared/ViewTest.cshtml\r\n/Pages/Shared/ViewTest.cshtml\r\n\r\n"},{"Id":"7577735042","Type":"IssuesEvent","CreatedAt":"2018-04-24T11:20:42","Actor":"kichalla","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/3087","RelatedDescription":"Opened issue \"Back port Routing's UrlEncoder DI service fix to earlier version\" (#3087) at aspnet/Home","RelatedBody":"Original fixed issue: https://github.com/aspnet/Routing/issues/513\r\n\r\nWe might need to back port it to earlier '2.0.*' version as users are hitting it: https://github.com/aspnet/Routing/issues/513\r\n\r\ncc @mkArtakMSFT "}],"ResultType":"GitHubEvent"},"SignalR":{"Events":[{"Id":"7582422587","Type":"IssuesEvent","CreatedAt":"2018-04-25T04:07:12","Actor":"davidfowl","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/issues/2141","RelatedDescription":"Opened issue \"AccessTokenProvider not being properly applied when running with redirected NegotiateResponse\" (#2141) at aspnet/SignalR","RelatedBody":"When using the .NET Client with a redirected negotiate response with an access token, it seems to 401 after a couple of sends."},{"Id":"7582402148","Type":"IssuesEvent","CreatedAt":"2018-04-25T03:58:39","Actor":"davidfowl","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/issues/2140","RelatedDescription":"Opened issue \"NegotiateResponse with access token broken in .NET Client for WebSocket transport\" (#2140) at aspnet/SignalR","RelatedBody":"We're using the wrong access token provider for websockets. The DefaultTransportFactory stashes the AccessTokenProvider on the options which we never update directly https://github.com/aspnet/SignalR/blob/43fc0854c38bbde1cb495d1b5e4f3e594da79e50/src/Microsoft.AspNetCore.Http.Connections.Client/HttpConnection.cs#L110. "},{"Id":"7578120463","Type":"IssuesEvent","CreatedAt":"2018-04-24T12:35:52","Actor":"Stamo-Gochev","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/issues/2139","RelatedDescription":"Opened issue \"Storing data in a Session\" (#2139) at aspnet/SignalR","RelatedBody":"I have a problem when trying to [store data in a Session](https://github.com/Stamo-Gochev/SignalR.Core.Sample/commit/aee8c8dcefa556641e749dc89f4773215000907f) inside a hub method.\r\n\r\nThe repository that demonstrates the issue can be found at (including instructions for running, but basically `dotnet restore` and `dotnet run`): \r\n\r\nhttps://github.com/Stamo-Gochev/SignalR.Core.Sample\r\n\r\nSteps to reproduce:\r\n1. Setup and run the project as explained in the repository.\r\n2. Type a username in the prompt.\r\n3. Type a message in the input field and click \"Send\".\r\n\r\nThis is calling the Send method of the hub:\r\n```csharp\r\npublic class Chat : Hub\r\n{\r\n    public static ISession Session { get; set; }\r\n\r\n    public Chat(IHttpContextAccessor httpContextAccessor)\r\n    {\r\n        Session = httpContextAccessor.HttpContext.Session;\r\n    }\r\n\r\n    public void Send(string name, string message)\r\n    {\r\n        Session.SetString(\"key\", DateTime.Now.ToString());\r\n        var someValue = Session.GetString(\"key\");\r\n\r\n        //return Clients.All.InvokeAsync(\"Send\", data);\r\n        Clients.All.SendAsync(\"broadcastMessage\", name, \"${someValue}: message\");\r\n    }\r\n}\r\n```\r\n\r\nI am getting the following server-side error:\r\n```\r\n\"The session cannot be established after the response has started.\"\r\n```\r\n\r\nwhich is mentioned in the [documentation](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/app-state?view=aspnetcore-2.1&tabs=aspnetcore2x#working-with-session-state):\r\n```\r\nIf you try to create a new Session (that is, no session cookie has been created) after \r\nyou have already begun writing to the Response stream, the exception InvalidOperationException: \r\nThe session cannot be established after the response has started is thrown. \r\nThe exception can be found in the web server log; it will not be displayed in the browser.\r\n```\r\n\r\nWhat is the suggested approach for fixing this and why the Session is not properly initialized? I am able to setup an MVC example, which uses the same Session configuration and it works as expected, so I suppose that this is not the recommended way to store data in a Session when using SignalR hubs.\r\n\r\nAdditional details:\r\n1. OS - Windows 7\r\n2. `dotnet --version` -> 2.1.300-preview1-008174\r\n3. Browser - Firefox, but similar in Chrome\r\n"}],"ResultType":"GitHubEvent"},"Mvc":{"Events":[{"Id":"7581285363","Type":"IssuesEvent","CreatedAt":"2018-04-24T21:41:18","Actor":"p2atran","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7704","RelatedDescription":"Opened issue \"View() rendering is slow\" (#7704) at aspnet/Mvc","RelatedBody":"I migrated my ASP.NET Core 1.1 project over to 2.0 and everything seems to work okay. However, I noticed that where return View() is called in the server, my webApp loads extremely slow. This wasn't the case in my 1.1 project.\r\n\r\nI'm wondering if this has to do with my migration or if it is a known issue."},{"Id":"7580629535","Type":"IssuesEvent","CreatedAt":"2018-04-24T19:30:42","Actor":"danroth27","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7699","RelatedDescription":"Closed issue \"InvalidOperationException on new project based on VS docker template.\" (#7699) at aspnet/Mvc","RelatedBody":"### Title\r\nInvalidOperationException on new project based on VS docker template.\r\n\r\n### Functional impact\r\nIt prevents a newly created project from running.\r\n\r\n### Minimal repro steps\r\nSetup a project based on the following Visual Studio Project Settings:\r\n\r\n- .NET Core\r\n- ASP.NET Core 2.0\r\n- Web Application (Model-View-Controller)\r\n- Authentcation: Individual User Accounts - Store user accounts in-app\r\n- Enable Docker Support (OS: Windows)\r\n\r\nStart debugging with the docker configuration.\r\n\r\n### Expected result\r\nIf you start debugging with docker, the app should start up. A project created with a VS template should work without further configuration.\r\n\r\n### Actual result\r\nThe following exception gets thrown during `BuildWebHost(args).Run();`\r\n\r\n`System.InvalidOperationException: 'HTTPS endpoints can only be configured using KestrelServerOptions.Listen().'`\r\n\r\n### Additional Info\r\nA project with the same configuration but without docker support works out of the box."},{"Id":"7580134541","Type":"IssuesEvent","CreatedAt":"2018-04-24T17:57:21","Actor":"javiercn","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7086","RelatedDescription":"Closed issue \"ValidateAntiForgery Attribute Breaks with Cookies Disabled and More\" (#7086) at aspnet/Mvc","RelatedBody":"I have 2 scenarios where this attribute is giving me a headache. \r\n\r\nScenario 1:  I disable browser cookies, I try to do a post to login via external provider and then I get a blank page. No Errors, no nothing. However, if I remove my attribute then I get redirected to Google as expected.\r\n\r\nI tried putting break points but they don't get hit. My URL indicates I am on the page of my action: mysite/Login/ExternalLogin. I am trying to graciously handle if cookies are disabled but this is preventing me from doing that.\r\n\r\nScenario 2: I login to my site, then I logout using `_signInManager.SignOutAsync();` and then I return the page, please keep in mind I do not redirect, I just return a view saying you are logged out. Then I click on Login button again and I get the same result. White page, no errors, no breakpoints hit. Url in the browser is correct. If I remove the attribute, everything works fine.\r\n\r\nMy theory is that the generated token doesn't match when it tries to check. This results in somehow giving me a blank page, not even my global catchall filter that I have doesn't get triggered."},{"Id":"7579898970","Type":"IssuesEvent","CreatedAt":"2018-04-24T17:13:37","Actor":"mkArtakMSFT","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7697","RelatedDescription":"Closed issue \"Naming mismatch IUrlHelper extensions vs Request\" (#7697) at aspnet/Mvc","RelatedBody":"We have this extension \r\n\r\n    string RouteUrl(this IUrlHelper helper, string routeName, object values, string protocol, string host, string fragment)\r\n\r\nIf we do the following in a razor view, this is not correct:\r\n\r\n    @Url.RouteUrl(\"routename\", new {parameter=1}, Context.Request.Protocol, Context.Request.Host.Value, \"myhash\")\r\n\r\nIt actually expects\r\n\r\n    @Url.RouteUrl(\"routename\", new {parameter=1}, Context.Request.Scheme, Context.Request.Host.Value, \"myhash\")\r\n\r\nA bit confusing? Easy to fix, but not as intuitive as it could be."},{"Id":"7579811417","Type":"IssuesEvent","CreatedAt":"2018-04-24T16:57:26","Actor":"ckams","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7703","RelatedDescription":"Opened issue \"Providing PartialViewResult with no Model\" (#7703) at aspnet/Mvc","RelatedBody":"Could be related:\r\nhttps://github.com/aspnet/Mvc/issues/6984\r\nhttps://github.com/aspnet/Home/issues/343\r\nhttps://github.com/aspnet/Mvc/issues/4572#issuecomment-216351033\r\n\r\nWhat about providing `RenderPartialAsync/RenderPartialCoreAsync` versions without `object model, ViewDataDictionary viewData`?\r\nCoupled with Application Parts, we would have, out of the box, everything ready to add a Plugin System.\r\n(Each Plugin with its own MVC, embedded in the \"webapp-host\" pages.)"},{"Id":"7579807218","Type":"IssuesEvent","CreatedAt":"2018-04-24T16:56:41","Actor":"mkArtakMSFT","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7678","RelatedDescription":"Closed issue \"Yet another InvalidOperationException: Cannot find compilation library location for package 'Microsoft.Win32.Registry' when running as webjob\" (#7678) at aspnet/Mvc","RelatedBody":"Hi,\r\nI have a referenced project with embedded views that are being rendered to string at runtime.\r\n\r\nIt works fine from web project deployed to Azure App Service, but when I use it from asp.net core console app deployed as WebJob, it throws\r\n >  System.InvalidOperationException: Cannot find compilation library location for package 'Microsoft.Win32.Registry'\r\n\r\nHow do I modify the WebJob project, so that it does not throw the exception in Azure App Service Web Job?\r\n\r\nI didn't publish the web job, I've just zipped and uploaded content the bin/debug folder , so setting MvcRazorExcludeRefAssembliesFromPublish to false does not help.\r\n\r\nWhy exactly it works in Azure App Service Web App even without MvcRazorExcludeRefAssembliesFromPublish, but it does not work in Web Job?\r\n\r\n\r\n```\r\nSystem.AggregateException: One or more errors occurred. (Cannot find compilation library location for package 'Microsoft.Win32.Registry') ---> System.InvalidOperationException: Cannot find compilation library location for package 'Microsoft.Win32.Registry'\r\n   at Microsoft.Extensions.DependencyModel.CompilationLibrary.ResolveReferencePaths(ICompilationAssemblyResolver resolver, List`1 assemblies)\r\n   at Microsoft.Extensions.DependencyModel.CompilationLibrary.ResolveReferencePaths()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationParts.AssemblyPart.<>c.<GetReferencePaths>b__8_0(CompilationLibrary library)\r\n   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Compilation.MetadataReferenceFeatureProvider.PopulateFeature(IEnumerable`1 parts, MetadataReferenceFeature feature)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationParts.ApplicationPartManager.PopulateFeature[TFeature](TFeature feature)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorReferenceManager.GetCompilationReferences()\r\n   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)\r\n   at System.Threading.LazyInitializer.EnsureInitialized[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorReferenceManager.get_CompilationReferences()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.LazyMetadataReferenceFeature.get_References()\r\n   at Microsoft.CodeAnalysis.Razor.CompilationTagHelperFeature.GetDescriptors()\r\n   at Microsoft.AspNetCore.Razor.Language.DefaultRazorTagHelperBinderPhase.ExecuteCore(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Razor.Language.RazorEnginePhaseBase.Execute(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Razor.Language.DefaultRazorEngine.Process(RazorCodeDocument document)\r\n   at Microsoft.AspNetCore.Razor.Language.RazorTemplateEngine.GenerateCode(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromPath(String executingFilePath, String pagePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.GetView(String executingFilePath, String viewPath, Boolean isMainPage)\r\n   at MyProject.Mail.RazorViewToStringRenderer.FindView(ActionContext actionContext, String viewName) in C:\\Projects\\MyProject\\MyProject\\MyProject.Mail\\RazorViewToStringRenderer.cs:line 72\r\n   at MyProject.Mail.RazorViewToStringRenderer.<RenderToStringAsync>d__4`1.MoveNext() in C:\\Projects\\MyProject\\MyProject\\MyProject.Mail\\RazorViewToStringRenderer.cs:line 45\r\n   --- End of inner exception stack trace ---\r\n   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)\r\n   at System.Threading.Tasks.Task`1.get_Result()\r\n   at MyProject.Mail.NotificationService.CreateEntity(INotification notification) in C:\\Projects\\MyProject\\MyProject\\MyProject.Mail\\NotificationService.cs:line 82\r\n   at MyProject.Mail.NotificationService.<SendNotification>d__5.MoveNext() in C:\\Projects\\MyProject\\MyProject\\MyProject.Mail\\NotificationService.cs:line 70\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()\r\n   at MyProject.ReminderWebJob.Reminder.<SendSponsorReview>d__9.MoveNext() in C:\\Projects\\MyProject\\MyProject\\MyProject.Reminder\\Reminder.cs:line 83\r\n---> (Inner Exception #0) System.InvalidOperationException: Cannot find compilation library location for package 'Microsoft.Win32.Registry'\r\n   at Microsoft.Extensions.DependencyModel.CompilationLibrary.ResolveReferencePaths(ICompilationAssemblyResolver resolver, List`1 assemblies)\r\n   at Microsoft.Extensions.DependencyModel.CompilationLibrary.ResolveReferencePaths()\r\n   at Microsoft.AspNetCore.Mvc.ApplicationParts.AssemblyPart.<>c.<GetReferencePaths>b__8_0(CompilationLibrary library)\r\n   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Compilation.MetadataReferenceFeatureProvider.PopulateFeature(IEnumerable`1 parts, MetadataReferenceFeature feature)\r\n   at Microsoft.AspNetCore.Mvc.ApplicationParts.ApplicationPartManager.PopulateFeature[TFeature](TFeature feature)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorReferenceManager.GetCompilationReferences()\r\n   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)\r\n   at System.Threading.LazyInitializer.EnsureInitialized[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorReferenceManager.get_CompilationReferences()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.LazyMetadataReferenceFeature.get_References()\r\n   at Microsoft.CodeAnalysis.Razor.CompilationTagHelperFeature.GetDescriptors()\r\n   at Microsoft.AspNetCore.Razor.Language.DefaultRazorTagHelperBinderPhase.ExecuteCore(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Razor.Language.RazorEnginePhaseBase.Execute(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Razor.Language.DefaultRazorEngine.Process(RazorCodeDocument document)\r\n   at Microsoft.AspNetCore.Razor.Language.RazorTemplateEngine.GenerateCode(RazorCodeDocument codeDocument)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CreateCacheEntry(String normalizedPath)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromPath(String\r\n\r\n```"}],"ResultType":"GitHubEvent"},"Identity":{"Events":[{"Id":"7580136803","Type":"PullRequestEvent","CreatedAt":"2018-04-24T17:57:46","Actor":"jbagga","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/pull/1769","RelatedDescription":"Opened pull request \"AllowAnonymous for external login providers\" (#1769) at aspnet/Identity","RelatedBody":"Addresses #1762\r\n\r\nWhile using the global authorization filter, `ConfirmEmail` is not accessible when clicking the verification email link (when logged out). So adding the attribute to it as well.\r\n\r\n"},{"Id":"7577613802","Type":"IssuesEvent","CreatedAt":"2018-04-24T10:55:35","Actor":"Misanthrop87","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/issues/1768","RelatedDescription":"Opened issue \"Map asp.net core 2.0 Identity to existing DB schema\" (#1768) at aspnet/Identity","RelatedBody":"I have built a small web application with asp.net core 2.0 MVC. In this web application, I did not implement any authentication methods so far.\r\n\r\nRight now I have an MSSQL database running in the background and I can add/view/edit/delete users from the database. I adapted this tutorial and followed it pretty closely. However I also added some functionality like localization and stuff, and everything is running pretty smoothly.\r\n\r\nMy next goal is to enable authentication and authorization. The authentication part shall be straightforward. The goal is that the application will be running as an intranet solution. This means the authentication method just shall check if the Windows User is existing in the previously mentioned database. I don't want to create a separate login. However, it might be that there is a Windows user in the active directory, which is not part of the database. This User should just be able to see a default error page.\r\n\r\nI made quite a huge research and I also tried a lot of different stuff, however, I do absolutely not find any \"database first\" tutorial for this part or any other documentation which explains what to do.\r\n\r\nI actually \"just\" want to teach the asp.net core 2.0 identity framework that it shall look into my user-table and check if the current windows user is existent and if not to forward him to the error page. A second step would be to load all the roles which this user is assigned to from the mapping table.\r\n\r\nAny kind of help would be highly appreciated."},{"Id":"7574772745","Type":"IssuesEvent","CreatedAt":"2018-04-23T22:11:10","Actor":"javiercn","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"reopened","RelatedUrl":"https://github.com/aspnet/Identity/issues/1762","RelatedDescription":"Reopened issue \"External login provider is not accessible when using global authorize filter\" (#1762) at aspnet/Identity","RelatedBody":"When an external login provider is configured, and a global authorize filter is applied, clicking the button to navigate to the provider (say Twitter sign in) redirects back to the current Login page.\r\n\r\nTo allow anonymous users to log in to an external provider while using a global authorize filter, the user can scaffold the `ExternalLogin.cshtml.cs` page and add the `AllowAnonymous` attribute to the `ExternalLoginModel`.\r\n\r\nPlease note, if this is something we want to allow by default, a corresponding change must also be made in aspnet/Scaffolding repo."},{"Id":"7574748122","Type":"IssuesEvent","CreatedAt":"2018-04-23T22:04:54","Actor":"blowdart","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Identity/issues/1762","RelatedDescription":"Closed issue \"External login provider is not accessible when using global authorize filter\" (#1762) at aspnet/Identity","RelatedBody":"When an external login provider is configured, and a global authorize filter is applied, clicking the button to navigate to the provider (say Twitter sign in) redirects back to the current Login page.\r\n\r\nTo allow anonymous users to log in to an external provider while using a global authorize filter, the user can scaffold the `ExternalLogin.cshtml.cs` page and add the `AllowAnonymous` attribute to the `ExternalLoginModel`.\r\n\r\nPlease note, if this is something we want to allow by default, a corresponding change must also be made in aspnet/Scaffolding repo."},{"Id":"7574739710","Type":"IssuesEvent","CreatedAt":"2018-04-23T22:02:48","Actor":"javiercn","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Identity/issues/1767","RelatedDescription":"Closed issue \"Wrong file name _Layout.chstml after scafolding Identity\" (#1767) at aspnet/Identity","RelatedBody":"Visual Studio 2017 15.7 Preview 4, .NET Core SDK 2.1.300-preview2-008533\r\n\r\nNew Project\r\nASP.NET Core Web Application\r\nWebApplication with indvidual Accounts\r\nNew Scaffolded Item\r\nIdentity\r\nCheck only \"Account/Login\"\r\nThere is a typo now in Areas/Identity/Pages/_ViewStart.cshtml\r\n\r\n@{\r\n    Layout = \"/Pages/Shared/_Layout.**chstml**\";\r\n}\r\n\r\n**Should be:**\r\n\r\n@{\r\n    Layout = \"/Pages/Shared/_Layout.cshtml\";\r\n}\r\n"},{"Id":"7574610030","Type":"IssuesEvent","CreatedAt":"2018-04-23T21:33:12","Actor":"HSchwichtenberg","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/issues/1767","RelatedDescription":"Opened issue \"Wrong file name _Layout.chstml after scafolding Identity\" (#1767) at aspnet/Identity","RelatedBody":"Visual Studio 2017 15.7 Preview 4, .NET Core SDK 2.1.300-preview2-008533\r\n\r\nNew Project\r\nASP.NET Core Web Application\r\nWebApplication with indvidual Accounts\r\nNew Scaffolded Item\r\nIdentity\r\nCheck only \"Account/Login\"\r\nThere is a typo now in Areas/Identity/Pages/_ViewStart.cshtml\r\n\r\n@{\r\n    Layout = \"/Pages/Shared/_Layout.**chstml**\";\r\n}\r\n\r\n**Should be:**\r\n\r\n@{\r\n    Layout = \"/Pages/Shared/_Layout.cshtml\";\r\n}\r\n"},{"Id":"7571831812","Type":"IssuesEvent","CreatedAt":"2018-04-23T13:26:02","Actor":"ClassicDarkChocolate","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Identity/issues/1765","RelatedDescription":"Closed issue \"The change of SecurityStamp in ASP.NET Core 2.1\" (#1765) at aspnet/Identity","RelatedBody":"What is the main reason for changing SecurityStamp generating method? I originally parse it and store as a GUID type variable in my custom mongo identity provider and now it changes.\r\n\r\n2.0: https://github.com/aspnet/Identity/blob/rel/2.0.0/src/Microsoft.Extensions.Identity.Core/UserManager.cs#L2342\r\nCurrent: https://github.com/aspnet/Identity/blob/dev/src/Core/UserManager.cs#L2414"}],"ResultType":"GitHubEvent"},"Kestrel":{"Events":[{"Id":"7581849438","Type":"IssuesEvent","CreatedAt":"2018-04-25T00:29:42","Actor":"mikeharder","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2503","RelatedDescription":"Closed issue \"Flaky Test: Hang in Libuv and Sockets FunctionalTests/netcoreapp2.1\" (#2503) at aspnet/KestrelHttpServer","RelatedBody":"Kestrel FunctionalTests are hanging frequently on CI:\r\n\r\n# KestrelHttpServer\r\n```\r\n[17:46:13] :\t [Step 4/7]   Starting test group: Libuv.FunctionalTests/netcoreapp2.1\r\n[17:46:13] :\t [Step 4/7]   Microsoft (R) Test Execution Command Line Tool Version 15.7.0-preview-20180221-13\r\n[17:46:13] :\t [Step 4/7]   Copyright (c) Microsoft Corporation.  All rights reserved.\r\n[17:46:13] :\t [Step 4/7]   \r\n[17:46:14] :\t [Step 4/7]   Starting test execution, please wait...\r\n[17:46:14] :\t [Step 4/7]   Logging Vstest Diagnostics in file: C:\\b\\w\\1e8cd6334ef22651\\artifacts\\logs\\Libuv.FunctionalTests-netcoreapp2.1-17674.diag\r\n[17:46:15] :\t [Step 4/7]   [xUnit.net 00:00:00.7203468]     RegisterAddresses_IPv6_Success [SKIP]\r\n[17:46:15] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv6_Success\r\n[17:46:15] :\t [Step 4/7]   [xUnit.net 00:00:01.2412585]     ConnectionCountingReturnsToZero [SKIP]\r\n[17:46:15] :\t [Step 4/7]   Skipped  ConnectionCountingReturnsToZero\r\n[17:46:15] :\t [Step 4/7]   [xUnit.net 00:00:01.3837697]     CanListenToOpenTcpSocketHandle [SKIP]\r\n[17:46:15] :\t [Step 4/7]   Skipped  CanListenToOpenTcpSocketHandle\r\n[17:46:16] :\t [Step 4/7]   [xUnit.net 00:00:02.0159475]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://*\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[17:46:16] :\t [Step 4/7]   [xUnit.net 00:00:02.0164664]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://127.0.0.1\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[17:46:16] :\t [Step 4/7]   [xUnit.net 00:00:02.0178708]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://localhost\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[17:46:16] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://*\", testUrl: \"http://127.0.0.1\")\r\n[17:46:16] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://127.0.0.1\", testUrl: \"http://127.0.0.1\")\r\n[17:46:16] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://localhost\", testUrl: \"http://127.0.0.1\")\r\n[17:46:16] :\t [Step 4/7]   [xUnit.net 00:00:02.2575826]     ConnectionClosedEvenIfAppSwallowsException [SKIP]\r\n[17:46:16] :\t [Step 4/7]   Skipped  ConnectionClosedEvenIfAppSwallowsException\r\n[17:46:18] :\t [Step 4/7]   [xUnit.net 00:00:03.6803851]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://localhost\", testUrls: [\"http://127.0.0.1/\", \"http://[::1]/\"]) [SKIP]\r\n[17:46:18] :\t [Step 4/7]   [xUnit.net 00:00:03.6808460]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://*\", testUrls: [\"http://[::1]/\"]) [SKIP]\r\n[17:46:18] :\t [Step 4/7]   [xUnit.net 00:00:03.6812519]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://[::1]\", testUrls: [\"http://[::1]/\"]) [SKIP]\r\n[17:46:18] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://localhost\", testUrls: [\"http://127.0.0.1/\", \"http://[::1]/\"])\r\n[17:46:18] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://*\", testUrls: [\"http://[::1]/\"])\r\n[17:46:18] :\t [Step 4/7]   Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://[::1]\", testUrls: [\"http://[::1]/\"])\r\n[18:39:33]E:\t [Step 4/7] The build Projects::KestrelHttpServer #17674 {buildId=449083} has been running for more than 60 minutes. Terminating...\r\n```\r\nhttp://aspnetci/viewLog.html?buildId=449083&buildTypeId=Lite_KestrelHttpServer&tab=buildLog&_focus=39538\r\n\r\n```\r\n[14:35:15] :\t [Step 4/7]   Starting test group: Libuv.FunctionalTests/netcoreapp2.1\r\n[14:35:15] :\t [Step 4/7] Microsoft (R) Test Execution Command Line Tool Version 15.7.0-preview-20180221-13\r\n[14:35:15] :\t [Step 4/7] Copyright (c) Microsoft Corporation.  All rights reserved.\r\n[14:35:15] :\t [Step 4/7] \r\n[14:35:15] :\t [Step 4/7] Starting test execution, please wait...\r\n[14:35:15] :\t [Step 4/7] Logging Vstest Diagnostics in file: D:\\b\\w\\1e8cd6334ef22651\\artifacts\\logs\\Libuv.FunctionalTests-netcoreapp2.1-17658.diag\r\n[14:35:17] :\t [Step 4/7] [xUnit.net 00:00:00.9797507]     CanListenToOpenTcpSocketHandle [SKIP]\r\n[14:35:17] :\t [Step 4/7] Skipped  CanListenToOpenTcpSocketHandle\r\n[14:35:17] :\t [Step 4/7] [xUnit.net 00:00:01.1545963]     ConnectionClosedEvenIfAppSwallowsException [SKIP]\r\n[14:35:17] :\t [Step 4/7] Skipped  ConnectionClosedEvenIfAppSwallowsException\r\n[14:35:18] :\t [Step 4/7] [xUnit.net 00:00:01.9128535]     ConnectionCountingReturnsToZero [SKIP]\r\n[14:35:18] :\t [Step 4/7] Skipped  ConnectionCountingReturnsToZero\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0442866]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://[::1]\", testUrls: [\"http://[::1]/\"]) [SKIP]\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0448370]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://*\", testUrls: [\"http://[::1]/\"]) [SKIP]\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://[::1]\", testUrls: [\"http://[::1]/\"])\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://*\", testUrls: [\"http://[::1]/\"])\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0461888]     RegisterAddresses_IPv6Port80_Success(addressInput: \"http://localhost\", testUrls: [\"http://127.0.0.1/\", \"http://[::1]/\"]) [SKIP]\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://localhost\", testUrls: [\"http://127.0.0.1/\", \"http://[::1]/\"])\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0852291]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://127.0.0.1\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0856344]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://*\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[14:35:19] :\t [Step 4/7] [xUnit.net 00:00:03.0858760]     RegisterAddresses_IPv4Port80_Success(addressInput: \"http://localhost\", testUrl: \"http://127.0.0.1\") [SKIP]\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://127.0.0.1\", testUrl: \"http://127.0.0.1\")\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://*\", testUrl: \"http://127.0.0.1\")\r\n[14:35:19] :\t [Step 4/7] Skipped  RegisterAddresses_IPv4Port80_Success(addressInput: \"http://localhost\", testUrl: \"http://127.0.0.1\")\r\n[14:35:20] :\t [Step 4/7] [xUnit.net 00:00:03.6085756]     RegisterAddresses_IPv6_Success [SKIP]\r\n[14:35:20] :\t [Step 4/7] Skipped  RegisterAddresses_IPv6_Success\r\n[15:28:52]E:\t [Step 4/7] The build Projects::KestrelHttpServer #17658 {buildId=445522} has been running for more than 60 minutes. Terminating...\r\n[15:28:52]E:\t [Step 4/7] Execution timeout\r\n```\r\nhttp://aspnetci/viewLog.html?buildId=445522&buildTypeId=Lite_KestrelHttpServer&tab=buildLog\r\n\r\n# Win2012-Kestrel\r\n```\r\n[23:37:09] :     [Step 8/9]   Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://localhost\", testUrls: [\"http://127.0.0.1/\", \"http://[::1]/\"])\r\n[23:37:09] :     [Step 8/9]   Skipped  RegisterAddresses_IPv6Port80_Success(addressInput: \"http://[::1]\", testUrls: [\"http://[::1]/\"])\r\n[00:50:45]E:     [Step 8/9] The build Test::Win2012-Kestrel #2.2.0-preview1-34007 {buildId=449994} has been running for more than 120 minutes. Terminating...\r\n[00:50:45]E:     [Step 8/9] Execution timeout\r\n```\r\nhttp://aspnetci/viewLog.html?buildId=449994&tab=buildLog&buildTypeId=Lite_KestrelStressTest&logTab=tail"},{"Id":"7581838877","Type":"IssuesEvent","CreatedAt":"2018-04-25T00:25:48","Actor":"mikeharder","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2509","RelatedDescription":"Closed issue \"Investigate xUnit \"non-serializable data\" warnings\" (#2509) at aspnet/KestrelHttpServer","RelatedBody":"Kestrel tests have hundrends of this scary-looking warning from xunit:\r\n\r\n```\r\n[12:02:22] : [Step 4/7]   [xUnit.net 00:00:00.3409135] Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Tests: Non-serializable data\r\n('System.Object[]') found for 'Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Tests.LibuvTransportTests.TransportCanBindUnbindAndStop';\r\nfalling back to single test case.\r\n```\r\n\r\nhttp://aspnetci/viewLog.html?buildId=451476&tab=buildLog&buildTypeId=Lite_KestrelHttpServer&logTab=tree&filter=all&_focus=847#_state=350\r\n\r\nThey started when xUnit diagnostics messages were enabled (https://github.com/aspnet/KestrelHttpServer/pull/2505).  We should investigate what's causing these warnings, what is their implication (does it mean less tests are run than expected), and how to fix them."},{"Id":"7581836096","Type":"PullRequestEvent","CreatedAt":"2018-04-25T00:24:45","Actor":"mikeharder","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2522","RelatedDescription":"Merged pull request \"Revert \"Enable xUnit diagnostic messages (#2505)\"\" (#2522) at aspnet/KestrelHttpServer","RelatedBody":"- xUnit diagnostic messages were enabled in #2505 to help identify hung tests\r\n- However, this also enables log messages for non-serializable theory data (https://github.com/aspnet/KestrelHttpServer/issues/2509), which adds noise to logs\r\n- It doesn't seem possible to disable the \"non-serializable data\" messages but keep the \"long-running test\" messages\r\n- Converting all tests to serializable theory data is expensive and complicates test code\r\n- The best solution for now is to revert xUnit diagnostic messages to disabled, and re-enable when needed to identify hung tests\r\n"},{"Id":"7581313936","Type":"PullRequestEvent","CreatedAt":"2018-04-24T21:47:40","Actor":"mikeharder","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2519","RelatedDescription":"Merged pull request \"Remove unused theory data\" (#2519) at aspnet/KestrelHttpServer","RelatedBody":""},{"Id":"7581282874","Type":"PullRequestEvent","CreatedAt":"2018-04-24T21:40:45","Actor":"mikeharder","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2522","RelatedDescription":"Opened pull request \"Revert \"Enable xUnit diagnostic messages (#2505)\"\" (#2522) at aspnet/KestrelHttpServer","RelatedBody":"- xUnit diagnostic messages were enabled in #2505 to help identify hung tests\r\n- However, this also enables log messages for non-serializable theory data (https://github.com/aspnet/KestrelHttpServer/issues/2509), which adds noise to logs\r\n- It doesn't seem possible to disable the \"non-serializable data\" messages but keep the \"long-running test\" messages\r\n- Converting all tests to serializable theory data is expensive and complicates test code\r\n- The best solution for now is to revert xUnit diagnostic messages to disabled, and re-enable when needed to identify hung tests\r\n"},{"Id":"7581146759","Type":"PullRequestEvent","CreatedAt":"2018-04-24T21:11:48","Actor":"pakrym","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2521","RelatedDescription":"Merged pull request \"React to splitting memory pool\" (#2521) at aspnet/KestrelHttpServer","RelatedBody":"\r\n\r\nhttps://github.com/aspnet/Home/issues/3040"},{"Id":"7581040324","Type":"PullRequestEvent","CreatedAt":"2018-04-24T20:50:42","Actor":"pakrym","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2521","RelatedDescription":"Opened pull request \"React to splitting memory pool\" (#2521) at aspnet/KestrelHttpServer","RelatedBody":""},{"Id":"7580925095","Type":"IssuesEvent","CreatedAt":"2018-04-24T20:28:22","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2513","RelatedDescription":"Closed issue \"composer require --prefer-dist mihaildev/yii2-elfinder \"*\"\" (#2513) at aspnet/KestrelHttpServer","RelatedBody":"Салом, ба ҳама.\r\nВақте, ки ман ин (composer require --prefer-dist mihaildev/yii2-elfinder \"*\") амалро дар console иҷро кардам, чунин хатогӣ рух дод:\r\n\r\nContent-Length mismatch, received 1368303 bytes out of the expected 1695049\r\nhttp://packagist.org could not be fully loaded, package information was loaded from the local cache and may be out of date\r\nYour requirements could not be resolved to an installable set of packages.\r\n\r\n  Problem 1\r\n    - yiisoft/yii2-jui 2.0.7 requires bower-asset/jquery-ui ~1.12.1 -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.6 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.5 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.4 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.3 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.2 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.1 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - yiisoft/yii2-jui 2.0.0 requires bower-asset/jquery-ui 1.11.*@stable -> no matching package found.\r\n    - Installation request for yiisoft/yii2-jui ^2.0 -> satisfiable by yiisoft/yii2-jui[2.0.0, 2.0.1, 2.0.2, 2.0.3, 2.0.4, 2.0.5, 2.0.6, 2.0.7].\r\n\r\nWhat to do to fix this error?"},{"Id":"7580137261","Type":"IssuesEvent","CreatedAt":"2018-04-24T17:57:52","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2171","RelatedDescription":"Closed issue \"The connection was closed because the response was not read by the client at the specified minimum data rate\" (#2171) at aspnet/KestrelHttpServer","RelatedBody":"After upgrading to ASP.NET Core 2.0, I've been encountering the MinResponseDataRate limit sporadically for a certain controller action that returns a ~30 MB response. I am able to work around the issue by disabling the limit, but it's not clear to me why the limit is being hit.\r\n\r\nTimeline:\r\n\r\n```\r\n11:28:28.992 - Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter' and content type 'application/json' to write the response.\r\n11:28:28.992 - Executing ObjectResult, writing value Microsoft.AspNetCore.Mvc.ControllerContext.\r\n11:28:37.153 - Connection id \"0HL9DJ6TCCU64\", Request id \"0HL9DJ6TCCU64:00000001\": the connection was closed becuase the response was not read by the client at the specified minimum data rate.\r\n11:28:37.153 - Connection id \"0HL9DJ6TCCU64\" disconnecting.\r\n11:28:37.153 - Connection id \"0HL9DJ6TCCU64\" communication error.\r\n```\r\n\r\nMy scenario is very similar to the one described in [this Stack Overflow thread](https://stackoverflow.com/questions/46584760/connection-was-closed-error-between-httpclient-and-asp-net-core-2-0-webservice).\r\n\r\nFrom what I can tell, the client is in the process of downloading the response at a reasonable rate when the connection is closed, but it's hard to troubleshoot because it happens intermittently. I'm basically looking for guidance on how to troubleshoot this issue."},{"Id":"7579667371","Type":"IssuesEvent","CreatedAt":"2018-04-24T16:31:12","Actor":"Tratcher","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2507","RelatedDescription":"Closed issue \"Flaky Test: ResponseTests.Sending100ContinueDoesNotStartResponse\" (#2507) at aspnet/KestrelHttpServer","RelatedBody":"```\r\nAssert.Contains() Failure\r\nNot found: (filter expression)\r\nIn value:  ConcurrentQueue<LogMessage> [LogMessage { EventId = 3, Exception = null, LogLevel = Debug, Message = \"Hosting starting\" }, LogMessage { EventId = 4, Exception = null, LogLevel = Debug, Message = \"Hosting started\" }, LogMessage { EventId = 0, Exception = null, LogLevel = Debug, Message = \"Loaded hosting startup assembly Libuv.FunctionalTe\"... }, LogMessage { EventId = ConnectionStart, Exception = null, LogLevel = Debug, Message = \"Connection id \\\"0HLD6AI9FD4SE\\\" started.\" }, LogMessage { EventId = 1, Exception = null, LogLevel = Information, Message = \"Request starting HTTP/1.1 POST http:///  \" }, ...]\r\n   at Microsoft.AspNetCore.Server.Kestrel.FunctionalTests.ResponseTests.<Sending100ContinueDoesNotStartResponse>d__46.MoveNext() in /_/test/Kestrel.FunctionalTests/ResponseTests.cs:line 1685\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n```\r\n\r\nhttp://aspnetci/viewLog.html?buildId=451859&tab=buildResultsDiv&buildTypeId=Lite_KestrelStressTest"}],"ResultType":"GitHubEvent"},"Razor":{"Events":[{"Id":"7581716860","Type":"PullRequestEvent","CreatedAt":"2018-04-24T23:42:32","Actor":"rynowak","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/pull/2304","RelatedDescription":"Opened pull request \"Add documents, engine, tag helpers to snapshot\" (#2304) at aspnet/Razor","RelatedBody":"The project snapshot now maintains a RazorProjectEngine as well as set\r\nof Tag Helpers that are known for that snapshot.\r\n\r\nPivoted some more services to be snapshot-centric.\r\n\r\nAlso added the ability to track .cshtml documents to the project system.\r\nFor now most components just ignore document changes."},{"Id":"7580981982","Type":"IssuesEvent","CreatedAt":"2018-04-24T20:39:23","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2303","RelatedDescription":"Opened issue \"Microsoft.AspNetCore.Razor.Tools.ServerCommandTest.WritePidFile_WorksAsExpected test failure\" (#2303) at aspnet/Razor","RelatedBody":"The build: https://ci3.dot.net/job/aspnet_Razor/job/dev/job/windows-Configuration_Release_prtest/67/\r\n```\r\n13:34:49   [xUnit.net 00:00:01.5014114]     Microsoft.AspNetCore.Razor.Tools.ServerCommandTest.WritePidFile_WorksAsExpected [FAIL]\r\n13:34:49   Failed   Microsoft.AspNetCore.Razor.Tools.ServerCommandTest.WritePidFile_WorksAsExpected\r\n13:34:50 RUNDOTNET : error Message:  [C:\\Users\\dotnet-bot\\.dotnet\\buildtools\\korebuild\\2.2.0-preview1-17037\\KoreBuild.proj]\r\n13:34:50    System.IO.IOException : The process cannot access the file 'C:\\Users\\dotnet-bot\\.dotnet\\pids\\build\\rzc-3168' because it is being used by another process.\r\n13:34:50   Stack Trace:\r\n13:34:50      at System.IO.FileSystem.DeleteFile(String fullPath)\r\n13:34:50      at System.IO.File.Delete(String path)\r\n13:34:50      at Microsoft.AspNetCore.Razor.Tools.ServerCommandTest.WritePidFile_WorksAsExpected() in /_/test/Microsoft.AspNetCore.Razor.Tools.Test/ServerCommandTest.cs:line 55\r\n13:34:50   Invalid argument(s).\r\n```"},{"Id":"7580848733","Type":"PullRequestEvent","CreatedAt":"2018-04-24T20:13:59","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/pull/2302","RelatedDescription":"Opened pull request \"Change CopyToPublishDirectory on Content items instead of explicitly …\" (#2302) at aspnet/Razor","RelatedBody":"…removing this from publish items\r\n\r\nFixes #2295"},{"Id":"7580801354","Type":"IssuesEvent","CreatedAt":"2018-04-24T20:04:46","Actor":"kichalla","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2301","RelatedDescription":"Opened issue \"Changes to RCL project's content requires referencing web app to be re-build for it take get latest RCL project's Views dll\" (#2301) at aspnet/Razor","RelatedBody":"**Repro Steps:**\r\n\r\n- Create a new Razor Class Library (RCL) project | Build it\r\n- Add a new Razor Pages(RP) web application | Reference the above created RCL project | Build it\r\n- Ctrl + F5 | access http://localhost:port/myfeature/page1 | you should be able to see an empty page with Page1 title\r\n- Now add some content tto the body of RCL project's `Page1.cshtml` | Save it | Ctrl + F5 | access http://localhost:port/myfeature/page1\r\n\r\n**Expected**: Updated changes to the html body are reflected\r\n**Actual**: Updated changes do not show up as the updated Views dll is not copied to the RP project's output\r\n\r\n**Workaround**: Rebuild RP project | Ctrl + F5"},{"Id":"7580741122","Type":"IssuesEvent","CreatedAt":"2018-04-24T19:53:03","Actor":"kichalla","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2300","RelatedDescription":"Opened issue \"Views dll not copied into the referenced Razor Class Library project when compiled the first time\" (#2300) at aspnet/Razor","RelatedBody":"**Repro Steps:**\r\n- Create a new Razor Class Library (RCL) project | Build it | You should notice a 'refs' directory in the output folder. This is unexpected.\r\n- Add a new Razor Pages(RP) web application | Reference the  above created RCL project\r\n- Ctrl + F5 | go to http://localhost:port/myfeature/page1 | 404 response\r\n\r\n**Reason**: If you open the output directory of RP project, then you should see that the RCL project's Views.dll is not copied to the RP project.\r\n\r\n**Version Details:**\r\n**VS version**: 15.7 Preview 4.0\r\n**dotnet --info:**\r\n```\r\n.NET Core SDK (reflecting any global.json):\r\n Version:   2.1.300-rc1-008662\r\n Commit:    6ae1926fb0\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.16299\r\n OS Platform: Windows\r\n RID:         win10-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\2.1.300-rc1-008662\\\r\n\r\nHost (useful for support):\r\n  Version: 2.1.0-rc1-26423-06\r\n  Commit:  b50a96ee38\r\n\r\n.NET Core SDKs installed:\r\n  2.1.200-preview-007576 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.300-preview3-008646 [C:\\Program Files\\dotnet\\sdk]\r\n  2.1.300-rc1-008662 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET Core runtimes installed:\r\n  Microsoft.AspNetCore.All 2.1.0-rc1-30613 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.All 2.1.0-rc1-30661 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\r\n  Microsoft.AspNetCore.App 2.1.0-rc1-30613 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 2.1.0-rc1-30661 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 2.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.0-rc1-26419-02 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 2.1.0-rc1-26423-06 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n\r\nTo install additional .NET Core runtimes or SDKs:\r\n  https://aka.ms/dotnet-download\r\n```\r\n\r\ncc @pranavkm "},{"Id":"7580582487","Type":"IssuesEvent","CreatedAt":"2018-04-24T19:21:19","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2299","RelatedDescription":"Opened issue \"Completing C# inside single line @{} doesn't complete\" (#2299) at aspnet/Razor","RelatedBody":"When doing: `@{th}` and completing `this` the `is` is never inserted.\r\n\r\nhttps://i.imgur.com/QrgltyC.gifv\r\n\r\n![image](https://i.imgur.com/QrgltyC.gif)\r\n\r\nThis seems to be because we don't generate C# place holders in the middle of a single line `@{}`\r\n\r\nVSTS Issue: https://devdiv.visualstudio.com/DevDiv/Project%20Cascade/_workitems/edit/602933 \r\n\r\n/cc @ToddGrun "},{"Id":"7580256804","Type":"IssuesEvent","CreatedAt":"2018-04-24T18:20:06","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2298","RelatedDescription":"Opened issue \"TagHelperDescriptorComparers GetHashCode methods are too expensive\" (#2298) at aspnet/Razor","RelatedBody":"We do too much to calculate hash codes for TagHelperDescriptors. At design time this ends up accounting for around 2.6% of overall execution. We can simplify this significantly by only looking at the `Name`, `Kind` and `AssemblyName`.\r\n\r\n```\r\n\r\nName | Inc % | Inc\r\n-- | -- | --\r\nMicrosoft.AspNetCore.Razor.Language!TagHelperDescriptorComparer.GetHashCode | 2.6 | 210\r\n\r\n\r\nName | Inc % | Inc\r\n-- | -- | --\r\nMicrosoft.AspNetCore.Razor.Language!TagHelperDescriptorComparer.GetHashCode | 3.7 | 298\r\n+   Microsoft.AspNetCore.Razor.Language!TagMatchingRuleDescriptorComparer.GetHashCode | 1.9 | 154\r\n\\|+   system.core.ni!System.Linq.OrderedEnumerable`1+<GetEnumerator>d__1[System.__Canon].MoveNext() | 1.1 | 90\r\n\\|+   Microsoft.AspNetCore.Razor.Language!RequiredAttributeDescriptorComparer.GetHashCode | 0.4 | 29\r\n\\|+ clr!JIT_New | 0.2 | 17\r\n\\|+   mscorlib.ni!System.OrdinalComparer.GetHashCode(System.String) | 0.1 | 6\r\n+   system.core.ni!System.Linq.OrderedEnumerable`1+<GetEnumerator>d__1[System.__Canon].MoveNext() | 0.8 | 61\r\n+ system.core.ni!System.Linq.OrderedEnumerable`1[System.__Canon].GetEnumerator() | 0.4 | 31\r\n+   Microsoft.AspNetCore.Razor.Language!BoundAttributeDescriptorComparer.GetHashCode | 0.3 | 26\r\n+ clr!JIT_New | 0.2 | 13\r\n\r\n\r\n\r\n```\r\n\r\n/cc @ToddGrun "},{"Id":"7577887796","Type":"IssuesEvent","CreatedAt":"2018-04-24T11:51:45","Actor":"kichalla","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/issues/2283","RelatedDescription":"Closed issue \"Inherited razor pages model causes null reference exception when base layout is rendered\" (#2283) at aspnet/Razor","RelatedBody":"_(Tested under .NET Core 2.1 `2.1.300-preview1-008174` with `AspNetCore.All` version `2.1.0-preview1-final`)_\r\n\r\nExplicitly specifying the layout for a razor page \"A\" to point to another model-backed razor page \"B\" where `A : B : PageModel` results in a null reference exception when rendering the cshtml for razor page \"B\".\r\n\r\nTo illustrate with an example, given two razor pages `A.cshtml/A.cshtml.cs` and `B.cshtml/B.cshtml.cs` with the following contents:\r\n\r\nA.cshtml:\r\n```cshtml\r\n@page\r\n@model Foo.Pages.AModel\r\n@{\r\n    Layout = \"B\"\r\n}\r\n```\r\n\r\nA.cshtml.cs:\r\n```csharp\r\nnamespace Foo.Pages\r\n{\r\n    public class AModel : BModel\r\n    {\r\n    }\r\n}\r\n```\r\n\r\nB.cshtml:\r\n```cshtml\r\n@page\r\n@model Foo.Pages.BModel\r\n\r\n@Model.Bar\r\n```\r\n\r\nB.cshtml.cs:\r\n```csharp\r\nusing System;\r\nusing Microsoft.AspNetCore.Mvc.RazorPages;\r\n\r\nnamespace Foo.Pages\r\n{\r\n    public class BModel : PageModel\r\n    {\r\n        public string Bar { get; set; } = \"Baz\";\r\n    }\r\n}\r\n```\r\n\r\nWhen accessing `/A`, a `NullReferenceException` is thrown as `Model` is undefined. However, the constructor for `BModel` _has_ been invoked, followed by the constructor for `AModel`.\r\n\r\nAdditionally, the model _is_ passed in correctly as removing the inheritance from `AModel` causes a runtime exception to the effect of \"expecting model of class BModel, found model of class AModel.\"\r\n\r\n(This is obviously a highly contrived and stripped down example)"},{"Id":"7575495212","Type":"PullRequestEvent","CreatedAt":"2018-04-24T02:01:08","Actor":"natemcmaster","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Razor/pull/2294","RelatedDescription":"Merged pull request \"Remove explicit reference to NETStandard.Library when using .NET Framework\" (#2294) at aspnet/Razor","RelatedBody":"I've been informed it's bad form to have NETStandard.Library in your package graph, so let's prune it.\r\n\r\nThis removes NETStandard.Library from the generated nuspec on .NET Framework projects, and adds the one package that provides API we actually need: System.Runtime.InteropServices.RuntimeInformation"}],"ResultType":"GitHubEvent"},"Templates":{"Events":[],"ResultType":"GitHubEvent"},"Tooling":{"Events":[{"Id":"7576035394","Type":"IssuesEvent","CreatedAt":"2018-04-24T05:17:55","Actor":"barrytang","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1070","RelatedDescription":"Closed issue \"Visual studio freezes when I run add-migration \" (#1070) at aspnet/Tooling","RelatedBody":"I have enabled migrations and added migrations within my project previously. However now when I run add-migration visual studio freezes and I need to close visual studio via the task manger."},{"Id":"7567897452","Type":"IssuesEvent","CreatedAt":"2018-04-22T14:52:17","Actor":"rberger247","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1070","RelatedDescription":"Opened issue \"Visual studio freezes when I run add-migration \" (#1070) at aspnet/Tooling","RelatedBody":"I have enabled migrations and added migrations within my project previously. However now when I run add-migration visual studio freezes and I need to close visual studio via the task manger."},{"Id":"7439234583","Type":"IssuesEvent","CreatedAt":"2018-03-27T05:23:09","Actor":"barrytang","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1069","RelatedDescription":"Closed issue \"EntityFramework migrations not available to be applied during publish\" (#1069) at aspnet/Tooling","RelatedBody":"Workaround does not work for me. Apply migration missing in any case. after rebuilt, reload, restart etc"},{"Id":"7438189808","Type":"IssuesEvent","CreatedAt":"2018-03-26T23:00:08","Actor":"dvdobrovolskiy","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1069","RelatedDescription":"Opened issue \"EntityFramework migrations not available to be applied during publish\" (#1069) at aspnet/Tooling","RelatedBody":"Workaround does not work for me. Apply migration missing in any case. after rebuilt, reload, restart etc"},{"Id":"7416019717","Type":"IssuesEvent","CreatedAt":"2018-03-21T22:57:29","Actor":"snebjorn","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/823","RelatedDescription":"Closed issue \"Make tooling support splitting asp.net and bootstrapping in different projects (onion architecture)\" (#823) at aspnet/Tooling","RelatedBody":"I'd like to see better tooling support for a more onion architecture like solution structure.\n\nFor instance\n- Solution\n  - Core (business logic, domain model, etc)\n  - Infrastructure.EntityFramework (DAL)\n  - Presentation.ASPNET (MVC or WebApi)\n  - Bootstrapper (Program.cs and Startup.cs)\n\nSo basically I just moved Program.cs and Startup.cs to another project. This is important because according to the onion architecture Presentation.ASPNET should not have references to Entity Framework.\n\nIf I do this today I loose the \"IIS Express\" run button and I cannot publish via wed deploy in the way I'm used to. Plus a ton of other issues.\n\nWould be sweet if there was better support for this setup :)\n"},{"Id":"7381313128","Type":"IssuesEvent","CreatedAt":"2018-03-14T22:19:23","Actor":"AngelosP","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/240","RelatedDescription":"Closed issue \"Support debugging of JS executed with EdgeJS in VS\" (#240) at aspnet/Tooling","RelatedBody":"We would like to do the server side HTML rendering with ReactJS in our ASP.NET application. This works with EdgeJS, but there is currently no way to debug the JS code in VS. \n\nIt would be nice if this would work and we wouldn't need node-inspector for this.\n\nhttps://github.com/tjanczuk/edge/issues/316\n"},{"Id":"7376247861","Type":"IssuesEvent","CreatedAt":"2018-03-14T05:33:19","Actor":"barrytang","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1068","RelatedDescription":"Closed issue \"Switch between Razor Page View and Code Behind\" (#1068) at aspnet/Tooling","RelatedBody":"In the old web forms you were able to quickly switch between the ASPX file and the code behind using F7/Shift F7 or going View->Code or View->Designer. It would be useful if this was possible with Razor Pages in aspnet core projects?\r\n"}],"ResultType":"GitHubEvent"},"Announcements":{"Events":[],"ResultType":"GitHubEvent"},"Twitter":{"ResultType":"TwitterTimeline","Tweets":[{"Id":"988913487190544384","CreatedAt":"2018-04-24T22:52:03+00:00","UserScreenname":"aspnet","Text":"We're live on the #ASPNET Community Standup! Join us! https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":4,"FavoriteCount":4,"RawContent":null},{"Id":"988873497614024704","CreatedAt":"2018-04-24T20:13:08+00:00","UserScreenname":"aspnet","Text":"Join us for the weekly #ASPNET Community Standup today at 3:45 PM Pacific / 23:45 GMT at https://t.co/4Ioo9jNSN2 https://t.co/dCyzj19KZU","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":6,"FavoriteCount":3,"RawContent":null},{"Id":"988762250331676673","CreatedAt":"2018-04-24T12:51:05+00:00","UserScreenname":"aspnet","Text":"Our @csharpfritz and @coolcsh will be broadcasting LIVE from @ch9 studios and answering your questions today about… https://t.co/d37Sob12rv","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":22,"FavoriteCount":8,"RawContent":null},{"Id":"986683993180590080","CreatedAt":"2018-04-18T19:12:50+00:00","UserScreenname":"aspnet","Text":"Tune in to the @PhillyDotNet user group today at 6pm ET / 3pm PT to learn more about Blazor from our MVP Chris Gome… https://t.co/D6svQPb95X","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":7,"FavoriteCount":2,"RawContent":null},{"Id":"986310111256858624","CreatedAt":"2018-04-17T18:27:09+00:00","UserScreenname":"aspnet","Text":"Blazor 0.2.0 release now available https://t.co/rFE8xvlvM3","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":248,"FavoriteCount":147,"RawContent":null},{"Id":"983838325457829890","CreatedAt":"2018-04-10T22:45:10+00:00","UserScreenname":"aspnet","Text":"We're live on the #ASPNET Community Standup! Join us! https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":20,"FavoriteCount":6,"RawContent":null},{"Id":"983802600398049285","CreatedAt":"2018-04-10T20:23:12+00:00","UserScreenname":"aspnet","Text":"Join us for the weekly #ASPNET Community Standup today at 3:45 PM Pacific / 23:45 GMT at https://t.co/4Ioo9jNSN2 https://t.co/441EI8rRQL","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":11,"FavoriteCount":10,"RawContent":null},{"Id":"981890668095332353","CreatedAt":"2018-04-05T13:45:52+00:00","UserScreenname":"aspnet","Text":"Tune in to @csharpfritz live stream today to learn more about getting started with #ASP.NET Core. https://t.co/mkwxUOObrd","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":14,"FavoriteCount":7,"RawContent":null},{"Id":"981214732198674433","CreatedAt":"2018-04-03T16:59:56+00:00","UserScreenname":"aspnet","Text":"Starting now!\n\n#ASPNET Community Standup\n\nBlazor Update with @danroth27 and @stevensanderson… https://t.co/Tukk2JSsvC","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":43,"FavoriteCount":16,"RawContent":null},{"Id":"981205689891803136","CreatedAt":"2018-04-03T16:24:01+00:00","UserScreenname":"aspnet","Text":"Join our @csharpfritz for some #ASP.NET Core coding today, and ask questions during his live coding stream at 12:30… https://t.co/PCKhYbjIMP","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":18,"FavoriteCount":9,"RawContent":null},{"Id":"980945681794809856","CreatedAt":"2018-04-02T23:10:50+00:00","UserScreenname":"aspnet","Text":"Tuesday at 10 Pacific / 18 GMT - #ASPNET Community Standup\n\nBlazor Update with @danroth27 and @stevensanderson… https://t.co/lCnzHFb8x9","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":97,"FavoriteCount":56,"RawContent":null},{"Id":"979863409561812993","CreatedAt":"2018-03-30T23:30:16+00:00","UserScreenname":"aspnet","Text":"We just released some minor bug fixes to jquery-ajax-unobtrusive and jquery-validation-unobtrusive:… https://t.co/9P5vskn1i8","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":26,"FavoriteCount":13,"RawContent":null},{"Id":"978766397814710272","CreatedAt":"2018-03-27T22:51:08+00:00","UserScreenname":"aspnet","Text":"We're live on the #ASPNET Community Standup! Join us! https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":12,"FavoriteCount":7,"RawContent":null},{"Id":"978605317293576193","CreatedAt":"2018-03-27T12:11:03+00:00","UserScreenname":"aspnet","Text":"This will be a fun show that you won't want to miss if you're starting to lean #ASP.NET Core.  Jeff and Shayne are… https://t.co/MdzhQjXGY3","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":47,"FavoriteCount":12,"RawContent":null},{"Id":"978387927041323008","CreatedAt":"2018-03-26T21:47:14+00:00","UserScreenname":"aspnet","Text":"Join us for the weekly #ASPNET Community Standup this Tuesday at 3:45 PM Pacific / 23:45 GMT at https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":9,"FavoriteCount":10,"RawContent":null},{"Id":"976910278083432449","CreatedAt":"2018-03-22T19:55:35+00:00","UserScreenname":"aspnet","Text":"Get started building .NET web apps in the browser with Blazor https://t.co/NLDaIe6hpY","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":159,"FavoriteCount":100,"RawContent":null}]}},"RunOn":"2018-04-25T05:30:12.79709Z","RunDurationInMilliseconds":7848}