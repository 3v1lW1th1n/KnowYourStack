{"Data":{"Vue-Issues":{"Issues":[{"Id":"493852491","IsPullRequest":false,"CreatedAt":"2019-09-16T05:24:36","Actor":"dangodev","Number":"10522","RawContent":null,"Title":"TypeScript can’t infer types for ESM build","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/dangodev/vue-esm-types](https://github.com/dangodev/vue-esm-types)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn TypeScript specifying a specific build like so:\r\n\r\n```\r\nimport Vue from 'vue/dist/vue.esm.browser';\r\n```\r\n\r\nResults in the following error:\r\n\r\n```\r\nCould not find a declaration file for module 'vue/dist/vue.esm.browser'. '/node_modules/vue/dist/vue.esm.browser.js' implicitly has an 'any' type.\r\n  Try `npm install @types/vue` if it exists or add a new declaration (.d.ts) file containing `declare module 'vue/dist/vue.esm.browser';`\r\n```\r\n\r\n### What is expected?\r\nSimilar to lodash, or other projects, importing submodules should infer types from the root module.\r\n\r\n### What is actually happening?\r\nTypeScript doesn’t have any definitions for any Vue builds other than the default (`pkg.main`). Vue should ship types for all builds in `dist/`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10522","RelatedDescription":"Open issue \"TypeScript can’t infer types for ESM build\" (#10522)"},{"Id":"493848291","IsPullRequest":false,"CreatedAt":"2019-09-16T05:03:55","Actor":"TheGreyCardinal","Number":"10521","RawContent":null,"Title":"Don't work ru-translation.","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://ru.vuejs.org](https://ru.vuejs.org)\r\n![3](https://user-images.githubusercontent.com/46897110/64935193-77320800-d858-11e9-9b13-4670851cea1d.png)\r\n\r\n### Steps to reproduce\r\nOpen https://ru.vuejs.org from Russia.\r\n\r\n### What is expected?\r\nOpening your site.\r\n\r\n### What is actually happening?\r\nERR_CONNECTION_REFUSED\r\n\r\n---\r\nNot working ru-version of the site when accessing from Russia. Only via VPN.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10521","RelatedDescription":"Open issue \"Don't work ru-translation.\" (#10521)"},{"Id":"493818710","IsPullRequest":false,"CreatedAt":"2019-09-16T02:19:57","Actor":"EggsBlue","Number":"10520","RawContent":null,"Title":"当vue运行报错时,能够看到是用户写的哪行代码导致的报错","State":"closed","Body":"### What problem does this feature solve?\r\n能够更快解决问题,极大提高用户体验\r\n\r\n### What does the proposed API look like?\r\n无\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10520","RelatedDescription":"Closed issue \"当vue运行报错时,能够看到是用户写的哪行代码导致的报错\" (#10520)"},{"Id":"493678500","IsPullRequest":false,"CreatedAt":"2019-09-15T00:00:23","Actor":"thomasleveil","Number":"10519","RawContent":null,"Title":"prop validator fails to generate validation error message when using Symbols","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n\r\n[https://jsfiddle.net/zs5dan7x/](https://jsfiddle.net/zs5dan7x/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- pass a Symbol as the value of a component prop which expects another type\r\n\r\n### What is expected?\r\nthe console should show the validation error message\r\n\r\n### What is actually happening?\r\nthe prop validator tries to build an validation error message, it fails with :\r\n\r\n    TypeError: Cannot convert a Symbol value to a string\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10519","RelatedDescription":"Open issue \"prop validator fails to generate validation error message when using Symbols\" (#10519)"},{"Id":"493630078","IsPullRequest":false,"CreatedAt":"2019-09-14T14:44:26","Actor":"4vrel","Number":"10518","RawContent":null,"Title":"Typescript doc : doesn't say if we should create a .vue or .ts file","State":"closed","Body":"Hello,\r\nI'm reading the doc for typescript vue : https://vuejs.org/v2/guide/typescript.html\r\nIn \"Basic usage\" it doesn't specify which extension we should give to our file name, which can be confusing for a beginner.\r\n\r\n","Url":"https://github.com/vuejs/vue/issues/10518","RelatedDescription":"Closed issue \"Typescript doc : doesn't say if we should create a .vue or .ts file\" (#10518)"},{"Id":"493358834","IsPullRequest":false,"CreatedAt":"2019-09-13T14:45:21","Actor":"jodator","Number":"10516","RawContent":null,"Title":"Consider dropping support for older Chrome (<=55)","State":"closed","Body":"### What problem does this feature solve?\r\nWe've encountered a bug where Vue was removing a single DOM element from an editor component.\r\n\r\nNamely this code:\r\n\r\nhttps://github.com/vuejs/vue/commit/0f2cb09444e8b2a5fa41aaf8c94e6f2f43e00c2f\r\n\r\nIt removes any content inside a Vue component - event if it is not a text node. This is potentially risky behavior for complex components like CKEditor where the component expects that DOM is not changed externally. More info here: https://github.com/ckeditor/ckeditor5/issues/2016#issuecomment-531158714.\r\n\r\n### What does the proposed API look like?\r\nAfter reading the original rationale behind this change (https://github.com/vuejs/vue/issues/6601#issuecomment-333656885) I'm not sure if Chrome 55 is still an issue as it was 2 years before.\r\n\r\nIdeally, this code is not needed anymore but in a case that it is still needed then maybe an additional check for node type would be better.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10516","RelatedDescription":"Closed issue \"Consider dropping support for older Chrome (<=55)\" (#10516)"},{"Id":"493359450","IsPullRequest":true,"CreatedAt":"2019-09-13T14:34:16","Actor":"paulkamer","Number":"10517","RawContent":null,"Title":"fix: Do not use micro tasks in Pale Moon browser (#10515)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nThis fix is similar to other issues/PRs:\r\n\r\nhttps://github.com/vuejs/vue/issues/9462\r\nhttps://github.com/vuejs/vue/commit/0bad7e2a3508b55abaa8aec2a1bd9c1127305cb4\r\n\r\nhttps://github.com/vuejs/vue/issues/10366\r\nhttps://github.com/vuejs/vue/pull/10459","Url":"https://github.com/vuejs/vue/pull/10517","RelatedDescription":"Open PR \"fix: Do not use micro tasks in Pale Moon browser (#10515)\" (#10517)"},{"Id":"493352437","IsPullRequest":false,"CreatedAt":"2019-09-13T14:21:00","Actor":"paulkamer","Number":"10515","RawContent":null,"Title":"Click Event Triggers on Complex Buttons are ignored in Pale Moon browser","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ye6vs8h3/](https://jsfiddle.net/ye6vs8h3/)\r\n\r\n### Steps to reproduce\r\nInstall Pale Moon browser http://www.palemoon.org/\r\nOpen the jsfiddle (https://jsfiddle.net/ye6vs8h3/).\r\n\r\nWhen clicking directly on the Vue logo image,  a click is not registered. \r\nWhen clicking just next to it, still on the grey background, a click *is* registered correctly.\r\n\r\n### What is expected?\r\nWhen clicking on a nested component, the click should bubble up to the parent element that has a `@click` handler.\r\n\r\n### What is actually happening?\r\nThe click is not bubbled up, so takes no effect.\r\n\r\n---\r\nThis issue is similar to several other bugfixes, for Adobe CEP and Mobile Safari:\r\n\r\nhttps://github.com/vuejs/vue/issues/9462\r\nhttps://github.com/vuejs/vue/issues/10366\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10515","RelatedDescription":"Open issue \"Click Event Triggers on Complex Buttons are ignored in Pale Moon browser\" (#10515)"},{"Id":"493250417","IsPullRequest":false,"CreatedAt":"2019-09-13T10:25:35","Actor":"feelepxyz","Number":"10514","RawContent":null,"Title":"Add \"vue\" as peerDependency to vue-template-compiler","State":"closed","Body":"👋 Currently `vue-template-compiler` doesn't explicitly depend on `vue` but does so when required: https://github.com/vuejs/vue/blob/dev/packages/vue-template-compiler/index.js#L7-L18\r\n\r\nThis is causing problems for tools like Dependabot where we have to hard code a rule forcing a grouped pull request updating both `vue` and `vue-template-compiler` to the same version. If the dependency on `vue` was set with `peerDependencies` it would get updated at the same time because of the version requirement.\r\n\r\nIs there any reason for not using a `peerDependencies` requirement on `vue`? I can see that people sometimes install `vue` globally but think this wouldn't break that use case.\r\n","Url":"https://github.com/vuejs/vue/issues/10514","RelatedDescription":"Closed issue \"Add \"vue\" as peerDependency to vue-template-compiler\" (#10514)"},{"Id":"492846354","IsPullRequest":false,"CreatedAt":"2019-09-13T09:17:56","Actor":"matthewma7","Number":"10512","RawContent":null,"Title":"having a child slot causes parent to render unnecessarily when the parent is being used in a scoped slot","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/jfmorio/okvza9fu/8/](https://jsfiddle.net/jfmorio/okvza9fu/8/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on the ‘+1’ button\r\n\r\n### What is expected?\r\nThe render() function inside the component 'consumer' won't be called\r\n\r\n### What is actually happening?\r\nthe render function is called\r\n\r\n---\r\nIf there is no grandchild slot, the render() won't be called.\r\nhttps://jsfiddle.net/jfmorio/okvza9fu/10/ \r\n\r\nIf it is not a scoped slot, it works as expected.\r\nhttps://jsfiddle.net/jfmorio/okvza9fu/11/\r\n\r\nIf it an old syntax named slot. It works as expected. \r\nhttps://jsfiddle.net/jfmorio/okvza9fu/13/\r\nHowever, if the old syntax provides a slot scope. It will cause rendering. \r\nhttps://jsfiddle.net/jfmorio/okvza9fu/22/\r\nSo basically, a scoped slot will cause the component to render when the component has a slot child. Even though neither the component or the slot child is using the variable within render.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10512","RelatedDescription":"Closed issue \"having a child slot causes parent to render unnecessarily when the parent is being used in a scoped slot\" (#10512)"},{"Id":"492922359","IsPullRequest":true,"CreatedAt":"2019-09-13T09:03:10","Actor":"spoorthikc","Number":"10513","RawContent":null,"Title":"Update options.d.ts","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [x] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [X ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10513","RelatedDescription":"Closed or merged PR \"Update options.d.ts\" (#10513)"},{"Id":"492788754","IsPullRequest":false,"CreatedAt":"2019-09-12T13:58:06","Actor":"avi12","Number":"10511","RawContent":null,"Title":"Electron program crashes when trying to import Google Cloud Speech to Text","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Steps to reproduce\r\n```\r\nyarn global add @vue/cli\r\nvue create test\r\ncd test\r\nvue add electron-builder (choose the latest)\r\nyarn add @google-cloud/speech\r\n```\r\n\r\n`src\\background.js`:\r\n```js\r\nimport speech from \"@google-cloud/speech\";\r\n```\r\n```\r\nyarn electron:serve\r\n```\r\nThen, crash\r\n\r\n### What is expected?\r\nThe application should run normally\r\n\r\n### What is actually happening?\r\n```\r\nApp threw an error during load\r\nError: error reading first path in the walk C:\\Repositories\\protos\r\nError: ENOENT: no such file or directory, lstat 'C:\\Repositories\\protos'\r\n```\r\n(Note that the root directory is in `C:\\Repositories\\test`)\r\n\r\n---\r\nI need to be able to import `speech` specifically in the `background.js`, and not, say, in `App.vue`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10511","RelatedDescription":"Closed issue \"Electron program crashes when trying to import Google Cloud Speech to Text\" (#10511)"},{"Id":"492750865","IsPullRequest":false,"CreatedAt":"2019-09-12T11:56:38","Actor":"njoAI","Number":"10510","RawContent":null,"Title":"polyfill.io Symbol-polyfill breaks Vue","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/q2vh8g7p/](https://jsfiddle.net/q2vh8g7p/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a minimal working VUE example.\r\n2. Include the polyfill for Symbol (https://polyfill.io/v3/polyfill.js?flags=always&features=Symbol)\r\n\r\n### What is expected?\r\nVUE-example should continue to work.\r\n\r\n### What is actually happening?\r\nDepending on the order in which VUE or the polyfill are included you get an exception and the VUE-template is not processed.\r\n\r\nIf the polyfill is first included:\r\n\r\n```\r\nvue.js:922 Uncaught RangeError: Maximum call stack size exceeded\r\n    at new Observer (vue.js:922)\r\n    at observe (vue.js:1003)\r\n    at defineReactive$$1 (vue.js:1035)\r\n    at Observer.walk (vue.js:947)\r\n    at new Observer (vue.js:935)\r\n    at observe (vue.js:1003)\r\n    at defineReactive$$1 (vue.js:1035)\r\n    at Observer.walk (vue.js:947)\r\n    at new Observer (vue.js:935)\r\n    at observe (vue.js:1003)\r\n```\r\nIf VUE is included first:\r\n\r\n```\r\npolyfill.js?flags=always&features=Symbol:1092 Uncaught TypeError: Cannot set property 'prototype' of undefined\r\n    at create (polyfill.js?flags=always&features=Symbol:1092)\r\n    at Function.descriptor.value (polyfill.js?flags=always&features=Symbol:1511)\r\n    at mergeAssets (vue.js:1322)\r\n    at mergeField (vue.js:1565)\r\n    at mergeOptions (vue.js:1556)\r\n    at Vue._init (vue.js:4977)\r\n    at new Vue (vue.js:5072)\r\n    at window.onload ((index):34)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10510","RelatedDescription":"Closed issue \"polyfill.io Symbol-polyfill breaks Vue\" (#10510)"},{"Id":"492656478","IsPullRequest":false,"CreatedAt":"2019-09-12T09:02:12","Actor":"wemamawe","Number":"10509","RawContent":null,"Title":"if there are two for iterator, the i variable will be rewrite","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\ntest(){\r\n    for(let i =0;i<5;i  ){\r\n         console.info(i);\r\n    }\r\n   for(let i =20;i<25;i  ){\r\n         console.info(i);\r\n    }\r\n}\r\n\r\n### What is expected?\r\n0,1,2,3,4\r\n20,21,22,23,24\r\n\r\n### What is actually happening?\r\n0,1,2,3,4\r\ni=undefind\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->\r\n![image](https://user-images.githubusercontent.com/29365634/64766776-29c44b00-d579-11e9-8327-67c9098cbd21.png)\r\n\r\n![image](https://user-images.githubusercontent.com/29365634/64766886-537d7200-d579-11e9-81c6-3edf02e1ae37.png)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/29365634/64766795-32b51c80-d579-11e9-8814-30c2db50da19.png)\r\n\r\n","Url":"https://github.com/vuejs/vue/issues/10509","RelatedDescription":"Closed issue \"if there are two for iterator, the i variable will be rewrite\" (#10509)"},{"Id":"492454885","IsPullRequest":false,"CreatedAt":"2019-09-11T20:39:16","Actor":"bandleader","Number":"10508","RawContent":null,"Title":"`this` is set to `window` inside `v-model` (only when setting, not getting)","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/69db10uh/4/](https://jsfiddle.net/69db10uh/4/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n`<input v-model=\"this.greeting\" />`\r\nOn render, Vue correctly fills the textbox with `vueInstance.greeting`.\r\nType in the textbox, however and watch Vue happily update `window.greeting`.\r\nDemo in the [fiddle](https://jsfiddle.net/69db10uh/4/).\r\n\r\n\r\n### What is expected?\r\nVue should update `vueInstance.greeting`\r\n\r\n### What is actually happening?\r\nVue updates `window.greeting`.\r\n\r\n---\r\nIn the example above, I would obviously just use `v-model=\"greeting\"`, which works fine.\r\nBut I discovered this as I was trying (inside `v-model`) to pass the Vue instance to a function:\r\n`v-model=\"lens(this, 'greeting')\"`\r\nThe function receives `window` as the first argument, and therefore does not work properly.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10508","RelatedDescription":"Closed issue \"`this` is set to `window` inside `v-model` (only when setting, not getting)\" (#10508)"},{"Id":"492304267","IsPullRequest":false,"CreatedAt":"2019-09-11T15:17:25","Actor":"Hillcow","Number":"10507","RawContent":null,"Title":"@click action on mobile sometimes not executed when pressing button for a short amount of time","State":"closed","Body":"In my vue.js app I noticed that both on Android and iOS sometimes @click actions don't get executed when they should. If this occurs they only get executed if I stay with my finger on the element that is supposed to perform the @click action for a bit longer (0.4s maybe). ","Url":"https://github.com/vuejs/vue/issues/10507","RelatedDescription":"Closed issue \"@click action on mobile sometimes not executed when pressing button for a short amount of time\" (#10507)"},{"Id":"492172596","IsPullRequest":false,"CreatedAt":"2019-09-11T11:15:02","Actor":"LongTengDao","Number":"10506","RawContent":null,"Title":"conflict between docs and typescript api","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n\r\n### Steps to reproduce\r\n\r\n### What is expected?\r\n\r\nFigure out which is exact.\r\n\r\n### What is actually happening?\r\n\r\ndoc:\r\n\r\nhttps://github.com/vuejs/vuejs.org/blame/master/src/v2/guide/render-function.md#L142\r\n\r\ntsd:\r\n\r\nhttps://github.com/vuejs/vue/blame/dev/types/options.d.ts#L19\r\n\r\ndoc said the first argument of createElement could be string/ComponentOptions/ComponentConstructor or async return them (string/ComponentOptions/ComponentConstructor),\r\n\r\nwhile tsd file need string/ComponentOptions/ComponentConstructor or async return ComponentOptions/ComponentConstructor (no string).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10506","RelatedDescription":"Open issue \"conflict between docs and typescript api\" (#10506)"},{"Id":"492116834","IsPullRequest":false,"CreatedAt":"2019-09-11T09:20:44","Actor":"jawharOmar","Number":"10505","RawContent":null,"Title":"future version plan","State":"closed","Body":"like Angular 6 month major update , and lake of using typescript instate of javascript , our concern is we are searching a lot through internet for see do VueJS will make big migration and lack of back word compatibility like angularJS to angular   ","Url":"https://github.com/vuejs/vue/issues/10505","RelatedDescription":"Closed issue \"future version plan\" (#10505)"},{"Id":"491996147","IsPullRequest":false,"CreatedAt":"2019-09-11T07:32:51","Actor":"pxwee5","Number":"10503","RawContent":null,"Title":"Function Component Scoped CSS not applied if used with v-if","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://github.com/maoberlehner/transition-to-height-auto-with-vue](https://github.com/maoberlehner/transition-to-height-auto-with-vue)\r\n\r\n### Steps to reproduce\r\nSource: https://github.com/maoberlehner/transition-to-height-auto-with-vue\r\n\r\nDemo: https://transition-to-height-auto-with-vue.netlify.com/\r\n\r\n\r\nSource has scoped css on the `*` rule. However in the demo, it is not applied. \r\n\r\n\r\nHowever if you change `v-if` to `v-show`, the `*` rule will be applied to that scope. \r\n\r\n### What is expected?\r\nThe functional component's scope is added on both v-if and v-show usage.\r\n\r\n### What is actually happening?\r\nThe functional component's scope is added only on v-show and not applied on v-if.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10503","RelatedDescription":"Closed issue \"Function Component Scoped CSS not applied if used with v-if\" (#10503)"},{"Id":"492013594","IsPullRequest":true,"CreatedAt":"2019-09-11T05:47:52","Actor":"KJlmfe","Number":"10504","RawContent":null,"Title":"fix(provide/inject): allow symbol as object inject key","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10504","RelatedDescription":"Closed or merged PR \"fix(provide/inject): allow symbol as object inject key\" (#10504)"},{"Id":"491931082","IsPullRequest":false,"CreatedAt":"2019-09-11T02:14:01","Actor":"LongTengDao","Number":"10502","RawContent":null,"Title":"version in branch 2.6 is 2.5.21","State":"closed","Body":"### Version\r\n\r\n### Reproduction link\r\n\r\n[2.6/dist/vue.js](https://github.com/vuejs/vue/blob/edf7df0c837557dd3ea8d7b42ad8d4b21858ade0/dist/vue.js#L2)\r\n\r\n### Steps to reproduce\r\n\r\nhttps://github.com/vuejs/vue/blob/edf7df0c837557dd3ea8d7b42ad8d4b21858ade0/dist/vue.js#L2\r\n\r\n### What is expected?\r\n\r\nIs branch `dev` the only correct way to get Vue 2.6?\r\n\r\n### What is actually happening?\r\n\r\nThere is a lot feature of 2.6 not in 2.5, but both master and 2.6 branches are 2.5, especially the 2.6 branch name is misleading.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10502","RelatedDescription":"Closed issue \"version in branch 2.6 is 2.5.21\" (#10502)"},{"Id":"491378321","IsPullRequest":false,"CreatedAt":"2019-09-10T18:20:07","Actor":"Spittal","Number":"10497","RawContent":null,"Title":"Observable doesn't react to dynamic properties declared with Vue.set","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://codepen.io/Spittal/pen/LYPdZdK](https://codepen.io/Spittal/pen/LYPdZdK)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Create an observable \r\n```const data = Vue.observable({});```\r\n- Add a property to it \r\n```Vue.set(data, 'test', true);```\r\n\r\n### What is expected?\r\nThat the observable reacts to the changes made by Vue.set\r\n\r\n### What is actually happening?\r\nit is not reacting and the observable remains in the state before Vue.set\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10497","RelatedDescription":"Closed issue \"Observable doesn't react to dynamic properties declared with Vue.set\" (#10497)"},{"Id":"491649528","IsPullRequest":false,"CreatedAt":"2019-09-10T18:15:06","Actor":"jacdy","Number":"10501","RawContent":null,"Title":"请教一个 v-bind 动态对象的问题，当绑定的是一个完全的动态对象，怎么绑定带运算的属性？怎么让它保持响应式更新？ 谢谢","State":"closed","Body":"### What problem does this feature solve?\r\n\r\n```vue\r\n<template>\r\n\t<component v-bind=\"dynamicAttrs\"></component>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tsomeObject:{\r\n\t\t\t\t\ta:{\r\n\t\t\t\t\t\tb:10\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdynamicAttrs:{  // 这整个对象都是动态的，即有多少个属性，属性名称都是动态的\r\n\t\t\t\t\tsomeAttr1:123,\r\n\t\t\t\t\tsomeAttr2:\"someObject.a.b   500\"   // 这个带运算的怎么绑定？ 如何保证有响应式更新，即 someObject.a.b 更新时也能自动更新到组件的 props 中\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n```\r\n\r\n### What does the proposed API look like?\r\n\r\n```vue\r\n<template>\r\n\t<component v-bind=\"dynamicAttrs\"></component>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tsomeObject:{\r\n\t\t\t\t\ta:{\r\n\t\t\t\t\t\tb:10\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdynamicAttrs:{  // 这整个对象都是动态的，即有多少个属性，属性名称都是动态的\r\n\t\t\t\t\tsomeAttr1:123,\r\n\t\t\t\t\tsomeAttr2:\"someObject.a.b   500\"   // 这个带运算的怎么绑定？ 如何保证有响应式更新，即 someObject.a.b 更新时也能自动更新到组件的 props 中\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10501","RelatedDescription":"Closed issue \"请教一个 v-bind 动态对象的问题，当绑定的是一个完全的动态对象，怎么绑定带运算的属性？怎么让它保持响应式更新？ 谢谢\" (#10501)"},{"Id":"491587181","IsPullRequest":false,"CreatedAt":"2019-09-10T10:28:28","Actor":"xiaodemen","Number":"10500","RawContent":null,"Title":"`$forceUpdate` do not update checked status of checkbox-","State":"open","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/ahy27vu3/](https://jsfiddle.net/ahy27vu3/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. input[type=\"text\"] value is forced to` ''`, which is controlled completely\r\n2. input[type=\"checkbox\"] checked does not work\r\n\r\n### What is expected?\r\ninput[type=\"checkbox\"] checked is forced to `false`\r\n\r\n### What is actually happening?\r\ninput[type=\"checkbox\"] checked keep the value last entered\r\n\r\n---\r\nMaybe this is designed on purpose，Could you please explain why？\r\nhttps://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/modules/dom-props.js#L67\r\nhttps://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/modules/dom-props.js#L42\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10500","RelatedDescription":"Open issue \"`$forceUpdate` do not update checked status of checkbox-\" (#10500)"},{"Id":"491440686","IsPullRequest":false,"CreatedAt":"2019-09-10T05:49:58","Actor":"HTJin","Number":"10498","RawContent":null,"Title":"Wrong version listed for script tag (CDN)","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://vuejs.org/v2/guide/installation.html#CDN](https://vuejs.org/v2/guide/installation.html#CDN)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nInstallation > Direct script Include > CDN\r\n\r\n### What is expected?\r\n`<script src=\"https://cdn.jsdelivr.net/npm/vue@2.6.10\"></script>`\r\n\r\n### What is actually happening?\r\n`<script src=\"https://cdn.jsdelivr.net/npm/vue@2.6.0\"></script>`\r\n\r\nThe listed documentation is under the wrong version.\r\n\r\n---\r\nWas trying to create an SPA without node/webpack due to company restrictions. Copied the tag from documentation to wonder for hours why the app wasn't working.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10498","RelatedDescription":"Closed issue \"Wrong version listed for script tag (CDN)\" (#10498)"},{"Id":"491182773","IsPullRequest":true,"CreatedAt":"2019-09-09T15:55:10","Actor":"edison1105","Number":"10496","RawContent":null,"Title":"fix: the logo src of FASTCODING","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:the logo is not show.\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/10496","RelatedDescription":"Open PR \"fix: the logo src of FASTCODING\" (#10496)"},{"Id":"490788721","IsPullRequest":true,"CreatedAt":"2019-09-09T08:25:34","Actor":"oguzhaninan","Number":"10494","RawContent":null,"Title":"feat(v-for): add 'loop' iterator to v-for ","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nWhen using v-for directive, no additional statement is needed to determine whether the current element is the first or the last element, or whether the sequence is even or odd. Also added 'remaining' variable, which tells you how many elements are left before the end of the loop.\r\n","Url":"https://github.com/vuejs/vue/pull/10494","RelatedDescription":"Closed or merged PR \"feat(v-for): add 'loop' iterator to v-for \" (#10494)"},{"Id":"490788884","IsPullRequest":true,"CreatedAt":"2019-09-09T08:05:35","Actor":"msdlisper","Number":"10495","RawContent":null,"Title":"fix(core): jsdom is not inBrowser when run unit:test(fix #10472)","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [x] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\nthe bugfix for [Disable productionTip in a vue dev common.js version](https://github.com/vuejs/vue/issues/10472l)\r\n\r\nBecause mocha-webpack use `jsdom` and run code in Node env, and `jsdom` has `window` property , so  vue  was wrong to think it  was in browser  and displayed a productionTip\r\n\r\nAlso, I find thant jsdom's `window`  only contains DOM-related properties,  so I use `window.Math`\r\nto tell vue that 'hi boy~, I am in jsdom, not do something only in browser'","Url":"https://github.com/vuejs/vue/pull/10495","RelatedDescription":"Closed or merged PR \"fix(core): jsdom is not inBrowser when run unit:test(fix #10472)\" (#10495)"},{"Id":"490646938","IsPullRequest":false,"CreatedAt":"2019-09-09T07:39:39","Actor":"LongTengDao","Number":"10493","RawContent":null,"Title":"And options.model.lazyEvent option","State":"closed","Body":"### What problem does this feature solve?\r\n\r\n`v-model.lazy` on component is ignored and wasted, while `.number` and `.trim` are effective.\r\n\r\n### What does the proposed API look like?\r\n\r\n```\r\noptions: {\r\n    model: {\r\n        prop?: string,// = 'value'\r\n        event?: string,// = 'input'\r\n        lazyEvent?: string,// = 'change'\r\n    }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10493","RelatedDescription":"Closed issue \"And options.model.lazyEvent option\" (#10493)"},{"Id":"490510994","IsPullRequest":false,"CreatedAt":"2019-09-07T12:28:55","Actor":"sercanparlak","Number":"10492","RawContent":null,"Title":"Programmatically Create Slots","State":"closed","Body":"### Version\r\n2.5.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/dynamic-slot-two-level-sjsog](https://codesandbox.io/s/dynamic-slot-two-level-sjsog)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOn the page click Create button. You will see a button and two textboxes. Then change the text of textboxes. After that click hi button. \r\n\r\n### What is expected?\r\nThe textboxes have to keep the entered new value.\r\n\r\n### What is actually happening?\r\nThe textboxes loses the entered new value. They turn back to initial values. If you continue to change each the textbox value then the other textbox value returns to the previous entered value.\r\n\r\n---\r\nIt's just a simple example to explain my problem. I'm trying to create programmatically components from an existing component framework. \r\nI tried to set slots vnode key value. It didn't solve too. Am i setting the slots.default in a wrong way?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/10492","RelatedDescription":"Closed issue \"Programmatically Create Slots\" (#10492)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"493724589","IsPullRequest":false,"CreatedAt":"2019-09-15T11:10:00","Actor":"pribilinskiy","Number":"2929","RawContent":null,"Title":"beforeLeave is mentioned in documentation","State":"open","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect](https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect)\r\n\r\n### Steps to reproduce\r\nNavigate to https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect and read the note:\r\n> Note that Navigation Guards are not applied on the route that redirects, only on its target. In the example below, adding a beforeEnter or **beforeLeave** guard to the /a route would not have any effect.\r\n\r\n### What is expected?\r\n`beforeLeave` should not be mentioned as it's not implemented for a `RouteConfig` yet\r\nSee https://router.vuejs.org/api/#router-construction-options\r\n\r\n### What is actually happening?\r\n`beforeLeave` is in docs\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2929","RelatedDescription":"Open issue \"beforeLeave is mentioned in documentation\" (#2929)"},{"Id":"493267537","IsPullRequest":false,"CreatedAt":"2019-09-13T11:10:53","Actor":"VasiliyRusin","Number":"2928","RawContent":null,"Title":"Router middleware","State":"closed","Body":"### What problem does this feature solve?\r\nSimple middleware out of the box. The idea and realization were shown in this article https://markus.oberlehner.net/blog/implementing-a-simple-middleware-with-vue-router/\r\nAnd I think it's really good solutions for router middleware.\r\n\r\nIf it can be realized by existing \"beforeEach\" hook, Is it really necessary? Yes. It's a beautiful and DRY way to check user authentification or page access rights, logging or A/B tests. Also, it isn't breaking existing code.\r\n\r\n### What does the proposed API look like?\r\nExample from the article. Maybe the object \"meta\" isn't necessary. It should be discussed.\r\n\r\n```javascript\r\n import Vue from 'vue';\r\n import Router from 'vue-router';\r\n \r\n import auth from './middleware/auth';\r\n import log from './middleware/log';\r\n \r\n import Home from './views/Home.vue';\r\n import Login from './views/Login.vue';\r\n import User from './views/User.vue';\r\n\r\n Vue.use(Router);\r\n\r\n const router = new Router({\r\n   routes: [\r\n     {\r\n       path: '/',\r\n       name: 'home',\r\n       component: Home,\r\n       meta: {\r\n         middleware: log,\r\n       },\r\n     },\r\n     {\r\n       path: '/login',\r\n       name: 'login',\r\n       component: Login,\r\n       meta: {\r\n         middleware: log,\r\n       },\r\n     },\r\n     {\r\n       path: '/user',\r\n       name: 'user',\r\n       component: User,\r\n       meta: {\r\n         // Hint: try to switch those two around to see\r\n         // how this affects execution of the callbacks.\r\n         middleware: [auth, log],\r\n       },\r\n     },\r\n   ],\r\n   mode: 'history',\r\n });\r\n\r\n export default router;\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2928","RelatedDescription":"Closed issue \"Router middleware\" (#2928)"},{"Id":"493238674","IsPullRequest":true,"CreatedAt":"2019-09-13T10:45:53","Actor":"Astray-git","Number":"2926","RawContent":null,"Title":"fix: publish should include all files under src","State":"closed","Body":"Currently the npm package only includes 4 js files under src, all folders are missing.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2926","RelatedDescription":"Closed or merged PR \"fix: publish should include all files under src\" (#2926)"},{"Id":"493252695","IsPullRequest":false,"CreatedAt":"2019-09-13T10:44:48","Actor":"njam","Number":"2927","RawContent":null,"Title":"'base' does not work with absolute URL","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://repl.it/@njam/vue-router-base](https://repl.it/@njam/vue-router-base)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Set 'base' to an absolute URL\r\n2. Resolve any link\r\n\r\n### What is expected?\r\nFinal URL is based on absolute base URL:\r\n\"http://example.com/foo\"\r\n\r\n\r\n### What is actually happening?\r\nFinal URL is using base URL as relative path:\r\n\"/http:/example.com/\"\r\n\r\n\r\n---\r\nI couldn't find a ticket for this, only a closed PR: https://github.com/vuejs/vue-router/pull/1353\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2927","RelatedDescription":"Closed issue \"'base' does not work with absolute URL\" (#2927)"},{"Id":"491097363","IsPullRequest":false,"CreatedAt":"2019-09-09T13:36:41","Actor":"pimlie","Number":"2925","RawContent":null,"Title":"Missing param due to case-sensitive token regex","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/j4s8ka1v/](https://jsfiddle.net/j4s8ka1v/)\r\n\r\n\r\n### Steps to reproduce\r\nUnfortunately the above reproduction link does **not** reproduce the issue, not sure why the _tokensToFunction_ method isnt used in the jsfiddle. But I've traced the issue to `tokensToFunction` from `path-to-regexp`. The issue seems to have been fixed in v3.1.0 due to [this pr](https://github.com/pillarjs/path-to-regexp/pull/191). You can check eg [`dist/vue-router.esm.js`](https://github.com/vuejs/vue-router/blob/dev/dist/vue-router.esm.js#L619) to see the RegExp does not set the `i` modifier\r\n\r\nThat makes this report more or less a fyi / request to upgrade `path-to-regexp` 😃 \r\n\r\nLocally the error is caused by a route similar to\r\n```\r\n  routes: [{\r\n      path: \"/:locale(en|pt-br)?/:source(.*)?\",\r\n      component: myComponent,\r\n    }],\r\n```\r\n\r\nwhich fails when you browse to e.g. `/pt-BR/path`:\r\n\r\n![image](https://user-images.githubusercontent.com/1067403/64534777-5af11100-d316-11e9-9225-f34616eee0fe.png)\r\n\r\n### What is expected?\r\nThat the token / param is matched case-insensitively\r\n\r\n### What is actually happening?\r\nIt doesnt, causing a missing param error\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2925","RelatedDescription":"Closed issue \"Missing param due to case-sensitive token regex\" (#2925)"},{"Id":"491067631","IsPullRequest":false,"CreatedAt":"2019-09-09T12:32:17","Actor":"pimlie","Number":"2924","RawContent":null,"Title":"Keep path-to-regexp as a dependency for non-browser builds (or expose its exports)","State":"open","Body":"### What problem does this feature solve?\r\nFor vue-router v2.0.0 `path-to-regexp` was moved from a dependency to a [dev dependency](https://github.com/vuejs/vue-router/commit/76d83b6eb4af507763c5ee6f61a52ed9a7804572) (thanks @pi0 for finding the commit).\r\n\r\nUnfortunately the commit doesnt list a reason why this was (probably mostly security/political?), but I think it could make sense to keep `path-to-regexp` as an external dependency for non-browser builds.\r\n\r\nOne reason is that Nuxt.js also uses e.g. the [`tokensToFunction`](https://github.com/nuxt/nuxt.js/blob/dev/packages/vue-app/template/utils.js#L452) method of `path-to-regexp`. This means that currently a Nuxt.js app will include two copies of that function, one from vue-router and one from Nuxt.js itself which increases the bundle size needlessly.\r\n\r\nAnother solution for the above could be that `vue-router` would expose the path-to-regexp methods like `tokensToFunction` method so Nuxt.js can use those, but using dependencies has more benefits ofc like quicker delivery of patches for `path-to-regexp`.\r\n\r\n### What does the proposed API look like?\r\nRevert: 76d83b6eb4af507763c5ee6f61a52ed9a7804572\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2924","RelatedDescription":"Open issue \"Keep path-to-regexp as a dependency for non-browser builds (or expose its exports)\" (#2924)"},{"Id":"490683137","IsPullRequest":false,"CreatedAt":"2019-09-09T08:18:47","Actor":"tmorehouse","Number":"2921","RawContent":null,"Title":"Ability to prevent `scrollBehavior` on a particular `<router-link>`","State":"closed","Body":"### What problem does this feature solve?\r\n\r\nIn some situations, when one is just changing the `hash` (or `query`) the current page scrolls to top (or not quite to the right position).  It would be nice to disable the `scrollBehavior` when users click on a specific `<router-link>`.\r\n\r\nUse case: when controlling tabbed content on a page, clicking the link should change the URL, but the user browser view shouldn't be scrolled (as the tabbed content just updates, and the user should remain at their current scroll position).\r\n\r\nI know this is possible with a custom `scrollBehaviour()` method, but it tends to make the app maintenance a bit more complex when adding new tabbed content sections in a document.\r\n\r\n### What does the proposed API look like?\r\n\r\nPossibly a new Boolean prop `prevent-scroll` on `<router-link>`, which when set would disable the `scrollBehavior` when users click on the `<router-link>` (specifically for when only the hash or query changes), or an optional property in the location object passed to `<router-link>`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2921","RelatedDescription":"Closed issue \"Ability to prevent `scrollBehavior` on a particular `<router-link>`\" (#2921)"},{"Id":"490737536","IsPullRequest":false,"CreatedAt":"2019-09-08T10:29:17","Actor":"lxcuso4","Number":"2923","RawContent":null,"Title":"keep-alive deeply nested router-views display the last visited component component","State":"open","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/lxcuso4/cu6keqw2/28](https://jsfiddle.net/lxcuso4/cu6keqw2/28)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on childA\r\nClick on index\r\nClick on childB\r\n\r\n### What is expected?\r\nwe want to show B page\r\n\r\n### What is actually happening?\r\nbut actually A page dispaly\r\n\r\n---\r\nThis behavior happens when we use keep-alive and have three layers of nested routing\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2923","RelatedDescription":"Open issue \"keep-alive deeply nested router-views display the last visited component component\" (#2923)"},{"Id":"490737054","IsPullRequest":false,"CreatedAt":"2019-09-08T10:23:23","Actor":"lxcuso4","Number":"2922","RawContent":null,"Title":"Router resove can't work","State":"closed","Body":"**Reproduction link**\r\nhttps://jsfiddle.net/lxcuso4/cu6keqw2/26/\r\n\r\n**Steps to reproduce**\r\nClick on childA \r\nClick on index\r\nClick on childB\r\n\r\n**What is expected?**\r\nwe want to show B page\r\n\r\n**What is actually happening?**\r\nbut actually A page dispaly\r\n\r\nThis behavior happens when we use keep-alive and have three layers of nested routing","Url":"https://github.com/vuejs/vue-router/issues/2922","RelatedDescription":"Closed issue \"Router resove can't work\" (#2922)"},{"Id":"489563585","IsPullRequest":false,"CreatedAt":"2019-09-05T07:57:39","Actor":"wanlixi","Number":"2920","RawContent":null,"Title":"When a page jumps, `popstate'and `hashchange' registered listening events will not be triggered","State":"closed","Body":"### What problem does this feature solve?\r\nProvide a monitor for page Jump Events\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nwindow.addEventListener(\"popstate\", function(e) {\r\n      console.log(\"popstate\");\r\n    });\r\n    window.addEventListener(\"hashchange\", function(e) {\r\n      console.log(\"hashchange\");\r\n    });\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2920","RelatedDescription":"Closed issue \"When a page jumps, `popstate'and `hashchange' registered listening events will not be triggered\" (#2920)"},{"Id":"488467467","IsPullRequest":false,"CreatedAt":"2019-09-03T08:37:32","Actor":"MalavitaC","Number":"2919","RawContent":null,"Title":"keep-alive会触发created和mounted钩子","State":"closed","Body":"[请看这个](https://github.com/vueComponent/ant-design-vue-pro/issues/27)","Url":"https://github.com/vuejs/vue-router/issues/2919","RelatedDescription":"Closed issue \"keep-alive会触发created和mounted钩子\" (#2919)"},{"Id":"488274168","IsPullRequest":false,"CreatedAt":"2019-09-03T06:51:05","Actor":"afwn90cj93201nixr2e1re","Number":"2917","RawContent":null,"Title":"registerModule and beforeRouteEnter fetching data need an example","State":"closed","Body":"As we know, **next inside beforeRouteEnter gonna call after mounted**, but if we wanna use mapActions or mapState and other stuff like that, we should initialize module before.\r\n\r\nSo, i can't find any workaround for this, that's why im writing here.\r\nSo, i have beforeRouterEnter guard, where im fetching some data.\r\n\r\n```javascript\r\nimport { mapActions, mapState } from 'vuex';\r\ncomputed: {\r\n            ...mapState('test', ['abcd','abcd123'])\r\n},\r\nasync beforeRouteEnter (to, from, next) {\r\n            console.log(\"before router enter\");\r\n            try{\r\n                let resp = await FetchingSomeData();\r\n                console.log(resp);\r\n                \r\n                next(vm => {\r\n                    console.log(\"next(vm => { called\");\r\n                    vm.$store.registerModule('test', {state:resp.object,...},{devtools_getStateDirectly:true});\r\n                });\r\n            }\r\n            catch(e){\r\n                next(vm => {vm.isEmpty = true;console.log(\"next(vm => {vm.isEmpty = true;\");});\r\n            }\r\n        },\r\n```\r\n```javascript\r\n        beforeDestroy() {\r\n            if(this.$store.state.test)this.$store.unregisterModule('test');\r\n        }\r\n```\r\nAs you can see i wanna register module only if there any response, but it should be registered before component created, but we can't set some variable to true, for making it inside created/beforeCreated(we can use only some global var, but it's crappy way).\r\n\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2917","RelatedDescription":"Closed issue \"registerModule and beforeRouteEnter fetching data need an example\" (#2917)"},{"Id":"488357147","IsPullRequest":false,"CreatedAt":"2019-09-03T06:49:48","Actor":"hezhongfeng","Number":"2918","RawContent":null,"Title":"Allow add query in beforeEach or some new API?","State":"closed","Body":"### What problem does this feature solve?\r\ncode like this\r\n```\r\nfunction getKey(src) {\r\n    return src.replace(/[xy]/g, function (c) {\r\n        let r = (Math.random() * 16) | 0;\r\n        let v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n        return v.toString(16);\r\n    });\r\n}\r\nrouter.beforeEach((to, from, next) => {\r\n    if (!to.query['test']) {\r\n        to.query['test'] = getKey('xxxxxxxx');\r\n        next({\r\n            path: to.path,\r\n            query: to.query\r\n        });\r\n    } else {\r\n       // here will console `Uncaught (in promise) undefined`\r\n        next();\r\n    }\r\n});\r\n```\r\nI want to add some query in beforeEach, but the query is read only in beforeEach ,So I must push the same path twice，`vue-router(3.1.x)` will appear Uncaught (in promise)  in console.\r\n\r\n### What does the proposed API look like?\r\nSome interceptors could operate query before beforeEach?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2918","RelatedDescription":"Closed issue \"Allow add query in beforeEach or some new API?\" (#2918)"},{"Id":"488103841","IsPullRequest":false,"CreatedAt":"2019-09-02T09:53:51","Actor":"JFGHT","Number":"2916","RawContent":null,"Title":"Error at redirecting throught beforeEach","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://github.com/JFGHT/vue-router-error-repro](https://github.com/JFGHT/vue-router-error-repro)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1.- Push to any route (`this.$router.push('/test');`).\r\n2.- Redirect to same router but with extra param.\r\n```js\r\nif (to.fullPath === '/test') {\r\n  next('/en/test');\r\n}\r\n```\r\n\r\nroute:\r\n```js\r\n{\r\n  path: '/:lang?/test',\r\n  name: 'test',\r\n  component: () => import(/* webpackChunkName: \"test\" */ './views/Test.vue'),\r\n},\r\n```\r\n\r\n### What is expected?\r\nCorrect redirect.\r\n\r\n### What is actually happening?\r\nIt's redirecting but it's displaying an error:\r\n`vue-router.esm.js?8c4f:2051 Uncaught (in promise) undefined`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2916","RelatedDescription":"Closed issue \"Error at redirecting throught beforeEach\" (#2916)"},{"Id":"488027396","IsPullRequest":false,"CreatedAt":"2019-09-02T07:39:45","Actor":"farazshuja","Number":"2915","RawContent":null,"Title":"Switching to a nested route is automatically running the last commit event from parent’s store","State":"closed","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-c2gtb](https://codesandbox.io/s/vue-template-c2gtb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-c2gtb\r\n2. Click on ‘Go to Page with nested router’ link\r\n3. Click on ‘commit event’, it will show an alert box\r\n4. Now change the nested route by clicking ‘change nested route to reporting’\r\n\r\n### What is expected?\r\nRoute changed to reporting without showing the ‘hello’ alert box.\r\n\r\n### What is actually happening?\r\nIts showing the ‘hello’ alert box again.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2915","RelatedDescription":"Closed issue \"Switching to a nested route is automatically running the last commit event from parent’s store\" (#2915)"},{"Id":"484440740","IsPullRequest":true,"CreatedAt":"2019-09-02T07:29:59","Actor":"Jinjiang","Number":"2903","RawContent":null,"Title":"docs(zh): updated","State":"closed","Body":"Ref: https://github.com/vuejs/vue-router/compare/e05631d...e0d4dc4\r\n/ping @Justineo \r\nThanks.","Url":"https://github.com/vuejs/vue-router/pull/2903","RelatedDescription":"Closed or merged PR \"docs(zh): updated\" (#2903)"},{"Id":"487331048","IsPullRequest":false,"CreatedAt":"2019-08-30T07:41:26","Actor":"matthieudou","Number":"2914","RawContent":null,"Title":"<router-link> not working with named route and hash","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-routing-example-bcy1y](https://codesandbox.io/s/vue-routing-example-bcy1y)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nswitch between pages and check the hash and the url\r\n\r\n### What is expected?\r\n`:to=\"{name: 'hello', hash: 'test'}\" => /hello#test`\r\n\r\n### What is actually happening?\r\n`:to=\"{name: 'hello', hash: 'test'}\" => /hellotest`\r\n\r\n---\r\nHash is working fine when using path so it's definitely not a major or blocking problem but I personally use named route whenever I can and also with nuxt-i18n and the hash is just appended without the # to the route.\r\n\r\nThanks for the awesome work.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2914","RelatedDescription":"Closed issue \"<router-link> not working with named route and hash\" (#2914)"},{"Id":"486280141","IsPullRequest":false,"CreatedAt":"2019-08-29T00:19:11","Actor":"manniL","Number":"2913","RawContent":null,"Title":"Missing Trailing slash for named routes in strict mode","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-router-e0o5t](https://codesandbox.io/s/vue-router-e0o5t)\r\n\r\n\r\n![about](https://user-images.githubusercontent.com/640208/63846416-0d76ba80-c98c-11e9-8824-028dda91f0ea.gif)\r\n\r\n\r\n### Steps to reproduce\r\n1. Run the CodeSandbox\r\n2. Double-check the router config that the route path is `/about/` and `strict` is enabled\r\n\r\n`  { path: '/about/', component: About, pathToRegexOptions: { strict: true } },`\r\n\r\n3. Click the \"About\" link in the navbar.\r\n\r\n### What is expected?\r\nTo navigate to `/about/`\r\n\r\n### What is actually happening?\r\nThe route has no trailing slash (/about)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2913","RelatedDescription":"Closed issue \"Missing Trailing slash for named routes in strict mode\" (#2913)"},{"Id":"485701952","IsPullRequest":false,"CreatedAt":"2019-08-27T09:44:31","Actor":"rwaltenberg","Number":"2912","RawContent":null,"Title":"It would be nice to have an abstract parent route","State":"closed","Body":"### What problem does this feature solve?\r\nIt will allow to have a parent route that cannot be accessed directly. It will serve only as a nest do child routes that share the same structure with different content (like a config page with many config category tabs)\r\n\r\n### What does the proposed API look like?\r\nBy adding an `abstract` property to the route config, that route would not be accessible directly. Instead, it would redirect to a children with (maybe) a `default` property set.\r\n\r\ne.g\r\n```javascript\r\nexport const configs = [\r\n  {\r\n    name: 'Config',\r\n    path: '/config',\r\n    component: ConfigWrapper,\r\n    abstract: true,\r\n    children: [\r\n      {\r\n        name: 'GeneralConfig',\r\n        path: 'general',\r\n        component: GeneralConfig,\r\n        default: true\r\n      },\r\n      {\r\n        name: 'MerchantConfig',\r\n        path: 'merchant',\r\n        component: MerchantConfig\r\n      },\r\n      {\r\n        name: 'AddressConfig',\r\n        path: 'address',\r\n        component: AddressConfig\r\n      },\r\n      {\r\n        name: 'SocialConfig',\r\n        path: 'social',\r\n        component: SocialConfig\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2912","RelatedDescription":"Closed issue \"It would be nice to have an abstract parent route\" (#2912)"},{"Id":"485612399","IsPullRequest":false,"CreatedAt":"2019-08-27T07:16:30","Actor":"hezhongfeng","Number":"2911","RawContent":null,"Title":"beforeEach next will expose `Uncaught (in promise) undefined` in the console","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[http://jsrun.pro/cdbKp/edit](http://jsrun.pro/cdbKp/edit)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. I want to add some query in beforeEach\r\n2. I use next\r\n```\r\n        next({\r\n            path: to.path,\r\n            query: to.query\r\n        });\r\n```\r\n3. then enter beforeEach again\r\n4. then next() will  `Uncaught (in promise) undefined` in the console\r\n\r\n### What is expected?\r\nno error\r\n\r\n### What is actually happening?\r\n`Uncaught (in promise) undefined` in the console\r\n\r\n---\r\nHow to avoid such error？\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2911","RelatedDescription":"Closed issue \"beforeEach next will expose `Uncaught (in promise) undefined` in the console\" (#2911)"},{"Id":"485143477","IsPullRequest":false,"CreatedAt":"2019-08-26T09:41:46","Actor":"FoxDaxian","Number":"2910","RawContent":null,"Title":"router-view do not return vnode but returned other","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\nsorry, this options could Meet my needs.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nin the case of node ssr, i have codes below:\r\n\r\nrouter.js\r\n```javascript\r\nimport Vue from 'vue';\r\nimport Router from 'vue-router/dist/vue-router.common';\r\n\r\nVue.use(Router);\r\n\r\nconst Foo = {template: '<div>foo</div>'};\r\n\r\nexport function createRouter() {\r\n    const router = new Router({\r\n        mode: 'history',\r\n        base: '/demopage',\r\n        routes: [\r\n            {\r\n                path: '/home/test',\r\n                component: Foo\r\n            }\r\n        ]\r\n    });\r\n    return router;\r\n}\r\n```\r\nindex.js\r\n\r\n```javascript\r\nimport index from './app';\r\nimport Vue from 'vue';\r\nimport {createRouter} from './router';\r\n\r\nconst createApp = () => {\r\n    const router = createRouter();\r\n    const app = new Vue({\r\n        render: h => h(index),\r\n        router\r\n    });\r\n    \r\n    return {app, router}\r\n};\r\n\r\ncreateApp().app.$mount('#app');\r\nexport default createApp;\r\n```\r\n\r\napp.js\r\n```javascript\r\n\r\nexport default {\r\n    methods: {\r\n        click() {\r\n            this.$router.push('/home/test');\r\n        }\r\n    },\r\n    render() {\r\n        return (\r\n            <div id='app'>\r\n                <div class='routerviewwrap'>\r\n                    <router-view />\r\n                </div>\r\n                <button onClick={this.click}>jump</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\n```\r\n\r\n### What is expected?\r\nwhen click button, view should be show 'foo' in the routerviewwrap element, but not.\r\n\r\n### What is actually happening?\r\nwhen click button, view show html comment 'function(t,n,r,o){return Le(e,t,n,r,o,!0)}' in the routerviewwrap element\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2910","RelatedDescription":"Closed issue \"router-view do not return vnode but returned other\" (#2910)"},{"Id":"484894064","IsPullRequest":false,"CreatedAt":"2019-08-25T19:09:13","Actor":"nvrnight","Number":"2909","RawContent":null,"Title":"Sub-component not re-rendering unless route is changed","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/buot0hpe/2/](https://jsfiddle.net/buot0hpe/2/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClick on Foo to activate the /foo route. Click on the button however many times as you want to, then click on bar, then click on foo again.\r\n\r\n### What is expected?\r\nButton counter to re-render the correct number when clicked\r\n\r\n### What is actually happening?\r\nButton is not being re-rendered until the route changes\r\n\r\n---\r\nI suspect I'm probably doing something wrong here, but I've been trying to figure it out for a long time now and haven't gotten anywhere far. The jist of the scenario I'm trying for is that my routing components will represent pages which will be utilizing other components in its own template that I've built. This approach works fine without the routing involved: https://jsfiddle.net/472hxfz6/ and as a subcomponent: https://jsfiddle.net/7mhz348n/\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2909","RelatedDescription":"Closed issue \"Sub-component not re-rendering unless route is changed\" (#2909)"},{"Id":"484880517","IsPullRequest":false,"CreatedAt":"2019-08-25T19:06:22","Actor":"deckar01-bot","Number":"2908","RawContent":null,"Title":"Intermediate Routes Without Components Fail Silently","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/83t0qfhk/1/](https://jsfiddle.net/83t0qfhk/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click the \"foo\" link\r\n\r\n### What is expected?\r\nI expected the nested route's component to be rendered. When that expectation failed I opened the developer console and expected an error or a warning.\r\n\r\n### What is actually happening?\r\nThe parent has no component so nothing renders in the router view, which terminates rendering before the child component can be rendered. The router-view does not produce a console error or warning when it has been included in the template even though it has not been provided a component to render by the router.\r\n\r\n---\r\nThis issue has a lot of overlap with #2105, but this issue is focused on the developer experience rather than adding functionality to support the desired syntax. There are reasonable workarounds proposed in #2105, but they don't address the fact that developers who fall into this pattern have to spend time and effort debugging this undefined behavior due to the lack of feedback from the library. This deviates from the expectations established by the useful console warnings provided when using named routes incorrectly.\r\n\r\nSome solutions to this problem that were not explored in #2105 include:\r\n\r\n- Warning about router views with no component in the console\r\n- Adding more explicit requirements to the documentation. All router views must specify a component containing a router view to propagate rendering to child route components\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2908","RelatedDescription":"Closed issue \"Intermediate Routes Without Components Fail Silently\" (#2908)"},{"Id":"484813818","IsPullRequest":false,"CreatedAt":"2019-08-24T12:54:04","Actor":"quentinw-roam","Number":"2907","RawContent":null,"Title":"New string query items not added to the path with $router.push","State":"closed","Body":"<img width=\"1275\" alt=\"Screenshot 2019-08-24 at 13 27 41\" src=\"https://user-images.githubusercontent.com/44769807/63637589-1b6fc700-c67e-11e9-921a-24e942f79584.png\">\r\n\r\n### Version\r\n3.0.6\r\n\r\n### Reproduction link\r\n\r\nThe console log attached makes the error immediately obvious. The 3rd array item should be in the url, but is missing.\r\n\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create an array of `bedroom_count` values that can be any or all of the following values [1,2,3,4]\r\n2. Use $router.push to send through an array of bedroom_count options. e.g. [1,2]\r\n3. Now use $router.push to send through a new array of bedroom_count options e.g [1,2,3]\r\n4. The router will abort without updating the url with the new string queries\r\n\r\n### What is expected?\r\nString queries variables should match the array items selected\r\n\r\nThe first push should update the URL to:\r\n`?bedroom_counts=1&bedroom_counts=2`\r\n\r\nThe second push should update the URL to:\r\n`?bedroom_counts=1&bedroom_counts=2&bedroom_counts=3`\r\n\r\n### What is actually happening?\r\n`$router.push` aborts without adding new values to the URL.\r\n\r\nThe second push remains the same\r\n`?bedroom_counts=1&bedroom_counts=2`\r\n\r\nHowever there is now a new value in the array of `bedroom_counts` in `$route.query` has been updated.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2907","RelatedDescription":"Closed issue \"New string query items not added to the path with $router.push\" (#2907)"},{"Id":"484725291","IsPullRequest":true,"CreatedAt":"2019-08-24T11:23:53","Actor":"deckar01","Number":"2905","RawContent":null,"Title":"feat: add a default component for nested routes","State":"closed","Body":"Fixes #2105\r\n\r\nAllows nested child routes to render inside routes without a component. Previously this prevented the child route's component from rendering without any warning. Now the parent's component will default to a `PassThrough` component that provides the `<router-view>` the child needs to render in.","Url":"https://github.com/vuejs/vue-router/pull/2905","RelatedDescription":"Closed or merged PR \"feat: add a default component for nested routes\" (#2905)"},{"Id":"484732006","IsPullRequest":false,"CreatedAt":"2019-08-24T11:21:05","Actor":"mchagas90","Number":"2906","RawContent":null,"Title":"avoid router.push encoding characters","State":"closed","Body":"### What problem does this feature solve?\r\nrouter.push({query:{value: my query}})\r\n\r\nurl in the browser stays like: myurl?value=my%2Bquery\r\n\r\nbut the desired was: myurl?value=my+query ( keep the plus sign)\r\n\r\n### What does the proposed API look like?\r\n.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2906","RelatedDescription":"Closed issue \"avoid router.push encoding characters\" (#2906)"},{"Id":"484511802","IsPullRequest":false,"CreatedAt":"2019-08-23T12:50:31","Actor":"BonBonSlick","Number":"2904","RawContent":null,"Title":"Refused to execute script from site.com/6.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.","State":"closed","Body":"### Version\r\n3.1.0\r\n \r\n### What is expected?\r\nSite is working \r\n\r\n### What is actually happening?\r\nErrors on windows chrome. This is a bug is only for   Chrome 76 on Windows 10. Might be webpack related or something else.\r\n\r\n---\r\n```\r\nsite.tv/:1 Refused to execute script from 'https://site.tv/6.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.\r\nvue-router.esm.js:1905 ChunkLoadError: Loading chunk 6 failed.\r\n(error: https://site.tv/6.js)\r\n    at Function.requireEnsure [as e] (https://site.tv/main.js:812:26)\r\n    at Function.fn.e (https://site.tv/main.js:156:40)\r\n    at component (https://site.tv/main.js:9589:36)\r\n    at https://site.tv/main.js:7654:17\r\n    at https://site.tv/main.js:7681:66\r\n    at Array.map (<anonymous>)\r\n    at https://site.tv/main.js:7681:38\r\n    at Array.map (<anonymous>)\r\n    at flatMapComponents (https://site.tv/main.js:7680:26)\r\n    at https://site.tv/main.js:7616:5\r\nabort @ vue-router.esm.js:1905\r\n(anonymous) @ vue-router.esm.js:1947\r\n(anonymous) @ vue-router.esm.js:1768\r\n(anonymous) @ vue-router.esm.js:1833\r\nPromise.then (async)\r\n(anonymous) @ vue-router.esm.js:1780\r\n(anonymous) @ vue-router.esm.js:1801\r\n(anonymous) @ vue-router.esm.js:1801\r\nflatMapComponents @ vue-router.esm.js:1800\r\n(anonymous) @ vue-router.esm.js:1736\r\niterator @ vue-router.esm.js:1943\r\nstep @ vue-router.esm.js:1717\r\nstep @ vue-router.esm.js:1721\r\n(anonymous) @ vue-router.esm.js:1718\r\n(anonymous) @ vue-router.esm.js:1964\r\n(anonymous) @ index.js:43\r\niterator @ vue-router.esm.js:1943\r\nstep @ vue-router.esm.js:1717\r\nrunQueue @ vue-router.esm.js:1725\r\nconfirmTransition @ vue-router.esm.js:1972\r\ntransitionTo @ vue-router.esm.js:1874\r\ninit @ vue-router.esm.js:2494\r\nbeforeCreate @ vue-router.esm.js:540\r\n_t @ vue.min.js:6\r\nhn._init @ vue.min.js:6\r\nhn @ vue.min.js:6\r\n(anonymous) @ app.js:12\r\n__webpack_require__ @ bootstrap:769\r\nfn @ bootstrap:129\r\n(anonymous) @ web.dom.iterable.js:19\r\n__webpack_require__ @ bootstrap:769\r\n(anonymous) @ bootstrap:907\r\n(anonymous) @ bootstrap:907\r\nDevTools failed to parse SourceMap: https://site.tv/5.js.map\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2904","RelatedDescription":"Closed issue \"Refused to execute script from site.com/6.js' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.\" (#2904)"},{"Id":"484282476","IsPullRequest":false,"CreatedAt":"2019-08-23T01:11:17","Actor":"Aqincheng","Number":"2902","RawContent":null,"Title":"router-link-active 点击之后就类名消失了","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2902","RelatedDescription":"Closed issue \"router-link-active 点击之后就类名消失了\" (#2902)"},{"Id":"484207362","IsPullRequest":false,"CreatedAt":"2019-08-22T20:48:38","Actor":"vesper8","Number":"2901","RawContent":null,"Title":"add ability to provide http response code (301 permanent redirect) for the purpose of SEO","State":"closed","Body":"### What problem does this feature solve?\r\nI am upgrading an old website with 10s of thousands of links to a vue pwa. I have new sitemaps generated with all the new link structure and I have a set of redirect routes/components that correctly handle all the redirects from the old links to the new ones\r\n\r\nI'm not using SSR. I'm using vue-router history mode\r\n\r\nI would like those redirects (Even though they are pwa redirects) to \"teach\" the search engines that these links have moved to a new link. Normally you do that by issuing a 301 permanent redirect.\r\n\r\nI'm not sure how I can go about doing this with a pwa or if it's even possible\r\n\r\nWould love to know : ) thanks\r\n\r\n### What does the proposed API look like?\r\nThe ability to I guess something like this\r\n```\r\nrouter.push({ path: redirectUrl, code: 301 })\r\n```\r\n\r\nOr something of the likes\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2901","RelatedDescription":"Closed issue \"add ability to provide http response code (301 permanent redirect) for the purpose of SEO\" (#2901)"},{"Id":"483921722","IsPullRequest":false,"CreatedAt":"2019-08-22T11:11:30","Actor":"Aqincheng","Number":"2900","RawContent":null,"Title":".router-link-active点击过后类名立马就消失了。怎么回事","State":"closed","Body":"<template>\r\n  <el-aside class=\"bighe\">\r\n    <dl class=\"dataa\">\r\n      <dt class=\"scrat\" v-text=\"Catebag.name\"></dt>\r\n      <dd\r\n        v-for=\"(v, i) in Course\"\r\n        :key=\"`1listhe${i}`\"\r\n        :class=\"getuserUserCourse.find(user=> user.course_ID ==v.ID )?null:bgddis\"\r\n      >\r\n        <router-link\r\n          tag=\"li\"\r\n          :to=\"{ name: v.iframeid?'scratch':'sections', params:{ cid: v.ID, num: 1 } }\"\r\n          v-text=\"v.name\"\r\n          v-if=\"getuserUserCourse.find(user=> user.course_ID ==v.ID )\"\r\n        ></router-link>\r\n        <el-button v-else type=\"text\" disabled v-text=\"v.name\"></el-button>\r\n      </dd>\r\n    </dl>\r\n  </el-aside>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport _ from \"underscore\";\r\nexport default {\r\n  name: \"listhe\",\r\n  props: [\"cid\"],\r\n  data() {\r\n    return {\r\n      Catebag: {},\r\n      Course: [],\r\n      bgddis: \"bgddis\"\r\n    };\r\n  },\r\n  watch: {\r\n    cid() {\r\n      this.start();\r\n    }\r\n  },\r\n  computed: mapGetters([\r\n    \"getCatebag\",\r\n    \"getCourse\",\r\n    \"getuserUserCourse\",\r\n    \"getCoursecatebag\"\r\n  ]),\r\n  mounted() {\r\n    this.start();\r\n  },\r\n  methods: {\r\n    start() {\r\n      // 临时处理\r\n\r\n      const data = this.getCoursecatebag.find(v => v.cid == this.cid);\r\n      const data2 = _.filter(\r\n        this.getCoursecatebag,\r\n        v => v.catebagid == data.catebagid\r\n      );\r\n      this.Course = _.filter(this.getCourse, v => {\r\n        return data2.find(vo => v.ID == vo.cid);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.bighe {\r\n  background: #f5f7fa;\r\n}\r\n.dataa {\r\n  width: 240px;\r\n  margin-bottom: 0px;\r\n  margin-left: 32px;\r\n}\r\n.scrat {\r\n  margin-bottom: 38px;\r\n  height: 17px;\r\n  font-family: MicrosoftYaHei;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 1px;\r\n  color: #444444;\r\n}\r\ndd {\r\n  font-family: MicrosoftYaHei;\r\n  font-size: 13px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  letter-spacing: 1px;\r\n}\r\ndd .router-link-active {\r\n  color: rgb(47, 129, 241);\r\n  \r\n}\r\ndd a {\r\n  width: 175px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  display: inline-block;\r\n  color: #444444;\r\n  \r\n}\r\n.bighe .el-button {\r\n  width: 175px;\r\n  padding: 0;\r\n  border-width: 0px;\r\n  text-align: left;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  display: inline-block;\r\n}\r\n.bgddis {\r\n  background-image: url(https://hterobot-kimage.oss-cn-qingdao.aliyuncs.com/images/%E6%9C%AA%E8%A7%A3%E9%94%81.png);\r\n  background-position-y: top;\r\n  background-position-x: right;\r\n  background-repeat: no-repeat;\r\n}\r\n</style>","Url":"https://github.com/vuejs/vue-router/issues/2900","RelatedDescription":"Closed issue \".router-link-active点击过后类名立马就消失了。怎么回事\" (#2900)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"493255066","IsPullRequest":false,"CreatedAt":"2019-09-13T15:47:35","Actor":"berniegp","Number":"1616","RawContent":null,"Title":"$router.push() with redirect in route's beforeEnter hook causes uncaught promise rejection","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/asu3qnry/](https://jsfiddle.net/asu3qnry/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nTo trigger the uncaught promise rejection, click on \"/home\" and then the button.\r\n\r\n### What is expected?\r\nNo error in console\r\n\r\n### What is actually happening?\r\nConsole reports `Uncaught (in promise) undefined`\r\n\r\n---\r\nUsing a `router-link` instead of the initial `$router.push()` call removes the error.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1616","RelatedDescription":"Closed issue \"$router.push() with redirect in route's beforeEnter hook causes uncaught promise rejection\" (#1616)"},{"Id":"490751423","IsPullRequest":false,"CreatedAt":"2019-09-08T12:58:58","Actor":"Abhith","Number":"1615","RawContent":null,"Title":"Docs Website : Add a favicon","State":"open","Body":"### What problem does this feature solve?\r\nIn case if the user opened so many browser tabs including other websites without a favicon, it's difficult to identify the docs tab from them.\r\n\r\n### What does the proposed API look like?\r\nAdd a favicon.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1615","RelatedDescription":"Open issue \"Docs Website : Add a favicon\" (#1615)"},{"Id":"490547764","IsPullRequest":true,"CreatedAt":"2019-09-06T22:33:29","Actor":"Jinjiang","Number":"1614","RawContent":null,"Title":"docs(zh): updated","State":"open","Body":"https://github.com/vuejs/vuex/compare/91f3e69...a5dd20c /ping @justineo\r\n","Url":"https://github.com/vuejs/vuex/pull/1614","RelatedDescription":"Open PR \"docs(zh): updated\" (#1614)"},{"Id":"490394247","IsPullRequest":true,"CreatedAt":"2019-09-06T15:38:48","Actor":"sandofvega","Number":"1613","RawContent":null,"Title":"[docs] Flux link update","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1613","RelatedDescription":"Open PR \"[docs] Flux link update\" (#1613)"},{"Id":"488913330","IsPullRequest":true,"CreatedAt":"2019-09-04T04:16:04","Actor":"jungor","Number":"1612","RawContent":null,"Title":"docs(zh): fix typo","State":"closed","Body":"fix typo in zh docs of `modules`","Url":"https://github.com/vuejs/vuex/pull/1612","RelatedDescription":"Closed or merged PR \"docs(zh): fix typo\" (#1612)"},{"Id":"486669084","IsPullRequest":true,"CreatedAt":"2019-08-29T00:13:59","Actor":"theneverstill","Number":"1611","RawContent":null,"Title":"docs: Patch preserveState option usage","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1611","RelatedDescription":"Open PR \"docs: Patch preserveState option usage\" (#1611)"},{"Id":"484453250","IsPullRequest":false,"CreatedAt":"2019-08-23T10:19:58","Actor":"zjhILYxxq","Number":"1610","RawContent":null,"Title":"vuex3.1.1版本 unregisterModule方法存在问题","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n### 卸载一个不存在的动态module\r\n源码:\r\n```\r\nunregister (path) {\r\n    const parent = this.get(path.slice(0, -1))\r\n    const key = path[path.length - 1]\r\n    if (!parent.getChild(key).runtime) return\r\n\r\n    parent.removeChild(key)\r\n  }\r\n```\r\n\r\n  如果要 **卸载** 的 **module** 在 **父module** 中不存在， **parent.getChild(key)** 返回 **undefined** ，会抛出异常: **Cannot read property 'runtime' of undefined**。","Url":"https://github.com/vuejs/vuex/issues/1610","RelatedDescription":"Closed issue \"vuex3.1.1版本 unregisterModule方法存在问题\" (#1610)"},{"Id":"480860186","IsPullRequest":true,"CreatedAt":"2019-08-21T12:42:04","Actor":"Alex-Sokolov","Number":"1607","RawContent":null,"Title":"docs: [RU] Example syntax fixes","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1607","RelatedDescription":"Closed or merged PR \"docs: [RU] Example syntax fixes\" (#1607)"},{"Id":"482305835","IsPullRequest":true,"CreatedAt":"2019-08-19T22:51:17","Actor":"faithyang","Number":"1609","RawContent":null,"Title":"replace Array indexof with includes","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1609","RelatedDescription":"Closed or merged PR \"replace Array indexof with includes\" (#1609)"},{"Id":"480976058","IsPullRequest":true,"CreatedAt":"2019-08-15T03:17:48","Actor":"linlinyang","Number":"1608","RawContent":null,"Title":"webpack preset useBuiltIns usage toast promise error","State":"open","Body":"when we use webpack,\r\nand set babel presets property useBuiltIns is 'usage'\r\nthen the polyfill will be loaded when Promise used\r\nso this way has a bug when we webpack,if we use vuex without used Promise,always show the error: vuex requires a Promise polyfill in this browser.\r\n\r\nso I have change the validate Promise way to:\r\n```\r\n      try {\r\n        new Promise(() => {})\r\n      } catch (error) {\r\n        assert(false, `vuex requires a Promise polyfill in this browser.`)\r\n      }\r\n```","Url":"https://github.com/vuejs/vuex/pull/1608","RelatedDescription":"Open PR \"webpack preset useBuiltIns usage toast promise error\" (#1608)"},{"Id":"480736391","IsPullRequest":true,"CreatedAt":"2019-08-14T15:11:52","Actor":"owanhunte","Number":"1606","RawContent":null,"Title":"Minor typo fix for Actions docs page.","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1606","RelatedDescription":"Open PR \"Minor typo fix for Actions docs page.\" (#1606)"},{"Id":"480571064","IsPullRequest":true,"CreatedAt":"2019-08-14T09:19:15","Actor":"SergioCrisostomo","Number":"1605","RawContent":null,"Title":"Add warning when setting state of a non-existent state property name ","State":"open","Body":"This PR add the possibility to be warned in development for the problem described in 1120.\r\nIt adds a unit test for that scenario.\r\n\r\nWhile testing this I found out another unit test that needed adjustment and did that in a separate commit. \r\n\r\nFixes #1120","Url":"https://github.com/vuejs/vuex/pull/1605","RelatedDescription":"Open PR \"Add warning when setting state of a non-existent state property name \" (#1605)"},{"Id":"480455403","IsPullRequest":false,"CreatedAt":"2019-08-14T02:48:46","Actor":"Asyncinfo","Number":"1604","RawContent":null,"Title":"previous data","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1604","RelatedDescription":"Closed issue \"previous data\" (#1604)"},{"Id":"480453939","IsPullRequest":true,"CreatedAt":"2019-08-14T02:41:43","Actor":"anhmv","Number":"1603","RawContent":null,"Title":"refactor zero padding function","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1603","RelatedDescription":"Open PR \"refactor zero padding function\" (#1603)"},{"Id":"480177433","IsPullRequest":true,"CreatedAt":"2019-08-14T01:07:01","Actor":"Alex-Sokolov","Number":"1602","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1602","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#1602)"},{"Id":"479674384","IsPullRequest":true,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"1601","RawContent":null,"Title":"fix(docs): Clearify state object type","State":"closed","Body":"Clearify in the docs that Vuex state object should be a plain object that follows the same rules as `data` in a Vue instance. This addition will clarify what is \"good practise\" to use in Vuex.\r\n\r\ncloses #1587 \r\ncloses https://github.com/vuejs/vue/pull/10379","Url":"https://github.com/vuejs/vuex/pull/1601","RelatedDescription":"Closed or merged PR \"fix(docs): Clearify state object type\" (#1601)"},{"Id":"472187418","IsPullRequest":false,"CreatedAt":"2019-08-13T02:15:32","Actor":"SergioCrisostomo","Number":"1587","RawContent":null,"Title":"Storing component instances creates a circular reference loop in strict mode","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/Sergio_fiddle/zkrsa4g1/3/](https://jsfiddle.net/Sergio_fiddle/zkrsa4g1/3/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nStore a pointer to a component instance in Vuex with `strict: true`.\r\n\r\n### What is expected?\r\nNo errors. \r\n\r\n### What is actually happening?\r\n> RangeError: Maximum call stack size exceeded\r\n\r\nVuex is adding watchers to all nested properties to warn if there are non-immutable changes inside a object (because of the strict mode help warnings) and does not stop when its entering itself. \r\n\r\nIn other words: when entering a component we can re-enter the store as a component property, and in the store we have a component that has a store etc etc ... we are in a loop\r\n\r\n---\r\nI think either:\r\n - Vuex should officially discourage from saving pointers of instances of Vue components in it\r\n\r\n**or** \r\n\r\n - add a check to stop going deeper if the nested object it the Vuex instance itself\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1587","RelatedDescription":"Closed issue \"Storing component instances creates a circular reference loop in strict mode\" (#1587)"},{"Id":"478201435","IsPullRequest":true,"CreatedAt":"2019-08-08T01:00:07","Actor":"stephentian","Number":"1600","RawContent":null,"Title":"Fix: \" id='app' \"","State":"open","Body":"","Url":"https://github.com/vuejs/vuex/pull/1600","RelatedDescription":"Open PR \"Fix: \" id='app' \"\" (#1600)"},{"Id":"478068219","IsPullRequest":true,"CreatedAt":"2019-08-07T18:08:25","Actor":"SagePacheco","Number":"1599","RawContent":null,"Title":"Update modules.md","State":"open","Body":"Minor language correction.","Url":"https://github.com/vuejs/vuex/pull/1599","RelatedDescription":"Open PR \"Update modules.md\" (#1599)"},{"Id":"477476046","IsPullRequest":false,"CreatedAt":"2019-08-06T16:24:54","Actor":"aosnow","Number":"1598","RawContent":null,"Title":"ModuleCollection.getNamespace 只能取第一级 key","State":"closed","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vuex](https://new-issue.vuejs.org/?repo=vuejs/vuex)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n// 循环下去的主体是 module 没问题\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// 循环下去主体是 String，因此 module = module.getChild(key);\r\n// module 永远指向 this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace   (module.namespaced ? key   '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n`store._modules.getNamespace(['user','member'])` 将只能得到 `user/`\r\n\r\n### What is expected?\r\n`store._modules.getNamespace(['user','member'])` 应该得到 `user/member/` 的结果\r\n\r\n### What is actually happening?\r\ngetNamespace(path) 返回的结果永远只有 root.getChild(key) 的匹配结果\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1598","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace 只能取第一级 key\" (#1598)"},{"Id":"477473589","IsPullRequest":false,"CreatedAt":"2019-08-06T16:16:48","Actor":"aosnow","Number":"1597","RawContent":null,"Title":"ModuleCollection.getNamespace 只能取第一级 key","State":"closed","Body":"```\r\n// 循环下去的主体是 module 没问题\r\n  get(path) {\r\n    return path.reduce((module, key) => {\r\n      return module.getChild(key);\r\n    }, this.root);\r\n  }  \r\n\r\n// 循环下去主体是 String，因此 module = module.getChild(key);\r\n// module 永远指向 this.root\r\ngetNamespace(path) {\r\n    let module = this.root;\r\n    return path.reduce((namespace, key) => {\r\n      module = module.getChild(key);\r\n      return namespace + (module.namespaced ? key + '/' : '');\r\n    }, '');\r\n  }\r\n```\r\n\r\ngetNamespace(path) 返回的结果永远只有 root.getChild(key) 的匹配结果\r\n ","Url":"https://github.com/vuejs/vuex/issues/1597","RelatedDescription":"Closed issue \"ModuleCollection.getNamespace 只能取第一级 key\" (#1597)"},{"Id":"477384943","IsPullRequest":false,"CreatedAt":"2019-08-06T13:34:41","Actor":"cherenkor","Number":"1596","RawContent":null,"Title":"Improve modules data map import","State":"open","Body":"### What problem does this feature solve?\r\nRepeating code, Safe import, More convenient way to import data\r\n\r\n### What does the proposed API look like?\r\nHi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: ```state.headers.username```\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n```\r\n...mapState({ username: 'collection-data/headers.username' })\r\n```\r\n\r\nWhat do you think about it?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1596","RelatedDescription":"Open issue \"Improve modules data map import\" (#1596)"},{"Id":"477382886","IsPullRequest":false,"CreatedAt":"2019-08-06T13:30:54","Actor":"cherenkor","Number":"1595","RawContent":null,"Title":"Improve modules data import","State":"closed","Body":"Hi, I've been working with Vuex recently and got a task where I would need to get a property of the object from the state.\r\n\r\nLike this: `state.headers.username`\r\n\r\nWhat do you think to implement this solution for importing this property from the state (it also could be done for actions, getters, mutations):\r\n\r\n`\r\n...mapState({\r\n      rawEndingDate: 'collection-data/headers.username'\r\n    })\r\n`\r\n\r\nWhat do you think about it?","Url":"https://github.com/vuejs/vuex/issues/1595","RelatedDescription":"Closed issue \"Improve modules data import\" (#1595)"},{"Id":"477167338","IsPullRequest":true,"CreatedAt":"2019-08-06T04:47:23","Actor":"sue71","Number":"1594","RawContent":null,"Title":"fix: remove invalid typings","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1594","RelatedDescription":"Closed or merged PR \"fix: remove invalid typings\" (#1594)"},{"Id":"477163822","IsPullRequest":false,"CreatedAt":"2019-08-06T04:31:33","Actor":"farazshuja","Number":"1593","RawContent":null,"Title":"Switching to a nested route is automatically running the last commit event from parent's store","State":"open","Body":"### Version\r\n3.1.0\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-c2gtb](https://codesandbox.io/s/vue-template-c2gtb)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-c2gtb\r\n2. Click on 'Go to Page with nested router' link\r\n3. Click on 'commit event', it will show an alert box\r\n4. Now change the nested route by clicking 'change nested route to reporting'\r\n\r\n### What is expected?\r\nRoute changed to reporting without showing the 'hello' alert box.\r\n\r\n### What is actually happening?\r\nIts showing the 'hello' alert box again.\r\n\r\n---\r\nOne of the releated issues\r\nhttps://github.com/vuejs/vuex/issues/1570\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1593","RelatedDescription":"Open issue \"Switching to a nested route is automatically running the last commit event from parent's store\" (#1593)"},{"Id":"476523653","IsPullRequest":false,"CreatedAt":"2019-08-04T07:21:04","Actor":"Rolanddoda","Number":"1592","RawContent":null,"Title":"mapState doesn't work with non namespaced module","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x](https://codesandbox.io/s/vuex-issue-with-mapstate-5zb3x)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the reproduction link, there is a non namespaced module with has a count in it's state and a doubleCount in it's getters.\r\n\r\n**In the HelloWorld component I am trying to use vuex helpers to access the state and the getters like:**\r\n\r\n```js\r\n...mapState(['count']),\r\n...mapGetters(['doubleCount]')\r\n```\r\n\r\n### What is expected?\r\nSince the module it's not namespaced I should be able to access the state and getters of the module with vuex helpers.\r\n\r\nBoth `mapState` and `mapGetters` should work fine.\r\n\r\n### What is actually happening?\r\nHowever, only the mapGetters helper it's working.\r\n\r\n---\r\nIn order to get the `mapState` to work I should do:\r\n\r\n```js\r\n    ...mapState({\r\n      count: state => state.myModule.count\r\n    })\r\n```\r\n\r\nHowever IMHO, the mapState should work with just a string since the module in the end it's merged with the global store.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1592","RelatedDescription":"Open issue \"mapState doesn't work with non namespaced module\" (#1592)"},{"Id":"474320880","IsPullRequest":false,"CreatedAt":"2019-07-30T01:02:13","Actor":"coreymcg","Number":"1591","RawContent":null,"Title":"Pass payload by value, not by reference","State":"open","Body":"### What problem does this feature solve?\r\nCurrently the payload passed to mutation functions is by reference, not value. This allows the mutation functions to directly update the payload data rather than the state object.\r\n\r\nAs an example see [editTodo() in the todo demo](https://github.com/vuejs/vuex/blob/91f3e69ed9e290cf91f8885c6d5ae2c97fa7ab81/examples/todomvc/store/mutations.js#L17):\r\n\r\n```javascript\r\neditTodo (state, { todo, text = todo.text, done = todo.done }) {\r\n  todo.text = text\r\n  todo.done = done\r\n}\r\n```\r\n\r\nThere are 2 downsides to this.\r\n\r\nThe first is that the function is mutating the payload and not the state. It is not clear here what is being mutated. We now need to traverse all around the app to find out.\r\n\r\nIf the payload was instead passed by value then updating the value would not actually do anything. All mutation functions would need to update the state object. This would make vuex stores more explicit and understandable as well as ensure there is a clear boundary between it and the app. \r\n\r\nThe second is that Vuex plugins cannot log the mutations to a server and replay them back later. Here is a pseudocode example:\r\n\r\n```javascript\r\n// replaying back mutation logs\r\nlet logs = await getLogsFromServer();\r\nfor (log in logs) {\r\n  // any editTodo mutations passed in below will not work\r\n  // as the mutation will update the \"log\" object instead of \r\n  // the actual todo in the state object\r\n  this.store.commit(log.type, log.payload);\r\n}\r\n```\r\n\r\nI'm working on a plugin that does this (similar to [redux-vcr](https://github.com/joshwcomeau/redux-vcr)) and it would be great if there was a systematic guarantee that it would work with all Vuex stores. \r\n\r\n### What does the proposed API look like?\r\nExample - No changes needed\r\n```javascript\r\nmutations: {\r\n  // current: n is passed by reference\r\n  increment (state, n) { \r\n    state.count  = n\r\n  }\r\n}\r\n\r\nmutations: {\r\n  // proposed: n is passed by value\r\n  increment (state, n) { \r\n    state.count  = n\r\n  }\r\n}\r\n```\r\n\r\nExample B - editTodo\r\n\r\n```javascript\r\nmutations: {\r\n  // current - can update payload\r\n  editTodo (state, { todo, text = todo.text, done = todo.done }) {\r\n    todo.text = text\r\n    todo.done = done\r\n  }\r\n}\r\n\r\nmutations: {\r\n  // proposed - with pass by value we \r\n  // must update the state object\r\n  editTodo (state, todo) {\r\n     const index = state.todos.findIndex(t => t.id === todo.id);\r\n     state.todos[index] = todo;\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1591","RelatedDescription":"Open issue \"Pass payload by value, not by reference\" (#1591)"},{"Id":"473829497","IsPullRequest":false,"CreatedAt":"2019-07-29T03:15:47","Actor":"juanzi957","Number":"1590","RawContent":null,"Title":"vuex3.1.1版本存在内存泄漏的问题","State":"open","Body":"### Version\r\n3.1.1\r\n\r\n### Reproduction link\r\n[https://forum.vuejs.org/t/vux/66236](https://forum.vuejs.org/t/vux/66236)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n最近我在用vue-cli3 vuex websocket构建一个项目，发现vuex存在内存泄漏的问题，但是不知道怎么解决，请大家帮忙看下，步骤如下：\r\n1.用vue-cli3创建一个空项目；\r\n2.服务端用node搭建一个简单的每隔50ms用websocket给客户端发消息的服务；\r\n3.客户端每次接收到服务端发送过来的数据都通过vuex来管理，每次都commit（或者dispatch我也试过，效果一样）到vuex管理去，\r\n4.运行十几分钟看不出内存泄漏的问题，运行个把小时就能看出一点，JS栈内存一直在增加，运行一晚上之后，浏览器完全崩溃了；\r\n5.这是服务端发送一个比较小的数据，发送一个很大的数据浏览器崩溃的就更快。\r\n下面是我的数据和代码：\r\n服务端发送的数据：\r\nvar abc = {\r\n‘aaa’: 111,\r\n‘aab’: 1111,\r\n‘aac’: 11111,\r\n‘aad’: 111111,\r\n‘aae’: 1111111,\r\n‘aaf’: 11111111,\r\n‘aag’: 111111111,\r\n‘aah’: 1111111111,\r\n‘aai’: 11111111111\r\n}\r\n\r\n客户端：用VUE-CLI3搭建的空项目，只修改过的Home.vue中的代码，一下代码放在mounted中：\r\nconst webSocketUrl = ‘ws://127.0.0.1:8000’\r\nconst ws = new WebSocket(webSocketUrl)\r\nconst _this = this\r\nws.onmessage = function (ev) {\r\n_this.$store.dispatch(‘setModulesRes’, JSON.parse(ev.data))\r\n}\r\n…\r\n\r\n### What is expected?\r\n不管是以多少频率每秒去更新vuex中的数据，都不应该导致内存泄漏引起浏览器奔溃的情况。\r\n\r\n### What is actually happening?\r\n不管任何时候，内存泄漏都是一个很严重的问题，当遇到需要不断的时时更新vuex中数据的项目，就不能用vue构建了。\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1590","RelatedDescription":"Open issue \"vuex3.1.1版本存在内存泄漏的问题\" (#1590)"},{"Id":"473828352","IsPullRequest":false,"CreatedAt":"2019-07-29T03:10:11","Actor":"juanzi957","Number":"1589","RawContent":null,"Title":"vuex内存泄漏的问题","State":"closed","Body":"https://forum.vuejs.org/t/vux/66236\r\n","Url":"https://github.com/vuejs/vuex/issues/1589","RelatedDescription":"Closed issue \"vuex内存泄漏的问题\" (#1589)"},{"Id":"472762082","IsPullRequest":true,"CreatedAt":"2019-07-25T09:31:31","Actor":"rummanhasnayeen","Number":"1588","RawContent":null,"Title":"intro.md translated into Bengali and added folder","State":"open","Body":"We are a team of four Junior Software Engineers from Bangladesh. Our native language is Bengali and so \r\n we would like to translate the documentation for Vuex into Bengali. \r\nWe have already translated the intro.md in this pull request. If accepted, we will carry on the work of translating the remaining parts of the documentation into Bengali.\r\nPlease review the changes as well as provide the rules and regulations for such contribution in this project.","Url":"https://github.com/vuejs/vuex/pull/1588","RelatedDescription":"Open PR \"intro.md translated into Bengali and added folder\" (#1588)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-09-16T05:30:46.7346663Z","RunDurationInMilliseconds":2065}