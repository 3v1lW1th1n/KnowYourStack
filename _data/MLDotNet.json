{"Data":{"GitHub":{"Issues":[{"Id":"544399194","IsPullRequest":false,"CreatedAt":"2020-01-01T21:12:04","Actor":"karuzzo","Number":"4619","RawContent":null,"Title":"[AutoML] the \"Label\" column was not found","State":"open","Body":"System information\r\n\r\n- **OS version/distro**: Win 10\r\n- **.NET Version (eg., dotnet --info)**: .NET Framework 4.8\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\n i use this code:\r\n`MLContext mlContext = new MLContext();\r\n            ColumnInferenceResults columnInference = mlContext.Auto().InferColumns(fname_train, labelColumnIndex: 0, hasHeader: false, separatorChar: ';') ;\r\n            TextLoader textLoader = mlContext.Data.CreateTextLoader(columnInference.TextLoaderOptions);\r\n            IDataView trainDataView = textLoader.Load(fname_train);\r\n            IDataView testDataView = textLoader.Load(fname_test);\r\n            IDataView validDataView = textLoader.Load(fname_valid);\r\n            \r\n            ColumnInformation columnInformation = columnInference.ColumnInformation;\r\n            \r\n            var experimentSettings = new MulticlassExperimentSettings();\r\n            experimentSettings.MaxExperimentTimeInSeconds = MyExperimentTime;\r\n            experimentSettings.CancellationToken = cts.Token;          \r\n            experimentSettings.OptimizingMetric = MulticlassClassificationMetric.MacroAccuracy;\r\n            experimentSettings.CacheDirectory = null;\r\n            \r\n            var progressHandler = new MulticlassExperimentProgressHandler();\r\n            progressHandler.EventUpdateMulticlassExperiment += TextBoxNewDataMulticlassExperiment;            \r\n            \r\n            ExperimentResult<MulticlassClassificationMetrics> experimentResult = mlContext.Auto()\r\n                .CreateMulticlassClassificationExperiment(experimentSettings)\r\n                .Execute(trainDataView, validDataView, columnInformation, progressHandler: progressHandler);`\r\nto generate the model successfully\r\n- **What happened?**\r\nWhen I load the model by this code\r\n`public ObservableCollection<MLmodel> MLmodels { get; set; }\r\n        private MLContext mlContext = new MLContext();\r\n        DataViewSchema modelInputSchema;\r\n\r\n        private Dictionary<string, PredictionEngine<BarLoadBinary, BarLoadBinaryPrediction>> binaryDictionary = new Dictionary<string, PredictionEngine<BarLoadBinary, BarLoadBinaryPrediction>>();\r\n        private Dictionary<string, PredictionEngine<BarLoadMulti, BarLoadMultiPrediction>> multiDictionary = new Dictionary<string, PredictionEngine<BarLoadMulti, BarLoadMultiPrediction>>();\r\n        private Dictionary<string, PredictionEngine<BarLoadRegression, BarLoadRegressionPrediction>> regressionDictionary = new Dictionary<string, PredictionEngine<BarLoadRegression, BarLoadRegressionPrediction>>();\r\n\r\n        public Listener (ObservableCollection<MLmodel> mlModels, string ip, string port)\r\n        {\r\n            MLmodels = mlModels;\r\n            IPadress = ip;\r\n            Port = port;\r\n\r\n            try\r\n            {\r\n                foreach (var model in MLmodels)\r\n                {\r\n                    ITransformer loadedModel = mlContext.Model.Load(model.FileNameModel, out DataViewSchema modelInputSchema);\r\n\r\n                    if (model.TitleModel == \"Binary Classification\")\r\n                        binaryDictionary.Add(model.PostfixModel, mlContext.Model.CreatePredictionEngine<BarLoadBinary, BarLoadBinaryPrediction>(loadedModel));\r\n                    if (model.TitleModel == \"Multi-class Classification\")\r\n                        multiDictionary.Add(model.PostfixModel, mlContext.Model.CreatePredictionEngine<BarLoadMulti, BarLoadMultiPrediction>(loadedModel));\r\n                    if (model.TitleModel == \"Regression\")\r\n                        regressionDictionary.Add(model.PostfixModel, mlContext.Model.CreatePredictionEngine<BarLoadRegression, BarLoadRegressionPrediction>(loadedModel));\r\n                }\r\n            }\r\n            catch (Exception ex) { MessageBox.Show(ex.ToString()); }\r\n\r\n            ipPoint = new IPEndPoint(IPAddress.Parse(IPadress), Convert.ToInt32(Port));\r\n            \r\n        }`\r\n, I get an error saying that the \"Label\" column was not found\r\n- **What did you expect?**\r\nI expected full application of models\r\n\r\n![issue](https://user-images.githubusercontent.com/18124355/71646139-e6821980-2cda-11ea-9804-10bf533cac4d.PNG)\r\n![issue2](https://user-images.githubusercontent.com/18124355/71646140-e6821980-2cda-11ea-8253-4e6c1307b94c.PNG)\r\n![issue3](https://user-images.githubusercontent.com/18124355/71646142-e71ab000-2cda-11ea-9e0d-2f82f948f8fe.PNG)\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4619","RelatedDescription":"Open issue \"[AutoML] the \"Label\" column was not found\" (#4619)"},{"Id":"544395631","IsPullRequest":false,"CreatedAt":"2020-01-01T20:30:41","Actor":"h0s","Number":"4618","RawContent":null,"Title":"Could not find label column 'Label'","State":"open","Body":"### System information\r\n\r\n- Microsoft.ML 1.4.0\r\n- dotnet Core 2.1\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nI'am running  a test for the full data set\r\n```\r\n            var pipeline = context.Transforms.CustomMapping<FromLabel, ToLabel>(\r\n    mapAction: (input, output) => { output.SentimentLabel = input.Sentiment == 0? \"Bad Review üò°\" : \"Good Review  üòç\"; },\r\n    contractName: \"MyLambda\")\r\n     .Append(context.Transforms.Text.FeaturizeText(\r\n        outputColumnName: \"Features\",\r\n        inputColumnName: nameof(DataInputModel.SentimentText)))\r\n    .Append(context.BinaryClassification.Trainers.SdcaLogisticRegression());\r\n\r\n            Console.WriteLine(\"Performing cross validation...\");\r\n       var res=     data.Preview();\r\n            var cvResults = context.BinaryClassification.CrossValidate(\r\n                partitions.TrainSet,\r\n               pipeline,5);\r\n```\r\n\r\n- **What happened?**\r\nAn exceptions is thrown \"Could not find label column 'Label'\"\r\n- **What did you expect?**\r\nget result of the test or a clean error message \r\n### Source code / logs\r\n\r\n```\r\nSystem.ArgumentOutOfRangeException\r\n  HResult=0x80131502\r\n  Message=Could not find label column 'Label'\r\nArg_ParamName_Name\r\n  Source=Microsoft.ML.Data\r\n  StackTrace:\r\n   at Microsoft.ML.Trainers.TrainerEstimatorBase`2.CheckInputSchema(SchemaShape inputSchema)\r\n   at Microsoft.ML.Trainers.TrainerEstimatorBase`2.GetOutputSchema(SchemaShape inputSchema)\r\n   at Microsoft.ML.Data.EstimatorChain`1.GetOutputSchema(SchemaShape inputSchema)\r\n   at Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   at Microsoft.ML.TrainCatalogBase.CrossValidateTrain(IDataView data, IEstimator`1 estimator, Int32 numFolds, String samplingKeyColumn, Nullable`1 seed)\r\n   at Microsoft.ML.BinaryClassificationCatalog.CrossValidate(IDataView data, IEstimator`1 estimator, Int32 numberOfFolds, String labelColumnName, String samplingKeyColumnName, Nullable`1 seed)\r\n   at SentimentAnalyzer.Program.Main(String[] args) in \\Program.cs:line 34\r\n```\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4618","RelatedDescription":"Open issue \"Could not find label column 'Label'\" (#4618)"},{"Id":"544382766","IsPullRequest":true,"CreatedAt":"2020-01-01T17:57:13","Actor":"MaherJendoubi","Number":"4617","RawContent":null,"Title":"Contributing: fix a typo","State":"open","Body":"## Fixing a typo:\r\n\r\n- Fix typo in the comments of Dispose methods. \r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4617","RelatedDescription":"Open PR \"Contributing: fix a typo\" (#4617)"},{"Id":"544354359","IsPullRequest":true,"CreatedAt":"2020-01-01T12:58:13","Actor":"yaeldekel","Number":"4616","RawContent":null,"Title":"Fix documentation of SvmLightLoader","State":"open","Body":"Together with PR #4614, fixes #4610 .","Url":"https://github.com/dotnet/machinelearning/pull/4616","RelatedDescription":"Open PR \"Fix documentation of SvmLightLoader\" (#4616)"},{"Id":"544351507","IsPullRequest":false,"CreatedAt":"2020-01-01T12:23:52","Actor":"yaeldekel","Number":"4615","RawContent":null,"Title":"Support saving as ONNX for ExpressionTransformer","State":"open","Body":"This is needed, as mentioned in [this comment](https://github.com/dotnet/machinelearning/pull/4548#pullrequestreview-335990337).","Url":"https://github.com/dotnet/machinelearning/issues/4615","RelatedDescription":"Open issue \"Support saving as ONNX for ExpressionTransformer\" (#4615)"},{"Id":"544347866","IsPullRequest":true,"CreatedAt":"2020-01-01T11:45:03","Actor":"yaeldekel","Number":"4614","RawContent":null,"Title":"Additional changes to ExpressionTransformer","State":"open","Body":"This PR addresses the ExpressionTransformer part of issue #4610 and also addresses some left over comments from PR #4548 .","Url":"https://github.com/dotnet/machinelearning/pull/4614","RelatedDescription":"Open PR \"Additional changes to ExpressionTransformer\" (#4614)"},{"Id":"544317108","IsPullRequest":true,"CreatedAt":"2020-01-01T06:18:41","Actor":"frank-dong-ms","Number":"4613","RawContent":null,"Title":"catch ObjectDisposedException exception in TensorFlowTransformer finalize","State":"open","Body":"from build: https://dev.azure.com/dnceng/public/_build/results?buildId=468639&view=logs&j=d1af5113-e574-5a31-f7f3-02fc40ea7b26&t=167d9e7d-b609-5b0a-7efa-d26b0dafb88f\r\n\r\nbelow unhandled exception:\r\n\r\n```\r\nUnhandled exception: System.ObjectDisposedException: Cannot access a disposed object.\r\nObject name: 'The ThreadLocal object has been disposed.'.\r\nat System.Threading.ThreadLocal`1.GetValueSlow()\r\nat Tensorflow.Graph.DisposeManagedResources()\r\nat Tensorflow.DisposableObject.internal_dispose(Boolean disposing)\r\nat Tensorflow.DisposableObject.Dispose()\r\nat Microsoft.ML.Transforms.TensorFlowTransformer.Dispose(Boolean disposing) in D:\\a\\1\\s\\src\\Microsoft.ML.TensorFlow\\TensorflowTransform.cs:line 467\r\nat Microsoft.ML.Transforms.TensorFlowTransformer.Finalize() in D:\\a\\1\\s\\src\\Microsoft.ML.TensorFlow\\TensorflowTransform.cs:line 450\r\n```\r\n\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4613","RelatedDescription":"Open PR \"catch ObjectDisposedException exception in TensorFlowTransformer finalize\" (#4613)"},{"Id":"544297345","IsPullRequest":true,"CreatedAt":"2020-01-01T01:21:22","Actor":"codemzs","Number":"4612","RawContent":null,"Title":"Release notes.","State":"closed","Body":"Release notes for 1.5.0-preview and 1.4.0.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4612","RelatedDescription":"Closed or merged PR \"Release notes.\" (#4612)"},{"Id":"544280598","IsPullRequest":false,"CreatedAt":"2019-12-31T22:21:32","Actor":"natke","Number":"4611","RawContent":null,"Title":"Broken cross references in estimator transformer docs","State":"open","Body":"See https://review.docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms.expressionestimator?view=ml-dotnet&branch=smoke-test\r\n\r\nThe xrefs should render as hyperlinks to the relevant API docs.\r\n\r\nXrefs not rendering:\r\n- <xref:Microsoft.ML.Data.ExpressionTransformer> This one might be because it is new\r\n- <xref:Microsof.ML.Data.VectorDataViewType> This one should work","Url":"https://github.com/dotnet/machinelearning/issues/4611","RelatedDescription":"Open issue \"Broken cross references in estimator transformer docs\" (#4611)"},{"Id":"544278343","IsPullRequest":false,"CreatedAt":"2019-12-31T22:02:16","Actor":"natke","Number":"4610","RawContent":null,"Title":"Move API docs for new APIs into <remarks> (rather than summary)","State":"open","Body":"Problem seen here:\r\n- See: https://review.docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms?view=ml-dotnet&branch=smoke-test \r\n- https://review.docs.microsoft.com/en-us/dotnet/api/microsoft.ml.data?view=ml-dotnet&branch=smoke-test\r\n\r\nIncludes docs for these components\r\n\r\n- https://review.docs.microsoft.com/en-us/dotnet/api/microsoft.ml.data.svmlightloader?view=ml-dotnet&branch=smoke-test\r\n- https://review.docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms.expressionestimator?view=ml-dotnet&branch=smoke-test\r\n\r\n\r\nAll of the docs are in the summary element, which renders too much information on the summary page. If we move most of it into the remarks section, then this will be fixed.\r\n\r\n<img width=\"1132\" alt=\"Screen Shot 2019-12-31 at 2 10 14 PM\" src=\"https://user-images.githubusercontent.com/3302433/71635220-80f93480-2bd7-11ea-90af-87d1fc33907b.png\">\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4610","RelatedDescription":"Open issue \"Move API docs for new APIs into <remarks> (rather than summary)\" (#4610)"},{"Id":"544064717","IsPullRequest":true,"CreatedAt":"2019-12-31T21:45:59","Actor":"frank-dong-ms","Number":"4609","RawContent":null,"Title":"fix mac os Install build dependencies error","State":"closed","Body":"error message is:\r\n\r\n==> Installing mono-libgdiplus dependency: python\r\n==> Downloading https://homebrew.bintray.com/bottles/python-3.7.6.high_sierra.bottle.tar.gz\r\n==> Downloading from https://akamai.bintray.com/85/853a5c89053fa747daf1779a515df60648b56968317aa8865dfdd058f1520bad?__gda__=exp=1577751065~hmac=55ee60182c766308e6945cb69742fe63e1a1cff345734c944bb682cf7d3900c8&response-content-disposition=attachment%3Bfilename%3D%22python-3.7.6.high_sierra.bottle.tar.gz%22&response-content-type=application%2Fgzip&requestInfo=U2FsdGVkX1-bggRq2F1shc2wtnvALSz26IT4dCWuBsB4qZLdtxnnxtoGPpDVd7Emi-5FtMSiqaK3ejwg-IICAlAi4pHk9rEOR3laR8WtsVIJyHYdS4tKW0bHAs60S-r3UYAYWwsbbDpf0a7BBxilGg&response-X-Checksum-Sha1=84747f875e642c09a209da71f5e7986d002d6b68&response-X-Checksum-Sha2=853a5c89053fa747daf1779a515df60648b56968317aa8865dfdd058f1520bad\r\n==> Pouring python-3.7.6.high_sierra.bottle.tar.gz\r\nError: The `brew link` step did not complete successfully\r\nThe formula built, but is not symlinked into /usr/local\r\nCould not symlink Frameworks/Python.framework/Headers\r\nTarget /usr/local/Frameworks/Python.framework/Headers\r\nis a symlink belonging to python@2. You can unlink it:\r\n  brew unlink python@2\r\n\r\nTo force the link and overwrite all conflicting files:\r\n  brew link --overwrite python\r\n\r\nTo list all files that would be deleted:\r\n  brew link --overwrite --dry-run python\r\n\r\nPossible conflicting files are:\r\n/usr/local/Frameworks/Python.framework/Headers -> /usr/local/Cellar/python@2/2.7.17/Frameworks/Python.framework/Headers\r\n/usr/local/Frameworks/Python.framework/Python -> /usr/local/Cellar/python@2/2.7.17/Frameworks/Python.framework/Python\r\n/usr/local/Frameworks/Python.framework/Resources -> /usr/local/Cellar/python@2/2.7.17/Frameworks/Python.framework/Resources\r\n/usr/local/Frameworks/Python.framework/Versions/Current -> /usr/local/Cellar/python@2/2.7.17/Frameworks/Python.framework/Versions/Current\r\n==> /usr/local/Cellar/python/3.7.6/bin/python3 -s setup.py --no-user-cfg install --force --verbose --install-scripts=/usr/local/Cellar/python/3.7.6/bin --install-lib=/usr/local/lib/python3.7/site-packages --single-version-externally-managed --record=installed.txt\r\n==> /usr/local/Cellar/python/3.7.6/bin/python3 -s setup.py --no-user-cfg install --force --verbose --install-scripts=/usr/local/Cellar/python/3.7.6/bin --install-lib=/usr/local/lib/python3.7/site-packages --single-version-externally-managed --record=installed.txt\r\n==> /usr/local/Cellar/python/3.7.6/bin/python3 -s setup.py --no-user-cfg install --force --verbose --install-scripts=/usr/local/Cellar/python/3.7.6/bin --install-lib=/usr/local/lib/python3.7/site-packages --single-version-externally-managed --record=installed.txt\r\n==> Caveats\r\nPython has been installed as\r\n  /usr/local/bin/python3\r\n\r\nUnversioned symlinks `python`, `python-config`, `pip` etc. pointing to\r\n`python3`, `python3-config`, `pip3` etc., respectively, have been installed into\r\n  /usr/local/opt/python/libexec/bin\r\n\r\nIf you need Homebrew's Python 2.7 run\r\n  brew install python@2\r\n\r\nYou can install Python packages with\r\n  pip3 install <package>\r\nThey will install into the site-package directory\r\n  /usr/local/lib/python3.7/site-packages\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4609","RelatedDescription":"Closed or merged PR \"fix mac os Install build dependencies error\" (#4609)"},{"Id":"544052061","IsPullRequest":true,"CreatedAt":"2019-12-31T00:37:11","Actor":"antoniovs1029","Number":"4608","RawContent":null,"Title":"Fixes #3878. About calling Fit more than once on Multiclass LightGBM trainer.","State":"open","Body":"Fixes #3878, by initializing the values of _`tlcNumClass` and `_numClass` everytime `Fit()` is called on a Multiclass LightGBM trainer. This is done under the assumption that trainers should behave as if they were stateless, and every call to `Fit()` should re-initialize those values.\r\n\r\nAs discussed offline with @yaeldekel , `_tlcNumClass` and `_numClass` hold the same value if there were no NaN labels on the dataset used for training. If there were NaN labels then `_tlcNumClass = _numClass - 1`. Mantaining both fields is necessary, because [here](https://github.com/dotnet/machinelearning/blob/aa5b3be14eeab1160dca2cc08561190141199f4f/src/Microsoft.ML.LightGbm/LightGbmMulticlassTrainer.cs#L219) NaN labels are replaced to be a new class, and then, [here](https://github.com/dotnet/machinelearning/blob/aa5b3be14eeab1160dca2cc08561190141199f4f/src/Microsoft.ML.LightGbm/LightGbmTrainerBase.cs#L620), when training the `WrappedLightGbmTraining` it is as if NaN labels were an extra class, but then [here](https://github.com/dotnet/machinelearning/blob/aa5b3be14eeab1160dca2cc08561190141199f4f/src/Microsoft.ML.LightGbm/LightGbmMulticlassTrainer.cs#L185), when creating the Predictors, only `_tlcNumClass` predictors are created. So, for example, if I have a dataset with 3 classes (0-2), but some rows have NaN values on their labels, then NaN values get converted to \"3\", `_numClass` is equal to \"4\" and `WrappedLightGbmTraining` trains as if there were truly 4 classes... but `_tlcNumClass` is equal to \"3\" and when creating the Predictors, only 3 predictors are created (one for each of the original classes ignoring the \"fake NaN class\").\r\n\r\nThe above wasn't documented in the code, but after doing some tests it seems that is how it is supposed to behave, and so I added some comments explaining this, as @yaeldekel  and I agree that the above isn't really clear directly from reading the code, and the names `_tlcNumClass` and `_numClass` are somewhat obscure.\r\n\r\nI also added a test.","Url":"https://github.com/dotnet/machinelearning/pull/4608","RelatedDescription":"Open PR \"Fixes #3878. About calling Fit more than once on Multiclass LightGBM trainer.\" (#4608)"},{"Id":"543114556","IsPullRequest":false,"CreatedAt":"2019-12-31T00:04:06","Actor":"sps014","Number":"4605","RawContent":null,"Title":"How to create NN model for NEAT in ML dot net ??","State":"closed","Body":"Happy Christmas Guys...\r\n\r\nI want to create a **Neural Net model** in ML.NET and also want to manipulate weights and biases for **NEAT(Neuro Evolution of Augmented Topologies)**. Is this possible to dot this in **_native c# only_**?\r\nIs there **any way to create Neural Nets** if not when we will get the ability to create NN in c# or there **any plan to provide any API for NN in the future**? I am really sick of Tensorflow.\r\n\r\nEnjoy your holiday guys...\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4605","RelatedDescription":"Closed issue \"How to create NN model for NEAT in ML dot net ??\" (#4605)"},{"Id":"543962130","IsPullRequest":false,"CreatedAt":"2019-12-30T17:59:54","Actor":"webtrainingroom","Number":"4607","RawContent":null,"Title":"Not finding assembly for Microsoft.ML ","State":"open","Body":"### System information\r\n\r\n- **OS version: Windows 10 (64)\r\n- **.NET Version : .Net Core 3.1\r\n\r\n### Issue\r\nI have installed ML.Net, I am trying to build a simple ML app using default template in VS 2019, \r\nAfter completing all five steps (Scenario, Data, Train, Evaluate, Code) successfully when it generate some code, I am not able to compile the code because the assembly Microsoft.ML is missing\r\nI tried to install the assembly using Nuget but not find the assembly, (though I see  ML.NET Model Builder is installed )\r\n\r\nI need Microsoft.ML assembly version 1.4.0 , but not finding any. please guide \r\n\r\n### Source code / logs\r\nPlease take a look at the attached screenshot \r\n![ml-net-not-found](https://user-images.githubusercontent.com/37655243/71594028-3090c100-2b5c-11ea-84d1-062cfe89f96a.png)\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4607","RelatedDescription":"Open issue \"Not finding assembly for Microsoft.ML \" (#4607)"},{"Id":"543562955","IsPullRequest":false,"CreatedAt":"2019-12-29T20:48:39","Actor":"lefig","Number":"4606","RawContent":null,"Title":"Q: Feature Contributions for Timeseries analysis ","State":"open","Body":"Hi there,\r\n\r\nI use the fabulous time series analysis models and would appreciate a little help to understand what support there is (if any) to understand:\r\n\r\n- Feature weights, Importance and Contributions (as with regression and classification learners)\r\n- PermutationMetrics \r\n\r\nMuch obliged\r\n\r\nFig\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4606","RelatedDescription":"Open issue \"Q: Feature Contributions for Timeseries analysis \" (#4606)"},{"Id":"542648388","IsPullRequest":true,"CreatedAt":"2019-12-26T21:56:46","Actor":"codemzs","Number":"4604","RawContent":null,"Title":"Increment build version for 1.5-preview and 0.17-preview release.","State":"closed","Body":"\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4604","RelatedDescription":"Closed or merged PR \"Increment build version for 1.5-preview and 0.17-preview release.\" (#4604)"},{"Id":"539948182","IsPullRequest":true,"CreatedAt":"2019-12-26T18:12:47","Actor":"harishsk","Number":"4593","RawContent":null,"Title":"Added onnx export status for all estimators and trainers","State":"closed","Body":"In particular, please review OnnxTransform.cs and SSaForecasting.cs.","Url":"https://github.com/dotnet/machinelearning/pull/4593","RelatedDescription":"Closed or merged PR \"Added onnx export status for all estimators and trainers\" (#4593)"},{"Id":"541953441","IsPullRequest":false,"CreatedAt":"2019-12-24T01:33:43","Actor":"solarflarefx","Number":"4603","RawContent":null,"Title":"Passing input from GPU","State":"open","Body":"I am working in a pipeline architecture where all intermediary data resides in the GPU. I am interested in passing data already in the GPU into a DL network with the output still residing in the GPU to be passed to the next element in a pipeline. Essentially I would like to pass a cuda array into the network, get an output and convert back into a cuda array. I‚Äôd like to do this without having to perform CPU/GPU copies. Is this possible at the moment?","Url":"https://github.com/dotnet/machinelearning/issues/4603","RelatedDescription":"Open issue \"Passing input from GPU\" (#4603)"},{"Id":"541926451","IsPullRequest":true,"CreatedAt":"2019-12-23T22:48:28","Actor":"frank-dong-ms","Number":"4602","RawContent":null,"Title":"Only for test - Ssaforecast issue","State":"open","Body":"\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4602","RelatedDescription":"Open PR \"Only for test - Ssaforecast issue\" (#4602)"},{"Id":"541112651","IsPullRequest":false,"CreatedAt":"2019-12-20T21:02:39","Actor":"mayoatte","Number":"4600","RawContent":null,"Title":"LightGbm in Linux Container","State":"closed","Body":"### System information\r\n\r\n- **Ubuntu*:\r\n- **.NET Core 3.0**: \r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nDeployed a .Net Core 3.0 ML.NET app to Azure Container Instances (Linux Container). This same training app was working with other trainers but fails with the LightGbmRanking trainer.\r\n\r\n- **What happened?**\r\n\r\nReceived the error below.\r\n\r\n\r\n- **What did you expect?**\r\n\r\nI expected training to complete.\r\n\r\n### Source code / logs\r\n\r\n`Unhandled exception. System.DllNotFoundException: Unable to load shared library 'lib_lightgbm' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: liblib_lightgbm: cannot open shared object file: No such file or directory\r\n   at Microsoft.ML.Trainers.LightGbm.WrappedLightGbmInterface.DatasetCreateFromSampledColumn(IntPtr sampleValuePerColumn, IntPtr sampleIndicesPerColumn, Int32 numCol, Int32[] sampleNonZeroCntPerColumn, Int32 numSampleRow, Int32 numTotalRow, String parameters, IntPtr& ret)\r\n   at Microsoft.ML.Trainers.LightGbm.Dataset..ctor(Double[][] sampleValuePerColumn, Int32[][] sampleIndicesPerColumn, Int32 numCol, Int32[] sampleNonZeroCntPerColumn, Int32 numSampleRow, Int32 numTotalRow, String param, Single[] labels, Single[] weights, Int32[] groups)\r\n   at Microsoft.ML.Trainers.LightGbm.LightGbmTrainerBase`4.CreateDatasetFromSamplingData(IChannel ch, Factory factory, Int32 numRow, String param, Single[] labels, Single[] weights, Int32[] groups, CategoricalMetaData catMetaData, Dataset& dataset)\r\n   at Microsoft.ML.Trainers.LightGbm.LightGbmTrainerBase`4.LoadTrainingData(IChannel ch, RoleMappedData trainData, CategoricalMetaData& catMetaData)\r\n   at Microsoft.ML.Trainers.LightGbm.LightGbmTrainerBase`4.TrainModelCore(TrainContext context)\r\n   at Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   at Microsoft.ML.Trainers.TrainerEstimatorBase`2.Fit(IDataView input)\r\n   at Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)`\r\n\r\n- **What have you tried?**\r\n\r\nInstalling libomp in the docker build as mentioned [here](https://github.com/dotnet/machinelearning/issues/1282)","Url":"https://github.com/dotnet/machinelearning/issues/4600","RelatedDescription":"Closed issue \"LightGbm in Linux Container\" (#4600)"},{"Id":"540768552","IsPullRequest":false,"CreatedAt":"2019-12-20T05:23:10","Actor":"jigarhshah17","Number":"4599","RawContent":null,"Title":"SEE LINK https://dotnet.microsoft.com/learn/ml-dotnet/what-is-mldotnet","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**:\r\n\r\n- **.NET Version (eg., dotnet --info)**: \r\nML.NET 1.4.0\r\n\r\n### Issue\r\nSEE LINK https://dotnet.microsoft.com/learn/ml-dotnet/what-is-mldotnet\r\n\r\nin test code below line write wrong\r\n\r\nvar predEngine = mlContext.Model.CreatePredictionEngine(model); \r\n\r\nin framework CreatePredictionEngine definition not same as above line.\r\n \r\n\r\n\r\n- **What did you do?**\r\n- **What happened?**\r\n- **What did you expect?**\r\n\r\n### Source code / logs\r\n\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4599","RelatedDescription":"Open issue \"SEE LINK https://dotnet.microsoft.com/learn/ml-dotnet/what-is-mldotnet\" (#4599)"},{"Id":"540651772","IsPullRequest":true,"CreatedAt":"2019-12-20T00:02:49","Actor":"antoniovs1029","Number":"4598","RawContent":null,"Title":"Fixes #4074. About adding a word to French stopwords","State":"open","Body":"Fixes #4074 \r\n\r\nSimply adds the word \"les\" to the French stopwords list.","Url":"https://github.com/dotnet/machinelearning/pull/4598","RelatedDescription":"Open PR \"Fixes #4074. About adding a word to French stopwords\" (#4598)"},{"Id":"540610936","IsPullRequest":true,"CreatedAt":"2019-12-19T22:26:35","Actor":"michaelgsharp","Number":"4597","RawContent":null,"Title":"Add Category Robust Scaler Featurizer","State":"open","Body":"This change adds in the RobustScaler into the new Featurizers project. It is the third of a series of PR's that will go in. The RobustScaler is implemented in native code, so this is mostly just a wrapper around that with the appropriate entrypoints for NimbusML as well.\r\n\r\nThe RobustScaler scales and centers numerical values based on the quantile range specified. ","Url":"https://github.com/dotnet/machinelearning/pull/4597","RelatedDescription":"Open PR \"Add Category Robust Scaler Featurizer\" (#4597)"},{"Id":"540527509","IsPullRequest":true,"CreatedAt":"2019-12-19T19:54:51","Actor":"KsenijaS","Number":"4596","RawContent":null,"Title":"ONNX Conversion for Hashing Transformer","State":"open","Body":"Here is the draft for Onnx Conversion for Hashing transformer.\r\nPlease not that some test will not pass because onnx only support string and uint for murmur hash3\r\nand also needs to add mask and useOrderedHashing to be compatible with ML.NET\r\nFurther more there is a bug in ORT regarding UTF 8 encoding, (they fixed it in this PR: https://github.com/microsoft/onnxruntime/pull/2697), but I think the next release is in about 2 months\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4596","RelatedDescription":"Open PR \"ONNX Conversion for Hashing Transformer\" (#4596)"},{"Id":"540149339","IsPullRequest":false,"CreatedAt":"2019-12-19T08:11:21","Actor":"smoothumut","Number":"4595","RawContent":null,"Title":"pipeline.Fit Method not responding on after 1046th row in dataset","State":"open","Body":"I have a dataset with 3000 (BrandId, price) rows. When I run sdca regression algorithm in ML.net, pipeline.Fit method get stuck, it doesnt go to the next row in code (it keeps running but with %0 cpu usage). I thought the data may have problem, then I reduced the data. But when I remove until 1046, it starts working, but when I add one more row, it stops responding. The data looks normal, nothing is abnormal in my opionion\r\nyou can find the issue in my question at stackoverflow\r\n[you can find the code and dataset in this link](https://stackoverflow.com/questions/59404619/ml-net-pipeline-fit-not-responding-after-specific-row-number-in-d)","Url":"https://github.com/dotnet/machinelearning/issues/4595","RelatedDescription":"Open issue \"pipeline.Fit Method not responding on after 1046th row in dataset\" (#4595)"},{"Id":"539949775","IsPullRequest":true,"CreatedAt":"2019-12-18T22:04:29","Actor":"michaelgsharp","Number":"4594","RawContent":null,"Title":"Add Category Imputer Featurizer","State":"open","Body":"This change adds in the CategoryImputer into the new Featurizers project. It is the second of a series of PR's that will go in. The CategoryImputer is implemented in native code, so this is mostly just a wrapper around that with the appropriate entrypoints for NimbusML as well.\r\n\r\nThe CategoryImputer imputes missing values in a column based on the most frequent value seen during training. Due to not having support for nullable types in ML.NET, this only supports Float, Double, and Strings (with empty string being treated as \"missing\").","Url":"https://github.com/dotnet/machinelearning/pull/4594","RelatedDescription":"Open PR \"Add Category Imputer Featurizer\" (#4594)"},{"Id":"539901173","IsPullRequest":true,"CreatedAt":"2019-12-18T22:02:49","Actor":"frank-dong-ms","Number":"4592","RawContent":null,"Title":"fix System.ArgumentOutOfRangeException issue in CustomStopWordsRemovingTransformer","State":"closed","Body":"fix issue #4518 \r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4592","RelatedDescription":"Closed or merged PR \"fix System.ArgumentOutOfRangeException issue in CustomStopWordsRemovingTransformer\" (#4592)"},{"Id":"539896101","IsPullRequest":true,"CreatedAt":"2019-12-18T20:06:39","Actor":"frank-dong-ms","Number":"4591","RawContent":null,"Title":"fix System.ArgumentOutOfRangeException issue in CustomStopWordsRemovingTransformer","State":"closed","Body":"fix issue #4518 ","Url":"https://github.com/dotnet/machinelearning/pull/4591","RelatedDescription":"Closed or merged PR \"fix System.ArgumentOutOfRangeException issue in CustomStopWordsRemovingTransformer\" (#4591)"},{"Id":"539857651","IsPullRequest":true,"CreatedAt":"2019-12-18T18:56:48","Actor":"harishsk","Number":"4590","RawContent":null,"Title":"Added onnx export support for SelectColumns","State":"open","Body":"Implemented ability to export ColumnSelectingEstimator to onnx.","Url":"https://github.com/dotnet/machinelearning/pull/4590","RelatedDescription":"Open PR \"Added onnx export support for SelectColumns\" (#4590)"},{"Id":"541200983","IsPullRequest":false,"CreatedAt":"2019-12-15T07:34:18","Actor":"jcmontoya","Number":"4601","RawContent":null,"Title":"Generated Model cannot be converted to ONNX","State":"open","Body":"**System Information (please complete the following information):**\r\n - Model Builder Version: 1.4.0\r\n - Visual Studio Version 2019/16.3.10\r\n\r\n**Describe the bug**\r\nI used the Model Builder to Classify basketball balls and soccer balls. It works very well. then I tried to convert the generated model to ONNX using the code bellow:\r\n`\r\nstring modelPath = AppDomain.CurrentDomain.BaseDirectory + \"MLModel.zip\";\r\n\r\nITransformer mlModel = mLContext.Model.Load(modelPath, out var modelInputSchema);\r\n\r\nIDataView dataView = mLContext.Data.LoadFromTextFile<ModelInput>(\r\n                                            path: DATA_FILEPATH,\r\n                                            hasHeader: true,\r\n                                            separatorChar: '\\t',\r\n                                            allowQuoting: true,\r\n                                            allowSparse: false);\r\n\r\nMemoryStream memoryStream = new MemoryStream();\r\n\r\n**mLContext.Model.ConvertToOnnx(mlModel, dataView, memoryStream);**\r\n\r\nbyte[] data = memoryStream.ToArray();\r\n\r\nusing (FileStream fileStream = File.Create(@\"C:\\temp\\SportsBall.onnx\")) {\r\n       fileStream.Write(data, 0, data.Length);\r\n}\r\n`\r\nIn the Bold line I get the following error:\r\n\r\nSystem.InvalidOperationException: 'The targeted pipeline can not be fully converted into a well-defined ONNX model. Please check if all steps in that pipeline are convertible to ONNX and all necessary variables are not dropped (via command line arguments).'\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create a simple model \r\n2. Convert to ONNX model with provided code\r\n3. See Error\r\n\r\n**Expected behavior**\r\nThe new ONNX model should be generated in the path:\r\nC:\\temp\\SportsBall.onnx\r\n\r\n**Screenshots**\r\nNA\r\n\r\n**Additional context**\r\nNA\r\n","Url":"https://github.com/dotnet/machinelearning/issues/4601","RelatedDescription":"Open issue \"Generated Model cannot be converted to ONNX\" (#4601)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-01-02T05:30:43.724859Z","RunDurationInMilliseconds":984}