{"Data":{"Angular-Issues":{"Issues":[{"Id":"575933513","IsPullRequest":true,"CreatedAt":"2020-03-05T01:38:02","Actor":"alxhub","Number":"35864","RawContent":null,"Title":"build: typescript 3.8 support","State":"open","Body":"This commit adds support in the Angular monorepo and in the Angular\r\ncompiler(s) for TypeScript 3.8. All packages can now compile with\r\nTS 3.8.\r\n\r\nFor most of the repo, only a handful few typings adjustments were needed.\r\n\r\nFor compiler-cli and schematics (which use the TypeScript AST) a major\r\nbreaking change was the introduction of the export form:\r\n\r\n```typescript\r\nexport * as foo from 'bar';\r\n```\r\n\r\nThis is a `ts.NamespaceExport`, and the `exportClause` of a\r\n`ts.ExportDeclaration` can now take this type as well as `ts.NamedExports`.\r\nThis broke a lot of places where `exportClause` was assumed to be\r\n`ts.NamedExports`.\r\n\r\nFor the most part these breakages were in cases where it is not necessary\r\nto handle the new `ts.NamedExports` anyway. ngtsc's design uses the\r\n`ts.TypeChecker` APIs to understand syntax and so automatically supports the\r\nnew form of exports.\r\n\r\nThe View Engine compiler on the other hand extracts TS structures into\r\nmetadata.json files, and that format was not designed for namespaced\r\nexports. As a result it will take a nontrivial amount of work if we want to\r\nsupport such exports in View Engine. For now, these new exports are not\r\naccounted for in metadata.json, and so using them in \"folded\" Angular\r\nexpressions will result in errors (probably claiming that the referenced\r\nexported namespace doesn't exist).\r\n\r\nCare was taken to only use TS APIs which are present in 3.7/3.6, as Angular\r\nneeds to remain compatible with these for the time being.\r\n\r\nThis commit does not update angular.io.","Url":"https://github.com/angular/angular/pull/35864","RelatedDescription":"Open PR \"build: typescript 3.8 support\" (#35864)"},{"Id":"575845169","IsPullRequest":false,"CreatedAt":"2020-03-04T22:42:08","Actor":"imnickvaughn","Number":"35863","RawContent":null,"Title":"Allow programmatic setting of an elements pseudo css-class, like :before","State":"open","Body":"# 🚀 feature request\r\n\r\n### Relevant Package\r\nangular/common\r\n[NgStyle](https://angular.io/api/common/NgStyle)\r\n\r\n\r\n### Description.\r\nThe feature would allow programmatic SETting of an elements pseudo-css-class, like :before.\r\n\r\ncomponent:\r\n```@Input fontSize = 20px ```\r\n\r\ntemplate:\r\n```<div  [ngStyle:before]=\"['font-size.px': fontSize}]\">```\r\n\r\n### Alternatives\r\nI've considered data attributes but they arent allowed in Angular...\r\n\r\nComponent:\r\n```  dataMagIconSize = \"100px;\"```\r\n\r\nTemplate:\r\n```<i class=\"dx-icon-search\" data-mag-icon-size=\"{{dataMagIcon}}\"></i>```\r\n\r\nCss\r\n```i[data-mag-icon-size] {\r\n    font-size: attr(data-tool-tip);\r\n}\r\n.dx-icon-search:before {\r\n    opacity: .5;\r\n    font-size: 20px;\r\n}```\r\n","Url":"https://github.com/angular/angular/issues/35863","RelatedDescription":"Open issue \"Allow programmatic setting of an elements pseudo css-class, like :before\" (#35863)"},{"Id":"575836029","IsPullRequest":true,"CreatedAt":"2020-03-04T22:29:00","Actor":"josephperrott","Number":"35862","RawContent":null,"Title":"build: create dev-infra-private npm package","State":"open","Body":"Creates the scaffolding for an @angular/dev-infra-private package\r\nwhich will not be published to npm but will be pushed to\r\nhttps://github.com/angular/dev-infra-private-builds repo for each\r\ncommit to master.\r\n\r\nThe contents of this npm package will then be depended on via\r\npackage.json dependency for angular/angular angular/angular-cli and\r\nangular/components.\r\n","Url":"https://github.com/angular/angular/pull/35862","RelatedDescription":"Open PR \"build: create dev-infra-private npm package\" (#35862)"},{"Id":"575614402","IsPullRequest":true,"CreatedAt":"2020-03-04T22:24:45","Actor":"josephperrott","Number":"35856","RawContent":null,"Title":"build: create angular-internal-dev-infra npm package","State":"closed","Body":"","Url":"https://github.com/angular/angular/pull/35856","RelatedDescription":"Closed or merged PR \"build: create angular-internal-dev-infra npm package\" (#35856)"},{"Id":"575809114","IsPullRequest":true,"CreatedAt":"2020-03-04T21:52:14","Actor":"petebacondarwin","Number":"35861","RawContent":null,"Title":"fix(ngcc): re-enable killing ngcc (and CLI) via Ctrl-C","State":"open","Body":"Fixes #35761\r\n\r\nFor the moment I have left the old implementation in there too. We should probably remove it either as part of this PR or soonish, unless we decide that we want to make it configurable and allow people the different options.","Url":"https://github.com/angular/angular/pull/35861","RelatedDescription":"Open PR \"fix(ngcc): re-enable killing ngcc (and CLI) via Ctrl-C\" (#35861)"},{"Id":"575786889","IsPullRequest":false,"CreatedAt":"2020-03-04T21:24:02","Actor":"DineshNO","Number":"35860","RawContent":null,"Title":"Form refreshes on click event - https://github.com/angular/angular/issues/15058 ","State":"open","Body":"Hi,\r\nI am facing an issue similar to #15058 (https://github.com/angular/angular/issues/15058 ) in angular 8.\r\nForm gets submit on click event and redirects to home page.\r\n<button class=\"btn btn-success\" type=\"submit\" (click)=\"onAddItem()\">Add</button>\r\n\r\nOn changing code to \r\n<button class=\"btn btn-success\" type=\"button\" (click)=\"onAddItem()\">Add</button>\r\n\r\nIt stays on the screen on click event.\r\n\r\nBrowser used : \r\nChrome Version 80.0.3987.132 (Official Build) [(64-bit)]\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/35860","RelatedDescription":"Open issue \"Form refreshes on click event - https://github.com/angular/angular/issues/15058 \" (#35860)"},{"Id":"575770249","IsPullRequest":true,"CreatedAt":"2020-03-04T21:02:41","Actor":"jbogarthyde","Number":"35859","RawContent":null,"Title":"Update HTTP guide","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nThe page does not conform to current doc standards for doc style.\r\n- Topic mixes task-based, conceptual, and tutorial content\r\n- Headings focus on Angular features, not user tasks\r\n- Duplicated content with Quickstart, Tour of Heroes, API content, etc.\r\n- Lack of linking with related topics\r\n\r\nIssue Number:  https://docs.google.com/document/d/1z5Wo7MvIH0vRzA3fJOWgiYqsiCOD-kQ6zJWgyJp4wng \r\n\r\n\r\n## What is the new behavior?\r\nRe-organize and edit text and examples to conform to doc standards.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n ","Url":"https://github.com/angular/angular/pull/35859","RelatedDescription":"Open PR \"Update HTTP guide\" (#35859)"},{"Id":"575683614","IsPullRequest":true,"CreatedAt":"2020-03-04T19:09:34","Actor":"gkalpak","Number":"35858","RawContent":null,"Title":"build(docs-infra): use local version of Zone.js when testing against local packages","State":"open","Body":"This PR re-applies commit 7d832ae10 (see commit message for details), which was initially introduced in #35780 and then reverted in #35857, because it was causing the `publish-artifacts` CI job to fail ([example failure][1]).\r\n\r\nThis PR contains commit 7d832ae10 as is, plus a fixup commit to prevent the `pusblish-artifacts` failure.\r\n\r\n[1]: https://circleci.com/gh/angular/angular/642936","Url":"https://github.com/angular/angular/pull/35858","RelatedDescription":"Open PR \"build(docs-infra): use local version of Zone.js when testing against local packages\" (#35858)"},{"Id":"575643991","IsPullRequest":true,"CreatedAt":"2020-03-04T18:57:47","Actor":"atscott","Number":"35857","RawContent":null,"Title":"Revert \"build(docs-infra): use local version of Zone.js when testing …","State":"closed","Body":"…against local packages (#35780)\"\r\n\r\nThis reverts commit 7d832ae1001b6264bb7124086089e9e69c10c9b6; breaks CI\r\nwith error `Concurrent upstream jobs persisted the same file(s) into the workspace:`\r\n","Url":"https://github.com/angular/angular/pull/35857","RelatedDescription":"Closed or merged PR \"Revert \"build(docs-infra): use local version of Zone.js when testing …\" (#35857)"},{"Id":"575038854","IsPullRequest":true,"CreatedAt":"2020-03-04T18:22:21","Actor":"atscott","Number":"35847","RawContent":null,"Title":" Revert \"fix(animations):...\" commits that break internal tests","State":"closed","Body":"These commits cause internal tests to fail and are currently blocking g3 syncs.","Url":"https://github.com/angular/angular/pull/35847","RelatedDescription":"Closed or merged PR \" Revert \"fix(animations):...\" commits that break internal tests\" (#35847)"},{"Id":"574916337","IsPullRequest":false,"CreatedAt":"2020-03-04T13:37:44","Actor":"MRDNZ","Number":"35842","RawContent":null,"Title":"NullInjectorError: StaticInjectorError(AppModule) for lazy loaded module with providers","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is probably caused by package @angular/core, but regards the lazy loading feature for Module. So it could be a compiler thing with loadChildren? \r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Cant really tell from own experience but according to:\r\nhttps://github.com/angular/angular/issues/35402\r\nhttps://github.com/angular/angular/issues/35576 \r\nwhich both seem to be related, i would probably say yes.\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> To give some more background information:\r\nWe are using feature modules as packages and bundling these into an application to expose them as angular elements. When using these angular elements (web-components) in any other application everything works fine. So now we started migrating our application towards a new workspace where we could integrate these feature libraries and while doing so we are lazy loading the modules to improve performance.\r\n\r\nSo basically its not possible to lazy load any libraries/packages from your node_modules, therefor you have to create a small wrapper module. So we did that and use a component to render our feature. The strange thing is, if we render our angular element (web-component) everything works perfect, angular doesnt try to do smart things and the providers are available including our config. But as soon as we start to render the angular component variant, it throws error about providers that are missing.\r\n\r\nWe define our providers inside of our feature module with the providers array syntax. We are aware of the `@Injectable({ providedIn })` options, but none of these work for us.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ✍️--> Because of the size i can not include any example of the current setup but i could try to make a small repro ASAP. But to give at least a bit of code/error context here is some pseudo code:\r\n\r\n```ts\r\n// The module from our library/package\r\n@NgModule({\r\n  declarations: [FeatureComponent],\r\n  entryComponents: [FeatureComponent],\r\n  exports: [FeatureComponent],\r\n  providers: [FeatureService],\r\n})\r\nexport class FeatureModule {}\r\n\r\n// The component from our library/package\r\n@Component({\r\n  selector: 'feature-component',\r\n  template: `<p>Hello World!</p>`,\r\n})\r\nexport class FeatureComponent {\r\n  constructor(private featureService: FeatureService) {}\r\n}\r\n\r\n// The lazy loaded module in the app\r\n@NgModule({\r\n  declarations: [LazyFeatureComponent],\r\n  imports: [FeatureModule],\r\n})\r\nexport class LazyFeatureModule {}\r\n\r\n// The lazy loaded component in the app\r\n@Component({\r\n  selector: 'lazy-feature-component',\r\n  template: `<feature-component></feature-component>`,\r\n})\r\nexport class LazyFeatureComponent {}\r\n```\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\nWe use loadChildren to target the wrapper module from the app so it loads the feature module from the package. But when we navigate to this route we get the following error:\r\n\r\n```\r\nERROR NullInjectorError: StaticInjectorError(AppModule)[FeatureComponent -> FeatureService]: \r\n  StaticInjectorError(Platform: core)[FeatureComponent-> FeatureService]: \r\n    NullInjectorError: No provider for FeatureService!\r\n```\r\n\r\nWhich is very strange because we define our providers in the FeatureModule that is imported in the LazyFeatureModule. So it always should have the correct providers when importing it. Also the error refers to AppModule, so the FeatureComponent is not part of the FeatureModule but the AppModule/ which it shouldn't be part of.\r\n\r\n### Workaround\r\nIf we use angular elements and put the web-component tag inside of the LazyFeatureComponent everything works fine :) Somehow the module gets properly isolated and the providers are included as expected. \r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 13.8.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-ng-packagr   0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@angular-devkit/schematics-cli     0.900.4\r\n@angular/cdk                       9.0.0\r\n@angular/material                  9.0.0\r\n@angular/material-moment-adapter   9.0.0\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/schematics             0.900.4\r\n@schematics/update                 0.900.4\r\nng-packagr                         9.0.2\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35842","RelatedDescription":"Closed issue \"NullInjectorError: StaticInjectorError(AppModule) for lazy loaded module with providers\" (#35842)"},{"Id":"575371779","IsPullRequest":false,"CreatedAt":"2020-03-04T12:44:23","Actor":"vladimiry","Number":"35855","RawContent":null,"Title":"Module '\"../../../../@bazel/typescript/internal/tsc_wrapped/plugin_api\"' has no exported member 'TscPlugin'","State":"open","Body":"ERROR in node_modules/@angular/compiler-cli/src/ngtsc/tsc_plugin.d.ts:9:30 - error TS2305: Module '\"../../../../@bazel/typescript/internal/tsc_wrapped/plugin_api\"' has no exported member 'TscPlugin'.\r\n\r\n9 import { PluginCompilerHost, TscPlugin } from '@bazel/typescript/internal/tsc_wrapped/plugin_api';\r\n\r\nWorkaround (presumably): enable `skipLibCheck` TS compilation option.\r\n\r\nThe issue started to appear after @bazel/typescript 1.3.0 => 1.4.0 update.","Url":"https://github.com/angular/angular/issues/35855","RelatedDescription":"Open issue \"Module '\"../../../../@bazel/typescript/internal/tsc_wrapped/plugin_api\"' has no exported member 'TscPlugin'\" (#35855)"},{"Id":"575355837","IsPullRequest":true,"CreatedAt":"2020-03-04T12:17:17","Actor":"qaisjp","Number":"35854","RawContent":null,"Title":"Fix NgIfAs selector field","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nSelector is `ng-if-let` with class name `NgIfAs`.\r\n\r\n\r\n## What is the new behavior?\r\n\r\nSelector is `ng-if-as` with class name `NgIfAs`.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\nn/a","Url":"https://github.com/angular/angular/pull/35854","RelatedDescription":"Open PR \"Fix NgIfAs selector field\" (#35854)"},{"Id":"575280914","IsPullRequest":false,"CreatedAt":"2020-03-04T10:11:05","Actor":"wmarques","Number":"35853","RawContent":null,"Title":"Allow to choose HttpXsrfInterceptor order","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 feature request\r\n\r\n### Relevant Package\r\n<!-- Can you pin-point one or more @angular/* packages the are relevant for this feature request? -->\r\n<!-- ✍️edit: --> This feature request is for @angular/common/http\r\n\r\n### Description\r\n<!-- ✍️-->\r\nOn my project we generate the CSRF Token on the client side, then the servers compares if the tokens are the same in the cookie and in the header.\r\nWe do the generation in an interceptor:\r\n* We generate the token using a uuid lib\r\n* We put this token in the XSRF-TOKEN cookie\r\n\r\nThe issue here is that the Angular interceptors comes **before** our interceptor, so it sends the old token and not the generated one and thus the server is returning 403 errors.\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️-->\r\nI would like to choose when the HttpXsrfInterceptor is called. For now it's not exposed to Angular developers, the solution might be to expose it so I can put it in my app `providers` array, after my interceptor.\r\n\r\n### Describe alternatives you've considered\r\nFor now we set the XSRF header manually in our interceptor, so we don't take advantage of the automatic CSRF handling by Angular.","Url":"https://github.com/angular/angular/issues/35853","RelatedDescription":"Open issue \"Allow to choose HttpXsrfInterceptor order\" (#35853)"},{"Id":"575265679","IsPullRequest":false,"CreatedAt":"2020-03-04T09:47:36","Actor":"Akxe","Number":"35852","RawContent":null,"Title":"Create type definition for template context","State":"open","Body":"# 🚀 feature request\r\n\r\n### Relevant Package\r\n@angular/core\r\n\r\n### Description\r\nOne type that is known, but specified to the user only in [documentation](https://angular.io/api/common/NgTemplateOutlet#description) is the template context.\r\n\r\n> Using the key $implicit in the context object will set its value as default.\r\n\r\nIt is quite unsettling having a variable in component whose type is missing.\r\n\r\n### Describe the solution you'd like\r\nThe obvious solution is to have a type definition:\r\n\r\n```\r\nexport interface TemplateContext {\r\n  /** Here can be the explanation that `$implicit` is the default value */\r\n  $implicit: any;\r\n  [key: string]: any;\r\n}\r\n```\r\nor,\r\n```\r\nexport type ImplicitSymbol = Symbol('TemplateImplicitValue');\r\nexport interface TemplateContext {\r\n  /** Here can be the explanation that `$implicit` is the default value */\r\n  [ImplicitSymbol]: any;\r\n  [key: string]: any;\r\n}\r\n```\r\n\r\nAnother benefit of that would be, that all objects that are of type `TemplateContext` can then be replaced during angular upgrades if needed.\r\n\r\n### Describe alternatives you've considered\r\nYou can just define yourself.\r\n","Url":"https://github.com/angular/angular/issues/35852","RelatedDescription":"Open issue \"Create type definition for template context\" (#35852)"},{"Id":"575256509","IsPullRequest":false,"CreatedAt":"2020-03-04T09:32:58","Actor":"bampakoa","Number":"35851","RawContent":null,"Title":"Class binding is not working with custom key names","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\nThe issue is caused by package @angular/common\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> No\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️-->\r\nWhen I am trying to use class binding on an element with multiple classes and each key has more than one class names (e.g. `classA classB`), I get an error.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\nhttps://github.com/bampakoa/repro-app\r\n\r\nReproduction steps:\r\n\r\n1. Open the Angular application and run `ng serve` to run it\r\n2. Open the file `app.component.ts`\r\n3. Change the `ngClass` directive of the `h1` element to class binding `[class]`\r\n4. Inspect the console of the browser for errors\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\ncore.js:5873 ERROR DOMException: Failed to execute 'add' on 'DOMTokenList': The token provided ('classA classB') contains HTML space characters, which are not valid in tokens.\r\n    at DefaultDomRenderer2.addClass (http://localhost:4200/vendor.js:51138:39)\r\n    at applyStyling (http://localhost:4200/vendor.js:20043:49)\r\n    at updateStyling (http://localhost:4200/vendor.js:28890:9)\r\n    at updateStylingMap (http://localhost:4200/vendor.js:28841:13)\r\n    at checkStylingMap (http://localhost:4200/vendor.js:28370:13)\r\n    at Module.ɵɵclassMap (http://localhost:4200/vendor.js:28260:5)\r\n    at AppComponent_Template (http://localhost:4200/main.js:119:65)\r\n    at executeTemplate (http://localhost:4200/vendor.js:17342:9)\r\n    at refreshView (http://localhost:4200/vendor.js:17189:13)\r\n    at refreshComponent (http://localhost:4200/vendor.js:18629:9)\r\n</pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 9.0.4\r\nNode: 12.16.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.4\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.4\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n<!-- ✍️-->\r\n\r\n</pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35851","RelatedDescription":"Open issue \"Class binding is not working with custom key names\" (#35851)"},{"Id":"575088044","IsPullRequest":true,"CreatedAt":"2020-03-04T02:18:26","Actor":"AndrewKushnir","Number":"35850","RawContent":null,"Title":"fix(compiler): process `imports` first and `declarations` second while calculating scopes","State":"open","Body":"Prior to this commit, while calculating the scope for a module, Ivy compiler processed `declarations` field first and `imports` after that. That results in a couple issues:\r\n\r\n* for Pipes with the same `name` and present in `declarations` and in an imported module, Pipe from imported module was selected. In View Engine the logic is opposite: Pipes from `declarations` field receive higher priority.\r\n* for Directives with the same selector and present in `declarations` and in an imported module, we first invoked the logic of a Directive from `declarations` field and after that - imported Directive logic. In View Engine, it was the opposite and the logic of a Directive from the `declarations` field was invoked last.\r\n\r\nIn order to align Ivy and View Engine behavior, this commit updates the logic in which we populate module scope: we first process all imports and after that handle `declarations` field. As a result, in Ivy both use-cases listed above work similar to View Engine.\r\n\r\nResolves #35502.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35850","RelatedDescription":"Open PR \"fix(compiler): process `imports` first and `declarations` second while calculating scopes\" (#35850)"},{"Id":"575079080","IsPullRequest":true,"CreatedAt":"2020-03-04T01:47:26","Actor":"JiaLiPassion","Number":"35849","RawContent":null,"Title":"docs(zone.js): update coments of zone configuration API definition","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\nupdate comments documentation based on @aikidave 's comments on PR https://github.com/angular/angular/pull/35329.\r\n\r\n@aikidave , thank you for the detailed review, please check this one.","Url":"https://github.com/angular/angular/pull/35849","RelatedDescription":"Open PR \"docs(zone.js): update coments of zone configuration API definition\" (#35849)"},{"Id":"575076244","IsPullRequest":true,"CreatedAt":"2020-03-04T01:37:36","Actor":"alxhub","Number":"35848","RawContent":null,"Title":"feat(bazel): transform generated shims (in Ivy) with tsickle","State":"open","Body":"Currently, when Angular code is built with Bazel and with Ivy, generated\r\nfactory shims (.ngfactory files) are not processed via the majority of\r\ntsickle's transforms. This is a subtle effect of the build infrastructure,\r\nbut it boils down to a TsickleHost method `shouldSkipTsickleProcessing`.\r\n\r\nFor ngc_wrapped builds (Bazel + Angular), this method is defined in the\r\n`@bazel/typescript` (aka bazel rules_typescript) implementation of\r\n`CompilerHost`. The default behavior is to skip tsickle processing for files\r\nwhich are not present in the original `srcs[]` of the build rule. In\r\nAngular's case, this includes all generated shim files.\r\n\r\nFor View Engine factories this is probably desirable as they're quite\r\ncomplex and they've never been tested with tsickle. Ivy factories however\r\nare smaller and very straightforward, and it makes sense to treat them like\r\nany other output.\r\n\r\nThis commit adjusts two independent implementations of\r\n`shouldSkipTsickleProcessing` to enable transformation of Ivy shims:\r\n\r\n* in `@angular/bazel` aka ngc_wrapped, the upstream `@bazel/typescript`\r\n  `CompilerHost` is patched to treat .ngfactory files the same as their\r\n  original source file, with respect to tsickle processing.\r\n\r\n  It is currently not possible to test this change as we don't have any test\r\n  that inspects tsickle output with bazel. It will be extensively tested in\r\n  g3.\r\n\r\n* in `ngc`, Angular's own implementation is adjusted to allow for the\r\n  processing of shims when compiling with Ivy. This enables a unit test to\r\n  be written to validate the correct behavior of tsickle when given a host\r\n  that's appropriately configured to process factory shims.\r\n\r\nFor ngtsc-as-a-plugin, a similar fix will need to be submitted upstream in\r\ntsc_wrapped.\r\n","Url":"https://github.com/angular/angular/pull/35848","RelatedDescription":"Open PR \"feat(bazel): transform generated shims (in Ivy) with tsickle\" (#35848)"},{"Id":"574896032","IsPullRequest":false,"CreatedAt":"2020-03-04T00:11:00","Actor":"tonivj5","Number":"35838","RawContent":null,"Title":"Maybe there's an inconsistent with style.width binding","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/core (?)\r\n\r\n\r\n### Is this a regression?\r\nI don't know\r\n<!-- Did this behavior use to work in the previous version? -->\r\n\r\n\r\n### Description\r\n\r\nI think there is an inconsistency with style bindings in properties such as height, width, etc. with number values. While I was writting a tests I had noticed that if you use `0` as value (`[style.width]=\"0\"`) the bind value is `0px`, but it only works with `0` value, if I use any other number it simply no reflect any value (the same behavior as `null` and `undefined` value). I think the reproduction is clear enough of what I'm trying to describe :sweat_smile: \r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\nhttps://ng-run.com/edit/fpseYtEgOOY7KpkTXd7k?open=app%2Fapp.component.html (ng-run :100:)\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 13.7.0\r\nOS: linux x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              8.3.25\r\n@angular-devkit/schematics        8.3.25\r\n@angular/cdk                      9.1.0\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.8.2\r\nwebpack                           4.41.2\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nIf it is the desired behavior, feel free to close it :+1:","Url":"https://github.com/angular/angular/issues/35838","RelatedDescription":"Closed issue \"Maybe there's an inconsistent with style.width binding\" (#35838)"},{"Id":"575038476","IsPullRequest":true,"CreatedAt":"2020-03-04T00:03:41","Actor":"dgp1130","Number":"35846","RawContent":null,"Title":"Remove side effects to improve Ivy tree shaking in Closure","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [X] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [X] Tests for the changes have been added (for bug fixes / features)\r\nN/A - No easy way to verify that Closure tree shakes the relevant functions.\r\n- [X] Docs have been added / updated (for bug fixes / features)\r\nNo docs to update.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [X] Bugfix\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nClosure does not tree shake unused components built with Ivy.\r\n\r\nIssue Number: http://b/149874196, http://b/149874638.\r\n\r\n## What is the new behavior?\r\n\r\nClosure will now tree shake unused components built with Ivy.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [X] No\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\nThis is effectively identical to https://github.com/angular/angular/pull/35769, just targeting patch branch. I cherry-picked all the commits onto a new branch based on `9.0.x`.","Url":"https://github.com/angular/angular/pull/35846","RelatedDescription":"Open PR \"Remove side effects to improve Ivy tree shaking in Closure\" (#35846)"},{"Id":"575014599","IsPullRequest":true,"CreatedAt":"2020-03-04T00:03:06","Actor":"atscott","Number":"35845","RawContent":null,"Title":"Revert \"fix(core): log error instead of warning for unknown propertie…","State":"closed","Body":"…s and elements (#35798)\"\r\n\r\nThis reverts commit 00f3c58bb929d9afa10ab3c4f1b9ee7a0077ba57.\r\n\r\nrolling back because it could be breaking e2e tests that assert that there are no errors in the console after the assertions have run. we can readd this in v10.","Url":"https://github.com/angular/angular/pull/35845","RelatedDescription":"Closed or merged PR \"Revert \"fix(core): log error instead of warning for unknown propertie…\" (#35845)"},{"Id":"575011587","IsPullRequest":true,"CreatedAt":"2020-03-03T23:25:20","Actor":"atscott","Number":"35844","RawContent":null,"Title":"Revert \"fix(compiler): type-checking error for duplicate variables in…","State":"closed","Body":"… templates (#35674)\"\r\n\r\nThis reverts commit 12072954dea2dd4fab05c0391182d503ae132d2c.\r\n\r\nBecause this is a new error, it shouldn't go in the patch branch.","Url":"https://github.com/angular/angular/pull/35844","RelatedDescription":"Closed or merged PR \"Revert \"fix(compiler): type-checking error for duplicate variables in…\" (#35844)"},{"Id":"574865258","IsPullRequest":false,"CreatedAt":"2020-03-03T23:16:28","Actor":"jackzhp","Number":"35837","RawContent":null,"Title":"can this  be  integrated  into  google web  designer?","State":"closed","Body":"we need a ui designer, so can angular be integrated into google web designer?\r\n\r\nby the way, server side render is a wrong approach.","Url":"https://github.com/angular/angular/issues/35837","RelatedDescription":"Closed issue \"can this  be  integrated  into  google web  designer?\" (#35837)"},{"Id":"574999679","IsPullRequest":true,"CreatedAt":"2020-03-03T22:34:54","Actor":"mhevery","Number":"35843","RawContent":null,"Title":"fix(core): use console to show error if ErrorHandler not present","State":"open","Body":"The errors used to be swallowed if no `Injector` or `ErrorHandler` were present. The new implementation falls back to `console` or re-throws if no `console` is present.\r\n\r\nUsing classical bootstrap we are guaranteed to have `Injector`. This can only happen if we bootstrap using `renderComponent` which is not public yet and so it it is used in tests only.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35843","RelatedDescription":"Open PR \"fix(core): use console to show error if ErrorHandler not present\" (#35843)"},{"Id":"574855809","IsPullRequest":true,"CreatedAt":"2020-03-03T21:53:58","Actor":"josephperrott","Number":"35835","RawContent":null,"Title":"build(zone.js): sets rollup_bundle to use the --silent flag","State":"closed","Body":"Using the --silent flag prevents the spammy logging messages in the\r\nbazel execution logs.\r\n\r\n\r\nLog lines like these are no longer present:\r\n```\r\nINFO: From Bundling JavaScript packages/zone.js/dist/zone-rollup.umd.js [rollup]:\r\n\r\nbazel-out/k8-fastbuild/bin/packages/zone.js/lib/browser/rollup-legacy-main.mjs → bazel-out/k8-fastbuild/bin/packages/zone.js/dist/zone-rollup.umd.js...\r\ncreated bazel-out/k8-fastbuild/bin/packages/zone.js/dist/zone-rollup.umd.js in 736ms\r\n```\r\n","Url":"https://github.com/angular/angular/pull/35835","RelatedDescription":"Closed or merged PR \"build(zone.js): sets rollup_bundle to use the --silent flag\" (#35835)"},{"Id":"574915614","IsPullRequest":true,"CreatedAt":"2020-03-03T20:17:31","Actor":"devversion","Number":"35841","RawContent":null,"Title":"fix(bazel): do not use manifest paths for generated imports ","State":"open","Body":"Currently, the `ng_module` rule incorrectly uses manifest paths for\r\ngenerated imports from the Angular compiler.\r\n\r\nThis breaks packaging as prodmode output (i.e. `esnext`) is copied in\r\nvarious targets (`es5` and `es2015`) to the npm package output. Example:\r\n\r\n_node_modules/my-pkg/es2015/imports/public-api.js_\r\n```ts\r\nimport * as i1 from \"angular/packages/bazel/test/ng_package/example/imports/second\";\r\n```\r\n\r\nThe above import is invalid in NPM and leaks information about the source project\r\nstructure. The import should be relative:\r\n\r\n```ts\r\nimport * as i1 from \"./second\";\r\n```\r\n\r\nThe imports can, and **should** be relative so that the files are self-contained and do\r\nnot rely on custom module resolution.","Url":"https://github.com/angular/angular/pull/35841","RelatedDescription":"Open PR \"fix(bazel): do not use manifest paths for generated imports \" (#35841)"},{"Id":"574909772","IsPullRequest":true,"CreatedAt":"2020-03-03T20:06:21","Actor":"crisbeto","Number":"35840","RawContent":null,"Title":"fix(core): ngOnDestroy on multi providers called with incorrect context","State":"open","Body":"Currently destroy hooks are stored in memory as `[1, hook, 5, hook]` where the numbers represent the index at which to find the context and `hook` is the function to be invoked. This breaks down for `multi` providers, because the value at the index will be an array of providers.\r\n\r\nThese changes fix the issue by changing the structure of the destroy hooks to `[1, hook, 5, [0, hook, 3, hook]]` where the indexes inside the inner array point to the provider inside of the multi provider array. Note that this is slightly different from the original design which called for the structure to be `[1, hook, 5, [hook, hook]`, because in the process of implementing it, I realized that we wouldn't get passing the correct context if only some of the `multi` providers have `ngOnDestroy` and others don't.\r\n\r\nI've run the newly-added `view_destroy_hooks` benchmark against these changes and compared it to master. The difference seems to be insignificant (between 1% and 2% slower).\r\n\r\nFixes #35231.\r\n","Url":"https://github.com/angular/angular/pull/35840","RelatedDescription":"Open PR \"fix(core): ngOnDestroy on multi providers called with incorrect context\" (#35840)"},{"Id":"574908143","IsPullRequest":false,"CreatedAt":"2020-03-03T20:03:06","Actor":"kamilchlebek","Number":"35839","RawContent":null,"Title":"Xliff1TranslationParser does not handle multiple <file> elements","State":"open","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/localize\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: Angular v8\r\n\r\n\r\n### Description\r\n\r\nhttps://github.com/angular/angular/blob/c7d0567d37f0590108d2f89626b0f7215d3b3adb/packages/localize/src/tools/src/translate/translation_files/translation_parsers/xliff1_translation_parser.ts#L56-L59\r\n\r\nXliff1TranslationParser assumes there's only one `<file>` element in `.xlf` file. When there's more of them, the `this.bundle` is overridden. \r\n\r\nUsually it's true for extracted files, but somehow in our app we managed to generate file with few `<file>` attributes (it may be related to xliffmerge, but happened only for one language so far).\r\n\r\nHowever while using angular 8 it used to work without any issues. While building the app using angular 9 we get warnings: `No translation found for \"<<id>>\" (\"<<msg>>\")`. Resulting in missing translations.\r\n\r\nWould be good if Angular 9 either support multiple `<files>` or throw an exception so we can see the cause easily.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nhttps://github.com/kamilchlebek/angular-xliff-issue\r\n\r\nSteps:\r\n1. `ng build --localize`\r\n\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>No translation found for \"5085648050787544850\" (\"child works!\").\r\n...\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>Angular CLI: 9.0.4\r\nNode: 10.16.0\r\nOS: linux x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.4\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.4\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/35839","RelatedDescription":"Open issue \"Xliff1TranslationParser does not handle multiple <file> elements\" (#35839)"},{"Id":"574862953","IsPullRequest":true,"CreatedAt":"2020-03-03T19:10:43","Actor":"gregmagolan","Number":"35836","RawContent":null,"Title":"Revert \"build: update to rules_nodejs 1.4.0 (#35813)\" on patch","State":"closed","Body":"This reverts commit fc59d841a9410b51c1dec6c4bf0adebf456a0cde.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35836","RelatedDescription":"Closed or merged PR \"Revert \"build: update to rules_nodejs 1.4.0 (#35813)\" on patch\" (#35836)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"575073093","IsPullRequest":true,"CreatedAt":"2020-03-04T20:56:30","Actor":"mgechev","Number":"17149","RawContent":null,"Title":"refactor(@schematics/angular): remove redundant typeRoots","State":"closed","Body":"By default TypeScript will look up in this directory (see [docs](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types)).","Url":"https://github.com/angular/angular-cli/pull/17149","RelatedDescription":"Closed or merged PR \"refactor(@schematics/angular): remove redundant typeRoots\" (#17149)"},{"Id":"575162877","IsPullRequest":true,"CreatedAt":"2020-03-04T20:55:45","Actor":"renovate[bot]","Number":"17150","RawContent":null,"Title":"build: update terser to version 4.6.6","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | dependencies | patch | [`4.6.4` -> `4.6.6`](https://renovatebot.com/diffs/npm/terser/4.6.4/4.6.6) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>terser/terser</summary>\n\n### [`v4.6.6`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v466)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.5...v4.6.6)\n\n(hotfix release)\n\n-   Reverted code to 4.6.4 to allow for more time to investigate an issue.\n\n### [`v4.6.5`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v465-REVERTED)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.4...v4.6.5)\n\n-   Improved compress performance through using a new method to see if two nodes are equivalent, instead of printing them to a string.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17150","RelatedDescription":"Closed or merged PR \"build: update terser to version 4.6.6\" (#17150)"},{"Id":"575739135","IsPullRequest":false,"CreatedAt":"2020-03-04T20:17:44","Actor":"Vicevini","Number":"17151","RawContent":null,"Title":"Error","State":"open","Body":"🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n\r\nI have this problem \r\n\r\n npm install -g @angular/cli\r\nnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\nC:\\Users\\vicev\\AppData\\Roaming\\npm\\ng -> C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\bin\\ng\r\n\r\n> @angular/cli@9.0.4 postinstall C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\r\n> node ./bin/postinstall/script.js\r\n\r\n+ @angular/cli@9.0.4\r\nupdated 1 package in 9.576s\r\n\r\n![image](https://user-images.githubusercontent.com/48629758/75920515-4c576280-5e3e-11ea-992e-9e6629e065de.png)\r\n\r\n🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n","Url":"https://github.com/angular/angular-cli/issues/17151","RelatedDescription":"Open issue \"Error\" (#17151)"},{"Id":"573972671","IsPullRequest":false,"CreatedAt":"2020-03-04T17:29:27","Actor":"bjowes","Number":"17132","RawContent":null,"Title":"ng commands should warn (or fail) on package.json and node_modules mismatch","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n(might apply to other commands too)\r\n\r\n### Description\r\nWhen multiple developers are working on the same application, it commonly occurs that one developer adds or updates a npm package used by the application and pushes the change. When another developer pulls that change, package.json is updated but node_modules is not. To fix this, the second developer should run `npm install` but this is often forgotten. This can lead to unexpected behavior when using `ng test` or `ng serve` - sometimes the error is quickly identified but sometimes it 'kind of works' and the second developer loses a lot of time tracking it down. \r\n\r\n### Describe the solution you'd like\r\nWhen executing a ng command (in particular the ones marked above), ng should check if package.json matches node_modules. If not, it should output a clear warning, or fail the command.\r\n\r\n### Describe alternatives you've considered\r\nAn alternative could be setting up an alias for ng that does the above check, but it would be much more user friendly if this was built in.","Url":"https://github.com/angular/angular-cli/issues/17132","RelatedDescription":"Closed issue \"ng commands should warn (or fail) on package.json and node_modules mismatch\" (#17132)"},{"Id":"575046915","IsPullRequest":false,"CreatedAt":"2020-03-04T00:27:41","Actor":"fireflysemantics","Number":"17148","RawContent":null,"Title":"When adding a library to the workspace, also update .gitignore","State":"open","Body":"When running `ng g library name_of_library` also add the libraries `node_modules` path to the top level `.gitignore`.","Url":"https://github.com/angular/angular-cli/issues/17148","RelatedDescription":"Open issue \"When adding a library to the workspace, also update .gitignore\" (#17148)"},{"Id":"575028901","IsPullRequest":false,"CreatedAt":"2020-03-03T23:36:06","Actor":"spencerb02","Number":"17146","RawContent":null,"Title":"ng build and ng serve use inconsistent methods to determine files emitted from webpack","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: \r\n@angular-devkit/build-angular: \"0.800.6\"\r\n@angular/cli: \"8.0.6\"\r\n\r\nI apologize I didn't do the leg work to discover exactly which version it broke in. I was using v8.0.6 and was updating to latest v8 on my way to v9 (soon).\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\nIn the latest version of ng 8 the emitted files from the webpack build are handled differently by `ng build` than by `ng serve`. This was not the case in 8.0.6. (I have not tested this in ng 9 nor have I tested `ng test`). \r\n\r\nThis is due to this code being removed from `@angular-devkit/build-webpack/src/utils.js`:\r\n```javascript\r\n// entrypoints might have multiple outputs\r\n// such as runtime.js\r\nfor (const [name, entrypoint] of compilation.entrypoints) {\r\n    const entryFiles = (entrypoint && entrypoint.getFiles()) || [];\r\n    for (const file of entryFiles) {\r\n        files.push({ name, file, extension: path.extname(file), initial: true });\r\n    }\r\n}\r\n```\r\ncommit: https://github.com/angular/angular-cli/commit/e2b190584b0f18a53e00f7f58facd7be3a4c282a#diff-4e79ab2e1e76b5c5a42a38b4f3b50036\r\n\r\nThe `getEmittedFiles` method is how `ng build` determines the emitted files. In 8.0.6 it used to traverse the compilations entry points and then the chunks. Now in 8.3.25 it just traverses the chunks. `ng serve`, however, still traverses the endpoints:\r\n`@angular-devkit/build-angular/src/angular-cli-files/plugins/index-html-webpack-plugin.js`\r\n```javascript\r\nfor (const [entryName, entrypoint] of compilation.entrypoints) {\r\n  const entryFiles = ((entrypoint && entrypoint.getFiles()) || []).map((f) => ({\r\n    name: entryName,\r\n    file: f,\r\n    extension: path.extname(f),\r\n  }));\r\n  //...\r\n}\r\n```\r\n\r\nThe outcome of this issue is that additional outputs of the `main` entrypoint are no longer added to the index.html when running `ng build` but they are included when I run `ng serve` which created false positives. (and lead to some really fun \"works on my box\" discussions with the quality engineer)\r\n\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\nThis is where it gets messy and I admit that I'm using a build extension. I'm adding to the webpack config through an `ngx-build-plus` plugin. Utilizing the plugin I add the following merge to the webpack config:\r\n\r\n```javascript\r\nconst merge = require(\"webpack-merge\");\r\n\r\nexports.default = {\r\n  pre(options) {\r\n    // ...\r\n  },\r\n  config(config) {\r\n    const mergeStrategy = merge.strategy({\r\n      // ...,\r\n      \"config.optimization.splitChunks.cacheGroups\": \"append\",\r\n    });\r\n\r\n    return mergeStrategy(config, {\r\n      optimization: {\r\n        splitChunks: {\r\n          cacheGroups: {\r\n            angularJS: {\r\n              name: \"angularJS\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](angular-?|ng-)/,\r\n              priority: 5,\r\n            },\r\n            angular: {\r\n              name: \"angular\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](@angular)[\\\\/]/,\r\n              priority: 5,\r\n            },\r\n          },\r\n        },\r\n      },\r\n    });\r\n  },\r\n  post(options) {\r\n    // ... \r\n  },\r\n};\r\n```\r\nThis creates 2 new bundles `angular.[hash:20].js` and `angularJS.[hash:20].js` (did I mention it's a hybrid app?) which are initial bundles which are output by the `main` entrypoint. When I run `ng serve` they are included in the index.html because they are attached to the `main` endpoint. When I run `ng build`, they are not included in the `index.html`.\r\n\r\nWith `ngx-build-plus` installed and assuming the above plugin is in a file called `config/webpack-loaders/ajs-plugin.js` run the build:\r\n`ng build --plugin ~config/webpack-loaders/ajs-plugin.js` or\r\n`ng serve --plugin ~config/webpack-loaders/ajs-plugin.js -o`\r\n\r\nI know that what I need to do is use the post step to enforce the cachegroups get added the way I expect, but I wanted to call out the inconsistency between the commands.\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n// OLD VERSION\r\nAngular CLI: 8.0.6\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.800.6\r\n@angular-devkit/build-angular     0.800.6\r\n@angular-devkit/build-optimizer   0.800.6\r\n@angular-devkit/build-webpack     0.800.6\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.0.6\r\n@ngtools/webpack                  8.0.6\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.800.6\r\nrxjs                              6.4.0\r\ntypescript                        3.4.5\r\nwebpack                           4.30.0\r\n\r\n\r\n// NEW VERSION\r\nAngular CLI: 8.3.25\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.25\r\n@angular-devkit/build-angular     0.803.25\r\n@angular-devkit/build-optimizer   0.803.25\r\n@angular-devkit/build-webpack     0.803.25\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.3.25\r\n@ngtools/webpack                  8.3.25\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.803.25\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2\r\n</code></pre>\r\n\r\nAngular json build options:\r\n```json\r\n\"architect\": {\r\n  \"build\": {\r\n    \"builder\": \"ngx-build-plus:browser\",\r\n    \"options\": {\r\n      \"outputPath\": \"dist/website\",\r\n      \"index\": \"config/templates/index.html\",\r\n      \"main\": \"src/main.ts\",\r\n      \"polyfills\": \"src/polyfills.ts\",\r\n      \"tsConfig\": \"tsconfig.app.json\",\r\n      \"aot\": false,\r\n      \"showCircularDependencies\": false,\r\n      \"assets\": [\r\n        \"src/assets\",\r\n      ],\r\n      \"styles\": [\r\n        \"src/styles.scss\"\r\n      ],\r\n    },\r\n  },\r\n  \"configurations\": {\r\n    \"production\": {\r\n      \"fileReplacements\": [{\r\n        \"replace\": \"src/environments/environment.ts\",\r\n        \"with\": \"src/environments/environment.prod.ts\"\r\n      }],\r\n      \"optimization\": true,\r\n      \"outputHashing\": \"all\",\r\n      \"sourceMap\": false,\r\n      \"extractCss\": true,\r\n      \"namedChunks\": false,\r\n      \"aot\": true,\r\n      \"extractLicenses\": true,\r\n      \"vendorChunk\": true,\r\n      \"forkTypeChecker\": true,\r\n      \"buildOptimizer\": true,\r\n      \"budgets\": []\r\n    },\r\n  },\r\n  \"serve\": {\r\n    \"builder\": \"ngx-build-plus:dev-server\",\r\n    \"options\": {\r\n      \"browserTarget\": \"website:build\"\r\n    },\r\n    \"configurations\": {\r\n      \"production\": {\r\n        \"browserTarget\": \"website:build:production\"\r\n      },\r\n      \"staging\": {\r\n        \"browserTarget\": \"website:build:staging\"\r\n      }\r\n    }\r\n  },\r\n}\r\n```\r\n\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nAll paths lead through `@angular-devkit\\build-angular\\src\\angular-cli-files\\utilities\\index-file\\augment-index-html.js augmentIndexHtml()` and the array of `files` that gets passed to it.\r\n\r\nWhen running `ng serve` files is set to an array like this:\r\n```javascript\r\n[\r\n  { name: 'main', file: 'runtime.js', extension: '.js' },\r\n  { name: 'main', file: 'angularJS.js', extension: '.js' },\r\n  { name: 'main', file: 'angular.js', extension: '.js' },\r\n  { name: 'main', file: 'vendor.js', extension: '.js' },\r\n  { name: 'main', file: 'main.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'runtime.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'polyfills.js', extension: '.js' },\r\n  { name: 'styles', file: 'runtime.js', extension: '.js' },\r\n  { name: 'styles', file: 'styles.js', extension: '.js' },\r\n]\r\n```\r\nNotice Angular and AngularJS have the name of `main`. This is because the name is set as the name of the entrypoint the `emittedFile` was found in.\r\n\r\nWhen running `ng build` the same files are built (according to `webpack-bundle-analyzer`) but the `files` array looks like this:\r\n```javascript\r\n[\r\n  { file: 'runtime.bc9d7222a5be40bb49f2.js', extension: '.js', name: 'runtime' },\r\n  { file: 'angularJS.bd8c6b36a4d831de98ad.js', extension: '.js', name: 'angularJS~main' },\r\n  { file: 'angular.2378ac52c8e97a70ffb9.js', extension: '.js', name: 'angular~main' },\r\n  { file: 'main.776ae6e317ff60328da0.js', extension: '.js', name: 'main' },\r\n  { file: 'polyfills.83265812522305ef22ce.js', extension: '.js', name: 'polyfills' },\r\n  { file: 'styles.2cdb9ded7df542f838e1.css', extension: '.css', name: 'styles' },\r\n  { file: 'vendor.7dc8e0ec3a85cc2dc3fc.js', extension: '.js', name: 'vendor' }\r\n]\r\n```\r\nNote that the name of these `emittedFiles` are the chunk name and not the entrypoint. These arrays of `emittedFile`s are then compared to the array of entrypoints to determine which ones are to be added to `index.html`:\r\n```javascript\r\n[\r\n  'polyfills-nomodule-es5',\r\n  'polyfills-es5',\r\n  'polyfills',\r\n  'styles',\r\n  'vendor',\r\n  'main'\r\n]\r\n```\r\nSo `ng serve` recognizes the angular bundles are part of the main entrypoint and adds them to \r\n`index.html` accordingly. `ng build` on the other hand doesn't because the chunk names are not the same as an entrypoint in the hardcoded list of entrypoints.\r\n\r\nIn conclusion:\r\n1) I need to make my use of the build extension more robust and ensure the `cachegroup` bundles are added to the `index.html` in the plugin's `post` step.\r\n2) I don't think `ng serve` and `ng build` should be different in how they map the emitted files.\r\n3) I am very open to hearing the \"right way\" of doing things if there is a better/more accepted approach for handling large, eagerly loaded 3rd party bundles.","Url":"https://github.com/angular/angular-cli/issues/17146","RelatedDescription":"Open issue \"ng build and ng serve use inconsistent methods to determine files emitted from webpack\" (#17146)"},{"Id":"574440692","IsPullRequest":true,"CreatedAt":"2020-03-03T21:37:37","Actor":"renovate[bot]","Number":"17137","RawContent":null,"Title":"build: update typescript to version 3.8.3","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [typescript](https://www.typescriptlang.org/) ([source](https://togithub.com/Microsoft/TypeScript)) | devDependencies | patch | [`3.8.2` -> `3.8.3`](https://renovatebot.com/diffs/npm/typescript/3.8.2/3.8.3) |\n| [typescript](https://www.typescriptlang.org/) ([source](https://togithub.com/Microsoft/TypeScript)) | dependencies | patch | [`3.8.2` -> `3.8.3`](https://renovatebot.com/diffs/npm/typescript/3.8.2/3.8.3) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>Microsoft/TypeScript</summary>\n\n### [`v3.8.3`](https://togithub.com/Microsoft/TypeScript/releases/v3.8.3)\n\n[Compare Source](https://togithub.com/Microsoft/TypeScript/compare/v3.8.2...v3.8.3)\n\nFor release notes, check out the [release announcement](https://devblogs.microsoft.com/typescript/announcing-typescript-3-8/).\n\nFor new features, check out the [What's new in TypeScript v3.8](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html).\n\nFor the complete list of fixed issues, check out the\n\n-   [fixed issues query for Typescript v3.8.0 (Beta)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.0%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.1 (RC)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.1%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.2 (Final)](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.2%22+is%3Aclosed+).\n-   [fixed issues query for Typescript v3.8.3](https://togithub.com/Microsoft/TypeScript/issues?utf8=%E2%9C%93&q=is%3Aissue+milestone%3A%22TypeScript+3.8.3%22+is%3Aclosed+).\n\nDownloads are available on:\n\n-   [npm](https://www.npmjs.com/package/typescript)\n-   [Visual Studio](https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.TypeScript-383) ([Select new version in project options](https://togithub.com/Microsoft/TypeScript/wiki/Updating-TypeScript-in-Visual-Studio-2017))\n-   [NuGet package](https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about these updates again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17137","RelatedDescription":"Closed or merged PR \"build: update typescript to version 3.8.3\" (#17137)"},{"Id":"574847036","IsPullRequest":true,"CreatedAt":"2020-03-03T18:07:49","Actor":"clydin","Number":"17145","RawContent":null,"Title":"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks","State":"open","Body":"This synchronizes the behavior with the FW's wherein the language code will be used if the data for the full locale is not found.  The user will still be notified in the event this occurs.","Url":"https://github.com/angular/angular-cli/pull/17145","RelatedDescription":"Open PR \"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks\" (#17145)"},{"Id":"574841551","IsPullRequest":false,"CreatedAt":"2020-03-03T18:04:01","Actor":"santhony7","Number":"17144","RawContent":null,"Title":"Add baseHref setting to the sourceLocale","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [x] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️--> I don't think this is possible now or I have not found a good solution. You added the ability to specify a baseHref in each locale during i18n but no way to specify the baseHref for the sourceLocale. Not sure how else to specifiy a baseHref=\"/\" for en. Compiler always makes it '/en/'.\r\n\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️--> Change the schema to allow an object for sourceLocal that has a property of baseHref.\r\n\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> The only workaround I have found it to create two builds: One for english and one for all other locales. \r\n","Url":"https://github.com/angular/angular-cli/issues/17144","RelatedDescription":"Closed issue \"Add baseHref setting to the sourceLocale\" (#17144)"},{"Id":"574765010","IsPullRequest":false,"CreatedAt":"2020-03-03T15:53:05","Actor":"rcketscientist","Number":"17143","RawContent":null,"Title":"ng-update exceeds peerDependency bounds","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\nWe did not have issues while lagging behind 6/7/8 releases.\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\npackageA depends on ng8 and material8.\r\nIf I `ng update packageA` it will attempt to update Angular to 9.  I can avoid this by temporarily removing material as a dependency.  Something about material flushes out a bug in ng-cli.  I've submitted a bug in the material repo, but they make a convincing argument that the bug is actually in cli:\r\nhttps://github.com/angular/components/issues/18536?email_source=notifications&email_token=AA6W5LUTQN4ZVQYEQLHDJYTRFASJJA5CNFSM4KXKGJNKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENF5OLA#issuecomment-592172844\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\npackageA depends on ng8 and material8.\r\n`ng update packageA`\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/common\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/core\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@angular-devkit/build-angular\" has an incompatible peer dependency to \"typescript\" (requires \">=3.1 < 3.6\", would install \"3.7.5\").\r\n\r\nIncompatible peer dependencies found.\r\nPeer dependency warnings when installing dependencies means that those dependencies might not work correctly together.\r\nYou can use the '--force' option to ignore incompatible peer dependencies and instead address these warnings later.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 8.3.24\r\nNode: 12.16.1\r\nOS: darwin x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.803.24\r\n@angular-devkit/build-angular      0.803.24\r\n@angular-devkit/build-ng-packagr   0.803.24\r\n@angular-devkit/build-optimizer    0.803.24\r\n@angular-devkit/build-webpack      0.803.24\r\n@angular-devkit/core               8.3.24\r\n@angular-devkit/schematics         8.3.24\r\n@angular/cdk                       8.2.3\r\n@angular/cli                       8.3.24\r\n@angular/material                  8.2.3\r\n@ngtools/webpack                   8.3.24\r\n@schematics/angular                8.3.24\r\n@schematics/update                 0.803.24\r\nng-packagr                         5.7.1\r\nrxjs                               6.4.0\r\ntypescript                         3.5.3\r\nwebpack                            4.39.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17143","RelatedDescription":"Open issue \"ng-update exceeds peerDependency bounds\" (#17143)"},{"Id":"574473518","IsPullRequest":false,"CreatedAt":"2020-03-03T12:01:15","Actor":"akashchavda","Number":"17138","RawContent":null,"Title":"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile","State":"closed","Body":"I am working on one of my application in AngularJS (CLI 9) framework.\r\n\r\nIts successfully run by `ng serve` command and open in `http://localhost:4200`\r\n\r\nbut when i build it by `ng build` i got below error\r\n\r\n`Unable to copy assets: EFAULT: bad address in system call argument, copyfile directoryPath/src/favicon.ico -> directoryPath/dist/favicon.ico`\r\n\r\nbelow is my build code..\r\n\r\n    \"build\": {\r\n              \"builder\": \"@angular-devkit/build-angular:browser\",\r\n              \"options\": {\r\n                \"outputPath\": \"dist\",\r\n                \"index\": \"src/index.html\",\r\n                \"main\": \"src/main.ts\",\r\n                \"polyfills\": \"src/polyfills.ts\",\r\n                \"tsConfig\": \"tsconfig.app.json\",\r\n                \"aot\": false,\r\n                \"assets\": [\r\n                  \"src/favicon.ico\",\r\n                  \"src/assets\"\r\n                ],\r\n                \"styles\": [\r\n                  \"./src/styles.scss\",\r\n                  \"./node_modules/bootstrap/scss/bootstrap.scss\",\r\n                  \"./node_modules/font-awesome/scss/font-awesome.scss\",\r\n                  \"./node_modules/admin-lte/build/scss/AdminLTE.scss\",\r\n                  \"./node_modules/@ng-select/ng-select/themes/ant.design.theme.css\",\r\n                  \"./node_modules/ngx-toastr/toastr.css\"\r\n                ],\r\n                \"stylePreprocessorOptions\": {\r\n                  \"includePaths\": [\r\n                    \"./node_modules\"\r\n                  ]\r\n                },\r\n                \"scripts\": [\r\n                  \"./node_modules/jquery/dist/jquery.js\",\r\n                  \"./node_modules/popper.js/dist/umd/popper.js\",\r\n                  \"./node_modules/bootstrap/dist/js/bootstrap.js\",\r\n                  \"./node_modules/jquery-slimscroll/jquery.slimscroll.js\",\r\n                  \"./node_modules/icheck/icheck.js\",\r\n                  \"./node_modules/fastclick/lib/fastclick.js\",\r\n                  \"./node_modules/admin-lte/dist/js/adminlte.js\"\r\n                ]\r\n              },\r\n              \"configurations\": {\r\n                \"production\": {\r\n                  \"fileReplacements\": [\r\n                    {\r\n                      \"replace\": \"src/environments/environment.ts\",\r\n                      \"with\": \"src/environments/environment.prod.ts\"\r\n                    }\r\n                  ],\r\n                  \"optimization\": true,\r\n                  \"outputHashing\": \"all\",\r\n                  \"sourceMap\": false,\r\n                  \"extractCss\": true,\r\n                  \"namedChunks\": false,\r\n                  \"aot\": true,\r\n                  \"extractLicenses\": true,\r\n                  \"vendorChunk\": false,\r\n                  \"buildOptimizer\": true,\r\n                  \"budgets\": [\r\n                    {\r\n                      \"type\": \"initial\",\r\n                      \"maximumWarning\": \"2mb\",\r\n                      \"maximumError\": \"5mb\"\r\n                    },\r\n                    {\r\n                      \"type\": \"anyComponentStyle\",\r\n                      \"maximumWarning\": \"6kb\",\r\n                      \"maximumError\": \"10kb\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n\r\nTHis is all angular dependencies\r\n\r\n    \"dependencies\": {\r\n        \"@angular/animations\": \"~9.0.0\",\r\n        \"@angular/common\": \"~9.0.0\",\r\n        \"@angular/compiler\": \"~9.0.0\",\r\n        \"@angular/core\": \"~9.0.0\",\r\n        \"@angular/forms\": \"~9.0.0\",\r\n        \"@angular/platform-browser\": \"~9.0.0\",\r\n        \"@angular/platform-browser-dynamic\": \"~9.0.0\",\r\n        \"@angular/router\": \"~9.0.0\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@angular-devkit/build-angular\": \"~0.900.1\",\r\n        \"@angular/cli\": \"~9.0.1\",\r\n        \"@angular/compiler-cli\": \"~9.0.0\",\r\n        \"@angular/language-service\": \"~9.0.0\",\r\n    }\r\n\r\nI have researched on google but i dont find any solutions.. \r\n\r\nlet me know how to resolve this issue.","Url":"https://github.com/angular/angular-cli/issues/17138","RelatedDescription":"Closed issue \"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile\" (#17138)"},{"Id":"574593144","IsPullRequest":false,"CreatedAt":"2020-03-03T11:14:32","Actor":"akashchavda","Number":"17141","RawContent":null,"Title":"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile","State":"closed","Body":"I am working on one of my application in AngularJS (CLI 9) framework.\r\n\r\nIts successfully run by `ng serve` command and open in `http://localhost:4200`\r\n\r\nbut when i build it by `ng build` i got below error\r\n\r\n`Unable to copy assets: EFAULT: bad address in system call argument, copyfile directoryPath/src/favicon.ico -> directoryPath/dist/favicon.ico`\r\n\r\nbelow is my build code..\r\n\r\n    \"build\": {\r\n              \"builder\": \"@angular-devkit/build-angular:browser\",\r\n              \"options\": {\r\n                \"outputPath\": \"dist\",\r\n                \"index\": \"src/index.html\",\r\n                \"main\": \"src/main.ts\",\r\n                \"polyfills\": \"src/polyfills.ts\",\r\n                \"tsConfig\": \"tsconfig.app.json\",\r\n                \"aot\": false,\r\n                \"assets\": [\r\n                  \"src/favicon.ico\",\r\n                  \"src/assets\"\r\n                ],\r\n                \"styles\": [\r\n                  \"./src/styles.scss\",\r\n                  \"./node_modules/bootstrap/scss/bootstrap.scss\",\r\n                  \"./node_modules/font-awesome/scss/font-awesome.scss\",\r\n                  \"./node_modules/admin-lte/build/scss/AdminLTE.scss\",\r\n                  \"./node_modules/@ng-select/ng-select/themes/ant.design.theme.css\",\r\n                  \"./node_modules/ngx-toastr/toastr.css\"\r\n                ],\r\n                \"stylePreprocessorOptions\": {\r\n                  \"includePaths\": [\r\n                    \"./node_modules\"\r\n                  ]\r\n                },\r\n                \"scripts\": [\r\n                  \"./node_modules/jquery/dist/jquery.js\",\r\n                  \"./node_modules/popper.js/dist/umd/popper.js\",\r\n                  \"./node_modules/bootstrap/dist/js/bootstrap.js\",\r\n                  \"./node_modules/jquery-slimscroll/jquery.slimscroll.js\",\r\n                  \"./node_modules/icheck/icheck.js\",\r\n                  \"./node_modules/fastclick/lib/fastclick.js\",\r\n                  \"./node_modules/admin-lte/dist/js/adminlte.js\"\r\n                ]\r\n              },\r\n              \"configurations\": {\r\n                \"production\": {\r\n                  \"fileReplacements\": [\r\n                    {\r\n                      \"replace\": \"src/environments/environment.ts\",\r\n                      \"with\": \"src/environments/environment.prod.ts\"\r\n                    }\r\n                  ],\r\n                  \"optimization\": true,\r\n                  \"outputHashing\": \"all\",\r\n                  \"sourceMap\": false,\r\n                  \"extractCss\": true,\r\n                  \"namedChunks\": false,\r\n                  \"aot\": true,\r\n                  \"extractLicenses\": true,\r\n                  \"vendorChunk\": false,\r\n                  \"buildOptimizer\": true,\r\n                  \"budgets\": [\r\n                    {\r\n                      \"type\": \"initial\",\r\n                      \"maximumWarning\": \"2mb\",\r\n                      \"maximumError\": \"5mb\"\r\n                    },\r\n                    {\r\n                      \"type\": \"anyComponentStyle\",\r\n                      \"maximumWarning\": \"6kb\",\r\n                      \"maximumError\": \"10kb\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n\r\nTHis is all angular dependencies\r\n\r\n    \"dependencies\": {\r\n        \"@angular/animations\": \"~9.0.0\",\r\n        \"@angular/common\": \"~9.0.0\",\r\n        \"@angular/compiler\": \"~9.0.0\",\r\n        \"@angular/core\": \"~9.0.0\",\r\n        \"@angular/forms\": \"~9.0.0\",\r\n        \"@angular/platform-browser\": \"~9.0.0\",\r\n        \"@angular/platform-browser-dynamic\": \"~9.0.0\",\r\n        \"@angular/router\": \"~9.0.0\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@angular-devkit/build-angular\": \"~0.900.1\",\r\n        \"@angular/cli\": \"~9.0.1\",\r\n        \"@angular/compiler-cli\": \"~9.0.0\",\r\n        \"@angular/language-service\": \"~9.0.0\",\r\n    }\r\n\r\nI have researched on google but i dont find any solutions.. \r\n\r\nlet me know how to resolve this issue.","Url":"https://github.com/angular/angular-cli/issues/17141","RelatedDescription":"Closed issue \"Angular CLI 9 - Unable to copy assets: EFAULT: bad address in system call argument, copyfile\" (#17141)"},{"Id":"574538931","IsPullRequest":false,"CreatedAt":"2020-03-03T09:44:20","Actor":"multimike77","Number":"17140","RawContent":null,"Title":"ng xi18n not working for library","State":"open","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [x] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> No. Related functionaliy only available with new i18n capabilities of angular 9.\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️-->I want to use ng xi18n command to extract messages for i18n tags which are part of a library project which is part of a monrepo setup created by the cli. According to docs at \r\nhttps://angular.io/cli/xi18n this is supposed to be possible  \r\n  \r\n> ng xi18n \\<project\\>\r\n> \\<project\\> The name of the project to build. Can be an application or a library.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n1. create project: `ng new lib-i18n`\r\n1. add localize: `ng add @angular/localize`\r\n1. generate library: `ng g library my-lib`\r\n1. add i18n attribute in my-lib.component.ts  \r\n    ```\r\n    <p i18n>\r\n      my-lib works!\r\n    </p>\r\n    ```\r\n1. run `ng xi18n my-lib`: Result will be  \r\n`An unhandled exception occurred: Project 'my-lib' does not support the 'extract-i18n' target.`  \r\nAfter adding corresponding extract-i18n target in angular.json, error output as below.\r\n\r\nI created a minimal demo project which incorporates the scenario describe above. It is located here:\r\nhttps://github.com/multimike77/lib-i18n-issue\r\n\r\nCheckout and run `npm install`. Then run `ng xi18n my-lib` and it should produce error as below.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nAn unhandled exception occurred: The \"path\" argument must be of type string. Received undefined\r\n\r\n[error] TypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received undefined\r\n    at validateString (internal/validators.js:117:11)\r\n    at Object.resolve (path.js:980:7)\r\n    at Object.getCommonConfig (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js:390:24)\r\n    at /Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/extract-i18n/index.js:91:27\r\n    at generateWebpackConfig (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/utils/webpack-browser-config.js:62:22)\r\n    at async Object.generateBrowserWebpackConfigFromContext (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/utils/webpack-browser-config.js:137:20)\r\n    at async execute (/Users/.../lib-i18n/node_modules/@angular-devkit/build-angular/src/extract-i18n/index.js:73:24)\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-ng-packagr   0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nng-packagr                         9.0.2\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17140","RelatedDescription":"Open issue \"ng xi18n not working for library\" (#17140)"},{"Id":"574496585","IsPullRequest":false,"CreatedAt":"2020-03-03T08:26:07","Actor":"Maryannah","Number":"17139","RawContent":null,"Title":"Creating a module with --route & --routing creates duplicated & errored code","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by the schematics that create a module\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> I do not know, I have never tried it before\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> when running a command to create a module with --route & --routing, the code gets duplicated : there are routes in the *.module.ts along with the *-routing.module.ts\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ✍️--> I didn't manage to create a stackblitz, but here are the commands to reproduce it locally.\r\n\r\n```bash\r\nnpx create-nx-workspace@latest workspace\r\ncd workspace\r\nng add @nrwl/angular --defaults\r\nng g @nrwl/angular:application app --style scss --routing true --prefix app\r\nng g m home --route home --module app.module.ts --routing true --project app\r\n```\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n    \"@angular/animations\": \"^9.0.0\",\r\n    \"@angular/cdk\": \"^9.0.0\",\r\n    \"@angular/common\": \"^9.0.0\",\r\n    \"@angular/compiler\": \"^9.0.0\",\r\n    \"@angular/core\": \"^9.0.0\",\r\n    \"@angular/flex-layout\": \"^9.0.0-beta.29\",\r\n    \"@angular/forms\": \"^9.0.0\",\r\n    \"@angular/material\": \"^9.0.0\",\r\n    \"@angular/platform-browser\": \"^9.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^9.0.0\",\r\n    \"@angular/router\": \"^9.0.0\",\r\n    \"@nrwl/angular\": \"^9.0.4\",\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\nI do not know if this is wanted or not, and I do not know which one is the best practice (the one to keep). \r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nHere is a picture of the issue, in case it helps : you can see routes on the module, but also a routing module that is imported with it. \r\n\r\n![image](https://user-images.githubusercontent.com/46892394/75770908-3156f680-5d49-11ea-824a-318471791ca9.png)\r\n\r\n<!--\r\nAfter testing a bit more, removing the `--routing` creates an invalid module : \r\n\r\n```typescript\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LayoutRoutingModule } from './layout-routing.module';\r\nimport { LayoutComponent } from './layout.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LayoutComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [LayoutComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LayoutRoutingModule,\r\n    RouterModule.forChild(routes);\r\n  ]\r\n})\r\nexport class LayoutModule { }\r\n```\r\n\r\nYou can see that there is a semi-colon right in the imports, and that the routing module is imported even though it wasn't created. \r\n\r\nAnother things, components that are created with this command do not follow the schematics configuration from the `angular.json` file. My components should use SCSS and OnPush detection strategy : \r\n\r\n```json\r\n      \"schematics\": {\r\n        \"@nrwl/angular:component\": {\r\n          \"style\": \"scss\",\r\n          \"changeDetection\": \"OnPush\"\r\n        },\r\n        \"@schematics/angular\": {\r\n          \"component\": {\r\n            \"changeDetection\": \"OnPush\",\r\n            \"style\": \"scss\"\r\n          }\r\n        }\r\n      },\r\n\r\n```\r\n\r\nBut they're created with CSS and default change detection. \r\n\r\n-->","Url":"https://github.com/angular/angular-cli/issues/17139","RelatedDescription":"Open issue \"Creating a module with --route & --routing creates duplicated & errored code\" (#17139)"},{"Id":"574337777","IsPullRequest":true,"CreatedAt":"2020-03-03T00:26:57","Actor":"kopach","Number":"17136","RawContent":null,"Title":"ci(@angular-devkit/build-angular): add ability to include untested files to coverage result","State":"open","Body":"Fix for issue #11227. Add `karma-sabarivka-reporter` as dependency for any new Angular project. This would allow including (if needed) untested files to coverage result. By default, no extra files are included, `include` config is empty.","Url":"https://github.com/angular/angular-cli/pull/17136","RelatedDescription":"Open PR \"ci(@angular-devkit/build-angular): add ability to include untested files to coverage result\" (#17136)"},{"Id":"574173055","IsPullRequest":false,"CreatedAt":"2020-03-03T00:10:56","Actor":"bryanrideshark","Number":"17134","RawContent":null,"Title":"ERROR in The Angular Compiler requires TypeScript >=3.6.4 and <3.8.0 but 3.8.3 was found instead.","State":"closed","Body":"\r\n### Description\r\n\r\nI just upgraded to Angular 9 using `ng update --all --force -C`. No other options worked.\r\n\r\nNow when I run `ng serve`, I get an error, `ERROR in The Angular Compiler requires TypeScript >=3.6.4 and <3.8.0 but 3.8.3 was found instead.`\r\n\r\nWhy did Angular update me to Typescript 3.8.3 if it's not supported?","Url":"https://github.com/angular/angular-cli/issues/17134","RelatedDescription":"Closed issue \"ERROR in The Angular Compiler requires TypeScript >=3.6.4 and <3.8.0 but 3.8.3 was found instead.\" (#17134)"},{"Id":"574224286","IsPullRequest":false,"CreatedAt":"2020-03-02T20:22:49","Actor":"realharry","Number":"17135","RawContent":null,"Title":"Need a way to build smaller javascript files / to set maximum size for generated js files","State":"open","Body":"# 🚀 Feature request\r\n\r\nIt'll be nice to be able to control maximum size of the generated javascript files in some way, e.g., via a command line flag.\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n\r\nI'm currently trying to set up an Angular SSR app on AWS Lambda + ALB. Unfortunately, there is a response size limit of 1Mb between ALB and Lambda. (https://docs.aws.amazon.com/elasticloadbalancing/latest/application/lambda-functions.html). Except for a trivial app, all my apps include at least one JS file that are larger than 1Mb. Sometimes it's `main-...js` files or it's `vendor-...js` files depending on the `--vendor-chunk`.\r\n\r\nThis is somewhat related to https://github.com/angular/angular-cli/issues/16866, but this is a request independent of any other problems. (I'm currently using cli v9.0.4, and enableIvy:false setting doesn't make much difference.) I never knew there was 1Mb limit when I started building for ALB+Lambda, and there will be many situations (currently unknown) that would prevent successful deployment of Angular apps in many different production environments.\r\n\r\nAt this point, there seems to be no workaround.\r\n\r\n\r\n### Describe the solution you'd like\r\n\r\nSomething like `--max-js-size = 516k` will be nice to control the maximum size of the generated JS files. Instead of generating 1 main or 1 vendor files, they should be divided into multiple files, each no bigger than 516k, for instance.\r\n\r\n\r\n### Describe alternatives you've considered\r\n\r\nOr, alternatively, if we can control the number of generated JS files, that'll be useful as well. For example, `--main-js-files=3` will divide the main js files into 3 files instead of one.\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17135","RelatedDescription":"Open issue \"Need a way to build smaller javascript files / to set maximum size for generated js files\" (#17135)"},{"Id":"573201291","IsPullRequest":true,"CreatedAt":"2020-03-02T20:14:11","Actor":"renovate[bot]","Number":"17122","RawContent":null,"Title":"build: update bazel_toolchains to version 2.1.1","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [bazel_toolchains](https://togithub.com/bazelbuild/bazel-toolchains) | http_archive | patch | `2.1.0` -> `2.1.1` |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/bazel-toolchains</summary>\n\n### [`v2.1.1`](https://togithub.com/bazelbuild/bazel-toolchains/releases/2.1.1)\n\n[Compare Source](https://togithub.com/bazelbuild/bazel-toolchains/compare/2.1.0...2.1.1)\n\nSHA256:b5a8039df7119d618402472f3adff8a1bd0ae9d5e253f53fcc4c47122e91a3d2\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17122","RelatedDescription":"Closed or merged PR \"build: update bazel_toolchains to version 2.1.1\" (#17122)"},{"Id":"573201391","IsPullRequest":true,"CreatedAt":"2020-03-02T20:14:00","Actor":"renovate[bot]","Number":"17123","RawContent":null,"Title":"build: update sass to version 1.26.2","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [sass](https://togithub.com/sass/dart-sass) | dependencies | patch | [`1.26.1` -> `1.26.2`](https://renovatebot.com/diffs/npm/sass/1.26.1/1.26.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>sass/dart-sass</summary>\n\n### [`v1.26.2`](https://togithub.com/sass/dart-sass/blob/master/CHANGELOG.md#&#8203;1262)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.26.1...1.26.2)\n\n-   More aggressively eliminate redundant selectors in the `selector.extend()` and\n    `selector.replace()` functions.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17123","RelatedDescription":"Closed or merged PR \"build: update sass to version 1.26.2\" (#17123)"},{"Id":"573797712","IsPullRequest":true,"CreatedAt":"2020-03-02T20:13:50","Actor":"renovate[bot]","Number":"17127","RawContent":null,"Title":"build: update to version","State":"closed","Body":"This PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n:wrench: This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17127","RelatedDescription":"Closed or merged PR \"build: update to version\" (#17127)"},{"Id":"573816197","IsPullRequest":true,"CreatedAt":"2020-03-02T20:13:39","Actor":"renovate[bot]","Number":"17129","RawContent":null,"Title":"build: update webpack to version 4.42.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [webpack](https://togithub.com/webpack/webpack) | dependencies | minor | [`4.41.6` -> `4.42.0`](https://renovatebot.com/diffs/npm/webpack/4.41.6/4.42.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack/webpack</summary>\n\n### [`v4.42.0`](https://togithub.com/webpack/webpack/releases/v4.42.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v4.41.6...v4.42.0)\n\n### Bugfixes\n\n-   Disable constant replacements in `\"use asm\"` scope\n-   Update schema to disallow functions for `output.hotUpdateChunkFilename` as this doesn't work\n-   Hoist exports in concatenated module to handle circular references with non-concatenated modules correctly\n-   Flag all modules as used in DLLs to fix missing exports\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17129","RelatedDescription":"Closed or merged PR \"build: update webpack to version 4.42.0\" (#17129)"},{"Id":"573827612","IsPullRequest":true,"CreatedAt":"2020-03-02T20:13:21","Actor":"renovate[bot]","Number":"17130","RawContent":null,"Title":"build: update webpack to version 4.42.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [webpack](https://togithub.com/webpack/webpack) | devDependencies | minor | [`4.41.6` -> `4.42.0`](https://renovatebot.com/diffs/npm/webpack/4.41.6/4.42.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>webpack/webpack</summary>\n\n### [`v4.42.0`](https://togithub.com/webpack/webpack/releases/v4.42.0)\n\n[Compare Source](https://togithub.com/webpack/webpack/compare/v4.41.6...v4.42.0)\n\n### Bugfixes\n\n-   Disable constant replacements in `\"use asm\"` scope\n-   Update schema to disallow functions for `output.hotUpdateChunkFilename` as this doesn't work\n-   Hoist exports in concatenated module to handle circular references with non-concatenated modules correctly\n-   Flag all modules as used in DLLs to fix missing exports\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17130","RelatedDescription":"Closed or merged PR \"build: update webpack to version 4.42.0\" (#17130)"},{"Id":"573815165","IsPullRequest":false,"CreatedAt":"2020-03-02T17:32:45","Actor":"dave0688","Number":"17128","RawContent":null,"Title":"Build generates ES5 bundles even though \"es5BrowserSupport\" is set to false","State":"closed","Body":"# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\nNo, because \"es5BrowserSupport\" didn't exist before.\r\n\r\n### Description\r\nI've disabled `es5BrowserSupport` in my `angular.json` file (in `architect.build.options` section of the file), but when I run `ng build --prod` I still see the message in the console while building:\r\n\r\n`Generating ES5 bundles for differential loading...`\r\n\r\nAlso, in my `/dist` folder there's some js-files which indicate that `es5` files are generated (i.e. `polyfilles-es5.sf24fa3d.js`, `main-es5.sdlfjhsfhlecy34.js`.\r\n\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nrun `ng build --prod` with `es5BrowserSupport: false` in `angular.json`.\r\n\r\n## 🔥 Exception or Error\r\nConsole outputs:\r\n\r\n`Generating ES5 bundles for differential loading...`\r\n\r\nIt should **not** generate `es5` related files.\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 9.0.1\r\nNode: 12.7.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.1\r\n@angular-devkit/build-angular     0.900.1\r\n@angular-devkit/build-optimizer   0.900.1\r\n@angular-devkit/build-webpack     0.900.1\r\n@angular-devkit/core              9.0.1\r\n@angular-devkit/schematics        9.0.1\r\n@angular/cli                      9.0.1\r\n@angular/http                     7.2.16\r\n@ngtools/webpack                  9.0.1\r\n@schematics/angular               9.0.1\r\n@schematics/update                0.900.1\r\nrxjs                              6.5.4\r\ntypescript                        3.8.2\r\nwebpack                           4.41.2\r\n</code>\r\n</pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17128","RelatedDescription":"Closed issue \"Build generates ES5 bundles even though \"es5BrowserSupport\" is set to false\" (#17128)"},{"Id":"574048373","IsPullRequest":false,"CreatedAt":"2020-03-02T15:22:43","Actor":"ignlg","Number":"17133","RawContent":null,"Title":"Maximum call stack size exceeded when running `ng xi18n` after updating to Angular 9","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [x] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 8.2.14\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️-->\r\nAfter updating to Angular 9.0.4, `ng xi18n` crashes.\r\n\r\nContrary to other potentially related issues, `ng build` and `ng serve` work fine and the application works fine (excluding i18n support).\r\n\r\nI have tried to remove and rebuild `node_modules` and looked for circular imports with Madge. Nothing worked.\r\n\r\nTried with every Angular 9.0.x version up to 9.0.4. Same result.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\nFiles:\r\n```\r\nlib/helpers/example.helper.ts\r\nlib/helpers.ts\r\n```\r\nwhere `helpers.ts` content is\r\n```\r\nexport * from './helpers';\r\n```\r\n\r\nInclude it in `tsconfig.json`:\r\n```\r\n{\r\n  \"include\": [ \"lib/\",  . . . ],\r\n  . . .\r\n}\r\n```\r\nRun:\r\n```\r\nng xi18n\r\n```\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nERROR in Maximum call stack size exceeded\r\n</code></pre>\r\n\r\nAs there is not a `--verbose` option for `xi18n`, this is the only output I can get.\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 9.0.4\r\nNode: 12.16.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.4\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.4\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n\r\nCould be related to #17106 ","Url":"https://github.com/angular/angular-cli/issues/17133","RelatedDescription":"Open issue \"Maximum call stack size exceeded when running `ng xi18n` after updating to Angular 9\" (#17133)"},{"Id":"573928163","IsPullRequest":false,"CreatedAt":"2020-03-02T12:02:57","Actor":"richtems","Number":"17131","RawContent":null,"Title":"Empty source map with localization and --watch","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 8.2.2\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> When using @angular/localization and building with --watch, the main.js source map is empty.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--Please include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n```\r\nng new TestApp\r\ncd .\\TestApp\\\r\nng add @angular/localize\r\n```\r\n\r\nAdd i18n to project in angular.json:\r\n\r\n<pre><code>\r\n\"projects\": {\r\n  ...\r\n  \"TestApp\": {\r\n    ...\r\n    <i><b>\"i18n\": {\r\n      \"sourceLocale\": \"en-US\",\r\n      \"locales\": {\r\n        \"fr\": \"src/locale/messages.fr.xlf\"\r\n      }\r\n    }</b></i>\r\n    ...\r\n    \"architect\": {\r\n      \"build\": {\r\n          ...\r\n          \"options\": {\r\n            ...\r\n            <i><b>\"localize\": [\"fr\"],</b></i>\r\n\r\n</code></pre>\r\n\r\n`ng xi18n`\r\ncopy messages.xlf to \"src/locale/messages.fr.xlf\"\r\n`ng build --watch`\r\n\r\nNow the content of dist/TestApp/fr/main.js.map is:\r\n`{}`\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 9.0.4\r\nNode: 10.15.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.4\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.4\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nMight be related to #16526 ?\r\n","Url":"https://github.com/angular/angular-cli/issues/17131","RelatedDescription":"Open issue \"Empty source map with localization and --watch\" (#17131)"},{"Id":"573503317","IsPullRequest":false,"CreatedAt":"2020-03-01T07:57:48","Actor":"xiaoxiangmoe","Number":"17126","RawContent":null,"Title":"support file replacement in i18n locales","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️--> A clear and concise description of the problem or missing capability...\r\n\r\nplease support file replacement in i18n locales.\r\n\r\nhttps://github.com/angular/angular-cli/blob/2998e5e0602168c2f63cde2a5f123bfb885bbcb7/packages/angular/cli/lib/config/schema.json#L416-L444\r\n### Describe the solution you'd like\r\n<!-- ✍️--> If you have a solution in mind, please describe it.\r\n\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> Have you considered any alternative solutions or workarounds?\r\n","Url":"https://github.com/angular/angular-cli/issues/17126","RelatedDescription":"Open issue \"support file replacement in i18n locales\" (#17126)"},{"Id":"573303365","IsPullRequest":false,"CreatedAt":"2020-02-29T14:20:05","Actor":"denkan","Number":"17125","RawContent":null,"Title":"Allow .ts files in angular.json `scripts` to be transpiled to target ES version","State":"open","Body":"# 🚀 Feature request\r\n\r\n\r\n### Command\r\n- [x] build\r\n- [x] serve\r\n\r\n### Description\r\nThere are scenarios where we need to include a specific file to the bundle. Today, we can do this by using the `scripts` option in angular.json. But this only works for .js files. \r\n\r\nIt would be great to be able to specify .ts files too, which then get transpiled into target ES version.  \r\nThis would e.g. allow us to include separate files which reads from environments.ts vars correctly.\r\n\r\n**My specific scenario:**\r\nI'm implementing [Firebase Messaging](https://firebase.google.com/docs/cloud-messaging/js/receive), which require `firebase-messaging-sw.js` in the root and contains config vars for `messagingSenderId` (which I have stored in environment.ts). \r\n\r\n\r\n### Describe the solution you'd like\r\nWhen specifying an input with .ts extension, the builder transpiles it into .js.\r\n```json\r\n\"scripts\": [\r\n  { \"input\": \"src/firebase-messaging-sw.ts\", \"inject\": false, \"bundleName\": \"firebase-messaging-sw\" }\r\n]\r\n```\r\n\r\n\r\n### Describe alternatives you've considered\r\n[This solution ](https://stackoverflow.com/questions/55609495/how-to-compile-a-ts-file-to-js-in-angular-and-make-it-accessible-in-root-when-se) suggests to transpile the .ts file before the Angular build (`tsc my-file.ts && ng build`). \r\nBut then we won't access the correct environment.ts, as it gets determent in the Angular build...\r\n","Url":"https://github.com/angular/angular-cli/issues/17125","RelatedDescription":"Open issue \"Allow .ts files in angular.json `scripts` to be transpiled to target ES version\" (#17125)"},{"Id":"573228780","IsPullRequest":true,"CreatedAt":"2020-02-29T07:16:34","Actor":"renovate[bot]","Number":"17124","RawContent":null,"Title":"build: update inquirer to version 7.0.6","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [inquirer](https://togithub.com/SBoudrias/Inquirer.js) | dependencies | patch | [`7.0.4` -> `7.0.6`](https://renovatebot.com/diffs/npm/inquirer/7.0.4/7.0.6) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>SBoudrias/Inquirer.js</summary>\n\n### [`v7.0.6`](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.0.5...inquirer@7.0.6)\n\n[Compare Source](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.0.5...inquirer@7.0.6)\n\n### [`v7.0.5`](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.0.4...inquirer@7.0.5)\n\n[Compare Source](https://togithub.com/SBoudrias/Inquirer.js/compare/inquirer@7.0.4...inquirer@7.0.5)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17124","RelatedDescription":"Open PR \"build: update inquirer to version 7.0.6\" (#17124)"},{"Id":"575041576","IsPullRequest":false,"CreatedAt":"2020-02-18T19:22:51","Actor":"The-MAZZTer","Number":"17147","RawContent":null,"Title":"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build","State":"open","Body":"\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\nAngular compilation process\r\n\r\n### Is this a regression?\r\nUnknown\r\n\r\n### Description\r\nI recently inherited a project which uses Angular with embedded React components. `import * as React from \"react\";` appears in a bunch of .TSX files included with the project, and embedded XML tags are used to indicate React elements, which I understand are compiled down to React.createElement calls.\r\n\r\nThe React object itself is never referenced in any source code directly,\r\n\r\nWhen I run the project in development mode it runs fine. When I build for production, the React.createElement calls remain as React.createElement instead of being compiled to the proper webpack import name.\r\n\r\nIf I add ANY explicit reference to React in any file, for example `console.log(React.version);`, the production build starts working again.\r\n\r\nI suspect what is happening is a pass to strip out unused code is happening before .tsx files are processed by TypeScript. And then after the code is compiled down to JS webpack then compiles everything together but React is already gone so the React references are left intact.\r\n\r\nIf so the best fix I can think of is to split up the TypeScript compilation process to first convert .TSX to temporary .TS files (if possible), run the stripping process on those and not the original .TSX, then complete the build process as normal with the .TS files.\r\n\r\nSimpler solutions might include hard coding React to never be stripped out if there are .tsx files present in the project.\r\n\r\n## 🔬 Minimal Reproduction\r\nUnfortunately, I don't have the needed skill set currently to create a minimal test case from scratch (no experience in React) and I am not authorized to share code from my project publicly. Sorry.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nERROR ReferenceError React is not defined\r\n</code></pre>\r\n\r\nThis occurs at the point in a .TSX where an inline XML element is located.\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 8.3.3\r\nNode: 12.3.1\r\nOS: win32 x64\r\nAngular: 8.2.5\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.803.3\r\n@angular-devkit/build-angular              0.803.3\r\n@angular-devkit/build-optimizer            0.803.3\r\n@angular-devkit/build-webpack              0.803.3\r\n@angular-devkit/core                       8.3.3\r\n@angular-devkit/schematics                 8.3.3\r\n@angular/cdk                               8.1.4\r\n@angular/cli                               8.3.3\r\n@angular/http                              7.2.15\r\n@angular/material                          8.1.4\r\n@ngtools/webpack                           8.3.3\r\n@nguniversal/module-map-ngfactory-loader   7.1.1\r\n@schematics/angular                        8.3.3\r\n@schematics/update                         0.803.3\r\nrxjs                                       6.5.3\r\ntypescript                                 3.5.3\r\nwebpack                                    4.39.2</code></pre>\r\n\r\n**Anything else relevant?**\r\nThis may be a bug in webpack; I am unsure about which component this bug lies in.\r\n\r\nI did not notice any change when messing with build options; only when adding an explicit reference to React to the code.","Url":"https://github.com/angular/angular-cli/issues/17147","RelatedDescription":"Open issue \"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build\" (#17147)"},{"Id":"574647610","IsPullRequest":false,"CreatedAt":"2020-02-17T19:33:30","Actor":"jonstelly","Number":"17142","RawContent":null,"Title":"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] update\r\n\r\n### Is this a regression?\r\n\r\nunsure\r\n\r\n### Description\r\n\r\nI have an angular cli project with npm symlinks to a different framework project.  When running an update `ng update @angular/cli @angular/core rxjs`, it seems that the package update/installation phase doesn't honor the `\"preserveSymlinks\": true` setting.  The result is that my framework symlink is removed, which causes the project to fail compilation so the migrations don't all run correctly.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n```bash\r\nnpm i -g @angular/cli@8.3.25\r\nmkdir ng-up\r\ncd ng-up\r\nng new framework\r\ncd framework\r\nng g lib @myfw/model\r\nng build @myfw/model\r\ncd ./dist/myfw/model\r\nnpm link\r\ncd ../../../..\r\nng new app\r\ncd app\r\nnpm link @myfw/model\r\n#edit ./app/src/app/app.module.ts to the below (importing ModelModule from @myfw/model\r\n#edit ./app/angular.json, add `preserveSymlinks: true`\r\nng serve #The app runs as expected\r\n```\r\n\r\napp/src/app/app.module.ts\r\n```typescript\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ModelModule } from '@myfw/model' //<- Add this from @myfw/model\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    ModelModule //<- Add this from @myfw/model\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```\r\n\r\nupgrade process\r\n```bash\r\nnpm i -g @angular/cli #Update angular cli to 9.0.2\r\ncd ../framework\r\nng update @angular/cli @angular/core rxjs --force #--force is needed for tsickle\r\nng build @myfw/model\r\ncd ../app\r\nng update @angular/cli @angular/core rxjs\r\n```\r\nget error as seen below.  `ls ./node_modules/@myfw` shows no directories, the symlinks have been deleted.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n> Undecorated classes with DI migration.\r\n  As of Angular 9, it is no longer supported to use Angular DI on a class that does not have an Angular decorator.\r\n  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes\r\n\r\n    This migration uses the Angular compiler internally and therefore projects that no longer build successfully after the update cannot run the migration. Please ensure there are no AOT compilation errors and rerun the migration. The following project failed: tsconfig.app.json\r\n\r\n    Error: error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n    error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n\r\n\r\n    Could not migrate all undecorated classes that use dependency\r\n    injection. Some project targets could not be analyzed due to\r\n    TypeScript program failures.\r\n\r\n    Migration can be rerun with: \"ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di\"\r\n\r\n  Migration completed.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n@angular/cli 8.3.25 to start (to generate the original projects)\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 12.11.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.2\r\n@angular-devkit/build-angular     0.900.2\r\n@angular-devkit/build-optimizer   0.900.2\r\n@angular-devkit/build-webpack     0.900.2\r\n@angular-devkit/core              9.0.2\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@ngtools/webpack                  9.0.2\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17142","RelatedDescription":"Open issue \"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail\" (#17142)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"575916431","IsPullRequest":false,"CreatedAt":"2020-03-05T00:40:24","Actor":"njennes","Number":"18718","RawContent":null,"Title":"mat-select: First option is auto selected after hitting tab on keyboard - Angular 9 specific","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: \r\nhttps://stackblitz.com/edit/angular-9-0-0-rc-1-ugp4bv\r\n\r\nSteps to reproduce:\r\n1. Select a valid option in the first dropdown menu other than \"None\"\r\n2. Do a few tabs on the keyboard to see that nothing changes\r\n3. In the first dropdown select the \"None\" value\r\n4. Hit tab on the keyboard, you can see that it auto selects the first valid option in the dropdown, even though you selected \"None\" as the option. It should stay on the \"None\" option\r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nI expect the \"None\" value to stay as that option when I select it and hit tab on the keyboard\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\nWhen I select \"None\" and hit tab on the keyboard, it auto selects the first valid value even though I want \"None\" as the option\r\n\r\n#### Environment\r\n\r\n- Angular: 9 (It doesn't happen in versions below 9)\r\n- CDK/Material: 9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18718","RelatedDescription":"Open issue \"mat-select: First option is auto selected after hitting tab on keyboard - Angular 9 specific\" (#18718)"},{"Id":"575728345","IsPullRequest":true,"CreatedAt":"2020-03-04T22:12:41","Actor":"devversion","Number":"18712","RawContent":null,"Title":"build: update to latest angular version that fixes AMD module names","State":"closed","Body":"Includes https://github.com/angular/angular/commit/5c2a90814b1a22bd617ccec7655d392cd1dc1f90","Url":"https://github.com/angular/components/pull/18712","RelatedDescription":"Closed or merged PR \"build: update to latest angular version that fixes AMD module names\" (#18712)"},{"Id":"575801511","IsPullRequest":true,"CreatedAt":"2020-03-04T22:12:21","Actor":"mmalerba","Number":"18717","RawContent":null,"Title":"chore: add title format and \"needs triage\" label in issue template","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18717","RelatedDescription":"Closed or merged PR \"chore: add title format and \"needs triage\" label in issue template\" (#18717)"},{"Id":"574659505","IsPullRequest":true,"CreatedAt":"2020-03-04T21:51:32","Actor":"devversion","Number":"18690","RawContent":null,"Title":"docs: do not show deprecated label options in form-field overview","State":"closed","Body":"Closes #18678.","Url":"https://github.com/angular/components/pull/18690","RelatedDescription":"Closed or merged PR \"docs: do not show deprecated label options in form-field overview\" (#18690)"},{"Id":"574687805","IsPullRequest":true,"CreatedAt":"2020-03-04T21:51:12","Actor":"devversion","Number":"18691","RawContent":null,"Title":"build: avoid file collisions in docs-content","State":"closed","Body":"Currently we always move guides, overviews, example files into\r\nthe `docs-content` by their basename. This means that no guides,\r\noverviews, example files with the same name can exist. The last\r\none being processed by Bazel overwrites the previous ones.\r\n\r\nThis can be currently observed in the docs where the custom\r\nform-field control example incorrectly displays the MDC-based\r\nform-field custom control example. Ultimately breaking the StackBlitz.\r\n\r\nFor example: https://material.angular.io/guide/creating-a-custom-form-field-control.\r\nClick on the first example, and open it on StackBlitz.\r\n\r\nWe can fix this by preserving the directories where the guides,\r\noverviews and example files have been copied from. This also allows\r\nus to have multiple overviews in a package without the risk of collisions.\r\n\r\nNote: Needs an corresponding change in the material.angular.io repo.\r\n\r\n","Url":"https://github.com/angular/components/pull/18691","RelatedDescription":"Closed or merged PR \"build: avoid file collisions in docs-content\" (#18691)"},{"Id":"575050892","IsPullRequest":true,"CreatedAt":"2020-03-04T21:48:20","Actor":"jelbourn","Number":"18700","RawContent":null,"Title":"chore: bump version to 9.1.1 w/ changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18700","RelatedDescription":"Closed or merged PR \"chore: bump version to 9.1.1 w/ changelog\" (#18700)"},{"Id":"575787251","IsPullRequest":true,"CreatedAt":"2020-03-04T21:24:29","Actor":"crisbeto","Number":"18716","RawContent":null,"Title":"docs(clipboard): example in readme not working on firefox","State":"open","Body":"Fixes the example that is given in the docs not working on Firefox, because the initial attempt starts off in a `setTimeout` which isn't allowed.\r\n\r\nFixes #18449.","Url":"https://github.com/angular/components/pull/18716","RelatedDescription":"Open PR \"docs(clipboard): example in readme not working on firefox\" (#18716)"},{"Id":"575776564","IsPullRequest":true,"CreatedAt":"2020-03-04T21:11:05","Actor":"crisbeto","Number":"18715","RawContent":null,"Title":"build: add clipboard to dev app","State":"open","Body":"Currently we don't have an easy way of debugging the `cdk/clipboard` module locally. These changes add a page to the dev app.","Url":"https://github.com/angular/components/pull/18715","RelatedDescription":"Open PR \"build: add clipboard to dev app\" (#18715)"},{"Id":"575742867","IsPullRequest":false,"CreatedAt":"2020-03-04T20:24:31","Actor":"MonocleKelso","Number":"18714","RawContent":null,"Title":"mat-line elements do not style correctly when in <ng-container>","State":"open","Body":"#### Reproduction\r\nAny elements decorated with mat-line that are not direct descendants of mat-list-item do not style correctly. Our use case for this is rendering a list of items from a union type where we display different information depending on what type the item is; but below is a more trivial example.\r\n\r\nSteps to reproduce:\r\n`<mat-list>\r\n  <mat-list-item>\r\n    <p mat-line>Foo</p>\r\n    <ng-container *ngIf=\"fooHasChanges\">\r\n        <p mat-line>Changes</p>\r\n        <p mat-line *ngFor=\"let change of foo.changes\">\r\n            {{change.value}}\r\n        </p>\r\n    </ng-container>\r\n  </mat-list-item>\r\n</mat-list>\r\n`\r\n This appears to be related to https://github.com/angular/components/issues/5502\r\nA similar fix for mat-grid-list was implemented here https://github.com/angular/components/issues/12809\r\n \r\n#### Expected Behavior\r\n\r\nThe elements are styled correctly.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nThe elements are not styled correctly and render on the same line as the previous mat-line.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: ^8.2.14\r\n- CDK/Material: ^8.2.3\r\n- Browser(s): Chrome latest\r\n- Operating System Windows\r\n","Url":"https://github.com/angular/components/issues/18714","RelatedDescription":"Open issue \"mat-line elements do not style correctly when in <ng-container>\" (#18714)"},{"Id":"575738282","IsPullRequest":false,"CreatedAt":"2020-03-04T20:16:17","Actor":"kjparkdavid","Number":"18713","RawContent":null,"Title":"Accessibility: Android mat-radio-button says 'not selected' when selected","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue\r\n\r\nSteps to reproduce:\r\n1. Go to https://material.angular.io/components/radio/overview on Android phone\r\n2. Turn on Voice Assistant\r\n3. Select a radio button\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n\r\nExpect Voice Assistant on the radio button to say 'checked' as on iOS Safari.\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\nVoice Assistant says 'not selected'.\r\n\r\n#### Environment\r\n\r\n- Angular: 9.1.0\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Android Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Android\r\n","Url":"https://github.com/angular/components/issues/18713","RelatedDescription":"Open issue \"Accessibility: Android mat-radio-button says 'not selected' when selected\" (#18713)"},{"Id":"575725242","IsPullRequest":true,"CreatedAt":"2020-03-04T19:59:32","Actor":"stevenyxu","Number":"18711","RawContent":null,"Title":"fix(cdk/focus-trap): EventListenerInertStrategy focus fix","State":"open","Body":"EventListenerInertStrategy should return focus to the most recently\r\nfocused element when focus escapes the trapped element, rather than\r\nalways sending it to the first one.","Url":"https://github.com/angular/components/pull/18711","RelatedDescription":"Open PR \"fix(cdk/focus-trap): EventListenerInertStrategy focus fix\" (#18711)"},{"Id":"575685921","IsPullRequest":true,"CreatedAt":"2020-03-04T19:12:23","Actor":"devversion","Number":"18710","RawContent":null,"Title":"build: upload release packages as job artifacts for PRs","State":"open","Body":"Upload release packages as job artifacts for PRs. This allows\r\nus to easily check out changes from a PR locally, without having\r\nto manually check-out the branch, and building the release output.","Url":"https://github.com/angular/components/pull/18710","RelatedDescription":"Open PR \"build: upload release packages as job artifacts for PRs\" (#18710)"},{"Id":"575634754","IsPullRequest":true,"CreatedAt":"2020-03-04T18:08:33","Actor":"zelliott","Number":"18709","RawContent":null,"Title":"fix(radio): Move .mat-radio-input above .mat-focus-indicator.","State":"open","Body":"The reason why we want to do this is so that we can apply styles to `.mat-focus-indicator` based upon whether or not `.mat-radio-input` is focused. We can't do this right now, because we there is no way to \"look backwards\" with CSS selectors. After this change, we will be able to write:\r\n\r\n```\r\n.mat-radio-input:focus ~ .mat-focus-indicator\r\n```\r\n\r\nThis change also aligns the DOM structure of radio button with checkbox and slide toggle (the two latter components already have their inputs *before* the focus indicator element in the DOM).\r\n\r\nRan TGP, no failures.","Url":"https://github.com/angular/components/pull/18709","RelatedDescription":"Open PR \"fix(radio): Move .mat-radio-input above .mat-focus-indicator.\" (#18709)"},{"Id":"575028063","IsPullRequest":false,"CreatedAt":"2020-03-04T17:01:45","Actor":"brianpilati","Number":"18699","RawContent":null,"Title":"Angular Material 9 does not support an imported npm module using Angular Material 8","State":"closed","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\nAngular Material 9\r\n\r\n### Is this a regression?\r\nWorks fine in Angular 8\r\n\r\n\r\n### Description\r\n\r\nWhen I attempt to import a npm project running Angular 8 and Material 8 into an Angular 9 app running Material 9, it will not compile because the paths for material do not exist.\r\n\r\nShockingly, it also happens if you import a project running Angular 9 and Material into an Angular 9 app running Material9\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\nCreate an app in Angular 9 with Angular Material 9. Import an Angular 8 project running Angular Material 8.\r\nConfigure the router to load the Angular project as a child.\r\n\r\n```ts\r\n children: [\r\n      {\r\n        path: 'route',\r\n        loadChildren: () => import('./library/angular8.module').then(m => m.angular8Module)\r\n      },\r\n```\r\n\r\nCreate an app in Angular 9 with Angular Material 9. Import an Angular 9 project running Angular Material 9.\r\nConfigure the router to load the Angular project as a child.\r\n\r\n```ts\r\n children: [\r\n      {\r\n        path: 'route',\r\n        loadChildren: () => import('./library/angular9.module').then(m => m.angular9Module)\r\n      },\r\n````\r\n\r\nThis is the module.module.ts file\r\n\r\n<pre><code>\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\n</code></pre>\r\n\r\n\r\nThis is the node_modules/module/fesm2015/module.js file\r\n\r\n<pre><code>\r\nimport { MatSidenavModule, MatIconModule, MatTableModule } from '@angular/material';\r\nimport { Component, NgModule, Injectable, Inject, defineInjectable, inject } from '@angular/core'\r\n</code></pre>\r\n\r\n## 🔥 Exception or Error\r\n\r\n~~There are more errors in this bug report than what appear in the \"bug view\". In Edit mode you can see all the console errors.~~\r\n\r\n```\r\nERROR in Unexpected value 'MatIconModule in /node_modules/@angular/material/index.d.ts' imported by the module 'Angular8Module in node_modules/angular8/module-web.d.ts'. Please add a @NgModule annotation.\r\nUnexpected value 'MatSidenavModule in node_modules/@angular/material/index.d.ts' imported by the module 'Angular8 Module in /node_modules/angular8/module-web.d.ts'. Please add a @NgModule annotation.\r\nUnexpected value 'MatTableModule in /node_modules/@angular/material/index.d.ts' imported by the module 'Angular8Module in node_modules/angular8/module-web.d.ts'. Please add a @NgModule annotation.\r\n'mat-sidenav' is not a known element:\r\n1. If 'mat-sidenav' is an Angular component, then verify that it is part of this module.\r\n2. If 'mat-sidenav' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"\r\n    <mat-sidenav-container\r\n    >\r\n      [ERROR ->]<mat-sidenav\r\n        class=\"side-navigation\"\r\n        opened\r\n\")\r\n'mat-sidenav-content' is not a known element:\r\n1. If 'mat-sidenav-content' is an Angular component, then verify that it is part of this module.\r\n2. If 'mat-sidenav-content' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"\r\n        Side Nav\r\n      </mat-sidenav>\r\n      [ERROR ->]<mat-sidenav-content\r\n        class=\"side-navigation-content\"\r\n      >\r\n\")\r\n'mat-sidenav-container' is not a known element:\r\n1. If 'mat-sidenav-container' is an Angular component, then verify that it is part of this module.\r\n2. If 'mat-sidenav-container' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"<div class=\"navigation-container\">\r\n  <div class=\"navigation-content\">\r\n    [ERROR ->]<mat-sidenav-container\r\n    >\r\n      <mat-sidenav\r\n\")\r\n```\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 10.17.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: No\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-ng-packagr   0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@angular/cdk                       9.1.0\r\n@angular/flex-layout               9.0.0-beta.29\r\n@angular/material                  9.1.0\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nng-packagr                         9.0.2\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<pre><code>\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \"./\",\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"downlevelIteration\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"noUnusedLocals\": true,\r\n    \"importHelpers\": true,\r\n    \"target\": \"es2015\",\r\n    \"typeRoots\": [\"node_modules/@types\"],\r\n    \"lib\": [\"es2018\", \"dom\"],\r\n    \"paths\": {    }\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"fullTemplateTypeCheck\": true,\r\n    \"strictInjectionParameters\": true,\r\n    \"enableIvy\": false\r\n  }\r\n}\r\n\r\n</code></pre>\r\n","Url":"https://github.com/angular/components/issues/18699","RelatedDescription":"Closed issue \"Angular Material 9 does not support an imported npm module using Angular Material 8\" (#18699)"},{"Id":"575569454","IsPullRequest":true,"CreatedAt":"2020-03-04T16:50:12","Actor":"leea10","Number":"18708","RawContent":null,"Title":"support an optional trackBy function in FlatTreeControl","State":"open","Body":"This is similar to trackBy in *ngFor and is critical for those of us who\r\nuse the redux pattern (i.e. NGRX) since we frequently replace our node references with\r\nmodified copies from the Store (as opposed to changing the state within the node objects\r\nthemselves)","Url":"https://github.com/angular/components/pull/18708","RelatedDescription":"Open PR \"support an optional trackBy function in FlatTreeControl\" (#18708)"},{"Id":"575546650","IsPullRequest":true,"CreatedAt":"2020-03-04T16:15:44","Actor":"crisbeto","Number":"18707","RawContent":null,"Title":"fix(autocomplete): restore focus after emitting option selected event","State":"open","Body":"Currently we restore focus to the input and then we emit the change event, but we have a report that it may be making some use cases more difficult. From what I can tell, this shouldn't have much of an impact on existing users so these changes swap the order so that the focus event is last. This also feels more natural since we want focus restoration to happen after everything else.\r\n\r\nFixes #18650.","Url":"https://github.com/angular/components/pull/18707","RelatedDescription":"Open PR \"fix(autocomplete): restore focus after emitting option selected event\" (#18707)"},{"Id":"575530000","IsPullRequest":true,"CreatedAt":"2020-03-04T15:57:13","Actor":"crisbeto","Number":"18706","RawContent":null,"Title":"fix(drag-drop): only return item to initial index if the new container's sorting is disabled","State":"open","Body":"When an item is moved into a different container and then returned within the same drag sequence, we place it at its initial index in order to make it behave correctly when sorting is disabled, but the problem is that the same logic had bled into the case where sorting is enabled. This was causing some weird behavior. These changes add an extra check to ensure that it only applies for disabled sorting.\r\n\r\nFixes #18697.","Url":"https://github.com/angular/components/pull/18706","RelatedDescription":"Open PR \"fix(drag-drop): only return item to initial index if the new container's sorting is disabled\" (#18706)"},{"Id":"575488114","IsPullRequest":false,"CreatedAt":"2020-03-04T15:14:14","Actor":"fabriziodebortoli","Number":"18705","RawContent":null,"Title":"MatButton not styled if in Dialog exported by Angular Library","State":"open","Body":"I've created an Angular libray by `ng g library xxx` with my commons components like a ConfirmDialog using MatDialogModule\r\n\r\nIn main app  `<button mat-flat-button color=\"primary\">DIALOG</button>` is correctly styled:\r\n![image](https://user-images.githubusercontent.com/20535803/75893026-8884c600-5e32-11ea-8dbe-8758603abd04.png)\r\n\r\nOpening Dialog, buttons are not styled:\r\n![image](https://user-images.githubusercontent.com/20535803/75893149-ab16df00-5e32-11ea-9747-7dfdd3e251c0.png)\r\n\r\n\r\n\r\n#### Reproduction\r\n\r\nI cannot use StackBlitz to reproduce because it not supports angular libraries so I created a repo:\r\nhttps://github.com/fabriziodebortoli/library-material-dialog-styles.git\r\n\r\nSteps to reproduce:\r\n1.  git clone https://github.com/fabriziodebortoli/library-material-dialog-styles.git\r\n2.  cd library-material-dialog-styles\r\n3. npm install\r\n4. npm start\r\n \r\n \r\n#### Expected Behavior\r\n\r\nButtons inside Dialogs must be styled\r\n\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: ~9.0.3\r\n- CDK/Material: ~9.1.0\r\n- Browser(s): Latest Chrome\r\n\r\n","Url":"https://github.com/angular/components/issues/18705","RelatedDescription":"Open issue \"MatButton not styled if in Dialog exported by Angular Library\" (#18705)"},{"Id":"575451879","IsPullRequest":false,"CreatedAt":"2020-03-04T14:35:28","Actor":"ankurshah32","Number":"18704","RawContent":null,"Title":"Facing an issue using MatTable","State":"open","Body":"<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n\r\nI am using MatTable in project.\r\nPlease have a look at my demo project created on stackblitz\r\n[project](https://stackblitz.com/edit/angular-v8ljsh?file=src%2Fapp%2Ftable-filtering-example.ts)\r\nWhat i did in this project is that I am creating run time object of rows as it is required for implementation? Can anybody look into this and let me know where i am going wrong?\r\n![image](https://user-images.githubusercontent.com/4920253/75889789-71a29b80-5e53-11ea-813f-459ae5bc01ee.png)\r\n","Url":"https://github.com/angular/components/issues/18704","RelatedDescription":"Open issue \"Facing an issue using MatTable\" (#18704)"},{"Id":"575350876","IsPullRequest":false,"CreatedAt":"2020-03-04T12:08:19","Actor":"staffordp","Number":"18703","RawContent":null,"Title":"Screen reader announces table header twice.","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: [https://stackblitz.com/angular/xekbmvlqeqj?file=src%2Fapp%2Ftable-sorting-example.html]\r\n\r\nSteps to reproduce:\r\n1. Create a table with sorting as dpcumented here: https://material.angular.io/components/sort/overview \r\n - or - click the Stackblitz example on the same page\r\n2. Ensure NVDA Reader is installed and enabled (https://www.nvaccess.org/) \r\n3. Use the provided example for a sorting table on the same page and watch the NVDA speech output when you click a header name. [https://stackblitz.com/angular/xekbmvlqeqj?file=src%2Fapp%2Ftable-sorting-example.html]\r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nIt announce the column once like \"Change sorting for name  column 2  clickable\"\r\n\r\n#### Actual Behavior\r\nNVDA reader announces the element twice as \"Change sorting for name  column 2  clickable  Change sorting for name  button\"\r\n\r\nWhat behavior did you actually see?\r\nSee above for actual nehavior\r\n\r\n#### Environment\r\n\r\n- Angular:\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18703","RelatedDescription":"Open issue \"Screen reader announces table header twice.\" (#18703)"},{"Id":"574702273","IsPullRequest":false,"CreatedAt":"2020-03-04T09:15:17","Actor":"bl9l","Number":"18692","RawContent":null,"Title":"mat-datepicker behaviour","State":"closed","Body":"Hi.\r\nThere are two bugs.\r\n\r\nhttps://stackblitz.com/edit/components-issue-pv5czm?file=src%2Fmain.ts\r\n \r\n \r\n#### Expected Behavior\r\n\r\n1. I expect that `mat-datepicker` will not change my manual input data\r\n2. Open the datepicker without bluring the input\r\n\r\n\r\n#### Actual Behavior\r\n\r\n1. In russian locale we use `dd.mm.yyyy format`. And when I try to type the date myself, sometimes it swaps the day and the month. For instance if you type `12.11.2003` , after the blur it changes to `11.12.2003`.\r\n2. If I will try to open the datepicker on the focus event like this `(focus)=\"picker.open()\"`, it will blur the input and `required` error will appear.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9\r\n- CDK/Material: 9\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18692","RelatedDescription":"Closed issue \"mat-datepicker behaviour\" (#18692)"},{"Id":"575224475","IsPullRequest":false,"CreatedAt":"2020-03-04T08:36:03","Actor":"VijayanRamachandran","Number":"18702","RawContent":null,"Title":"TestHarness API locatorFor is not working for ShadowDOM Element","State":"open","Body":"#### Reproduction\r\n\r\nBelow is the code snippet where we created an Angular Element and Written TestHarness for that Angular Element.\r\n\r\n**angular-element-example.component.html**\r\n\r\n![Tag](https://user-images.githubusercontent.com/25306014/75859613-52d6e180-5e20-11ea-8b0f-128f59a87f19.png)\r\n\r\n**angular-element-example.component.ts**\r\n \r\nimport { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './angular-element-example.component.html',\r\n  styleUrls: ['./angular-element-example.component.css'],\r\n  encapsulation: ViewEncapsulation.ShadowDom\r\n})\r\n\r\nexport class AngularElementExampleComponent \r\n{\r\n  Message = \"Message from AngularElement\";\r\n  constructor() {   }  \r\n}\r\n\r\n**AngularElementTestHarness.ts**\r\n\r\nimport { ComponentHarness } from '@angular/cdk/testing';\r\n\r\nexport class AngularElementTestHarness extends ComponentHarness\r\n{    \r\n    static hostSelector = 'angular-element-example';    \r\n    private heading1 = this.locatorFor('h1');\r\n    public async headingText(): Promise<string>  \r\n    {\r\n        const trigger = await this.heading1;\r\n        return (await trigger()).text();\r\n    }\r\n}\r\n\r\nBelow is the Element Hierarchy in Inspect Tool.\r\n\r\n![ElementHierarchy](https://user-images.githubusercontent.com/25306014/75859741-96c9e680-5e20-11ea-9c4d-7e1e41bf6eca.png)\r\n\r\n#### Actual Behavior\r\n\r\nWhen I try to run below test we are getting error as\r\n\r\n**Error: Failed to find element matching one of the following queries: \r\n(TestElement for element matching selector: \"h1\")**\r\n\r\n![Test](https://user-images.githubusercontent.com/25306014/75859888-df819f80-5e20-11ea-8830-e29cbea2eb9a.png)\r\n\r\nAs h1 is in #shadow-root, AngularElementTestHarness could not able to locate h1 \r\n**private heading1 = this.locatorFor('h1');**\r\n\r\nSame is the case when we use TestHarness for any WebComponents developed in lit-element or Polymer.\r\n\r\n#### Expected Behavior\r\n\r\nAngularElementTestHarness should be able to locate h1 even h1 is in #shadow-root\r\n\r\n**private heading1 = this.locatorFor('h1');**\r\n\r\n#### PS: \r\nIn Angular Element (angular-element-example.component.ts) if I change the encapsulation as below then TestHarness is working as expected.\r\n\r\n**encapsulation: ViewEncapsulation.None**\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.2\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  Windows\r\n","Url":"https://github.com/angular/components/issues/18702","RelatedDescription":"Open issue \"TestHarness API locatorFor is not working for ShadowDOM Element\" (#18702)"},{"Id":"574721063","IsPullRequest":false,"CreatedAt":"2020-03-04T06:37:02","Actor":"MDzyga","Number":"18693","RawContent":null,"Title":"NestedTreeNode - randomly nodes disappear","State":"closed","Body":"#### Expected Behavior\r\nI would like to see all nodes.\r\n\r\n\r\n#### Actual Behavior\r\nRandomly I see all nodes or only 1, this issue occured when I have to wait for data from backend.\r\n\r\nCorrect:\r\n![image](https://user-images.githubusercontent.com/38663990/75792199-eb605980-5d6d-11ea-86ff-6a2187abffd8.png)\r\n\r\nIncorrect:\r\n![image](https://user-images.githubusercontent.com/38663990/75792238-f3b89480-5d6d-11ea-87eb-b6646e4a9250.png)\r\n\r\nBackend always returned the same data\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.4\r\n- CDK/Material: 9.1.0\r\n- Browser(s): no matter\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18693","RelatedDescription":"Closed issue \"NestedTreeNode - randomly nodes disappear\" (#18693)"},{"Id":"575091057","IsPullRequest":false,"CreatedAt":"2020-03-04T02:27:52","Actor":"hfournier","Number":"18701","RawContent":null,"Title":"mat-slide-toggle using incorrect text color in dark-theme","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Add mat-slide-toggle to menu in dark-theme\r\n\r\n```\r\n<mat-menu #userMenu=\"matMenu\">\r\n  <button mat-menu-item (click)=\"logout()\">Logout</button>\r\n  <mat-slide-toggle\r\n     [(ngModel)]=\"darktheme\"\r\n     (change)=\"changeTheme($event)\">Dark Theme\r\n  </mat-slide-toggle>\r\n</mat-menu>\r\n``` \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nExpect mat-slide-toggle text to be white in dark-theme\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\nmat-slide-toggle text is black in dark-theme\r\n\r\n![image](https://user-images.githubusercontent.com/13371332/75838936-3d0fe080-5d7c-11ea-956d-e611823f1900.png)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.4\r\n- CDK/Material: 9.0.1\r\n- Browser(s): Firefox, Edge (chromium)\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18701","RelatedDescription":"Open issue \"mat-slide-toggle using incorrect text color in dark-theme\" (#18701)"},{"Id":"574953572","IsPullRequest":true,"CreatedAt":"2020-03-03T21:21:24","Actor":"crisbeto","Number":"18698","RawContent":null,"Title":"fix(drag-drop): detect changes on custom preview/placeholder before measuring","State":"open","Body":"When a custom preview/placeholder is created, its dimensions are measured so that they can be used while sorting. The problem is that we weren't detecting changes after creation which can cause the dimensions to be incorrect, if they change based on a data binding. These changes check for changes after inserting the embedded view.\r\n\r\nFixes #18622.","Url":"https://github.com/angular/components/pull/18698","RelatedDescription":"Open PR \"fix(drag-drop): detect changes on custom preview/placeholder before measuring\" (#18698)"},{"Id":"574946419","IsPullRequest":false,"CreatedAt":"2020-03-03T21:09:59","Actor":"Achilles1515","Number":"18697","RawContent":null,"Title":"[drag-drop] Re-entering the initial container can place the dragged item in an undesirable index","State":"open","Body":"#### Reproduction\r\n\r\n\"Drag&Drop connected sorting group\" example from the [official examples page](https://material.angular.io/cdk/drag-drop/examples).\r\n \r\n \r\n#### Behavior\r\n\r\nRegarding the [following code line](https://github.com/angular/components/blob/master/src/cdk/drag-drop/drag-ref.ts#L856): \r\n\r\n```ts\r\nthis._dropContainer.enter(this, x, y,\r\n            // If we're re-entering the initial container,\r\n            // put item the into its starting index to begin with.\r\n            newContainer === this._initialContainer ? this._initialIndex : undefined);\r\n```\r\n\r\nLike the comment states, re-entering the initial container will place the item back in its initial position. Checks to perform a sort occur after this code line.\r\n\r\nThis has the potential to cause undesirable behavior when a container is re-entered at a location not near the initial index AND when no sorting occurs.\r\n\r\nLike this:\r\n![GIF](https://user-images.githubusercontent.com/23387905/75818602-290db400-5d67-11ea-996a-1e67bd869211.gif)\r\n\r\nNow, I assume this behavior was coded this way to better handle when sorting is disabled, because it makes more sense that the item shouldn't be sorted away from its initial index. But when sorting is **enabled** (like in the gif above) and those stated conditions are met, the item doesn't get placed into the expected index.\r\n\r\nCan the following change be made (checking for `sortingDisabled`)?\r\n```ts\r\nthis._dropContainer.enter(this, x, y,\r\n            // If we're re-entering the initial container,\r\n            // put item the into its starting index to begin with.\r\n            newContainer === this._initialContainer && newContainer.sortingDisabled ? this._initialIndex : undefined);\r\n```\r\nWith this change in place, the behavior becomes: \r\n![GIF2](https://user-images.githubusercontent.com/23387905/75819670-15fbe380-5d69-11ea-8f41-5d8ca3bbb040.gif)\r\n\r\n\r\n[StackBlitz with change](https://stackblitz.com/edit/angular-qvajsn?file=src/app/cdk-drag-drop-connected-sorting-group-example.ts)\r\n\r\n","Url":"https://github.com/angular/components/issues/18697","RelatedDescription":"Open issue \"[drag-drop] Re-entering the initial container can place the dragged item in an undesirable index\" (#18697)"},{"Id":"574751284","IsPullRequest":false,"CreatedAt":"2020-03-03T17:10:50","Actor":"ankushgoyal27","Number":"18694","RawContent":null,"Title":"Is there any feature in moveToDate programmatically in mat-calendar. ","State":"closed","Body":"#### Feature Description\r\nIn mat-calender, move to particular date or month programatically would be great. \r\n#### Use Case\r\nI am using mat-calendar in my application as inline calendar. \r\nHaving dropdown to select the month and date. Having date modal button alongside the dropdown. \r\n\r\nIf user select any date from dropdown, then click on date modal button. \r\nDate modal open with the selected value. \r\n\r\nBut the calendar month is displayed with the today's date and month. \r\n\r\n#### Expected:\r\nIn the date modal calendar should display the selected month and date from the dropdown. ","Url":"https://github.com/angular/components/issues/18694","RelatedDescription":"Closed issue \"Is there any feature in moveToDate programmatically in mat-calendar. \" (#18694)"},{"Id":"574806631","IsPullRequest":false,"CreatedAt":"2020-03-03T16:57:53","Actor":"baalimago","Number":"18696","RawContent":null,"Title":"Ripple effect constantly on when having mat-checkbox inside mat-button","State":"closed","Body":"The ripple effect is constantly on when having a mat-checkbox inside a mat-button, both when checked and unchecked.\r\n\r\n**Stackblitz**: https://stackblitz.com/edit/angular-pphx1p\r\n\r\n**How to recreate:**\r\n```\r\n<button mat-button>\r\n<mat-checkbox>Check me!</mat-checkbox>\r\n</button>\r\n```\r\n\r\nVersion: \r\n```[0] % ng --version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 8.3.23\r\nNode: 13.9.0\r\nOS: linux x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.23\r\n@angular-devkit/build-angular     0.803.23\r\n@angular-devkit/build-optimizer   0.803.23\r\n@angular-devkit/build-webpack     0.803.23\r\n@angular-devkit/core              8.3.23\r\n@angular-devkit/schematics        8.3.23\r\n@angular/cdk                      8.2.3\r\n@angular/cli                      8.3.23\r\n@angular/material                 8.2.3\r\n@ngtools/webpack                  8.3.23\r\n@schematics/angular               8.3.23\r\n@schematics/update                0.803.23\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2```","Url":"https://github.com/angular/components/issues/18696","RelatedDescription":"Closed issue \"Ripple effect constantly on when having mat-checkbox inside mat-button\" (#18696)"},{"Id":"574756947","IsPullRequest":false,"CreatedAt":"2020-03-03T15:41:20","Actor":"KlausHans","Number":"18695","RawContent":null,"Title":"Drag-drop: Drag delay (cdkDragStartDelay) does not allow scrolling on mobile Firefox","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Open https://material.angular.io/cdk/drag-drop/overview#delayed-dragging on mobile Firefox 68.5.0, e.g. on tablet or mobile phone\r\n2. Try to scroll with the starting point over the dragable.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nI can scroll.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nI can't scroll.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.4\r\n- CDK/Material: 9.1.0\r\n- Browser(s): mobile Firefox 68.5.0\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Android 8.1.0\r\n\r\nWorks fine on mobile Chrome. Issue is exact the same as the closed and locked https://github.com/angular/components/issues/16224 that is marked as fixed. Apparently it is not fixed for Firefox.\r\n","Url":"https://github.com/angular/components/issues/18695","RelatedDescription":"Open issue \"Drag-drop: Drag delay (cdkDragStartDelay) does not allow scrolling on mobile Firefox\" (#18695)"},{"Id":"574581789","IsPullRequest":false,"CreatedAt":"2020-03-03T10:53:45","Actor":"Nikhilrj22","Number":"18689","RawContent":null,"Title":"Nested stepper - When i click on one step it should show child steps in same line","State":"open","Body":"<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n\r\n\r\n#### What are you trying to do?\r\n\r\nNested stepper - When i click on one step it should show child steps in same line and child steps should have grouped in container\r\n![image(1)](https://user-images.githubusercontent.com/61736540/75769268-e5697900-5d6b-11ea-9e59-185b8e89297b.png)\r\n\r\n\r\n#### What troubleshooting steps have you tried?\r\n\r\n1. I tried to include mat-horizontal-stepper inside one more mat-horizontal-stepper, but this didnt come in single line.\r\n\r\n2. Child steps gets added to the parent stepper, which is wrong\r\n  \r\n#### Environment\r\n\r\n- Angular: 8\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18689","RelatedDescription":"Open issue \"Nested stepper - When i click on one step it should show child steps in same line\" (#18689)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-03-05T05:30:06.5022966Z","RunDurationInMilliseconds":3848}