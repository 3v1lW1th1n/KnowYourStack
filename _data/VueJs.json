{"Data":{"Vue-Issues":{"Issues":[{"Id":"393202320","IsPullRequest":false,"CreatedAt":"2018-12-20T20:40:51","Actor":"catskull","Number":"9235","RawContent":null,"Title":"Auto generate a key in v-for if one is not specified","State":"closed","Body":"### What problem does this feature solve?\r\nIf a key is not supplied in v-for, there will be a warning linking to the docs (which is helpful). However if Vue really just needs a unique ID so it can keep track of the elements, and the developer doesn't need a key, then Vue should just create it's own key to use rather than warning the developer.\r\n\r\nOften items I have in a v-for don't really have any unique identifiers that would be good to use for a key, so I'm left with doing janky things to create a unique key, which seems brittle since unique identifier generation is a non-trivial problem. Someone proposed using something like https://github.com/ericelliott/cuid to do it, but I though, why not just have Vue do it for me under the hood?\r\n\r\n### What does the proposed API look like?\r\nCurrent API:\r\n```\r\n<div v-for=\"item in items\" :key=\"item.id\">\r\n  <!-- content -->\r\n</div>\r\n```\r\n\r\nCurrent API which results in a warning:\r\n```\r\n<div v-for=\"item in items\">\r\n  <!-- content -->\r\n</div>\r\n```\r\n\r\nProposed API which will not result in a warning:\r\n```\r\n<div v-for=\"item in items\">\r\n  <!-- content -->\r\n</div>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9235","RelatedDescription":"Closed issue \"Auto generate a key in v-for if one is not specified\" (#9235)"},{"Id":"393159498","IsPullRequest":false,"CreatedAt":"2018-12-20T18:20:14","Actor":"AnalyzePlatypus","Number":"9234","RawContent":null,"Title":"Transition is erroneously run when placed with bizarre sequence of sibling elements. ","State":"open","Body":"\r\n### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/analyzeplatypus/eywraw8t/513878/](https://jsfiddle.net/analyzeplatypus/eywraw8t/513878/)\r\n\r\n![screen recording 2018-12-20 at 8 21 07 pm mov](https://user-images.githubusercontent.com/18376110/50303197-00b4d500-0495-11e9-9f02-145099a68d15.gif)\r\n\r\n### Steps to reproduce\r\nThe fiddle contains a seemingly random sequence of elements that illustrates the issue (described below). \r\n\r\n1. Open the JSFiddle\r\n2. Click the \"Change\" button\r\n3. The transition plays (it should not).\r\n\r\nTry removing any of the DOM elements and the errant transition no longer plays!\r\n\r\n### What is expected?\r\nThe transition should not run.\r\n(CSS transition classes should not be applied, hooks should not be called, etc.)\r\n\r\n### What is actually happening?\r\nThe transition is run (CSS transition classes are applied).\r\n\r\n---\r\nI came across this while building a complex form with multiple buttons that appear/disappear based on form state.\r\nI noticed duplicated buttons in one of my unit tests, and found that a transition was being run even though its child's `v-if` binding was not being changed. I duplicated the component and whittled it down until I arrived at the attached JSFiddle.\r\n\r\n\r\nThis issue appears when the following sequence of elements are aligned:\r\n1. A boolean entry in the Vue component's `data` dictionary (`hasChanges: false`, in the JSFiddle)\r\n\r\nThe DOM contains\r\n2. A `<div>` whose `v-if` is bound to the boolean entry (1).\r\n2. A `<transition>` containing a button which modifies the boolean entry (1).\r\n3. An empty `<transition>` element.\r\n4. A `<div>` whose `v-if` is bound to the boolean entry (1) modified by logical NOT (!). (In the fiddle, `v-if=\"!hasChanges\"`).\r\n\r\nWith this exact structure, modifying the boolean entry (1) will run the transition - even though the transition is not bound to the boolean at all!\r\n\r\nIf you remove any of the above elements, **or even reorder them** (!) the errant transition will not run (which is the correct behavior).\r\n\r\n\r\nWhy does the transition run when placed with this particular set of siblings in this particular order?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9234","RelatedDescription":"Open issue \"Transition is erroneously run when placed with bizarre sequence of sibling elements. \" (#9234)"},{"Id":"392963575","IsPullRequest":false,"CreatedAt":"2018-12-20T09:42:45","Actor":"mbana","Number":"9233","RawContent":null,"Title":"Modern Mode: `vue-cli-service build --modern` only","State":"closed","Body":"https://cli.vuejs.org/guide/browser-compatibility.html#modern-mode\r\n\r\n> Vue CLI will produce two versions of your app: one modern bundle targeting modern browsers that support ES modules, and one legacy bundle targeting older browsers that do not.\r\n\r\nI want to build the `--modern` **only** version. I do not require the legacy bundle.\r\n\r\nHow do I opt out of this?","Url":"https://github.com/vuejs/vue/issues/9233","RelatedDescription":"Closed issue \"Modern Mode: `vue-cli-service build --modern` only\" (#9233)"},{"Id":"392895898","IsPullRequest":false,"CreatedAt":"2018-12-20T09:05:11","Actor":"DominusVilicus","Number":"9232","RawContent":null,"Title":"vm.$isServer returns false when using Jest in testEnvironment Node","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://github.com/futureaus/servue/tree/min-rep](https://github.com/futureaus/servue/tree/min-rep)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n`npm install --dev`\r\n`jest`\r\n\r\n### What is expected?\r\n.vue file to render correctly\r\n\r\n### What is actually happening?\r\n```\r\n  × renders file correctly (2710ms)\r\n\r\n  ● renders file correctly\r\n\r\n    ReferenceError: head is not defined\r\n\r\n      at Object.eval (eval at <anonymous> (node_modules/lodash.template/index.js:1089:12), <anonymous>:8:11)\r\n      at TemplateRenderer.renderSync (node_modules/vue-server-renderer/build.js:8020:16)\r\n      at RenderContext.done (node_modules/vue-server-renderer/build.js:8264:39)\r\n      at RenderContext.next (node_modules/vue-server-renderer/build.js:2459:19)\r\n      at RenderContext.cachedWrite [as write] (node_modules/vue-server-renderer/build.js:2323:9)\r\n      at RenderContext.next (node_modules/vue-server-renderer/build.js:2473:25)\r\n      at cachedWrite (node_modules/vue-server-renderer/build.js:2323:9)\r\n      at renderStringNode$1 (node_modules/vue-server-renderer/build.js:7599:5)\r\n      at RenderContext.renderNode (node_modules/vue-server-renderer/build.js:7402:5)\r\n      at RenderContext.next (node_modules/vue-server-renderer/build.js:2469:23)\r\n      at cachedWrite (node_modules/vue-server-renderer/build.js:2323:9)\r\n      at renderElement (node_modules/vue-server-renderer/build.js:7642:5)\r\n      at renderNode (node_modules/vue-server-renderer/build.js:7406:5)\r\n      at renderComponentInner (node_modules/vue-server-renderer/build.js:7524:3)\r\n      at renderComponent (node_modules/vue-server-renderer/build.js:7488:5)\r\n      at renderNode (node_modules/vue-server-renderer/build.js:7404:5)\r\n\r\nundefined\r\nTest Suites: 1 failed, 1 total\r\nTests:       1 failed, 1 total\r\nSnapshots:   0 total\r\nTime:        4.839s, estimated 7s\r\nRan all test suites.\r\n```\r\n---\r\nThis only happens when using Jest, to test in a normal node environment use `node tests/normal.js`\r\n\r\nJest, or an error with the environment detection of Vue is causing `global.process.env.VUE_ENV` to return `undefined` instead of `'server'`. \r\n\r\nJest is running in `\"testEnvironment\" : \"node\"`\r\n\r\nThe **$isServer** is being used in `lib/imports/headify.js`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9232","RelatedDescription":"Closed issue \"vm.$isServer returns false when using Jest in testEnvironment Node\" (#9232)"},{"Id":"392890056","IsPullRequest":false,"CreatedAt":"2018-12-20T04:56:49","Actor":"KaelWD","Number":"9231","RawContent":null,"Title":"SSR: style binding keeps falsy values","State":"open","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/o95x14r0xz](https://codesandbox.io/s/o95x14r0xz) (I know, minimal repro below)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nView page source\r\n\r\n### What is expected?\r\n```html\r\n<div class=\"v-responsive\" style=\"height:480px;\" data-v-2a183b29>\r\n```\r\n\r\n### What is actually happening?\r\n```html\r\n<div class=\"v-responsive\" style=\"height:480px;max-height:undefined;max-width:undefined;width:undefined;\" data-v-2a183b29>\r\n```\r\n\r\n---\r\nReproduce in `vue/test/ssr/ssr-string.spec.js` then run `npm run test:ssr`:\r\n```js\r\n  it('falsy style value', done => {\r\n    renderVmWithOptions({\r\n      template: '<div :style=\"style\"></div>',\r\n      data: {\r\n        style: {\r\n          opacity: 0,\r\n          color: null\r\n        }\r\n      }\r\n    }, result => {\r\n      expect(result).toContain(\r\n        '<div data-server-rendered=\"true\" style=\"opacity:0;></div>'\r\n      )\r\n      done()\r\n    })\r\n  })\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9231","RelatedDescription":"Open issue \"SSR: style binding keeps falsy values\" (#9231)"},{"Id":"392762102","IsPullRequest":false,"CreatedAt":"2018-12-19T20:35:40","Actor":"Orimay","Number":"9230","RawContent":null,"Title":"V-For list source in VNode Children","State":"closed","Body":"### What problem does this feature solve?\r\nThis would make it possible for directives to look into list sources and apply manipulations to those. For instance, I'd love to create a drag directive, that will make it possible to target `v-for` source and apply changes directly without the need of additional array pass as an argument to the directive. There could possibly be many other uses, which I am not aware of, but this feature is easy to implement and wouldn't seem to hurt\r\n\r\n### What does the proposed API look like?\r\nI would use `vnode.children.list`. The only line needs to get added:\r\n\r\n/vue/src/core/instance/render-helpers/render-list.js, after line 36\r\n\r\n`(ret: any).list = val`\r\n\r\nThat's it! Thank you in advance\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9230","RelatedDescription":"Closed issue \"V-For list source in VNode Children\" (#9230)"},{"Id":"392721684","IsPullRequest":false,"CreatedAt":"2018-12-19T18:17:35","Actor":"adrienbaron","Number":"9229","RawContent":null,"Title":"Memory Leak When Using Synchronous Loading With Async Components","State":"open","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/xlly27wy8z](https://codesandbox.io/s/xlly27wy8z)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nSame as: https://github.com/vuejs/vue/issues/8740\r\n\r\n- Load the reproduction link in Chrome\r\n- Open Chrome Dev Tools\r\n- Go to the memory tab\r\n- Click on the \"Destroy\" button\r\n- Take a \"Heap Snapshot\"\r\n- Filter to look for \"Detached HTMLDivElement\"\r\n- You should see 2 leaking HTMLDivElement\r\n\r\n### What is expected?\r\nContext for loading the Async component should be cleared.\r\n\r\n### What is actually happening?\r\nThere are 2 components still attached to a context of an Async loading Component.\r\nIt is not cleared if the Async component is loaded synchronously.\r\n\r\n---\r\nThis is the same issue as https://github.com/vuejs/vue/issues/8740. However the fix for it only fixes the case when loading is actually async. Synchronous async loading does not call the \"forceRender\" (https://github.com/vuejs/vue/commit/2e472c5e5e559a7a4083b4164ffe0c3911ce0651#diff-293f31f6a318619ad803b971ef0724a3R64) so the contexts array is not cleared.\r\nI can try to fix it and submit a PR if needed.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9229","RelatedDescription":"Open issue \"Memory Leak When Using Synchronous Loading With Async Components\" (#9229)"},{"Id":"392662572","IsPullRequest":false,"CreatedAt":"2018-12-19T16:12:49","Actor":"jmotes","Number":"9228","RawContent":null,"Title":"Unpkg.com bare URL broken","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://unpkg.com/vue](https://unpkg.com/vue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nGo to https://unpkg.com/vue\r\n\r\nObserve redirect \r\n\r\n### What is expected?\r\nRedirect to https://unpkg.com/vue@2.5.21/dist/vue.min.js\r\n\r\n### What is actually happening?\r\nRe-direct to https://unpkg.com/vue@2.5.21/index.js (404 error) from multiple locations in the US (see #need-help on Discord).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9228","RelatedDescription":"Closed issue \"Unpkg.com bare URL broken\" (#9228)"},{"Id":"392650353","IsPullRequest":true,"CreatedAt":"2018-12-19T15:23:21","Actor":"cedric05","Number":"9227","RawContent":null,"Title":"fix #9224 Warn when the type of a prop isn't a constructor","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/9227","RelatedDescription":"Open PR \"fix #9224 Warn when the type of a prop isn't a constructor\" (#9227)"},{"Id":"392593720","IsPullRequest":false,"CreatedAt":"2018-12-19T14:08:16","Actor":"weisiqian","Number":"9226","RawContent":null,"Title":"建议vue支持配置中心","State":"closed","Body":"### What problem does this feature solve?\r\n发布到线上后很有可能遇到后端接口地址发生变动的情况，而程序发布后修改配置是一件很麻烦的事情，尤其是访问量很高的情况下根本不可能停止线上程序来修改配置文件；此外当高可用情况下，修改集群内所有实例的配置文件更是一件麻烦的事情，希望vue能支持给正在飞行的飞机换零件，比如SpringCloud Config这种。\r\n\r\n### What does the proposed API look like?\r\n无\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9226","RelatedDescription":"Closed issue \"建议vue支持配置中心\" (#9226)"},{"Id":"392515791","IsPullRequest":false,"CreatedAt":"2018-12-19T09:50:11","Actor":"RuphiLau","Number":"9225","RawContent":null,"Title":"Vue's unbind of custom directives provides unexpected 'el'","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://codepen.io/RuphiLau/pen/NebaQB](https://codepen.io/RuphiLau/pen/NebaQB)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click 'HIDE' to make 'show' set to false\r\n2. See the output of console, and it prints 'b' and 'c'\r\n\r\n### What is expected?\r\nIt should print 'a' and 'c'\r\n\r\n### What is actually happening?\r\nIt prints 'b' and 'c'\r\n\r\n---\r\nIf I add a key for each p tag, the problem disappeared, but that's inconvenience for such a non-list situation\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9225","RelatedDescription":"Closed issue \"Vue's unbind of custom directives provides unexpected 'el'\" (#9225)"},{"Id":"392480644","IsPullRequest":false,"CreatedAt":"2018-12-19T07:57:17","Actor":"etnolover","Number":"9224","RawContent":null,"Title":"Warn when the type of a prop isn't a constructor ","State":"open","Body":"### What problem does this feature solve?\r\nIt suppose better error handling for prop types errors.\r\nSteps to reproduce error:\r\n1. Set prop type equals to string ('String', not String):\r\n```javascript\r\nexampleProp: {\r\n  type: 'String',\r\n}\r\n```\r\n\r\n2. Run project and get an error:\r\n```javascript\r\n[Vue warn]: Error in nextTick: \"TypeError: Right-hand side of 'instanceof' is not an object\"\r\nTypeError: Right-hand side of 'instanceof' is not an object\r\n    at assertType (vue.esm.js:1668)\r\n    at assertProp (vue.esm.js:1626)\r\n    at validateProp (vue.esm.js:1560)\r\n    at loop (vue.esm.js:3334)\r\n    at initProps (vue.esm.js:3367)\r\n    at initState (vue.esm.js:3308)\r\n    at VueComponent.Vue._init (vue.esm.js:4628)\r\n    at new VueComponent (vue.esm.js:4798)\r\n    at createComponentInstanceForVnode (vue.esm.js:4310)\r\n    at init (vue.esm.js:4131)\r\n```\r\n\r\nError log is not evident and it is difficult to understand the source of problem (first time with this error anyway).\r\n\r\n### What does the proposed API look like?\r\nError message in this case may look like:\r\n```javascript\r\n\"Incorrect prop type 'exampleProp' at:123 (where 123 is example string position in the code)\"\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9224","RelatedDescription":"Open issue \"Warn when the type of a prop isn't a constructor \" (#9224)"},{"Id":"392204667","IsPullRequest":false,"CreatedAt":"2018-12-18T15:42:26","Actor":"gilles-crealp","Number":"9223","RawContent":null,"Title":"Component watcher fired multiple times when passing props as array (in the template)","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/eywraw8t/510740/](https://jsfiddle.net/eywraw8t/510740/)\r\n\r\n### Steps to reproduce\r\nGo to the reproduction link, run the code and watch the console.\r\n\r\n### What is expected?\r\nFirst watcher (`watcher one (A)`) to be called only once.\r\n\r\n### What is actually happening?\r\nFirst watcher (`watcher one (A)`) is called twice (at the same time that the second prop is modified).\r\n\r\n---\r\n\r\nHappens only when you pass a prop changed to array in the template.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9223","RelatedDescription":"Closed issue \"Component watcher fired multiple times when passing props as array (in the template)\" (#9223)"},{"Id":"392124584","IsPullRequest":false,"CreatedAt":"2018-12-18T13:39:06","Actor":"doudounannan","Number":"9221","RawContent":null,"Title":"Auto Prefixing support for css3 animation","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://codepen.io/doudounannan/pen/JwRLBO?editors=1111](https://codepen.io/doudounannan/pen/JwRLBO?editors=1111)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```template\r\n<div class=\"animation\" :style=\"animationStyle>\r\n...\r\n<div>\r\n```\r\n\r\n```js\r\n...\r\ncomputed: {\r\n        animationStyle() {\r\n        return {\r\n                 animation: `marquee 2s linear infinite forwards`\r\n        };\r\n}\r\n...\r\n```\r\n\r\n### What is expected?\r\n```html\r\n<div class=\"animation\" style=\"-webkit-animation: marquee 2s linear 0s infinite normal forwards running;animation: marquee 2s linear 0s infinite normal forwards running;\">\r\n```\r\n\r\n### What is actually happening?\r\n```html\r\n<div class=\"animation\" style=\"animation: marquee 2s linear 0s infinite normal forwards running;\">\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9221","RelatedDescription":"Closed issue \"Auto Prefixing support for css3 animation\" (#9221)"},{"Id":"392145923","IsPullRequest":false,"CreatedAt":"2018-12-18T13:00:20","Actor":"nialna","Number":"9222","RawContent":null,"Title":"Add an option to throw global errors, making it possible for debuggers to automatically break on error.","State":"open","Body":"### What problem does this feature solve?\r\nCurrently, the [globalHandleError](https://github.com/nialna/vue/blob/dev/src/core/util/error.js#L27) function will intercept all errors thrown in components and log them. It can also pass them to an external error handler, but that external error handler won't be able to throw it because the call to `config.errorHandler` is wrapped in a try catch.\r\n\r\nIn vanilla JS, when an unhandled error happens in your code, the debugger can break immediately, giving you access to the stack and context. When using VueJS, we have no way of doing this because the errors are always handled by Vue.\r\n\r\n### What does the proposed API look like?\r\nThe simplest way I can think of is to add a new `config` option, for example:\r\n\r\n```js\r\nVue.config.throwUnhandledErrors = true;\r\n```\r\n\r\nThen in `globalHandleError`, we could check for that flag and throw errors:\r\n\r\n```js\r\nfunction globalHandleError (err, vm, info) {\r\n  if (config.throwUnhandledErrors) {\r\n    throw(err);\r\n  } else if (config.errorHandler) {\r\n    try {\r\n      return config.errorHandler.call(null, err, vm, info)\r\n    } catch (e) {\r\n      logError(e, null, 'config.errorHandler')\r\n    }\r\n  }\r\n  logError(err, vm, info)\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9222","RelatedDescription":"Open issue \"Add an option to throw global errors, making it possible for debuggers to automatically break on error.\" (#9222)"},{"Id":"391482646","IsPullRequest":false,"CreatedAt":"2018-12-18T11:08:35","Actor":"DominikSerafin","Number":"9207","RawContent":null,"Title":"Client-side rendered template adds additional Carriage Return characters to DOM","State":"closed","Body":"## Version\r\n\r\nvue: 2.5.21\r\nvue-server-renderer: 2.5.21\r\nvue-template-compiler: 2.5.21\r\nvue-loader: 15.4.2\r\nwebpack: 4.27.1\r\n@babel/core: 7.2.0\r\n@babel/plugin-transform-runtime: 7.2.0\r\n@babel/preset-env: 7.2.0\r\n\r\n(I'm not sure, but I think this problem was non-existent when I was using vue-loader@13)\r\n\r\n## Reproduction link\r\n\r\n(Needs build step)\r\n\r\n## Steps to reproduce\r\n\r\n1. Write source code with markup elements that have new lines in it\r\n2. Build it & run it (or hot-reload in development environment)\r\n3. (More info in the image below)\r\n\r\n\r\n## What is expected?\r\nLine feeds, carriage returns and whitespaces should be removed from the compiled template. Like here: https://vuejs.org/v2/guide/render-function.html#Template-Compilation\r\n\r\nHydration doesn't add additional carriage return (%0D) characters to rendered content.\r\n\r\nVisually rendered content doesn't have any unnecessary spaces.\r\n\r\n\r\n## What is actually happening?\r\n\r\nLine feeds, carriage returns and whitespaces remain in compiled code and on top of that render differently after SSR hydration.\r\n\r\nHydration adds additional carriage return (%0D) characters to rendered content.\r\n\r\nVisually rendered content has unnecessary spaces after SSR hydration (but not before).\r\n\r\nThis behavior can be observed here: https://workaline.com/collection/vue (it looks fine before hydration kicks in)\r\n\r\n## Image explaining it a little bit more: \r\n\r\n![crlf](https://user-images.githubusercontent.com/7447244/50055831-346dc300-0154-11e9-83e6-b96d4ed74b6e.png)\r\n\r\n\r\n## Configs:\r\n\r\nNote: I've tried changing vue-loader `compilerOptions.preserveWhitespace` to different values - but that didn't changed anything.\r\n\r\n### webpack.base.config.js\r\n\r\n```\r\n/*------------------------------------*\\\r\n  Imports\r\n\\*------------------------------------*/\r\nconst NODE_ENV = process.env.NODE_ENV || 'development';\r\nconst path = require('path');\r\nconst postCSSPresetEnv = require('postcss-preset-env');\r\n\r\n\r\n/*------------------------------------*\\\r\n  Options\r\n\\*------------------------------------*/\r\nconst browsersList = [\r\n  '> 1%',\r\n  'ie >= 10',\r\n  'ie_mob >= 10',\r\n  'ff >= 40',\r\n  'chrome >= 40',\r\n  'safari >= 7',\r\n  'ios >= 7',\r\n  'android >= 4.4',\r\n]\r\n\r\n\r\n/*------------------------------------*\\\r\n  Base\r\n\\*------------------------------------*/\r\nvar baseConfig = {\r\n\r\n  mode: NODE_ENV,\r\n\r\n  devtool: 'cheap-module-eval-source-map',\r\n\r\n  module: {\r\n\r\n    rules: [\r\n\r\n      {\r\n        test: /\\.vue$/,\r\n        loader: 'vue-loader',\r\n        options: {\r\n          compilerOptions: {\r\n            preserveWhitespace: false\r\n          }\r\n        }\r\n      },\r\n\r\n      {\r\n        test: /\\.js$/,\r\n        include : path.join(__dirname, '/src'),\r\n        exclude: /node_modules/,\r\n        use: [\r\n          {\r\n            loader: 'babel-loader',\r\n            options: {\r\n              cacheDirectory: true,\r\n              compact: true,\r\n              presets: [\r\n                [\r\n                  '@babel/preset-env', {\r\n                    targets: {\r\n                      browsers: browsersList,\r\n                    }\r\n                  },\r\n                ],\r\n              ],\r\n\r\n            },\r\n          },\r\n        ],\r\n      },\r\n\r\n      {\r\n        test: /\\.scss$/,\r\n        exclude: /node_modules/,\r\n        use: [\r\n          {\r\n            loader: 'vue-style-loader',\r\n          },\r\n          {\r\n            loader: 'css-loader',\r\n          },\r\n          {\r\n            loader: 'sass-loader',\r\n            options: {\r\n              outputStyle: 'compressed',\r\n            },\r\n          },\r\n          {\r\n            loader: 'postcss-loader',\r\n            options: {\r\n              ident: 'postcss',\r\n              plugins: () => [\r\n                postCSSPresetEnv({\r\n                  browsers: browsersList,\r\n                }),\r\n              ]\r\n            },\r\n          },\r\n\r\n        ],\r\n      },\r\n\r\n      {\r\n        test: /\\.css$/,\r\n        use: [\r\n          {\r\n            loader: 'vue-style-loader',\r\n          },\r\n          {\r\n            loader: 'css-loader',\r\n          },\r\n          {\r\n            loader: 'postcss-loader',\r\n            options: {\r\n              ident: 'postcss',\r\n              plugins: () => [\r\n                postCSSPresetEnv({\r\n                  browsers: browsersList,\r\n                }),\r\n              ]\r\n            },\r\n          },\r\n\r\n        ],\r\n      },\r\n\r\n      {\r\n        test: /\\.(png|jpe?g|gif|eot|svg|otf|ttf|woff|woff2)(\\?\\S*)?$/,\r\n        use: [\r\n          {\r\n            loader: 'url-loader',\r\n            query: {\r\n              limit: 100000000,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n\r\n    ],\r\n\r\n  },\r\n\r\n};\r\n\r\n\r\n/*------------------------------------*\\\r\n  Export\r\n\\*------------------------------------*/\r\nmodule.exports = baseConfig;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### webpack.client.config.js\r\n\r\n```\r\n/*------------------------------------*\\\r\n  Imports\r\n\\*------------------------------------*/\r\nconst path = require('path');\r\nconst webpack = require('webpack');\r\nconst webpackMerge = require('webpack-merge');\r\nconst WebpackCleanupPlugin = require('webpack-cleanup-plugin');\r\nconst VueLoaderPlugin = require('vue-loader/lib/plugin');\r\nconst VueSSRClientPlugin = require('vue-server-renderer/client-plugin');\r\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;\r\nconst NODE_ENV = process.env.NODE_ENV || 'development';\r\n\r\n\r\n/*------------------------------------*\\\r\n  Import Base Config\r\n\\*------------------------------------*/\r\nvar baseConfig = require('./webpack.base.config.js');\r\n\r\n\r\n/*------------------------------------*\\\r\n  Client\r\n\\*------------------------------------*/\r\nvar clientConfig = webpackMerge(baseConfig, {\r\n\r\n  entry: {\r\n    app: path.join(__dirname, '/src/entry.client.js'),\r\n  },\r\n\r\n  plugins: [\r\n    new webpack.DefinePlugin({\r\n      'process.env': {\r\n        NODE_ENV: '\"' + NODE_ENV + '\"',\r\n        VUE_ENV: '\"client\"',\r\n      }\r\n    }),\r\n    new VueLoaderPlugin(),\r\n    new VueSSRClientPlugin(),\r\n  ],\r\n\r\n\r\n});\r\n\r\n\r\n/*------------------------------------*\\\r\n  Development\r\n\\*------------------------------------*/\r\nif (NODE_ENV === 'development') {\r\n\r\n  clientConfig.output = {\r\n    path: path.join(__dirname, '/dist'),\r\n    publicPath: '/dist/',\r\n    filename: '[name].[hash].js',\r\n  };\r\n\r\n}\r\n\r\n\r\n/*------------------------------------*\\\r\n  Production\r\n\\*------------------------------------*/\r\nif (NODE_ENV === 'production') {\r\n\r\n  clientConfig.devtool = '';\r\n\r\n  clientConfig.output = {\r\n    path: path.join(__dirname, '/dist'),\r\n    publicPath: '/dist/',\r\n    filename: '[name].[hash].js',\r\n  }\r\n\r\n  clientConfig.plugins = (clientConfig.plugins || []).concat([\r\n\r\n    new WebpackCleanupPlugin({\r\n      preview: false,\r\n    }),\r\n\r\n    new BundleAnalyzerPlugin({\r\n      analyzerMode: 'static',\r\n      openAnalyzer: false,\r\n    }),\r\n\r\n  ]);\r\n\r\n}\r\n\r\n\r\n/*------------------------------------*\\\r\n  Export\r\n\\*------------------------------------*/\r\nmodule.exports = clientConfig;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n### webpack.server.config.js\r\n\r\n\r\n```\r\n/*------------------------------------*\\\r\n  Imports\r\n\\*------------------------------------*/\r\nconst path = require('path');\r\nconst webpack = require('webpack');\r\nconst webpackMerge = require('webpack-merge');\r\nconst packageJSON = require('../../package.json');\r\nconst VueLoaderPlugin = require('vue-loader/lib/plugin');\r\nconst VueSSRServerPlugin  = require('vue-server-renderer/server-plugin');\r\nconst NODE_ENV = process.env.NODE_ENV || 'development';\r\n\r\n\r\n/*------------------------------------*\\\r\n  Import Base Config\r\n\\*------------------------------------*/\r\nvar baseConfig = require('./webpack.base.config.js');\r\n\r\n\r\n/*------------------------------------*\\\r\n  Server\r\n\\*------------------------------------*/\r\nvar serverConfig = webpackMerge(baseConfig, {\r\n\r\n  target: 'node',\r\n\r\n  externals: Object.keys(packageJSON.dependencies),\r\n\r\n  entry: path.join(__dirname, '/src/entry.server.js'),\r\n\r\n  devtool: 'source-map',\r\n\r\n  output: {\r\n    path: path.resolve(__dirname, './dist'),\r\n    publicPath: '/dist/',\r\n    filename: 'server.bundle.js',\r\n    libraryTarget: 'commonjs2',\r\n  },\r\n\r\n  plugins: [\r\n    new webpack.DefinePlugin({\r\n      'process.env': {\r\n        NODE_ENV: '\"' + NODE_ENV + '\"',\r\n        VUE_ENV: '\"server\"',\r\n      }\r\n    }),\r\n    new VueLoaderPlugin(),\r\n    new VueSSRServerPlugin(),\r\n  ],\r\n\r\n});\r\n\r\n\r\n/*------------------------------------*\\\r\n  Export\r\n\\*------------------------------------*/\r\nmodule.exports = serverConfig;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9207","RelatedDescription":"Closed issue \"Client-side rendered template adds additional Carriage Return characters to DOM\" (#9207)"},{"Id":"392075763","IsPullRequest":false,"CreatedAt":"2018-12-18T10:20:24","Actor":"iOSQiao","Number":"9220","RawContent":null,"Title":"webpack-dev-server运行后vue实例不显示","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://new-issue.vuejs.org/?repo=vuejs/vue&lang=zh-cn](https://new-issue.vuejs.org/?repo=vuejs/vue&lang=zh-cn)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n使用`webpack`工具创建`vue`的项目。所有的依赖都已经创建好了。\r\n启动`webpack-dev-server --open`，页面自动加载了打包好后的`app.js`的文件，但是页面上并没有如期的显示结果，而是什么内容也没有。\r\n但是使用`index.html`中注释的内容，直接打开`index.html`文件，是有“Hello World.”显示的。\r\n`app.js`\r\n```\r\nimport Vue from 'vue';\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    data: {\r\n        message: 'Hello World.'\r\n    }\r\n});\r\n```\r\n`index.html`\r\n```\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n    <title>Vue demo</title>\r\n</head>\r\n<body>\r\n    <div id=\"app\">\r\n        <p>{{ message }}</p>\r\n        <p>this is a vue demo.</p>\r\n    </div>\r\n    <!-- <script src=\"../node_modules/vue/dist/vue.min.js\"></script>\r\n    <script>\r\n        new Vue({\r\n            el: '#app',\r\n            data: {\r\n                message: 'jkfljdlfkjdslfkjdlfkjaslfkdj'\r\n            }\r\n        })\r\n    </script> -->\r\n</body>\r\n</html>\r\n```\r\n因为这是一个demo，所以使用了最简单的例子。\r\n\r\n### What is expected?\r\n启动`webpack-dev-server --open`，加载内存中打包后的`app.js`文件，页面中显示内容。\r\n\r\n### What is actually happening?\r\n启动`webpack-dev-server --open`，加载内存中打包后的`app.js`文件，页面中显示空白。\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9220","RelatedDescription":"Closed issue \"webpack-dev-server运行后vue实例不显示\" (#9220)"},{"Id":"392065331","IsPullRequest":false,"CreatedAt":"2018-12-18T09:26:48","Actor":"yeyintnaung135","Number":"9219","RawContent":null,"Title":"<template v-if=\"detail_type != 'rq'\">                                 <template v-if=\"check_invite==false\">                                     <a href=\"\" class=\"btn btn-info m--pull-right\" @click.prevent=\"gotoinvite()\">                                         Invite                                     </a>                                 </template>                                 </template>","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9219","RelatedDescription":"Closed issue \"<template v-if=\"detail_type != 'rq'\">                                 <template v-if=\"check_invite==false\">                                     <a href=\"\" class=\"btn btn-info m--pull-right\" @click.prevent=\"gotoinvite()\">                                         Invite                                     </a>                                 </template>                                 </template>\" (#9219)"},{"Id":"392049967","IsPullRequest":false,"CreatedAt":"2018-12-18T08:44:03","Actor":"YLQZ","Number":"9218","RawContent":null,"Title":"I hope Vue can come up with a hybrid development framework for APP, which is not weex","State":"closed","Body":"I hope Vue can come up with a hybrid development framework for APP, which is not weex","Url":"https://github.com/vuejs/vue/issues/9218","RelatedDescription":"Closed issue \"I hope Vue can come up with a hybrid development framework for APP, which is not weex\" (#9218)"},{"Id":"392031272","IsPullRequest":true,"CreatedAt":"2018-12-18T07:38:59","Actor":"Justineo","Number":"9217","RawContent":null,"Title":"feat(compiler): switch to new `removeWhitespace` option (#9208)","State":"open","Body":"Provide `removeWhitespace` option for smarter whitespace trimming. Resolves #9208.\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [x] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\nSee #9208.\r\n\r\n**Other information:**\r\n\r\nAlso added the missing test cases for the old `preserveWhitespace` option.","Url":"https://github.com/vuejs/vue/pull/9217","RelatedDescription":"Open PR \"feat(compiler): switch to new `removeWhitespace` option (#9208)\" (#9217)"},{"Id":"391826358","IsPullRequest":false,"CreatedAt":"2018-12-17T17:58:31","Actor":"Aaron-Pool","Number":"9216","RawContent":null,"Title":"Impossible to preserve directive dom changes when the dom element is shared by multiple vnodes.","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/8y0yqono38](https://codesandbox.io/s/8y0yqono38)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a wrapper component that has another custom component as its root node. Put a directive on the wrapper component that adds a class to the element. Do anything that updates the child's class. The classes assigned in the directive of the parent vnode will be wiped out, and the directive has no way of knowing it. I _think_ this is because the vnodes were merged into the same element. So, the child vnode gets patched, causing the class update and the dom change to the same element that the parent vnode is using, but, because no actual patch happened to the parent vnode, the parent directive never has a chance to readd it's class.\r\n\r\nI think this probably _technically_ correct behavior, but it still presents (in my opinion) an issue with directive functionality. Which is that my host dom element can be mutated by a different vnode and I'm not aware of it.\r\n\r\n### What is expected?\r\nThe `update` trigger runs when my host element is mutated.\r\n\r\n### What is actually happening?\r\nThe class the directive adds is overwritten and my directive has no chance to readd the class.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9216","RelatedDescription":"Open issue \"Impossible to preserve directive dom changes when the dom element is shared by multiple vnodes.\" (#9216)"},{"Id":"391808332","IsPullRequest":false,"CreatedAt":"2018-12-17T17:16:49","Actor":"edum18","Number":"9215","RawContent":null,"Title":"Error: v-for index as key on <transition-group> children","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/edugodsinmetr/p1fdze9y/](https://jsfiddle.net/edugodsinmetr/p1fdze9y/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nUsing v-for index as key on `<transition-group>`\r\n\r\n### What is expected?\r\nNo error\r\n\r\n### What is actually happening?\r\nError \"Do not use v-for index as key on <transition-group> children, this is the same as not using keys.\"\r\n\r\n---\r\nI think I had no errors with this implementation before. My workaround to this issue was to add a number to the index value ` :key=\"i+1\"` but I'm not sure if I should do it.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9215","RelatedDescription":"Closed issue \"Error: v-for index as key on <transition-group> children\" (#9215)"},{"Id":"391789854","IsPullRequest":false,"CreatedAt":"2018-12-17T16:26:57","Actor":"Magnificent-Big-J","Number":"9214","RawContent":null,"Title":"Laravel Vue Unknown custom component On production server","State":"closed","Body":"I am  using Laravel as Backend and Vue Js as my frontend.\r\nOn the development, components works fine. I added new components later, when I push the changes to the production server I get  [Vue warn]: Unknown custom element.  I don't understand what I am missing because everything is well on development while on production is not. I ran npm run dev on production to compile the app.js file but still.\r\n\r\nI have registered most of my components global using Vue.component.\r\n![image](https://user-images.githubusercontent.com/30896750/50100431-2f2e7800-0229-11e9-8b79-0baeec69c664.png)\r\napp-accept-bill I added it after new changes were required, it fails on production","Url":"https://github.com/vuejs/vue/issues/9214","RelatedDescription":"Closed issue \"Laravel Vue Unknown custom component On production server\" (#9214)"},{"Id":"391680716","IsPullRequest":false,"CreatedAt":"2018-12-17T15:41:16","Actor":"Tidyzq","Number":"9213","RawContent":null,"Title":"Provided values in mixin are not accessible","State":"closed","Body":"### Version\r\n2.5.21\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/oJLdMN](https://codepen.io/anon/pen/oJLdMN)\r\n\r\nOpen the link and see the error message in dev console.\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate two mixins with a provide object using Symbol as it's key field. Then assign these mixins to a component.\r\n\r\n### What is expected?\r\nThe child component can access two provide object without any error.\r\n\r\n### What is actually happening?\r\nThe child component can only access the last provide object, while the first one is undefined.\r\n\r\n---\r\nDiving into the source code, the reason of this issue is that Vue uses `Object.keys` to iterate over the `provide` object while merging mixins. However, `Object.keys` won't return Symbol keys. see [the code](https://github.com/vuejs/vue/blob/52719ccab8/src/core/util/options.js#L51).\r\nMaybe we should use `for ... in` loop, which will iterate through Symbol keys correctly.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9213","RelatedDescription":"Closed issue \"Provided values in mixin are not accessible\" (#9213)"},{"Id":"391608138","IsPullRequest":false,"CreatedAt":"2018-12-17T08:42:21","Actor":"Ambitie","Number":"9212","RawContent":null,"Title":"扫描抢，不能使用。输入框扫描输入，不能获取到值","State":"closed","Body":"Version\r\n2.5.21\r\n\r\nReproduction link\r\nhttps://github.com/Ambitie\r\n\r\nSteps to reproduce\r\n写一个input\r\n用一个v-model绑定它\r\n用扫描抢获取数值\r\nv-model没有变\r\nWhat is expected?\r\n扫描抢可以直接获取值。\r\n\r\nWhat is actually happening?\r\nv-model 总不生效","Url":"https://github.com/vuejs/vue/issues/9212","RelatedDescription":"Closed issue \"扫描抢，不能使用。输入框扫描输入，不能获取到值\" (#9212)"},{"Id":"391607952","IsPullRequest":false,"CreatedAt":"2018-12-17T08:41:44","Actor":"Ambitie","Number":"9211","RawContent":null,"Title":"扫描抢，不能使用。输入框扫描输入，不能获取到值","State":"closed","Body":"Version\r\n2.5.21\r\n\r\nReproduction link\r\nhttps://github.com/Ambitie\r\n\r\nSteps to reproduce\r\n写一个input\r\n用一个v-model绑定它\r\n用扫描抢获取数值\r\nv-model没有变\r\nWhat is expected?\r\n扫描抢可以直接获取值。\r\n\r\nWhat is actually happening?\r\nv-model 总不生效\r\n","Url":"https://github.com/vuejs/vue/issues/9211","RelatedDescription":"Closed issue \"扫描抢，不能使用。输入框扫描输入，不能获取到值\" (#9211)"},{"Id":"391607763","IsPullRequest":false,"CreatedAt":"2018-12-17T08:41:08","Actor":"Ambitie","Number":"9210","RawContent":null,"Title":"扫描抢，不能使用。输入框扫描输入，不能获取到值","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  \r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9210","RelatedDescription":"Closed issue \"扫描抢，不能使用。输入框扫描输入，不能获取到值\" (#9210)"},{"Id":"391607475","IsPullRequest":false,"CreatedAt":"2018-12-17T08:40:06","Actor":"Ambitie","Number":"9209","RawContent":null,"Title":"扫描抢，不能使用。输入框扫描输入，不能获取到值。","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  \r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/9209","RelatedDescription":"Closed issue \"扫描抢，不能使用。输入框扫描输入，不能获取到值。\" (#9209)"},{"Id":"391486270","IsPullRequest":false,"CreatedAt":"2018-12-16T17:08:51","Actor":"Justineo","Number":"9208","RawContent":null,"Title":"Handle whitespaces in templates more wisely","State":"open","Body":"### What problem does this feature solve?\r\nCurrently we have an boolean option for `vue-template-compiler`: `preserveWhitespace`. It either removes all whitespace-only text nodes, or leave them untouched. There were already earlier questions about either behavior: #6200, #7701, #9021, #9127. I think the current behavior is kind of oversimplified to cover actual usage.\r\n\r\nWhen we write a template we tend to leverage line breaks and indents to make it more readable, like:\r\n\r\n```html\r\n<div class=\"item\">\r\n  <div class=\"aside\">Aside</div>\r\n  <div class=\"main\">Main</div>\r\n</div>\r\n```\r\n\r\nAnd if we choose to layout this component with inline formatting context, sometimes we may not want to precisely control the margin between the inner parts with CSS, instead of using the size of a whitespace (which is related to those `font-*` styles). For similar cases we don't want these whitespace-only text nodes. This leads to `preserveWhitespace: false` (and it even became the default behavior for Vue CLI 3: https://github.com/vuejs/vue-cli/commit/1864cef09e186cdf094fca876f8638a8ba1b4adb).\r\n\r\nBut when we craft some document/article-like content, this behavior becomes annoying. With `preserveWhitespace: false`, the following template:\r\n\r\n```html\r\n<p>\r\n  Welcome to <b>Vue.js</b> <i>world</i>.\r\n  Have fun!\r\n</p>\r\n```\r\n\r\nWill generate:\r\n\r\n```html\r\n<p>\r\n  Welcome to <b>Vue.js</b><i>world</i>.\r\n  Have fun!\r\n</p>\r\n```\r\n\r\nWhich looks like:\r\n\r\n> Welcome to <b>Vue.js</b><i>world</i>. Have fun!\r\n\r\nAnd this is clearly not desired.\r\n\r\n### What does the proposed API look like?\r\nIn short, I suggest we offer a new compiler option, to apply the strategy React uses to handles whitespaces for JSX ([source](https://reactjs.org/docs/jsx-in-depth.html#string-literals-1)):\r\n\r\n> JSX removes whitespace at the beginning and ending of a line. It also removes blank lines. New lines adjacent to tags are removed; new lines that occur in the middle of string literals are condensed into a single space.\r\n\r\nFor examples:\r\n\r\n```html\r\n<p>\r\n  Welcome to <b>Vue.js</b> <i>world</i>.\r\n  Have fun!\r\n</p>\r\n```\r\n\r\nThe whitespaces between `<p>` and `Welcome` are removed but the one between `</b>` and `<i>` and the one between `.` and `Have` are preserved thus giving us:\r\n\r\n```html\r\n<p>Welcome to <b>Vue.js</b> <i>world</i>. Have fun!</p>\r\n```\r\n\r\nThis seem to be much more reasonable IMO. And in this mode users will have more flexibility to better serve their different purposes.\r\n\r\nIn general, the proposal is:\r\n\r\n1. Keep `preserveWhitespace` but mark it as deprecated.\r\n2. Offer a new option to specify whether/how to remove whitespaces: `removeWhitespace: 'with-line-break' | 'any' | 'none'`.\r\n3. Ignore `preserveWhitespace` if `removeWhitespace` is specified.\r\n\r\n(Still need more suggestions on specific API.)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9208","RelatedDescription":"Open issue \"Handle whitespaces in templates more wisely\" (#9208)"},{"Id":"391462382","IsPullRequest":false,"CreatedAt":"2018-12-16T12:40:14","Actor":"gepengjun","Number":"9206","RawContent":null,"Title":"i can't name the parameter with upperCase when i user $emit","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/gepengjun/108shofc/1/](https://jsfiddle.net/gepengjun/108shofc/1/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nclick the button, it just run the method   enlargeTestHandler but doesn't run the method  onEnLargeText;\r\nif i name the $emit parameter in lowerCase ,such as lagert,  it can run the method onEnLargeText\r\n\r\n### What is expected?\r\nthe parent's method-'onEnLargeText' will run;\r\n\r\n\r\n### What is actually happening?\r\nthe parent's method-'onEnLargeText' does not  run\r\n\r\n---\r\nhave no;\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/9206","RelatedDescription":"Closed issue \"i can't name the parameter with upperCase when i user $emit\" (#9206)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"393150529","IsPullRequest":false,"CreatedAt":"2018-12-20T19:12:00","Actor":"piotrek-horodenski","Number":"2543","RawContent":null,"Title":"Add removeRoutes method to dynamically remove named routes","State":"closed","Body":"### What problem does this feature solve?\r\nThis may be useful when we want to manage routes that are registered for the user - for instance on logout.\r\n\r\n### What does the proposed API look like?\r\nrouter.removeRoutes(names: string[])\r\n\r\nnames - array of names of the routes to remove (including child routes)\r\n\r\n- removing current route triggers route matching and navigation occurs\r\n- removing a route removes all of its children routes\r\n- removing a child route does not remove its parent route\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2543","RelatedDescription":"Closed issue \"Add removeRoutes method to dynamically remove named routes\" (#2543)"},{"Id":"393142218","IsPullRequest":false,"CreatedAt":"2018-12-20T17:30:20","Actor":"piotrek-horodenski","Number":"2542","RawContent":null,"Title":"ability to add subroutes to already registered routes","State":"closed","Body":"### What problem does this feature solve?\r\nThis feature solves lazy loading problems in big applications, where we don't even want all routes to be registered for unauthorized users. \r\n\r\n### What does the proposed API look like?\r\nIt could be based on named routes - only named route could have its children list extended.\r\n`router.addRoutes` when called with 2 arguments `(name, route[])`, would seek for named route by `name` and add route[] to its children\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2542","RelatedDescription":"Closed issue \"ability to add subroutes to already registered routes\" (#2542)"},{"Id":"392808448","IsPullRequest":false,"CreatedAt":"2018-12-20T11:47:25","Actor":"trainiac","Number":"2540","RawContent":null,"Title":"Deprecate beforeEnter guard","State":"closed","Body":"### What problem does this feature solve?\r\nBy deprecating and eventually removing the `beforeEnter` route guard, the lib can remove the weight and complexity of the feature. Existing features can do the same or better.\r\n\r\nFlaws with `beforeEnter`:\r\n - Encourages devs to add code to the router that can't be code split.\r\n - Doesn't work well with universal web applications because it is called on server and client side causing redundant work.\r\n - There is no beforeUpdate so in the case that a route that can be reused (/profile/123/ -> /profile/123/), developers almost always have to share code between the router and the route component to handle the update case.\r\n\r\nbeforeRouteEnter solves all of these problems.\r\n\r\n### What does the proposed API look like?\r\nuse beforeRouteEnter or other methods instead of beforeEnter\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2540","RelatedDescription":"Closed issue \"Deprecate beforeEnter guard\" (#2540)"},{"Id":"392971880","IsPullRequest":false,"CreatedAt":"2018-12-20T10:17:03","Actor":"imshenshen","Number":"2541","RawContent":null,"Title":"router.beforeEach中，对to.query设置参数，组件中可以收到参数，但是没有更新到url上","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/50wL7mdz/809324/](https://jsfiddle.net/50wL7mdz/809324/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n路由跳转\r\n\r\n### What is expected?\r\nurl符合接收到的参数，同样被更新\r\n\r\n### What is actually happening?\r\nURL中没有u_c_n参数\r\n\r\n---\r\n基础需求是要保持一个参数在路由间传递，但是URL上没更新，刷新后就丢失了\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2541","RelatedDescription":"Closed issue \"router.beforeEach中，对to.query设置参数，组件中可以收到参数，但是没有更新到url上\" (#2541)"},{"Id":"392651986","IsPullRequest":false,"CreatedAt":"2018-12-19T15:26:55","Actor":"EvanBurbidge","Number":"2539","RawContent":null,"Title":"application as node_module fails to resolve components or lazy chunks. ","State":"closed","Body":"Version\r\n3.0.2\r\n\r\n\r\nSteps to reproduce\r\nCreate two vue cli applications\r\nIn app 2 replace router.js with this const Home = () => import(/* webpackChunkName: 'app2.home '*/'./views/Home.vue');\r\nexport default [\r\n  {\r\n    path: '/app2',\r\n    name: 'app2.home',\r\n    component: Home,\r\n  },\r\n];\r\nadd an index.js at the top level of the project along side main.js and router.js ` import routes from './router';\r\nexport default routes;\r\n\r\n4. add this line to package.json ``` \"lib\": \"vue-cli-service build --target lib --name tp2 ./src/index.js\"\r\nInstall it as a node_module into app 1.\r\nimport routes from 'tp2'; ` import routes from 'tp2/dist/tp2.common';\r\nexport default new Router({ mode: 'history', base: process.env.BASE_URL, routes: [ { path: '/', name: 'home', component: Home, }, ...routes, ], }); `\r\n\r\nWhat is expected?\r\nWhen I navigate to /app2 and load in the components from app2, which is an npm package, pre compiled it should lazily load the chunk from node_modules.\r\n\r\nWhat is actually happening?\r\nI write a vuejs library that includes a vue router instance. when I import a component non lazily e.g. import Component from 'views'. It works\r\n\r\nWhen I try to lazy load a component into the router, I get an error saying loading chunk failed.\r\n\r\nvue-router.esm.js?8c4f:1897 Error: Loading chunk 0 failed. (missing: http://localhost:8082/tp2.common.app2.home%20.js) at HTMLScriptElement.onScriptComplete (tp2.common.js?9697:115)\r\n\r\nIf wanting to truly have a standard for using monorepos in enterprise the router should at least allow you to persist routes added with addRoutes on page refresh.\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/2539","RelatedDescription":"Closed issue \"application as node_module fails to resolve components or lazy chunks. \" (#2539)"},{"Id":"392615532","IsPullRequest":true,"CreatedAt":"2018-12-19T14:03:21","Actor":"ElkeBxl","Number":"2538","RawContent":null,"Title":"fix(match): Optional params kept when opening nested route (fix #2110)","State":"open","Body":"When navigating to a nested route, we do not discard the optional params for the parents to ensure that params are not lost.","Url":"https://github.com/vuejs/vue-router/pull/2538","RelatedDescription":"Open PR \"fix(match): Optional params kept when opening nested route (fix #2110)\" (#2538)"},{"Id":"391760759","IsPullRequest":true,"CreatedAt":"2018-12-17T18:52:49","Actor":"Haroenv","Number":"2537","RawContent":null,"Title":"docs: add search","State":"closed","Body":"I enabled the Algolia DocSearch crawler on this site, like on other Vue utilities, so that we can search in the bodies of the documentation too!\r\n\r\nfixes #2439\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2537","RelatedDescription":"Closed or merged PR \"docs: add search\" (#2537)"},{"Id":"391713754","IsPullRequest":false,"CreatedAt":"2018-12-17T13:44:01","Actor":"asolopovas","Number":"2536","RawContent":null,"Title":"Router push does not seem to work for dynamically generated query.","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/3131mjz155](https://codesandbox.io/s/3131mjz155)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the codesandbox if you click on one of the table title it should add the query to the url, but it doesn't unless the object is hard defined. If you look at the method sort in BaseList.vue you will see the variable query and queryB, they are almost identical appart from that one is hard typed the other one is dynamic.\r\n\r\n### What is expected?\r\n If I execute this.$router.push({query: query}) it doesn't not work\r\n\r\n### What is actually happening?\r\n If I execute this.$router.push({query: queryB}) it does work\r\n\r\n---\r\nI tried comparing objects by JSON.stringify and it confirms that both objects seem to be almost identical but for some reason router refuses to push the one which is dynamically generated.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2536","RelatedDescription":"Closed issue \"Router push does not seem to work for dynamically generated query.\" (#2536)"},{"Id":"391626044","IsPullRequest":false,"CreatedAt":"2018-12-17T09:51:31","Actor":"axel10","Number":"2535","RawContent":null,"Title":"希望能够在监听路由变化时获取到导致当前路由变化的action","State":"closed","Body":"### What problem does this feature solve?\r\n在Watch$route变化的时候并没有相应的api来告诉开发者是push、pop还是replace导致当前路由变化，这样会对路由动画组件的制作造成极大不便。\r\n\r\n### What does the proposed API look like?\r\n当获取到新的$route对象后，添加action字段：\r\n$route.action = \"PUSH\"\r\n$route.action = \"POP\"\r\n$route.action = \"REPLACE\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2535","RelatedDescription":"Closed issue \"希望能够在监听路由变化时获取到导致当前路由变化的action\" (#2535)"},{"Id":"391591431","IsPullRequest":false,"CreatedAt":"2018-12-17T09:18:03","Actor":"ashnamuh","Number":"2533","RawContent":null,"Title":"Unexpected bahaviour on scrollBehavior","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n\r\n\r\n```js\r\nexport default new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '/bulletins/:id',\r\n      name: 'bulletin',\r\n      component: () => import('@/views/Bulletin.vue')\r\n    },\r\n    {\r\n      path: '/bulletins',\r\n      name: 'bulletins',\r\n      component: () => import('@/views/Bulletins.vue')\r\n    }\r\n  ],\r\n  scrollBehavior (to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return { x: 0, y: 0 }\r\n    }\r\n  }\r\n})\r\n```\r\n\r\n```js\r\n<router-link :to=\"`bulletins/${bulletin.id}`\" tag=\"div\">\r\n{{bulletin.title}}\r\n</router-link>\r\n```\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nclick <router-link> in nfinite scroll page.\r\nclick browser history back button\r\n\r\n\r\n### What is expected?\r\nAuto-move to Y position scroll of previous page when i click browser history back button.\r\n\r\n### What is actually happening?\r\nAuto-move to wrong Y position scroll\r\n\r\n---\r\nI have a infinite scroll pagination site that show bulletins. if i click a bulletin title, it move to bulletin detail page. The bulletin title is made with `<router-link>`. And i click browser history back button in bulletin detail page. But it move to wrong Y position scroll of previous page. What is wrong? Is there any idea? \r\n\r\nAnd i got one more thing. If i paste the url of detail bulletinpage in the pagination page to browser's url input form and click browser history back button, it work correctly.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2533","RelatedDescription":"Closed issue \"Unexpected bahaviour on scrollBehavior\" (#2533)"},{"Id":"391601488","IsPullRequest":false,"CreatedAt":"2018-12-17T09:13:36","Actor":"rrandom","Number":"2534","RawContent":null,"Title":"How to get passed views in named view?","State":"closed","Body":"### What problem does this feature solve?\r\nLet's see we have a component `Layout.vue`.\r\n```html\r\n<div>\r\n   <router-view name=\"left\">\r\n   <router-view name=\"right\">\r\n</div>\r\n```\r\n\r\n\r\nin the router.js:\r\n```javascript\r\nconst left = {\r\n  template: '<div>left</div>',\r\n};\r\n\r\nconst right = {\r\n  template: '<div>right</div>',\r\n};\r\n\r\nconst onlyOne= {\r\n  template: '<div>onlyOne</div>',\r\n};\r\n\r\n\r\nconst router = {\r\n  path: '/layout',\r\n  children: [\r\n    {\r\n      path: 'both',\r\n      components: {\r\n        left: left,\r\n        right: right,\r\n      }\r\n    },\r\n    {\r\n      path: 'only-one',\r\n      components: {\r\n        right: onlyOne,\r\n      }\r\n    }\r\n  ]\r\n};\r\n```\r\nIn this example, when path at '/layout/only-one', Layout.vue dont know the named view 'left' is not passed in.\r\n\r\nSo. In Layout.vue. I can not know if specific named view passed in or not, unless I watch `$route` which is error prone. Is there any way the named views could pass as props or something else?\r\n\r\n\r\n### What does the proposed API look like?\r\nnamed views could be passed as props\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2534","RelatedDescription":"Closed issue \"How to get passed views in named view?\" (#2534)"},{"Id":"390471534","IsPullRequest":true,"CreatedAt":"2018-12-13T18:22:29","Actor":"zspencer","Number":"2531","RawContent":null,"Title":"Prevent exceptions when a consumer calls `isSameRoute` with falsey `a`","State":"closed","Body":"In certain cases, I've encountered an exception where `isSameRoute` is\r\ncalled by an upstream consumer where a is undefined. This is despite the\r\nfact that the type declaration explicitely prohibits such a thing.\r\n\r\nUnfortunately, due to my own incompetence at reading the way the vue\r\nerror handling stack works; I've been unable to isolate the *caller*.\r\n\r\nSo, I've added a test case where `a` is a falsey value; in the hope that\r\nthis will prevent an exception from being raised, which was triggering\r\nan infinite loop in my particular case; which, again unfortunately, I couldn't figure\r\nout higher up the stack.\r\n\r\nSince this is possibly a bug in the calling library, I'm not really\r\nsure it's worth fixing here; but if it is fixed here it'd save me a few\r\nmore hours or days of debugging.\r\n\r\nFurther, I've been unable to create an isolated use case; as my app relies on a number of plugins and middleware with NuxtJS and reproducing it outside of the app I'm working with (Sadly) seems like another huge time sink.\r\n\r\nIf you'd like, I can try to convince my client to invest the time to resolving the error in a more appropriate manner, otherwise I'll likely wind up needing to rely on a forked version of vue-router :/.","Url":"https://github.com/vuejs/vue-router/pull/2531","RelatedDescription":"Closed or merged PR \"Prevent exceptions when a consumer calls `isSameRoute` with falsey `a`\" (#2531)"},{"Id":"390741594","IsPullRequest":true,"CreatedAt":"2018-12-13T18:13:36","Actor":"patriciussanctus","Number":"2532","RawContent":null,"Title":"public method \"reload\"","State":"closed","Body":"test page: /reload\r\nmy reason: i needs in method to trig router-events (eaches), because in my project, static information about page title (document.title and title-markup in header with i18n) gets of $route information (?id or /:id, (supply №${id})), but now i need extra values such as \"company_name\"...\r\n\r\n1. this.$router.meta.company_name = 'Some company'\r\n2. this.$router.reload()\r\n3. ???\r\n4. all titles in page updated\r\n\r\nin test-page \"examples/reload\" there are other useful uses (transition update, re-confirm, counts)\r\n","Url":"https://github.com/vuejs/vue-router/pull/2532","RelatedDescription":"Closed or merged PR \"public method \"reload\"\" (#2532)"},{"Id":"390312436","IsPullRequest":false,"CreatedAt":"2018-12-12T17:22:13","Actor":"plehnen","Number":"2530","RawContent":null,"Title":"Routing to same url should fire event","State":"closed","Body":"### What problem does this feature solve?\r\nI need to update the current page (request new data from server) whenever the link in the navigation or breadcrumb is clicked. (like it is implemented on amazon)\r\n\r\nCurrently the `router-link` will do absolutely nothing when clicked, while already being on the target page.\r\nNeither `beforeRouteUpdate` or `router.beforeEach` are triggered.\r\nBut it would be nice to be able to notice a route request to the same route.\r\n\r\n\r\n### What does the proposed API look like?\r\nMaybe a `beforeRouteReload` hook, which returns `false` per default and does nothing (as it is now), but when it returns `true` the normal events get fired and I can handle them.\r\n\r\nOr a global parameter which allows me to enable events even if `from` and `to` are the same. Ideally on route level, individually for each route.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2530","RelatedDescription":"Closed issue \"Routing to same url should fire event\" (#2530)"},{"Id":"390243031","IsPullRequest":false,"CreatedAt":"2018-12-12T17:17:48","Actor":"waqas385","Number":"2529","RawContent":null,"Title":"next() callback is not executed under beforeEnter","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/waqas385/pvqz8s6u/](https://jsfiddle.net/waqas385/pvqz8s6u/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nin beforeEnter(to, from, next) under next-callback i used code:\r\nnext(vm => { console.log(vm, 'this line wont be called'));\r\n\r\nnext callback is not called.\r\n\r\ngoto link (https://jsfiddle.net/waqas385/pvqz8s6u/)\r\n\r\n- Click button \"Goto Test\"\r\n- Click button \"Goto Home\"\r\n- See console log\r\n\r\nIn above example I tried to get 'this' but found an unusual behavior \r\n\r\n### What is expected?\r\nI believe next callback should call and this should be also be available\r\n\r\n### What is actually happening?\r\nnext callback function will not call\r\n\r\n---\r\nLet me know, if I miss-understood beforeEnter\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2529","RelatedDescription":"Closed issue \"next() callback is not executed under beforeEnter\" (#2529)"},{"Id":"389610451","IsPullRequest":false,"CreatedAt":"2018-12-11T14:59:52","Actor":"Lee66","Number":"2528","RawContent":null,"Title":"Enter the page for the first time, then click back; BeforeRouteLeave is not executed","State":"closed","Body":"### What problem does this feature solve?\r\nThe h5 form embedded in the native app is confirmed to be saved before leaving\r\n\r\n### What does the proposed API look like?\r\nBeforeRouteLeave can be the same as any other page\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2528","RelatedDescription":"Closed issue \"Enter the page for the first time, then click back; BeforeRouteLeave is not executed\" (#2528)"},{"Id":"389187357","IsPullRequest":false,"CreatedAt":"2018-12-10T08:19:06","Actor":"wxfjamdc","Number":"2527","RawContent":null,"Title":"Dynamic Route Matching connot replace params","State":"closed","Body":"route config like this\r\n\r\n> {\r\n    path: '/test/:type?',\r\n    name: 'test',\r\n    component: test,\r\n  }\r\n\r\ncurrent full path  `/test/demo`\r\n\r\nscript \r\n`this.$router.replace({params:{}})`\r\n\r\nIt's not work","Url":"https://github.com/vuejs/vue-router/issues/2527","RelatedDescription":"Closed issue \"Dynamic Route Matching connot replace params\" (#2527)"},{"Id":"388977952","IsPullRequest":false,"CreatedAt":"2018-12-09T01:57:35","Actor":"yoonasy","Number":"2526","RawContent":null,"Title":"utility function to update the query","State":"open","Body":"### What problem does this feature solve?\r\nhave a search function in my project, implemented with query, and then props in an id query, needs to be updated query.id ，don't need to remove the query for the search\r\n\r\n### What does the proposed API look like?\r\n`queryUpdate({id: xxxxxxx})`\r\n\r\nLook at the ` iss ` before\r\n```\r\n let query = Object.assign({}, $route.query)\r\nquery.id = xxxxxxxxxx\r\nthis.$router.push({ query: query })\r\n```\r\n\r\nUsing a lot of them in a project can be cumbersome\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2526","RelatedDescription":"Open issue \"utility function to update the query\" (#2526)"},{"Id":"388862186","IsPullRequest":false,"CreatedAt":"2018-12-08T00:31:12","Actor":"SKEPDIMI","Number":"2525","RawContent":null,"Title":"Optional dynamic routing parameters in documentation","State":"open","Body":"### What problem does this feature solve?\r\nIt aims to solve the lack of documentation on optional parameters when performing dynamic route matching. At the moment, the documentation for dynamic route matching does NOT show that you have the ability to make your params optional with the '?' character. Example:\r\n```\r\n    {\r\n      path: '/blog:id?', // optional parameter. this feature is not shown in the documentation\r\n      name: 'blog',\r\n      component: Blog,\r\n    },\r\n```\r\n\r\n### What does the proposed API look like?\r\nhttps://router.vuejs.org/guide/essentials/dynamic-matching.html#reacting-to-params-changes is updated to show this feature\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2525","RelatedDescription":"Open issue \"Optional dynamic routing parameters in documentation\" (#2525)"},{"Id":"388580697","IsPullRequest":true,"CreatedAt":"2018-12-07T19:02:04","Actor":"Alex-Sokolov","Number":"2524","RawContent":null,"Title":"docs: [RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/pull/2524","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation update\" (#2524)"},{"Id":"388539739","IsPullRequest":false,"CreatedAt":"2018-12-07T08:46:39","Actor":"xuzpeng","Number":"2523","RawContent":null,"Title":"keep-alive can not cache two router-view","State":"closed","Body":"### Version\r\n2.5.1\r\n\r\n### Reproduction link\r\n[https://github.com/xuzpeng/vue-sell.git](https://github.com/xuzpeng/vue-sell.git)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThe order page and home page switch pages are not cached, or the home page -> find page -> order page -> home page still occurs.\r\n\r\n### What is expected?\r\nOrder page and home page are cached\r\n\r\n\r\n### What is actually happening?\r\nnot cached\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2523","RelatedDescription":"Closed issue \"keep-alive can not cache two router-view\" (#2523)"},{"Id":"388496060","IsPullRequest":false,"CreatedAt":"2018-12-07T03:55:57","Actor":"xuzpeng","Number":"2522","RawContent":null,"Title":"keep-alive can not cache two routing pages at the same time","State":"closed","Body":"this is router code:\r\nexport default new VueRouter({\r\n  routes: [\r\n    {\r\n      path: '/', \r\n      component: Menu,\r\n      children: [\r\n        {path: '', component: Home, meta: {keepAlive: true}},\r\n        {path: 'find', component: Find, meta: {keepAlive: false}},\r\n        {path: 'order', component: Order, meta: {keepAlive: true}},\r\n        {path: 'mine', component: Mine, meta: {keepAlive: false}},\r\n      ]\r\n    },\r\n    {\r\n      path: '/login',\r\n      component: Login,\r\n      meta: {keepAlive: false}\r\n    }\r\n  ]\r\n});\r\n\r\nthis is router-view:\r\n <keep-alive>\r\n      <router-view v-if=\"$route.meta.keepAlive\"></router-view>\r\n    </keep-alive>\r\n    <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n\r\nquestion:\r\nWhen I switch from meta.keepAlive to true to meta.keepAlive to true, the page will make a request, not cached, and false and true before switching will not request, cached。","Url":"https://github.com/vuejs/vue-router/issues/2522","RelatedDescription":"Closed issue \"keep-alive can not cache two routing pages at the same time\" (#2522)"},{"Id":"388471216","IsPullRequest":false,"CreatedAt":"2018-12-07T01:51:19","Actor":"yoonasy","Number":"2521","RawContent":null,"Title":"ClassName problem when navigation activates routing","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net](https://jsfiddle.net)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nWhen navigating with query parameters\r\n\r\n`active-class` will not match\r\n\r\n`/a?id=10` situation\r\n\r\n### What is expected?\r\nThe query parameter should match\r\n\r\n### What is actually happening?\r\n`active-class` No activation\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2521","RelatedDescription":"Closed issue \"ClassName problem when navigation activates routing\" (#2521)"},{"Id":"388134048","IsPullRequest":false,"CreatedAt":"2018-12-06T09:50:41","Actor":"Dmitrij-Polyanin","Number":"2520","RawContent":null,"Title":"router.go() refreshes all page, is it noraml?","State":"closed","Body":"I try to reload (but not full page) current location.\r\n\r\nI use `router.go()` method or  `router.go(0)`, but it refreshes whole page (not as SPA).\r\n\r\nIs it normal?","Url":"https://github.com/vuejs/vue-router/issues/2520","RelatedDescription":"Closed issue \"router.go() refreshes all page, is it noraml?\" (#2520)"},{"Id":"388064251","IsPullRequest":false,"CreatedAt":"2018-12-06T06:05:38","Actor":"NBSeven","Number":"2519","RawContent":null,"Title":"Set different route path and same component ,  the scope is same.","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/pk39zjm5lj](https://codesandbox.io/s/pk39zjm5lj)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nrouter-view render different route path and use same component ,the data cant be changed after i change the path.Is there any way to fix it.\r\n\r\n### What is expected?\r\nchange scope data after change path .path 'abc' input '123' and pape '' bcd\"  dont change\r\n\r\n### What is actually happening?\r\nchange scope after change path .path 'abc' input '123' and path '' bcd\"  is still '123'\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2519","RelatedDescription":"Closed issue \"Set different route path and same component ,  the scope is same.\" (#2519)"},{"Id":"387335486","IsPullRequest":true,"CreatedAt":"2018-12-04T15:17:54","Actor":"rchl","Number":"2518","RawContent":null,"Title":"style(test): add eslint configuration for unit tests","State":"open","Body":"While trying to familiarize myself with code base and tests, got annoyed by my editor highlighting \"errors\" in test files so decided to add config for unit tests.","Url":"https://github.com/vuejs/vue-router/pull/2518","RelatedDescription":"Open PR \"style(test): add eslint configuration for unit tests\" (#2518)"},{"Id":"387197472","IsPullRequest":false,"CreatedAt":"2018-12-04T09:40:46","Actor":"QinFeiFei","Number":"2517","RawContent":null,"Title":"如何根据router的name值，获取其url","State":"closed","Body":"现在有一个需求是iframe的src中，需要填写 this.$router.push({name: 'home'}) 跳转后的 url 地址，请问如何实现。 ","Url":"https://github.com/vuejs/vue-router/issues/2517","RelatedDescription":"Closed issue \"如何根据router的name值，获取其url\" (#2517)"},{"Id":"387110138","IsPullRequest":false,"CreatedAt":"2018-12-04T08:08:38","Actor":"medmin","Number":"2516","RawContent":null,"Title":"beforeRouteEnter next callback cannot return next(false)","State":"closed","Body":"### Version\r\n3.0.2\r\n\r\n### Reproduction link\r\n[https://github.com/whizjs/netlify-identity-demo-vue/blob/master/src/components/Protected.vue#L21](https://github.com/whizjs/netlify-identity-demo-vue/blob/master/src/components/Protected.vue#L21)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nhttps://github.com/whizjs/netlify-identity-demo-vue/blob/master/src/components/Protected.vue#L21\r\n\r\nChange the code on Line 21 to \"return next(false);\" or \"return false;\"  the router will proceed even the user is not logged in.\r\n\r\nIt's very easy to reproduce this bug.\r\n\r\n\r\n\r\n### What is expected?\r\nI need the unauthenticated guest to stay in the current page, not redirect to home or any other page. \r\n\r\n### What is actually happening?\r\nChange the code on Line 21 to \"return next(false);\" or \"return false;\"  the router will proceed even the user is not logged in.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2516","RelatedDescription":"Closed issue \"beforeRouteEnter next callback cannot return next(false)\" (#2516)"},{"Id":"386760453","IsPullRequest":false,"CreatedAt":"2018-12-03T13:25:24","Actor":"masquevil","Number":"2515","RawContent":null,"Title":"Inside guards, get to know current navigating is under router.replace or router.push.","State":"closed","Body":"### What problem does this feature solve?\r\nwhen doing `router.replace('url')`, `next('otherUrl')` will cause this navigation become `router.push`.\r\n\r\nwhen doing `router.push('url')`, `next({..., replace: true})` will cause this navigation become `router.replace`.\r\n\r\nwant to know current navigating statue inside guards to solve this problem.\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nbeforeEach: (to, from, next, infos) => {\r\n  console.log(info.replace)    // true or false\r\n}\r\n```\r\n\r\nor:\r\n\r\n```javascript\r\nbeforeEach: (to, from, next) => {\r\n  console.log(to.replace)    // true or false\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2515","RelatedDescription":"Closed issue \"Inside guards, get to know current navigating is under router.replace or router.push.\" (#2515)"},{"Id":"386683853","IsPullRequest":false,"CreatedAt":"2018-12-03T07:01:07","Actor":"cpfeng","Number":"2514","RawContent":null,"Title":"vue-router back not work when some async js status is pending","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/issues/2514","RelatedDescription":"Closed issue \"vue-router back not work when some async js status is pending\" (#2514)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"392025334","IsPullRequest":false,"CreatedAt":"2018-12-18T07:15:58","Actor":"hqzh","Number":"1473","RawContent":null,"Title":"辅助函数连接多个store","State":"open","Body":"### What problem does this feature solve?\r\n有时我的组件需要连多个store,比如公共的和我自己的\r\n\r\n### What does the proposed API look like?\r\n```\r\nimport { createNamespacedHelpers } from \"vuex\";\r\n\r\nconst {\r\n    mapState,\r\n    mapGetters,\r\n    mapActions,\r\n    mapMutations\r\n         } = createNamespacedHelpers([\"myStore\",\"commonStore\"]);\r\n```\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1473","RelatedDescription":"Open issue \"辅助函数连接多个store\" (#1473)"},{"Id":"391765521","IsPullRequest":true,"CreatedAt":"2018-12-17T15:33:35","Actor":"s-pace","Number":"1472","RawContent":null,"Title":"doc: Enabling DocSearch","State":"open","Body":"👋 vuex,\r\n\r\nI am [working on DocSearch](https://community.algolia.com/docsearch/), this PR will enable vuex to use the same search [experience as vuepress](https://vuepress.vuejs.org/theme/default-theme-config.html#algolia-search), [vuejs](https://vuejs.org/), [bootstrap](https://getbootstrap.com/docs/4.1/getting-started/introduction/) ...\r\n\r\nOur scraper will run every 24H to update your Algolia index. Feel free to [PR your configuration](https://github.com/algolia/docsearch-configs/blob/0b171ddf626dac501b2d9bf4a80e79613c874918/configs/vuex.json) if you need any update, the search is out of the box.\r\n\r\nLet us know if you need anything.","Url":"https://github.com/vuejs/vuex/pull/1472","RelatedDescription":"Open PR \"doc: Enabling DocSearch\" (#1472)"},{"Id":"390153226","IsPullRequest":false,"CreatedAt":"2018-12-12T10:11:47","Actor":"jdoubleu","Number":"1471","RawContent":null,"Title":"Destroy hook in plugin for hotReload","State":"open","Body":"### What problem does this feature solve?\r\nSo far it is only possible for a plugin to be registered through a single function. On the other hand it is not possible to hook into a plugins destroy/replacement.\r\nIn production mode there is no need for such hook, because it's not possible to remove a plugin (this might be reconsidered after https://github.com/vuejs/vuex/issues/467#issuecomment-266493888).\r\n\r\nBut given the [plugin example](https://vuex.vuejs.org/guide/plugins.html#committing-mutations-inside-plugins) which registers event handlers on the `socket` and taking [hot reloading](https://vuex.vuejs.org/guide/hot-reload.html) into account, the handlers are registered multiple times.\r\nThere is no way to unregister an event handler before the plugin gets replaced.\r\n\r\nI'm not sure if this is a general problem with a HMR system (like webpack's) or if its caused by the [`store.hotUpdate()`](https://vuex.vuejs.org/api/#hotupdate) function. I suspect, that even `store.subscribe()` gets called multiple times causing the code to be executed multiple times after some hot replacements.\r\n\r\n**Workaround**:\r\nStore event handlers in a local variable outside the plugin's context.\r\n\r\n### What does the proposed API look like?\r\nEither additional methods exposed by the plugin (similar to [this](https://github.com/vuejs/vuex/issues/467#issuecomment-270836284)):\r\n```\r\nconst myPlugin = {\r\n  init(store) {\r\n     registerAllEventListeners()\r\n\r\n     store.subscribe((mutation, state) => {\r\n        doSomething()\r\n     })\r\n  },\r\n  beforeDestroy(store) {\r\n     unregisterAllEventListeners()\r\n  }\r\n}\r\n```\r\n\r\nOr as a store instance method:\r\n```\r\nconst myPlugin = (store) => {\r\n   registerAllEventListeners()\r\n\r\n   store.subscribe((mutation, state) => {\r\n       doSomething()\r\n   })\r\n\r\n  store.subscribeBeforeDestroy(() => {\r\n     unregisterAllEventListeners()\r\n  }\r\n}\r\n```\r\n\r\nThe latter wouldn't introduce breaking changes of the plugin API.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1471","RelatedDescription":"Open issue \"Destroy hook in plugin for hotReload\" (#1471)"},{"Id":"390120640","IsPullRequest":false,"CreatedAt":"2018-12-12T08:46:41","Actor":"oxiaojiano","Number":"1470","RawContent":null,"Title":"actions and mutations 异同","State":"open","Body":"### What problem does this feature solve?\r\n在文档上应该明确说明，actions和mutations都是用来改变state，mutations是只能是同步执行，在执行异步操作的时候在devtools中追踪不到state数据的变化，而actions是可以处理异步函数的数据的\r\n\r\n### What does the proposed API look like?\r\n改变一下描述文字\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1470","RelatedDescription":"Open issue \"actions and mutations 异同\" (#1470)"},{"Id":"382201955","IsPullRequest":false,"CreatedAt":"2018-12-11T10:23:52","Actor":"hqzh","Number":"1451","RawContent":null,"Title":"使用mapState 辅助函数绑定表单v-model","State":"closed","Body":"### What problem does this feature solve?\r\n看见文档说input表单输入绑定可以, 或者通过表单的change事件commit也可以\r\n```javascript\r\ncomputed: {\r\n  message: {\r\n    get () {\r\n      return this.$store.state.obj.message\r\n    },\r\n    set (value) {\r\n      this.$store.commit('updateMessage', value)\r\n    }\r\n  }\r\n},\r\n```\r\n\r\n但是使用使用mapState 辅助函数没有看到有暴露set和get,\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  // ...\r\n  computed: mapState({\r\n    message: state => {\r\n       get() {\r\n          \r\n        },\r\n        set(value) {\r\n         \r\n        }\r\n   }\r\n  })\r\n}\r\n```\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1451","RelatedDescription":"Closed issue \"使用mapState 辅助函数绑定表单v-model\" (#1451)"},{"Id":"388967040","IsPullRequest":false,"CreatedAt":"2018-12-08T22:49:51","Actor":"superbiche","Number":"1469","RawContent":null,"Title":"Access modules easily from store","State":"open","Body":"### What problem does this feature solve?\r\nI'd like to register dynamically a module that would have access to already registered modules - native module, with custom attributes - thus allowing these modules to leverage presenters and other utilities.\r\nCurrently I can do this with `store._modules.root._children` but the fact it takes two `_` makes me feel I'm doing something really dirty\r\n\r\n### What does the proposed API look like?\r\nSomething like `store.getModules = () => store._modules.root._children`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1469","RelatedDescription":"Open issue \"Access modules easily from store\" (#1469)"},{"Id":"388904450","IsPullRequest":true,"CreatedAt":"2018-12-08T09:24:41","Actor":"NataliaTepluhina","Number":"1468","RawContent":null,"Title":"docs: add a description of providing store to Vue instance","State":"open","Body":"_Note:_ This change was already introduced in #858 and it's still crucial for Vuex docs but since this PR exists for 1.5 years and has conflicts with a base branch, I'm opening a new one.\r\n\r\nAdded a short description of how to provide a store to Vue instance to have access to it from inside Vue components.\r\n\r\n**Update:** found docs on injecting store in the `State` doc. I still think they should be moved to `Getting started` part because it's just easier not to miss it in the entry doc.","Url":"https://github.com/vuejs/vuex/pull/1468","RelatedDescription":"Open PR \"docs: add a description of providing store to Vue instance\" (#1468)"},{"Id":"388672064","IsPullRequest":false,"CreatedAt":"2018-12-07T14:16:19","Actor":"xereda","Number":"1467","RawContent":null,"Title":"Vuex getters arguments","State":"open","Body":"### What problem does this feature solve?\r\nIs there a specific reason for a getter to get store context through separate arguments?\r\n\r\nI like how the actions receive the context of the store, that is, with only one argument, this being an object. With this, we have the possibility of using es6 destructuring to extract something specific.\r\n\r\nIf I just need to trigger a mutation (the most common behavior), I just to extract commit from context object. But, if I need to access a getter from a parent module, for example, I extract together with dispatch, the rootGetters.\r\n\r\nAlthough they are exceptional cases, I have some situations that I need, inside a getter, access a getter from another module (parent module). With this, I need to inform arguments that I will not use in the getter scope.\r\n\r\nAnalyze the following example:\r\n\r\n```js\r\nisLoading: (state, getters, rootState, rootGetters) => {\r\n  // getters and rootState not used\r\n  return state.isLoading || rootGetters.module.isLoading;\r\n};\r\n```\r\n\r\nSee that I have passed the getters and rootState arguments, even though, in this case, I do not need them.\r\n\r\nThe question I have is: Is there any specific reason why it has been treated differently from how it is handled in the vuex actions? Why does an vuex action get only one argument and vuex getter get 4 arguments?\r\n\r\nThanks in advance for the time spent by friends. Sorry for bad English.\r\n\r\n### What does the proposed API look like?\r\nJust document, through this issue, the difference between the behavior of getters and actions.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1467","RelatedDescription":"Open issue \"Vuex getters arguments\" (#1467)"},{"Id":"388670505","IsPullRequest":false,"CreatedAt":"2018-12-07T14:11:58","Actor":"xereda","Number":"1466","RawContent":null,"Title":"Vuex getters arguments","State":"closed","Body":"Is there a specific reason for a getter to get store context through separate arguments?\r\n\r\nI like how the actions receive the context of the store, that is, with only one argument, this being an object. With this, we have the possibility of using es6 destructuring to extract something specific.\r\n\r\nIf I just need to trigger a mutation (the most common behavior), I just to extract commit from context object. But, if I need to access a getter from a parent module, for example, I extract together with dispatch, the rootGetters.\r\n\r\nAlthough they are exceptional cases, I have some situations that I need, inside a getter, access a getter from another module (parent module). With this, I need to inform arguments that I will not use in the getter scope.\r\n\r\nAnalyze the following example:\r\n\r\n```javascript\r\nisLoading: (state, getters, rootState, rootGetters) => {\r\n  // getters and rootState not used\r\n  return state.isLoading || rootGetters.module.isLoading;\r\n};\r\n```\r\n\r\nSee that I have passed the getters and rootState arguments, even though, in this case, I do not need them.\r\n\r\nThe question I have is: Is there any specific reason why it has been treated differently from how it is handled in the vuex actions? Why does an vuex action get only one argument and vuex getter get 4 arguments?\r\n\r\nThanks in advance for the time spent by friends. Sorry for bad English.\r\n","Url":"https://github.com/vuejs/vuex/issues/1466","RelatedDescription":"Closed issue \"Vuex getters arguments\" (#1466)"},{"Id":"388075586","IsPullRequest":true,"CreatedAt":"2018-12-06T06:34:01","Actor":"Jinjiang","Number":"1465","RawContent":null,"Title":"docs: fixed links to vm.$watch","State":"open","Body":"In [\"API Reference\" > \"Vuex.Store Instance Methods\" > \"watch\"](https://vuex.vuejs.org/api/#watch) section of the `en` docs, there is a link of \"Vue's `vm.$watch` method\" but linked to `watch` options. It should be https://vuejs.org/v2/api/#vm-watch if I don't misunderstand it.\r\n\r\nI also fixed the `zh` docs. And the `ru` docs seems right. but other language docs seems not same to the latest `en` version. So I am not sure whether should be updated too.\r\n\r\nThanks.\r\n","Url":"https://github.com/vuejs/vuex/pull/1465","RelatedDescription":"Open PR \"docs: fixed links to vm.$watch\" (#1465)"},{"Id":"387770827","IsPullRequest":false,"CreatedAt":"2018-12-05T14:02:45","Actor":"alexeigs","Number":"1464","RawContent":null,"Title":"Using typescript, I cannot access imported store in router.ts","State":"closed","Body":"vue-cli 3.0 setup incl. Typescript\r\n\r\nI try to access a getter through the store property from inside my _router.ts_ which doesn't find anything and results in `undefined`. The imported `store` object doesn't work. Using the debugger, the reference to the store object at this point in time is something like `_store_index__WEBPACK_IMPORTED_MODULE_5__` instead (going down the tree, I can find my getters under `_store_index__WEBPACK_IMPORTED_MODULE_5__.default.getters`).\r\n\r\n_store.ts_\r\n```\r\nimport Vue from 'vue'\r\nimport Vuex, { StoreOptions } from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store: StoreOptions<RootState> = {\r\n    state: {\r\n        version: '1.0.0' // a simple property\r\n    },\r\n    modules: {\r\n        authModule\r\n    }\r\n}\r\n\r\nexport default new Vuex.Store<RootState>(store)\r\n\r\nexport interface RootState {\r\n    version: string\r\n}\r\n\r\n```\r\n\r\n_router.ts_\r\n```\r\nimport Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '@/store/index'\r\n\r\nconst router = new Router({\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n    routes: [{}]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (store.getters.authModule.isUserLoggedIn) {\r\n        // continue\r\n    }\r\n}\r\n\r\n```\r\n\r\nAny idea what's wrong and how I could access the getters instead?","Url":"https://github.com/vuejs/vuex/issues/1464","RelatedDescription":"Closed issue \"Using typescript, I cannot access imported store in router.ts\" (#1464)"},{"Id":"382477598","IsPullRequest":false,"CreatedAt":"2018-12-02T06:12:45","Actor":"dinglittle","Number":"1452","RawContent":null,"Title":"mapGetters 辅助函数，将一个 getter 属性另取一个名字","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://vuex.vuejs.org/zh/guide/getters.html](https://vuex.vuejs.org/zh/guide/getters.html)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nVuex 官方 [链接所示](https://vuex.vuejs.org/zh/guide/getters.html)  mapGetters 辅助函数，将一个 getter 属性另取一个名字 ， 示例代码\r\n\r\n\r\n### What is expected?\r\n\r\n```\r\nmapGetters({\r\n  // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`\r\n  doneCount: 'doneTodosCount'\r\n})\r\n```\r\n\r\n### What is actually happening?\r\n修正\r\n\r\n```\r\n...mapGetters({\r\n  // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`\r\n  doneCount: 'doneTodosCount'\r\n})\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1452","RelatedDescription":"Closed issue \"mapGetters 辅助函数，将一个 getter 属性另取一个名字\" (#1452)"},{"Id":"385345295","IsPullRequest":false,"CreatedAt":"2018-12-02T05:37:58","Actor":"guywithdoubts","Number":"1462","RawContent":null,"Title":"Separate instances of Vuex store clash each other when working across separate Vue instances","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/9rLp5t4s/](https://jsfiddle.net/9rLp5t4s/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nI am currently learning/prototyping vue.js and vuex (using plain js, at the moment). I am trying to accomplish following:\r\n\r\n1)create multiple vue instances having their own vuex stores independent to each other. Right now, I am storing only ajax status/progress in vuex store and improve it gradually.\r\n2)vue instances can come from same vue definition (template, methods etc.), but need to work with different vuex store instances.\r\n3)vuex stores should not know about each other (no clashes) and should only work exclusively with their respective vue instance counter parts.\r\n\r\nI almost achieved the above as shown in fiddle:\r\n\r\nTheoritically, we can just create one class out of app.js and app2.js (identical code). But, just to test/troubleshoot things, I separated them.\r\n\r\nI am able to pull data and everything seems working fine.   If I refresh button in second instance the console log shows perfectly.  If I refresh button in first instance it clashes with the vuex store in second instance\r\n\r\n### What is expected?\r\nthe vue instance should not clash with other vuex stores not related to it\r\n\r\n### What is actually happening?\r\nfirst vue instance clashes with vuex store in second instance\r\n\r\n---\r\nmore information here: https://stackoverflow.com/questions/53522844/separate-instances-of-vuex-store-clash-each-other-when-working-across-separate-v\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1462","RelatedDescription":"Closed issue \"Separate instances of Vuex store clash each other when working across separate Vue instances\" (#1462)"},{"Id":"385338921","IsPullRequest":false,"CreatedAt":"2018-12-02T05:18:39","Actor":"farzadmf","Number":"1461","RawContent":null,"Title":"Actions not recognized when using ActionTree","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/farzadmf/vuex-action-tree-issue](https://github.com/farzadmf/vuex-action-tree-issue)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nThere's no need to run anything, just open the repo in VSCode, and you will see the error. I've added comments to make it clear\r\n\r\n### What is expected?\r\nWhen I create an `ActionTree<...>`, I should be able to call my individual Actions on it\r\n\r\n### What is actually happening?\r\nWhen I type my actions to be of type `ActionTree<...>`, then when I call my action(s), I see the error of \"no compatible call signatures\"\r\n\r\n---\r\nI've created constants to be used as names for my actions (so that I don't use strings). At first, I though that is what's causing the problem; that's why I created the 'hello()' function to test, and it seems to me the constants are not an issue here.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1461","RelatedDescription":"Closed issue \"Actions not recognized when using ActionTree\" (#1461)"},{"Id":"385534522","IsPullRequest":false,"CreatedAt":"2018-11-29T01:57:43","Actor":"leoyli","Number":"1463","RawContent":null,"Title":"silent and ignore any dispatch or commit during time-traveling in the dev mode","State":"open","Body":"### What problem does this feature solve?\r\nIMO, time-traveling (or traversing in the event sourcing record) should have no side-effects.  Often, I found it is annoying when I \"time-traveled\", there is a side-effect being performed due to the component life cycle or routing middleware try to do their \"regular\" task... this resulted in a polluted mutation records... Consider the fact that some component can be delayed rendered by `v-if=state` (so components may be mounted/unmounted during time-traveling), the same may also happen if the one uses `@vue/vuex-router-sync`, this feature is good to have.\r\n\r\n### What does the proposed API look like?\r\nWhen we click \"time travel to the state\" in the dev tool, Vuex internally have a mechanism to silent and ignore any dispatch or commit to be performed (or prevent state to be mutated during time-traveling).  This locking mechanism can be unlocked if we decide to either **revert** or **traverse** to the latest state (they are basically the same).  While I have little clue how we are going to implement this or should we have this, after discussed with my colleagues, I think it would be beneficial to open this discussion.\r\n\r\n** the reason I post this here is due to the fact that the devTool have to touch the vuex core if we want to have this.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1463","RelatedDescription":"Open issue \"silent and ignore any dispatch or commit during time-traveling in the dev mode\" (#1463)"},{"Id":"384820659","IsPullRequest":true,"CreatedAt":"2018-11-28T02:21:24","Actor":"jshindo-gladd","Number":"1460","RawContent":null,"Title":"docs(ja): fix translation","State":"closed","Body":"- Fixed description of `fn`'s arguments.\r\n- Tweaked 1st sentence.\r\n\r\nEnglish:\r\n> Reactively watch `fn`'s return value, and call the callback when the value changes. `fn` receives the store's state as the first argument, and getters as the second argument.","Url":"https://github.com/vuejs/vuex/pull/1460","RelatedDescription":"Closed or merged PR \"docs(ja): fix translation\" (#1460)"},{"Id":"384599520","IsPullRequest":false,"CreatedAt":"2018-11-27T03:03:39","Actor":"JaeYeopHan","Number":"1459","RawContent":null,"Title":"Suggestion to Vuex best practice when using nested modules","State":"open","Body":"### What problem does this feature solve?\r\nIMHO, there are several problems with Vuex.\r\n\r\n1. Overuse string when using `mapState`, `mapGetters`, `mapActions`\r\n2. Duplicated namespace in components\r\n\r\nlike this:\r\n_my-component.vue_ (AS-IS version)\r\n\r\n```js\r\nexport default {\r\n  computed: {\r\n    ...mapState(\"todos\", {\r\n      allItems: ({ items }) => items,\r\n    }),\r\n    ...mapGetters(\"todos\", {\r\n      doneItems: \"doneItems\",\r\n      activeItems: \"activeItems\",\r\n    }),\r\n  }\r\n}\r\n```\r\n\r\nIn this code, `\"doneItmes\"` is written by string. It will cause bug easily.\r\nAnd there are duplicated namespace called `\"todos\"`. It will inhibit maintainabillity.\r\n\r\n### What does the proposed API look like?\r\nThe way to introduce it is not to suggest a new API, but to use the existing API properly.\r\nWe can use `createNamespacedHelpers` API with constants in store directory!\r\n\r\n### Example\r\n\r\n_@/store/todos/types.js_\r\n\r\n```js\r\nexport const NAMESPACE = \"todos\";\r\n```\r\n\r\n_@/store/todos/index.js_\r\n\r\n```js\r\nimport { createNamespacedHelpers } from\"vuex\";\r\nimport { NAMESPACE } from \"./types\";\r\n\r\n// Key point !\r\nconst { mapState, mapGetters, mapActions } = createNamespacedHelpers(NAMESPACE);\r\n\r\nexport { mapState, mapGetters, mapActions };\r\n\r\nexport default { /* namespaced, state, getters, mutations, actions */ }\r\n```\r\n\r\n_@/store/todos/getters.js_\r\n\r\n```js\r\n// Key point !\r\nexport const DONE_ITEMS = \"DONE_ITEMS\";\r\nexport const ACTIVE_ITEMS = \"ACTIVE_ITEMS\";\r\n\r\nexport default {\r\n  [DONE_ITEMS]: state => state.items.filter(todo => todo.isDone),\r\n  [ACTIVE_ITEMS]: state => state.items.filter(todo => !todo.isDone)\r\n};\r\n```\r\n\r\nIf we do this, we can use customized binding helpers.\r\n\r\n_my-component.vue_ (TO-BE version)\r\n\r\n```js\r\nimport * as todos from '@/store/todos'; // Key point !\r\nimport * as getters from '@/store/todos/getters'; // Key point !\r\nimport * as actions from '@/store/todos/types'; // Key point !\r\n\r\nexport default {\r\n  computed: {\r\n    ...todos.mapState({\r\n      allItems: ({ items }) => items,\r\n    }),\r\n    ...todos.mapGetters([\r\n      getters.DONE_ITEMS,\r\n      getters.ACTIVE_ITEMS,\r\n    ])\r\n  },\r\n  methods: {\r\n    ...todos.mapActions([\r\n      actions.ADD_ITEM,\r\n    ]),\r\n  }\r\n}\r\n```\r\n\r\nHow about this? If you do not mind this, I would like to post it on the official Vuex document.\r\nYou can see the all example code in [this repository](https://github.com/JaeYeopHan/vuex-best-practice-lab)\r\n\r\nThanks!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1459","RelatedDescription":"Open issue \"Suggestion to Vuex best practice when using nested modules\" (#1459)"},{"Id":"382483849","IsPullRequest":true,"CreatedAt":"2018-11-27T01:30:46","Actor":"Jinjiang","Number":"1453","RawContent":null,"Title":"docs: replaced video preview code to a VideoPreview component","State":"closed","Body":"... for better maintenance and translation.\r\nRef: https://v0.vuepress.vuejs.org/guide/using-vue.html#using-components\r\nThanks.","Url":"https://github.com/vuejs/vuex/pull/1453","RelatedDescription":"Closed or merged PR \"docs: replaced video preview code to a VideoPreview component\" (#1453)"},{"Id":"383775059","IsPullRequest":true,"CreatedAt":"2018-11-26T03:24:41","Actor":"Flamenco","Number":"1457","RawContent":null,"Title":"Fix typo and update tense","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1457","RelatedDescription":"Closed or merged PR \"Fix typo and update tense\" (#1457)"},{"Id":"382484140","IsPullRequest":true,"CreatedAt":"2018-11-26T03:15:09","Actor":"Jinjiang","Number":"1454","RawContent":null,"Title":"docs(zh): update","State":"closed","Body":"Ref: https://github.com/vuejs/vuex/compare/f64a89c...4b82bb2\r\n/ping @justineo\r\nThanks.","Url":"https://github.com/vuejs/vuex/pull/1454","RelatedDescription":"Closed or merged PR \"docs(zh): update\" (#1454)"},{"Id":"380798629","IsPullRequest":true,"CreatedAt":"2018-11-26T03:04:15","Actor":"pvrsouza","Number":"1449","RawContent":null,"Title":"removing English text from pt-br file","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1449","RelatedDescription":"Closed or merged PR \"removing English text from pt-br file\" (#1449)"},{"Id":"384145966","IsPullRequest":false,"CreatedAt":"2018-11-26T01:51:52","Actor":"mrbuds","Number":"1458","RawContent":null,"Title":"Vuex website: Homepage video doesn't load right with firefox nightly","State":"closed","Body":"When clicking on the video of https://vuex.vuejs.org/ home page with firefox nightly (on windows) the javascript doesn't load like it should.\r\n\r\n![preview](https://i.imgur.com/OCbS5ju.png)\r\n\r\nTested with all addons disabled and after restarting it.\r\n\r\nIt's fine with chrome.","Url":"https://github.com/vuejs/vuex/issues/1458","RelatedDescription":"Closed issue \"Vuex website: Homepage video doesn't load right with firefox nightly\" (#1458)"},{"Id":"382592306","IsPullRequest":true,"CreatedAt":"2018-11-20T10:18:29","Actor":"isnifer","Number":"1456","RawContent":null,"Title":"Return original Action Promise instead of pipe after \"catch\" when registerAction","State":"open","Body":"Hello everyone!\r\n\r\n## Prerequisites\r\nIn my project, I do not use just a promise to do actions.\r\nSimplified version looks like this:\r\n```js\r\nclass CustomPromise {\r\n  constructor({ promise }) {\r\n    this.promise = promise.then(this.handleSuccess, this.handleError)\r\n  }\r\n\r\n  handleSuccess = () => {\r\n    // ...\r\n  }\r\n\r\n  handleError = () => {\r\n    // ...\r\n  }\r\n\r\n  handleCancel = () => {\r\n    // ...\r\n  }\r\n\r\n  then = (success, error) => this.promise.then(success, error)\r\n\r\n  catch = error => this.promise.catch(error)\r\n}\r\n```\r\nWhen I wanted to explicitly work with my action promise I found that I got only PromiseValue instead of my `CustomPromise`.\r\nI had a `vue extenstion` for Chrome (yes, I removed it to test and verify a bug).\r\n\r\n## Finally\r\n[This line](https://github.com/vuejs/vuex/blob/dev/src/store.js#L415) creates a promise chain that not only subscribes to `catch`. This line provides only promise value/error to userland code instead of an original promise.\r\n\r\n## How to fix?\r\nDeveloper tools may be a useful tool, but `Vuex` should not change itself behavior when Devtools are available.\r\nThis `catch` should **ONLY** subscribes to errors (creates a parallel pipe and **DO NOT THROW** an error inside).\r\nA userland code also will catch an error.\r\n","Url":"https://github.com/vuejs/vuex/pull/1456","RelatedDescription":"Open PR \"Return original Action Promise instead of pipe after \"catch\" when registerAction\" (#1456)"},{"Id":"382540617","IsPullRequest":false,"CreatedAt":"2018-11-20T07:53:56","Actor":"eltonchan","Number":"1455","RawContent":null,"Title":"Can I ask a question?","State":"closed","Body":"This is not a Issues, But it has been bothering me.\r\nwhy vuex  don't use mixin data, Choose new Vue ?\r\n","Url":"https://github.com/vuejs/vuex/issues/1455","RelatedDescription":"Closed issue \"Can I ask a question?\" (#1455)"},{"Id":"381739958","IsPullRequest":false,"CreatedAt":"2018-11-16T19:59:44","Actor":"toymachiner62","Number":"1450","RawContent":null,"Title":"Update documentation for $watch with an example","State":"open","Body":"### What problem does this feature solve?\r\nThe documentation for $watch is pretty unclear how to use without an example https://vuex.vuejs.org/api/#watch\r\n\r\nI figured out how to use it from this comment in the forums https://forum.vuejs.org/t/correct-way-to-use-store-watch-in-vuex/1800/6\r\n\r\n### What does the proposed API look like?\r\nThe documentation will have an example similar to https://forum.vuejs.org/t/correct-way-to-use-store-watch-in-vuex/1800/6\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1450","RelatedDescription":"Open issue \"Update documentation for $watch with an example\" (#1450)"},{"Id":"380635432","IsPullRequest":false,"CreatedAt":"2018-11-14T10:36:22","Actor":"Danilo-Araujo-Silva","Number":"1448","RawContent":null,"Title":"Possibility to log all state changes (not only actions or mutations)","State":"open","Body":"### What problem does this feature solve?\r\nWith these [built-in logger plugin](https://vuex.vuejs.org/guide/plugins.html#built-in-logger-plugin) we are able to subscribe to our store and log all state mutations.\r\n\r\nBut, it looks like, for now, we are not able to log all state changes other than mutations or actions. What does it mean? For example, if we are controlling the state of the application drawer (like this [one](https://vuetifyjs.com/en/components/navigation-drawers#example-dark) on the Vuetify project or more specifically some inline editing actions in the data table component) and we would like to connect (even mapping) the store state directly in the component we will not be able to log the mutations there, since there's no mutation action involved.\r\n\r\nMaybe we could use events to try to accomplish that but I'll be far more difficult.\r\n\r\nI think it could be very good for us we have the possibility to log state changes that are not triggered by mutations and actions too.\r\n\r\n### What does the proposed API look like?\r\n```\r\nconst myPlugin = store => {\r\n  // called when the store is initialized\r\n  store.subscribe((state, mutation, action) => {\r\n    // called after every state change and not only on mutations.\r\n    // The mutation comes in the format of `{ type, payload }`.\r\n  })\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1448","RelatedDescription":"Open issue \"Possibility to log all state changes (not only actions or mutations)\" (#1448)"},{"Id":"380547836","IsPullRequest":true,"CreatedAt":"2018-11-14T06:11:01","Actor":"chrisvfritz","Number":"1447","RawContent":null,"Title":"Add 5-minute video to What is Vuex?","State":"closed","Body":"Since a lot of people have a difficult time understanding Vuex at first, we collaborated with the Vue Mastery team on this short video. I think it will provide a much gentler onboarding experience. 🙂","Url":"https://github.com/vuejs/vuex/pull/1447","RelatedDescription":"Closed or merged PR \"Add 5-minute video to What is Vuex?\" (#1447)"},{"Id":"380333486","IsPullRequest":false,"CreatedAt":"2018-11-13T17:15:14","Actor":"lyz1991","Number":"1446","RawContent":null,"Title":"About unregisterModule ","State":"closed","Body":"my version of vuex is 3.0.1 and project is ssr\r\nwhen I call unregisterModule the api in beforeRouteLeave like this:\r\n<img width=\"316\" alt=\"wechatimg14\" src=\"https://user-images.githubusercontent.com/15042461/48430087-739da280-e7a9-11e8-8fee-1e3111ff816e.png\">\r\nIt throw a error like this：\r\n<img width=\"497\" alt=\"wechatimg15\" src=\"https://user-images.githubusercontent.com/15042461/48430384-2bcb4b00-e7aa-11e8-9da3-8ae7f8750f5d.png\">\r\nand I debug find that \r\n<img width=\"544\" alt=\"wechatimg16\" src=\"https://user-images.githubusercontent.com/15042461/48430528-7ea50280-e7aa-11e8-9a03-3180c2d4c42f.png\">\r\nthere path is [], how can I deal with?\r\nAnd if I not use this api  how can I check a module it is installed \r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1446","RelatedDescription":"Closed issue \"About unregisterModule \" (#1446)"},{"Id":"379882149","IsPullRequest":true,"CreatedAt":"2018-11-13T03:05:38","Actor":"Alex-Sokolov","Number":"1445","RawContent":null,"Title":"[RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1445","RelatedDescription":"Closed or merged PR \"[RU] Translation update\" (#1445)"},{"Id":"379720373","IsPullRequest":true,"CreatedAt":"2018-11-13T03:03:50","Actor":"talentedunicorn","Number":"1444","RawContent":null,"Title":"Added copy to clarify context","State":"closed","Body":"Although it is mentioned further down the document; I think this line will make it more clear especially for newcomers of vuex. I see similar questions regarding this like https://stackoverflow.com/questions/45848974/call-an-action-from-within-another-action","Url":"https://github.com/vuejs/vuex/pull/1444","RelatedDescription":"Closed or merged PR \"Added copy to clarify context\" (#1444)"}],"ResultType":"GitHubIssue"}},"RunOn":"2018-12-21T05:31:01.5791882Z","RunDurationInMilliseconds":4809}