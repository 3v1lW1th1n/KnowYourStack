{"Data":{"GitHub":{"Issues":[{"Id":"543893300","IsPullRequest":false,"CreatedAt":"2019-12-30T14:11:51","Actor":"elyoh","Number":"2377","RawContent":null,"Title":"Setting the TaskbarItemInfo leads to System.NotImplementedException when no user is logged in","State":"open","Body":"* .NET Core Version: All that support WPF\r\n* Windows version: Windows 7 and later\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n\r\n **Problem description:**\r\nTake a WPF application which attempts to set the `TaskbarItemInfo` property of the main application window on Windows 7 or later.  In some situations this can lead to an unhandled `System.NotImplementedException` which crashes the application.\r\n\r\nThe apparent cause is attempting to run such an application when no user is logged in (e.g. remote desktop / Citrix / Windows Server).\r\n\r\nAn identical issue was present (and later [fixed](https://github.com/DevExpress/DevExpress.Mvvm.Free/blob/d8f957007cd409dd7e678876640b666fcf0c6467/DevExpress.Mvvm.UI/Services/TaskbarButtonService/Native/TaskbarInfoApplicator.cs#L11)) in [DevExpress MVVM toolkit](https://www.devexpress.com/Support/Center/Question/Details/T528105/notimplementedexception-in-taskbarbuttonservice-when-no-user-is-logged-in).  \r\n\r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\nThe following line throws a `System.NotImplementedException`:\r\nhttps://github.com/dotnet/wpf/blob/c90f457bfeb8d7737bb32f9e088aa2d9f8aff1d2/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Window.cs#L6291\r\n```\r\nSystem.NotImplementedException: The method or operation is not implemented.\r\n   at MS.Internal.AppModel.ITaskbarList.HrInit()\r\n   at System.Windows.Window.ApplyTaskbarItemInfo()\r\n   at System.Windows.Window.WindowFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at System.Windows.Interop.HwndSource.PublicHooksFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\r\n   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)\r\n   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Int32 numArgs, Delegate catchHandler)\r\n```\r\n\r\n **Expected behavior:**\r\nIf the code in the try block containing the `taskbarList.HrInit();` call fails, the exception should be caught and handled accordingly.  If setting the `TaskbarItemInfo` property is not possible, even on a supported operating system, the code should simply return without setting the `TaskbarItemInfo` property.\r\n\r\n **Minimal repro:**\r\nAdd the following lines to an empty WPF desktop application:\r\n```\r\n    <Window.TaskbarItemInfo>\r\n        <TaskbarItemInfo Description=\"Test\" />\r\n    <Window.TaskbarItemInfo>\r\n```\r\nAttempt to run the application on a machine where no user is logged in.","Url":"https://github.com/dotnet/wpf/issues/2377","RelatedDescription":"Open issue \"Setting the TaskbarItemInfo leads to System.NotImplementedException when no user is logged in\" (#2377)"},{"Id":"543888509","IsPullRequest":true,"CreatedAt":"2019-12-30T14:05:25","Actor":"dotnet-maestro[bot]","Number":"2376","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191230.1\r\n- **Date Produced**: 12/30/2019 1:33 PM\r\n- **Commit**: a8bf1d6f3b10d419fb44b2f0f7a975e9340d57dc\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19630.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2376","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2376)"},{"Id":"543877893","IsPullRequest":true,"CreatedAt":"2019-12-30T13:31:00","Actor":"dotnet-maestro[bot]","Number":"2375","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191229.17\r\n- **Date Produced**: 12/30/2019 12:20 AM\r\n- **Commit**: 116662ea97d16aa94b575d25cd2a908a3761ec12\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19629.17\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2375","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2375)"},{"Id":"543408063","IsPullRequest":true,"CreatedAt":"2019-12-29T14:05:23","Actor":"dotnet-maestro[bot]","Number":"2374","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191229.17\r\n- **Date Produced**: 12/29/2019 1:31 PM\r\n- **Commit**: a965dc35ac9f24ba737e8679c566c63ad33ed0b7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19629.17\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2374","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2374)"},{"Id":"543394769","IsPullRequest":true,"CreatedAt":"2019-12-29T13:45:40","Actor":"dotnet-maestro[bot]","Number":"2373","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191229.6\r\n- **Date Produced**: 12/29/2019 12:20 PM\r\n- **Commit**: 2fbde02d814208a37963233e051ed08b93242ad4\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19629.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2373","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2373)"},{"Id":"543369583","IsPullRequest":true,"CreatedAt":"2019-12-29T12:51:24","Actor":"dotnet-maestro[bot]","Number":"2372","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191229.16\r\n- **Date Produced**: 12/29/2019 11:24 AM\r\n- **Commit**: 819299ef971509eb74f1835e1389f633ff57d173\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19629.16\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2372","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2372)"},{"Id":"543359246","IsPullRequest":true,"CreatedAt":"2019-12-29T12:00:20","Actor":"dotnet-maestro[bot]","Number":"2371","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191229.12\r\n- **Date Produced**: 12/29/2019 10:49 AM\r\n- **Commit**: aa66f8d454e411d8d9350f7a1fba6e19645e32aa\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19629.12\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2371","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2371)"},{"Id":"543350956","IsPullRequest":true,"CreatedAt":"2019-12-29T11:06:21","Actor":"dotnet-maestro[bot]","Number":"2370","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191229.7\r\n- **Date Produced**: 12/29/2019 9:33 AM\r\n- **Commit**: cf77b719bb4d2843718921686ba4bb3177067318\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19629.7\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2370","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2370)"},{"Id":"543345484","IsPullRequest":true,"CreatedAt":"2019-12-29T10:15:16","Actor":"dotnet-maestro[bot]","Number":"2369","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191229.1\r\n- **Date Produced**: 12/29/2019 9:18 AM\r\n- **Commit**: 0aaf7cddc43773c77e18a3691c256fcadc120011\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19629.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2369","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2369)"},{"Id":"543334823","IsPullRequest":true,"CreatedAt":"2019-12-29T08:35:34","Actor":"dotnet-maestro[bot]","Number":"2368","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191228.3\r\n- **Date Produced**: 12/29/2019 7:47 AM\r\n- **Commit**: e014ba795c146192c4a87d2a9f08d17041237e39\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19628.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2368","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2368)"},{"Id":"543163279","IsPullRequest":true,"CreatedAt":"2019-12-28T13:47:20","Actor":"dotnet-maestro[bot]","Number":"2367","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191228.2\r\n- **Date Produced**: 12/28/2019 12:05 PM\r\n- **Commit**: e23e7c2131d761b9e20a434b421394b18bc31e5d\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19628.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2367","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2367)"},{"Id":"543083764","IsPullRequest":true,"CreatedAt":"2019-12-28T07:10:46","Actor":"rladuca","Number":"2366","RawContent":null,"Title":"Ensure the WindowsDesktopSdk RepoLocation overrides all others.","State":"open","Body":"Fixes #2363 \r\n\r\nEnsure the WindowsDesktopSdk RepoLocation overrides all others.  This is key to packaging PresentationBuildTasks and associated files.","Url":"https://github.com/dotnet/wpf/pull/2366","RelatedDescription":"Open PR \"Ensure the WindowsDesktopSdk RepoLocation overrides all others.\" (#2366)"},{"Id":"543067292","IsPullRequest":true,"CreatedAt":"2019-12-28T06:06:10","Actor":"dotnet-maestro[bot]","Number":"2365","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191227.3\r\n- **Date Produced**: 12/28/2019 4:21 AM\r\n- **Commit**: 19bd5c5a2214a939b947c2ed3a18d2361e135ac9\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19627.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2365","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2365)"},{"Id":"543062228","IsPullRequest":true,"CreatedAt":"2019-12-28T05:10:17","Actor":"dotnet-maestro[bot]","Number":"2364","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191227.1\r\n- **Date Produced**: 12/28/2019 4:12 AM\r\n- **Commit**: 6c794cbdd8831749ccfd3d1c0832319d40bfa3c0\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19627.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2364","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2364)"},{"Id":"543021083","IsPullRequest":false,"CreatedAt":"2019-12-27T23:40:20","Actor":"livarcocc","Number":"2363","RawContent":null,"Title":"Microsoft.Net.Sdk.WindowsDesktop missing Mifcrosoft.WinFx.props","State":"open","Body":"It seems the latest package versions of Microsoft.Net.Sdk.WindowsDesktop are missing a few files, like Microsoft.WinFx.props and Microsoft.WinFx.targets and the tools folder.\r\n\r\nWe caught this because with these files missing it is not possible to build windows desktop apps.\r\n\r\nI turned the tests for these off in core-sdk to unblock the flow of dependencies there and linked to this issue.","Url":"https://github.com/dotnet/wpf/issues/2363","RelatedDescription":"Open issue \"Microsoft.Net.Sdk.WindowsDesktop missing Mifcrosoft.WinFx.props\" (#2363)"},{"Id":"542873687","IsPullRequest":true,"CreatedAt":"2019-12-27T13:51:40","Actor":"dotnet-maestro[bot]","Number":"2362","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191226.4\r\n- **Date Produced**: 12/27/2019 12:18 AM\r\n- **Commit**: 47a149f5c0944b75cebfc9933ee713926a29dd65\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19626.4\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2362","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2362)"},{"Id":"542554533","IsPullRequest":true,"CreatedAt":"2019-12-26T13:45:38","Actor":"dotnet-maestro[bot]","Number":"2361","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191225.6\r\n- **Date Produced**: 12/26/2019 12:29 AM\r\n- **Commit**: 24bc7d6d57e680d682c99fb304fc6813aabf8f34\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19625.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2361","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2361)"},{"Id":"542340435","IsPullRequest":true,"CreatedAt":"2019-12-25T13:42:34","Actor":"dotnet-maestro[bot]","Number":"2360","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191224.6\r\n- **Date Produced**: 12/25/2019 1:34 AM\r\n- **Commit**: 09d7d0f9e23ea79af6e8b5a5be214114722291a6\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19624.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2360","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2360)"},{"Id":"542220600","IsPullRequest":true,"CreatedAt":"2019-12-24T23:55:32","Actor":"dotnet-maestro[bot]","Number":"2359","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191224.2\r\n- **Date Produced**: 12/24/2019 10:58 PM\r\n- **Commit**: 641e93d848dffb79f68ad2b50f3c2ac0987a0c5e\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19624.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2359","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2359)"},{"Id":"542127233","IsPullRequest":true,"CreatedAt":"2019-12-24T13:39:40","Actor":"dotnet-maestro[bot]","Number":"2358","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191223.6\r\n- **Date Produced**: 12/24/2019 12:20 AM\r\n- **Commit**: 05f6721667eb0292a22409fdfd17d99cce6de1d7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19623.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2358","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2358)"},{"Id":"541901810","IsPullRequest":false,"CreatedAt":"2019-12-23T21:00:31","Actor":"dgxhubbard","Number":"2357","RawContent":null,"Title":"WPF App InitializeComponent is missing","State":"open","Body":"I am running VS 2019 16.4.1 on net core 3.1. I select create new project\r\n\"WPF App (Net Core\" and the project is generated. Then I want my own startup\r\nobject, I select create new class \"EntryPoint\" and place the code below in it. Then I select \r\nproject entry point \"EntryPoint\" and compile. I get the error:\r\n\r\n'App' does not contain a definition for 'InitializeComponent' and no accessible extension method 'InitializeComponent' accepting a first argument of type 'App' could be found (are you missing a using directive or an assembly reference?)\t\r\n\r\nI looked at App.g.cs and even though I replaced the startup object with mine I still see a main being generated. How do I get InitializeComponent to be generated?\r\n\r\n\r\n**App.g.cs**\r\n\r\n`        /// <summary>\r\n        /// Application Entry Point.\r\n        /// </summary>\r\n        [System.STAThreadAttribute()]\r\n        [System.Diagnostics.DebuggerNonUserCodeAttribute()]\r\n        [System.CodeDom.Compiler.GeneratedCodeAttribute(\"PresentationBuildTasks\", \"4.8.1.0\")]\r\n        public static void Main() {\r\n            Gt.ServerConnect.App app = new Gt.ServerConnect.App();\r\n            app.Run();\r\n        }\r\n`\r\n\r\n\r\n**EntryPoint**\r\n\r\n`using System;\r\nusing System.Collections.Generic;\r\nusing System.Diagnostics;\r\nusing System.Globalization;\r\nusing System.IO;\r\nusing System.Linq;\r\nusing System.Threading.Tasks;\r\nusing System.Windows;\r\n\r\n\r\nnamespace Gt.ServerConnect\r\n{\r\n    public class EntryPoint\r\n    {\r\n        public static string Name\r\n        {\r\n            get { return \"Gt.Lite\"; }\r\n        }\r\n\r\n\r\n\r\n        // All WPF applications should execute on a single-threaded apartment (STA) thread\r\n        [STAThread]\r\n        public static void Main ( string [] args )\r\n        {\r\n\r\n            var app = new App ();\r\n            if ( app == null )\r\n                throw new NullReferenceException ( \"Failed to create app\" );\r\n\r\n\r\n            app.DispatcherUnhandledException += new System.Windows.Threading.DispatcherUnhandledExceptionEventHandler ( Current_DispatcherUnhandledException );\r\n            AppDomain.CurrentDomain.UnhandledException += new UnhandledExceptionEventHandler ( CurrentDomain_UnhandledException );\r\n\r\n            try\r\n            {\r\n                app.InitializeComponent ();\r\n\r\n\r\n                app.MainWindow = new MainWindow ();\r\n\r\n\r\n                app.Run ();\r\n            }\r\n            catch ( Exception ex )\r\n            {\r\n                string msg = ex.Message;\r\n                Debug.WriteLine ( \"Exception: \" + msg );\r\n\r\n            }\r\n\r\n\r\n            Process.GetCurrentProcess ().Kill ();\r\n        }\r\n\r\n\r\n        #region Internal Exception Handlers\r\n\r\n\r\n        static object _classLock = new object ();\r\n        static object ClassLock\r\n        {\r\n            get { return _classLock; }\r\n        }\r\n\r\n        static bool _closing = false;\r\n        static bool Closing\r\n        {\r\n            get\r\n            {\r\n                bool closing = false;\r\n\r\n                lock ( ClassLock )\r\n                {\r\n                    closing = _closing;\r\n                }\r\n\r\n                return closing;\r\n            }\r\n\r\n            set\r\n            {\r\n                lock ( ClassLock )\r\n                {\r\n                    _closing = value;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        private static void Current_DispatcherUnhandledException ( object sender, System.Windows.Threading.DispatcherUnhandledExceptionEventArgs e )\r\n        {\r\n            e.Handled = true;\r\n\r\n            var ex = e.Exception;\r\n\r\n            if ( ex.InnerException != null )\r\n                ex = ex.InnerException;\r\n\r\n            if ( Closing )\r\n                return;\r\n\r\n            Application.Current.Shutdown ();\r\n        }\r\n\r\n        public static void CurrentDomain_UnhandledException ( object sender, UnhandledExceptionEventArgs e )\r\n        {\r\n            var ex = e.ExceptionObject as Exception;\r\n\r\n            if ( ex.InnerException != null )\r\n                ex = ex.InnerException;\r\n\r\n            Application.Current.Shutdown ();\r\n        }\r\n\r\n        #endregion\r\n    }\r\n\r\n}\r\n`","Url":"https://github.com/dotnet/wpf/issues/2357","RelatedDescription":"Open issue \"WPF App InitializeComponent is missing\" (#2357)"},{"Id":"541765592","IsPullRequest":true,"CreatedAt":"2019-12-23T14:10:25","Actor":"dotnet-maestro[bot]","Number":"2356","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191223.1\r\n- **Date Produced**: 12/23/2019 1:37 PM\r\n- **Commit**: c5b6178391100689e03fc909dce89cf1cc991efe\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19623.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2356","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2356)"},{"Id":"541750648","IsPullRequest":true,"CreatedAt":"2019-12-23T13:27:06","Actor":"dotnet-maestro[bot]","Number":"2355","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191222.6\r\n- **Date Produced**: 12/23/2019 12:14 AM\r\n- **Commit**: 34d9715c169f69390fd4c38f83d011fb7e96acd7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19622.6\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2355","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2355)"},{"Id":"541454109","IsPullRequest":true,"CreatedAt":"2019-12-22T14:05:24","Actor":"dotnet-maestro[bot]","Number":"2354","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191222.1\r\n- **Date Produced**: 12/22/2019 1:32 PM\r\n- **Commit**: c15a0d95cf910c9120f60d22bc71a7fa68122851\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19622.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2354","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2354)"},{"Id":"541449928","IsPullRequest":true,"CreatedAt":"2019-12-22T13:38:56","Actor":"dotnet-maestro[bot]","Number":"2353","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191221.8\r\n- **Date Produced**: 12/22/2019 12:37 AM\r\n- **Commit**: b39b93574c4dfa6f022fc60ae841b79c80b67660\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19621.8\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2353","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2353)"},{"Id":"541351099","IsPullRequest":false,"CreatedAt":"2019-12-21T17:33:23","Actor":"AlgorithmsAreCool","Number":"2352","RawContent":null,"Title":"Suggestion : Simplify dependency property registration","State":"open","Body":"I've recently gotten back into WPF and now I'm relearning the fun of defining DependencyProperties. \r\n\r\n### Existing Behavior\r\n\r\nLets look at the current way of defining some DPs;\r\n\r\n```csharp\r\npublic class MyViewModel : DependencyObject\r\n{\r\n    public Brush Fill\r\n    {\r\n        get => (Brush)GetValue(FillProperty);\r\n        set => SetValue(FillProperty, value);\r\n    }\r\n\r\n    public Brush Foreground\r\n    {\r\n        get => (Brush)GetValue(ForegroundProperty);\r\n        set => SetValue(ForegroundProperty, value);\r\n    }\r\n\r\n    public string Text\r\n    {\r\n        get => (string)GetValue(TextProperty);\r\n        set => SetValue(TextProperty, value);\r\n    }\r\n\r\n    public static readonly DependencyProperty FillProperty = DependencyProperty.Register(nameof(Fill), typeof(Brush), typeof(MyViewModel), new PropertyMetadata(Brushes.White));\r\n    public static readonly DependencyProperty ForegroundProperty = DependencyProperty.Register(nameof(Foreground), typeof(Brush), typeof(MyViewModel), new PropertyMetadata(Brushes.Black));\r\n    public static readonly DependencyProperty TextProperty = DependencyProperty.Register(nameof(Text), typeof(string), typeof(MyViewModel), new PropertyMetadata(\"\"));\r\n}\r\n```\r\n\r\nI always found the process clunky and very verbose. In particular, we have to keep repeating `typeof(MyViewModel)` on each declaration.\r\nWe also have to be careful of copy/paste errors on the property types as well as the default values passed into the property metadata.\r\n\r\n### Proposed Behavior\r\n\r\nI tried to reduce this pain by defining two helper types.\r\n\r\n```csharp\r\npublic readonly struct DependencyProperty<T>\r\n{\r\n    public DependencyProperty(DependencyProperty property)\r\n    {\r\n        Property = property;\r\n    }\r\n\r\n    public DependencyProperty Property { get; }\r\n\r\n    public static implicit operator DependencyProperty(DependencyProperty<T> dependencyProperty) \r\n        => dependencyProperty.Property;\r\n} \r\n```\r\n\r\n\r\n```csharp\r\npublic class DependencyObject<TSelf> : DependencyObject\r\n    where TSelf : DependencyObject<TSelf>\r\n{\r\n    public T Get<T>(DependencyProperty<T> property) => (T)GetValue(property.Property);\r\n\r\n    public void Set<T>(DependencyProperty<T> property, T value) => SetValue(property.Property, value);\r\n\r\n    public static DependencyProperty<T> RegisterProperty<T>(string name) \r\n        => new DependencyProperty<T>(DependencyProperty.Register(name, typeof(T), typeof(TSelf)));\r\n        \r\n    public static DependencyProperty<T> RegisterProperty<T>(string name, T defaultValue) \r\n        => new DependencyProperty<T>(DependencyProperty.Register(name, typeof(T), typeof(TSelf), new PropertyMetadata(defaultValue)));\r\n\r\n\r\n    public static DependencyProperty<T> RegisterProperty<T>(Expression<Func<TSelf, T>> propertyExpression) \r\n        => RegisterProperty<T>(GetPropertyNameFromExpression(propertyExpression));\r\n\r\n    public static DependencyProperty<T> RegisterProperty<T>(Expression<Func<TSelf, T>> propertyExpression, T defaultValue)\r\n        => RegisterProperty(GetPropertyNameFromExpression(propertyExpression), defaultValue);\r\n\r\n    private static string GetPropertyNameFromExpression<T>(Expression<Func<TSelf, T>> propertyExpression)\r\n    {\r\n       //sample implementation ommited for brevity...\r\n    }\r\n}\r\n```\r\n`DependencyProperty<T>` is a wrapper struct that associates a strong type with the underlying DependencyProperty. \r\n`DependencyObject<T>` is a new type that you would derive from instead of directly from `DependencyObject`. \r\nIt has simpler helpers that make defining dependency easier and less error prone.\r\n\r\nWith these changes we can now define our view model like this:\r\n\r\n```csharp\r\npublic class MyViewModel : DependencyObject<MyViewModel>\r\n{\r\n    public Brush Fill\r\n    {\r\n        get => Get(FillProperty);\r\n        set => Set(FillProperty, value);\r\n    }\r\n\r\n    public Brush Foreground\r\n    {\r\n        get => Get(ForegroundProperty);\r\n        set => Set(ForegroundProperty, value);\r\n    }\r\n\r\n    public string Text\r\n    {\r\n        get => Get(TextProperty);\r\n        set => Set(TextProperty, value);\r\n    }\r\n\r\n    public static readonly DependencyProperty<Brush> FillProperty = RegisterProperty<Brush>(nameof(Fill), Brushes.White);\r\n    public static readonly DependencyProperty<Brush> ForegroundProperty = RegisterProperty<Brush>(nameof(Foreground), Brushes.Black);\r\n    public static readonly DependencyProperty<string> TextProperty = RegisterProperty(nameof(Text), \"\");\r\n}\r\n```\r\nThere are two main benefits. \r\n- First, type correctness is enforced at compile time.\r\n- Second, the registration is simpler and easier to read.\r\n\r\nCompare:\r\n```csharp\r\nDependencyProperty.Register(nameof(Fill), typeof(Brush), typeof(MyViewModel), new PropertyMetadata(Brushes.White));\r\n```\r\nto \r\n```csharp\r\nRegisterProperty<Brush>(nameof(Fill), Brushes.White);\r\n```\r\n\r\nAlternatively, we can also use a lambda to register the property like this\r\n```csharp\r\nRegisterProperty(self => self.Fill, Brushes.White);\r\n```\r\n\r\n### Drawbacks\r\nI'm using the C# version of [CRTP](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern) to make this work. It's perfectly legal syntax, but if you haven't seen it before it can be very confusing at first. But it saves me from having to always specify the owning type of the property.\r\n\r\nThis also my just be too little, too late and it might not be worth the added confusion.","Url":"https://github.com/dotnet/wpf/issues/2352","RelatedDescription":"Open issue \"Suggestion : Simplify dependency property registration\" (#2352)"},{"Id":"541330340","IsPullRequest":true,"CreatedAt":"2019-12-21T14:25:27","Actor":"dotnet-maestro[bot]","Number":"2351","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191221.1\r\n- **Date Produced**: 12/21/2019 1:30 PM\r\n- **Commit**: 1fc81bcbe0a789d8ef1f8b3172e1071b0a9f8393\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19621.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2351","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2351)"},{"Id":"541326334","IsPullRequest":true,"CreatedAt":"2019-12-21T13:30:13","Actor":"dotnet-maestro[bot]","Number":"2350","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191220.12\r\n- **Date Produced**: 12/21/2019 1:30 AM\r\n- **Commit**: 7e8051e8f85af2ea93ef0995ad21182b1d688b5d\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha.1.19620.12\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2350","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#2350)"},{"Id":"541237995","IsPullRequest":false,"CreatedAt":"2019-12-20T23:06:52","Actor":"Mrxx99","Number":"2349","RawContent":null,"Title":"Editable ComboBox shows wrong decimal separator for selected item","State":"open","Body":"* .NET Core Version: 3.1 and 3.0\r\n* Windows version: 10 - 1909 (but should be independant)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No \r\n <!-- Read https://github.com/dotnet/wpf/blob/master/Documentation/issue-guide.md -->\r\n \r\n **Problem description:**\r\nComboBox when set to IsEditable=\"True\" shows decimal separator of system language for selected value in textbox when bound to double values instead of the one set via the XAML Language property or even the UICulture set in code. If you also bind the Text property of the ComboBox to a double value the decimal separator is completely dropped (eg. making \"2.3\" to \"23\") which also only happens if the decimal separator is different between selected and system culture.\r\n\r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\nMy windows culture is set to German and I set the Language property of the window to \"en\" and the double values in the dropdown correctly show the . as decimal separator. But if I select a value it shows the decimal separator in the textbox of the editable ComboBox. (A TextBox bound to the same selected item does show the right decimal separator)\r\n \r\n **Expected behavior:**\r\nA selected bound double value in a editable ComboBox picks up the same language as every other control in WPF set by the language property.\r\n \r\n **Minimal repro:**\r\n1) Set windows culture to German.\r\n2) Create a ComboBox in XAML and bind it's ItemsSource to a collection of double values.\r\n3) Set IsEditable=\"True\" on the ComboBox\r\n3) Change the Language property of the window to a culture that uses the dot (.) as decimal separator (e.g. English) (Language=\"en\")\r\n4) If you now select a value from the dropdown it is shown with the comma as decimal separator int the ComboBox textbox.\r\n5) If you now add a binding of a double property to the Text property of the ComboBox the value is shown without decimal separator\r\n\r\nMinimum reproducable project can be found here: https://github.com/Mrxx99/WpfComboBoxCultureIssue","Url":"https://github.com/dotnet/wpf/issues/2349","RelatedDescription":"Open issue \"Editable ComboBox shows wrong decimal separator for selected item\" (#2349)"},{"Id":"541231600","IsPullRequest":true,"CreatedAt":"2019-12-20T22:50:22","Actor":"dotnet-maestro[bot]","Number":"2348","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191220.3\r\n- **Date Produced**: 12/20/2019 10:21 PM\r\n- **Commit**: d6b1f700c79e7a8da79258c2c690db06c7c23c20\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19620.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2348","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2348)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-12-31T05:30:55.4067713Z","RunDurationInMilliseconds":707}