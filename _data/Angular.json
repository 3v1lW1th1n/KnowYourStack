{"Data":{"Angular-Issues":{"Issues":[{"Id":"388497273","IsPullRequest":false,"CreatedAt":"2018-12-07T04:03:03","Actor":"lfzx","Number":"27530","RawContent":null,"Title":"清除定时器","State":"open","Body":"\r\n![image](https://user-images.githubusercontent.com/34572392/49626914-f7e4ed80-fa16-11e8-879a-42d91268c260.png)\r\n查看网上资料后，发现都是销毁组件时才会清除定时器，而只是点击另一个页面，没有关闭该组件时，这个循环定时器还在执行，这肯定是不行的，会影响系统的性能。如第2张图片中所示，定时器1开启，我点击定时器2后，定时器1还在运行，必须把定时器1关闭后，循环定时器才会停止。请问有没有方法可以不销毁组件，定时器也能被清除？\r\n![image](https://user-images.githubusercontent.com/34572392/49627070-b7d23a80-fa17-11e8-9a8d-a06502782fa0.png)\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/27530","RelatedDescription":"Open issue \"清除定时器\" (#27530)"},{"Id":"388458619","IsPullRequest":true,"CreatedAt":"2018-12-07T00:43:29","Actor":"AndrewKushnir","Number":"27529","RawContent":null,"Title":"fix(ivy): define correct SVG namespace (FW-757)","State":"open","Body":"The trailing slash in SVG namespace prevented its correct resolution, thus triggering issues at runtime.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/27529","RelatedDescription":"Open PR \"fix(ivy): define correct SVG namespace (FW-757)\" (#27529)"},{"Id":"388458339","IsPullRequest":false,"CreatedAt":"2018-12-07T00:42:05","Actor":"the-avid-engineer","Number":"27528","RawContent":null,"Title":"Router state is Mutable via ActivatedRouteSnapshot","State":"open","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\n@angular/router (probably)\r\n\r\n\r\n### Is this a regression?\r\nNo. It appears to have existed for a while. See #17609 \r\n\r\n\r\n### Description\r\nIf you mutate existing properties on the queryParams object of an ActivatedRouteSnapshot without making a deep copy, it appears to mutate the router's internal state. Telling the router to navigate using the mutated queryParams object does not trigger a navigation event in this case.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\nhttps://stackblitz.com/edit/github-powged?file=src%2Fapp%2Freproduction%2Freproduction.component.ts\r\n","Url":"https://github.com/angular/angular/issues/27528","RelatedDescription":"Open issue \"Router state is Mutable via ActivatedRouteSnapshot\" (#27528)"},{"Id":"388451726","IsPullRequest":false,"CreatedAt":"2018-12-07T00:10:14","Actor":"pshahidi","Number":"27527","RawContent":null,"Title":"AngularJS Used in Angular app: ng-if in AngularJS markup (span) Does not behave as expected","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n@angular/upgrade/static\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\n\r\nUsing AngularJS (Controller/martup) in Angular\r\nWhen you change ng-show to ng-if on span or div the enclosed content does not display as expected\r\nUsing the stackbliz code is easier to see the issue, \r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-xcqzsy\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 7.0.6\r\nNode: 9.5.0\r\nOS: win32 x64\r\nAngular: 7.0.4\r\nnpm: 5.6.0\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/27527","RelatedDescription":"Open issue \"AngularJS Used in Angular app: ng-if in AngularJS markup (span) Does not behave as expected\" (#27527)"},{"Id":"388451221","IsPullRequest":true,"CreatedAt":"2018-12-07T00:08:03","Actor":"kyliau","Number":"27526","RawContent":null,"Title":"fix(bazel): Read latest versions from latest-versions.ts & use semver check","State":"open","Body":"When `@angular/bazel` is installed, a postinstall script is run to make sure that\r\nthe npm version is *exactly* the same as the Angular repository installed by\r\nBazel. This check is overly stringent. Instead, it should enforce that the\r\nversion satisfies the range check instead. This check is consistent with the range\r\ndefined in `angular-cli/packages/schematics/angular/utility/latest-versions.ts`.\r\n\r\nThis commit also fixes the Bazel workspace to use the same Rxjs version if it's\r\nalready installed.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [x] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/27526","RelatedDescription":"Open PR \"fix(bazel): Read latest versions from latest-versions.ts & use semver check\" (#27526)"},{"Id":"388449961","IsPullRequest":true,"CreatedAt":"2018-12-07T00:02:33","Actor":"AndrewKushnir","Number":"27525","RawContent":null,"Title":"fix(ivy): generate proper event listener names for animation events (FW-800)","State":"open","Body":"Prior to this change, animation event names were treated as a regular event names, stripping `@` symbol and event phase. As a result, event listeners were not invoked during animations. Now animation event name is formatted as needed and the necessary callbacks are invoked.\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/27525","RelatedDescription":"Open PR \"fix(ivy): generate proper event listener names for animation events (FW-800)\" (#27525)"},{"Id":"388446660","IsPullRequest":false,"CreatedAt":"2018-12-06T23:48:44","Actor":"pshahidi","Number":"27524","RawContent":null,"Title":"AngularJS Used in Angular app: ngRepeat on DIV does not produce expected values","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n@angular/upgrade/static\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\n\r\n### Description\r\nUsing AngularJS (Controller/martup) in Angular\r\nWhen you change span  to div  expected values from collection do not print\r\nUsing the stackbliz code is easier to see the issue, \r\n\r\n\r\n## 🔬 Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-bwyhbb\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 7.0.6\r\nNode: 9.5.0\r\nOS: win32 x64\r\nAngular: 7.0.4\r\nnpm: 5.6.0\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/27524","RelatedDescription":"Open issue \"AngularJS Used in Angular app: ngRepeat on DIV does not produce expected values\" (#27524)"},{"Id":"388438007","IsPullRequest":true,"CreatedAt":"2018-12-06T23:13:15","Actor":"jasonaden","Number":"27523","RawContent":null,"Title":"fix(router): ensure URL is updated after second redirect with UrlUpda…","State":"open","Body":"…teStrategy=\"eager\"\r\n\r\nNavigating to a route such as `/users`, you may get redirected to `/login`. Previously, if you go then route to `/users` again the URL will end up showing `/users` after the second redirect. This only happened in `UrlUpdateStrategy=\"eager\"`. This is now fixed so after the second redirect, the URL shows the correct page.\r\n\r\nFixes #27116\r\n","Url":"https://github.com/angular/angular/pull/27523","RelatedDescription":"Open PR \"fix(router): ensure URL is updated after second redirect with UrlUpda…\" (#27523)"},{"Id":"388437634","IsPullRequest":true,"CreatedAt":"2018-12-06T23:11:53","Actor":"zackarychapple","Number":"27522","RawContent":null,"Title":"docs(aio): adding ngAtlanta 2019","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n- [x] Documentation content changes\r\n\r\n","Url":"https://github.com/angular/angular/pull/27522","RelatedDescription":"Open PR \"docs(aio): adding ngAtlanta 2019\" (#27522)"},{"Id":"388425839","IsPullRequest":true,"CreatedAt":"2018-12-06T22:30:32","Actor":"AndrewKushnir","Number":"27521","RawContent":null,"Title":"fix(ivy): make ViewRef.detectChanges work with embedded views (FW-749)","State":"open","Body":"In `ViewRef.detectChanges`, we are passing `ViewRef.context` into `detectChanges` to trigger change detection. This only makes sense for component `ViewRefs` (i.e. injected `ChangeDetectorRefs`) because with embedded views, `context` is not a component instance where the view has been monkey-patched. It's a just a normal object, so the view will be undefined.\r\n\r\nIn order to resolve this problem, we now invoke `detectChangesInternal` and also pass `LView` (to make sure we always have a view available).\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/27521","RelatedDescription":"Open PR \"fix(ivy): make ViewRef.detectChanges work with embedded views (FW-749)\" (#27521)"},{"Id":"388419308","IsPullRequest":false,"CreatedAt":"2018-12-06T22:08:56","Actor":"AnthonyPAlicea","Number":"27520","RawContent":null,"Title":"Inconsistency in how providers are referred to","State":"open","Body":"# 📚 Docs bug report\r\n\r\n### Description\r\n\r\nWhen answering the question 'what is a provider' there is a bit of an inconsistency in the docs. The glossary definition is \"an object that implements one of the Provider interfaces\" and, for example, a ClassProvider's interface is:\r\n\r\n```\r\ninterface ClassProvider extends ClassSansProvider {\r\n  provide: any\r\n  multi?: boolean\r\n}\r\n```\r\n\r\nThis is consistent with several other places in the documentation where a provider is referred to as the object used to configure the injector.\r\n\r\nThis would all suggest the answer to the question \"show me what a provider looks like\" would be:\r\n\r\n`{ provide: Logger, useClass: Logger }`\r\n\r\nHowever the page Dependency Injection -> Angular Dependency Injection states: \"A provider can be the service class itself, so that the injector can use new to create an instance.\" This statement suggests the provider is the _class itself_, not the configuration object.\r\n\r\nThis is exacerbated by many sources online referring to an Angular provider and service as essentially the same thing.\r\n\r\nPersonally I find stating that a provider is the configuration object that is passed to the injector makes explaining DI much easier (i.e. the provider provides the information the injector needs to know).\r\n\r\nIf that is the correct answer, then perhaps documentation should say something to the effect: \"The service class itself can be specified in the provider object, so that the injector can use new to create an instance.\"\r\n\r\nOr perhaps I am incorrect in my reading of the documentation.\r\n\r\n### What's the affected URL?**\r\nhttps://angular.io/guide/dependency-injection","Url":"https://github.com/angular/angular/issues/27520","RelatedDescription":"Open issue \"Inconsistency in how providers are referred to\" (#27520)"},{"Id":"388240475","IsPullRequest":true,"CreatedAt":"2018-12-06T21:42:40","Actor":"marclaval","Number":"27511","RawContent":null,"Title":"test(router): correct a wrong test (FW-766)","State":"closed","Body":"Running this test with Ivy made me realise that the last expectation was wrong and was working with the View Engine only because of the way the Jasmine matcher is comparing objects.\r\n\r\nThere are in fact two different instances of `SimpleCmp` and they can't be equal.","Url":"https://github.com/angular/angular/pull/27511","RelatedDescription":"Closed or merged PR \"test(router): correct a wrong test (FW-766)\" (#27511)"},{"Id":"388235313","IsPullRequest":true,"CreatedAt":"2018-12-06T21:42:26","Actor":"pkozlowski-opensource","Number":"27510","RawContent":null,"Title":"test(ivy): finish root cause analysis for @angular/core TestBed failing tests","State":"closed","Body":"This PR concludes root cause analysis for @angular/core TestBed failing tests","Url":"https://github.com/angular/angular/pull/27510","RelatedDescription":"Closed or merged PR \"test(ivy): finish root cause analysis for @angular/core TestBed failing tests\" (#27510)"},{"Id":"388230799","IsPullRequest":true,"CreatedAt":"2018-12-06T21:42:09","Actor":"marclaval","Number":"27509","RawContent":null,"Title":"test(ivy): enable router tests with pending timers (FW-768)","State":"closed","Body":"These two tests are failing because there are some pending timers in zone at the end of the tests.\r\nThe reasons are:\r\n1) the `RouterOutlet.activateWith(...)` marks for check to force change detection, see https://github.com/angular/angular/blob/master/packages/router/src/directives/router_outlet.ts#L137-L140\r\n2) In Ivy, marking a view dirty also schedules a change detection, see https://github.com/angular/angular/blob/master/packages/core/src/render3/instructions.ts#L2376-L2386\r\n3) In Ivy in Node, scheduling is done with setTimeout\r\n\r\nIn this list, the second one is the questionable one that should be discussed.\r\nThis PR can be merged to enable these tests which are in fact successful, or used for the discussion.","Url":"https://github.com/angular/angular/pull/27509","RelatedDescription":"Closed or merged PR \"test(ivy): enable router tests with pending timers (FW-768)\" (#27509)"},{"Id":"388258584","IsPullRequest":false,"CreatedAt":"2018-12-06T21:33:30","Actor":"juanpmarengo","Number":"27513","RawContent":null,"Title":"Custom Form Component - CSS Classes","State":"closed","Body":"I got a custom form component and I want to subscribe to the classes that are applied to the host.\r\n\r\nI tried with:\r\n\r\n```\r\n@HostBinding('attr.class')\r\n@Input() class: string;\r\n```\r\n\r\nWith this approach I could only get the initial class, but this component uses the validator **required** that attaches the classes _.ng-valid_ or _.ng-invalid_ dynamically.\r\n\r\nIs there a way to bind to those class changes?\r\n","Url":"https://github.com/angular/angular/issues/27513","RelatedDescription":"Closed issue \"Custom Form Component - CSS Classes\" (#27513)"},{"Id":"388079434","IsPullRequest":false,"CreatedAt":"2018-12-06T21:32:12","Actor":"kumaresan-subramani","Number":"27503","RawContent":null,"Title":"How to load the ng-template in separate file?","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\nnot able use ng-template in seperate file\r\n\r\n\r\n### Description\r\n\r\nIn below sample, i have used ng-template like below and it is working fine\r\n\r\n**sample:** https://stackblitz.com/edit/angular-mdksym-bihcup?file=default.html \r\n\r\nBut I want to create a new file for ng-template content and I want to use it in another file. I have tried like below but not working. Please help me find a solution for this case.\r\n\r\n> template.html\r\n\r\n`<ng-template #template let-dataSource=\"\">\r\n  <span *ngIf=\"dataSource.iconCss\" class=\"e-menu-icon {{dataSource.iconCss}}\"></span>\r\n  {{dataSource.header}} {{dataSource.text}}\r\n  <span *ngIf=\"dataSource.templateHeader\" class=\"e-login-content\">\r\n    <button ejs-button cssClass=\"e-info\">Sign In</button>\r\n  </span>\r\n</ng-template>`\r\n\r\n> default.html\r\n`<div class=\"control-section\">\r\n  <ejs-menu #menu [items]='dataSource' [fields]='menuFields'>\r\n    <ng-container *ngTemplateOutlet=\"template;\"></ng-container>\r\n  </ejs-menu>\r\n</div>`\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nnot working sample link: https://stackblitz.com/edit/angular-mdksym-r76qei?file=template.html\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n    \"@angular/cli\": \"~6.1.1\",\r\n    \"@angular/compiler-cli\": \"^6.1.0\",\r\n    \"@angular/language-service\": \"^6.1.0\",\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/27503","RelatedDescription":"Closed issue \"How to load the ng-template in separate file?\" (#27503)"},{"Id":"388323015","IsPullRequest":false,"CreatedAt":"2018-12-06T21:18:24","Actor":"yogender1995","Number":"27518","RawContent":null,"Title":"angular post requests error","State":"closed","Body":"Access to XMLHttpRequest at 'http://localhost/ci/api/heros/update_hero' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.\r\n\r\n\r\nplease help me..\r\ni have also added headers:\r\nheader('Access-Control-Allow-Origin: *');\r\nheader('Access-Control-Allow-Headers: X-Requested-With, Content-Type, Accept, Origin');\r\nheader('Access-Control-Allow-Methods','GET, POST, PUT, DELETE, OPTIONS');\r\n\r\nbut it still showing this cors  policy error","Url":"https://github.com/angular/angular/issues/27518","RelatedDescription":"Closed issue \"angular post requests error\" (#27518)"},{"Id":"388396919","IsPullRequest":true,"CreatedAt":"2018-12-06T21:03:55","Actor":"DevVersion","Number":"27519","RawContent":null,"Title":"fix(bazel): ng_package writes unrelevant definitions to bazel out","State":"open","Body":"In order to keep the bazel bin directory as clean as possible, we should not write definition files that are not relevant to a `ng_package` to an **unexpected** location in the bazel-bin directory. This currently just happens because we only filter out external definition files while we also should filter out definitions that _just aren't_ in the current package.\r\n\r\nThe `packager.ts` file currently tries to write these files to the package output, but fails because those are not inside of the current label's package, so the logic to create a relative path for the file fails and the definition will be copied to a location like:\r\n\r\n```js\r\n// Notice the double \"bazel-out\" here.\r\nC:\\Users\\Paul\\_bazel_Paul\\kn4tsvyh\\execroot\\angular_material\\bazel-out\\x64_windows-fastbuild\\bin\\src\\bazel-out\\x64_windows-fastbuild\\bin\\src\\cdk\r\n```\r\n\r\n---\r\n\r\nhttps://github.com/angular/angular/blob/4f9374951d67c75f67a31c110bd61ab72563db7d/packages/bazel/src/ng_package/packager.ts#L105-L124\r\n\r\nThis logic writes the definition to an unexpected location (**but** there is nothing wrong with that logic because we _should_ never pass paths that aren't in the current label's package)","Url":"https://github.com/angular/angular/pull/27519","RelatedDescription":"Open PR \"fix(bazel): ng_package writes unrelevant definitions to bazel out\" (#27519)"},{"Id":"388061178","IsPullRequest":true,"CreatedAt":"2018-12-06T17:28:20","Actor":"kara","Number":"27501","RawContent":null,"Title":"test(ivy): fix query compliance spec","State":"closed","Body":"This PR fixes the query compliance spec. It was broken because the `ViewChildren` import was missing, so the test never actually ran properly.\r\n\r\nWill look into causing missing imports to throw to avoid this in the future.","Url":"https://github.com/angular/angular/pull/27501","RelatedDescription":"Closed or merged PR \"test(ivy): fix query compliance spec\" (#27501)"},{"Id":"388293560","IsPullRequest":true,"CreatedAt":"2018-12-06T17:19:10","Actor":"IgorMinar","Number":"27516","RawContent":null,"Title":"rollback/router 26243","State":"closed","Body":"Breaks patheon. see cl/224256517","Url":"https://github.com/angular/angular/pull/27516","RelatedDescription":"Closed or merged PR \"rollback/router 26243\" (#27516)"},{"Id":"388307572","IsPullRequest":false,"CreatedAt":"2018-12-06T17:01:35","Actor":"rajeev-john","Number":"27517","RawContent":null,"Title":"Directive not activated when component lazy loaded","State":"open","Body":"Hi,\r\n     I am having an issue of directive not triggering when the attached component is lazy loaded. \r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/....\r\n\r\n## 🔬 Minimal Reproduction\r\n### Description\r\n\r\n      Please see below the sample\r\n\r\n`@Directive({\r\n  selector: 'my-directive'\r\n})`\r\n     The above directive is part of a module `MyDirectiveModule`\r\n\r\n`@Component({\r\n  selector: 'my-directive',\r\n  templateUrl: './my-directive.component.html'\r\n})`\r\n    The component selector is set to same as that of the directive to match the element name. The above component is part of a module `MyDirectiveComponentModule`. Also i have imported `MyDirectiveModule` in `MyDirectiveComponentModule`.\r\n\r\nThe issue that is currently faced is that, when `MyDirectiveComponentModule` is loaded to `<router-outlet></router-outlet>` via lazy loading the corresponding directive is not getting triggered. I tried adding the directive module to `AppModule` as well based on some google results but not luck. I am not sure if I am doing something wrong or is it the expected behavior. Appreciate your help and Thanks in advance.\r\n\r\n### Is this a regression?\r\nHave faced the same issue with with Angular 7.0 & 7.1. Not sure about the previous versions.\r\n\r\n## 🌍  Your Environment\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 7.1.1\r\nNode: 10.14.1\r\nOS: win32 x64\r\nAngular: 7.1.1\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.10.3\r\n@angular-devkit/build-angular     0.10.3\r\n@angular-devkit/build-optimizer   0.10.3\r\n@angular-devkit/build-webpack     0.10.3\r\n@angular-devkit/core              7.0.3\r\n@angular-devkit/schematics        7.1.1\r\n@ngtools/webpack                  7.0.3\r\n@schematics/angular               7.1.1\r\n@schematics/update                0.11.1\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.19.1\r\n</code></pre>\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/27517","RelatedDescription":"Open issue \"Directive not activated when component lazy loaded\" (#27517)"},{"Id":"388285346","IsPullRequest":true,"CreatedAt":"2018-12-06T16:12:53","Actor":"bmarkov","Number":"27515","RawContent":null,"Title":"docs(aio): Added resources to UI Components","State":"open","Body":"docs(aio): Added resources to UI Components. Added Smart Angular Components\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/27515","RelatedDescription":"Open PR \"docs(aio): Added resources to UI Components\" (#27515)"},{"Id":"388272579","IsPullRequest":false,"CreatedAt":"2018-12-06T15:45:39","Actor":"filipesilva","Number":"27514","RawContent":null,"Title":"`yarn bazel` does not use cached builds, but `bazel` does","State":"open","Body":"This behaviour was observed on @pkozlowski-opensource's environment. \r\n\r\n`yarn bazel` commands did not use cached builds on his machine, but `bazel` commands did.\r\n\r\nWe repeated the same build and test command several times with `yarn bazel` and it always rebuilt everything.\r\n\r\nThen did the same with just `bazel` and we saw tests using cache and builds not rebuilding everything\r\n\r\n@pkozlowski-opensource mentioned has had several of the bazel setups over time, and I wonder if this is a symptom of leftover configuration.\r\n\r\nBoth `yarn bazel` and `bazel` reported a 0.18.0 version.","Url":"https://github.com/angular/angular/issues/27514","RelatedDescription":"Open issue \"`yarn bazel` does not use cached builds, but `bazel` does\" (#27514)"},{"Id":"388250714","IsPullRequest":true,"CreatedAt":"2018-12-06T14:58:00","Actor":"ocombe","Number":"27512","RawContent":null,"Title":"ci: update ngbot config to add merge linked labels","State":"open","Body":"## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] CI related changes\r\n\r\n\r\n## What is the new behavior?\r\nAdding the `merge-assistance` label will also add the `merge` label automatically\r\n\r\nIssue Number: #27494\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] No","Url":"https://github.com/angular/angular/pull/27512","RelatedDescription":"Open PR \"ci: update ngbot config to add merge linked labels\" (#27512)"},{"Id":"388185114","IsPullRequest":false,"CreatedAt":"2018-12-06T12:07:17","Actor":"filipesilva","Number":"27508","RawContent":null,"Title":"BuildKite failure tracking","State":"open","Body":"We've recently added the [BuildKite CI check ](https://github.com/angular/angular/pull/27205) and are now tracking how reliable it is, and how it fails.\r\n\r\nSo far the following failures have been observed:\r\n- `Warning: Checkout failed` ([build log](https://buildkite.com/angular/angular/builds/97#49ffb1e8-0930-453d-ae7a-439437201014))\r\n- `warning: failed to remove node_modules/...` followed by `Warning: Checkout failed!` ([build log 1](https://buildkite.com/angular/angular/builds/70#9fc8283b-7088-4aee-9582-53166c9a8d3d), [2](https://buildkite.com/angular/angular/builds/96#65a95d9f-7677-4d22-b794-d56b985463aa), [3](https://buildkite.com/angular/angular/builds/67#f8dc2fab-07e5-489e-8be4-f7a64d1099c9))\r\n  - these two seems to happen when the buildkite scripts end up in a state where the folder is no longer a repository. Reported to BuildKite as https://github.com/buildkite/agent/issues/866.\r\n- Bazels `yarn_install` fails ([build log 1](https://buildkite.com/angular/angular/builds/100#e9e5c732-0ac1-49d1-8e48-70218e2d1d68), [2](https://buildkite.com/angular/angular/builds/45#4da019bb-5176-4fdd-bcb6-84062fce7f87), [3](https://buildkite.com/angular/angular/builds/81#8f8c6b7d-acd8-4a9f-9010-e21e99a4d0f1))\r\n  - this failure happens when running Bazel and is always preceded by `warning Waiting for the other yarn instance to finish (8340)`. Perhaps related to https://github.com/bazelbuild/rules_nodejs/pull/419. Warnings also seen in [circleci builds](https://circleci.com/gh/angular/angular/120474?utm_campaign=vcs-integration-link&utm_medium=referral&utm_source=github-build-link) but did not lead to failure there.\r\n- `ENOSPC: no space left on device,` ([build log](https://buildkite.com/angular/angular/builds/48#8084e592-1c6a-4895-950e-009b780fb4ee)). \r\n  - ~~we have increased disk space on windows VMs (32GB to 192GB) to validate if this error is legitimate and was truly caused by lack of disk space.~~ Still seeing out of space errors ([build 120](https://buildkite.com/angular/angular/builds/120#4d7a787c-7e27-4d3b-8c73-45080eea9006) after we increased disk size, so it's likely not really a disk space thing.\r\n\r\nThere is two others identified failure mode that are expected and will not be investigated:\r\n- Could not find a default pipeline configuration file. ([build log 1](https://buildkite.com/angular/angular/builds/85#3da718aa-feb8-49f8-a8a4-fffdedc3fc89), [2](https://buildkite.com/angular/angular/builds/92#2dee910c-0768-4468-bde6-816e62fb8848))\r\n  - this happens when a PR that is not up to date with master fails to build because the buildkite configuration cannot be found. It s is expected and should go away in a couple of weeks as PRs become up to date.\r\n- Canceled automatically ([build log](https://buildkite.com/angular/angular/builds/95#c2563d19-c6d7-4e68-b5a2-bbb189b91269))\r\n  - Intermediate builds are cancelled as new commits arrive. This does not affect the master branch.\r\n\r\ncc @alexeagle @IgorMinar \r\n","Url":"https://github.com/angular/angular/issues/27508","RelatedDescription":"Open issue \"BuildKite failure tracking\" (#27508)"},{"Id":"388179617","IsPullRequest":false,"CreatedAt":"2018-12-06T11:51:19","Actor":"gkalpak","Number":"27507","RawContent":null,"Title":"aio: CLI docs and updates","State":"open","Body":"## Matching CLI docs versions to Angular versions\r\n\r\n**Current state:**\r\n\r\nThe `@angular/cli` docs built as part of angular.io, are extracted from the [cli-builds][cli-builds] repo, based on a hard-coded SHA in [aio/package.json][aio-pkg-sha].\r\n\r\nWe have to keep different SHAs on Angular master and stable branches, since the CLI docs major versions should match with Angular's major version. E.g. [cli-builds#master][cli-builds-master] (which is based on [angular-cli#master][cli-master]) should be used for building aio on [angular#master][ng-master] and [cli-builds#7.1.x][cli-builds-stable] (which is based on [angular-cli#7.1.x][cli-stable]) should be used for building aio on [angular#7.1.x][ng-stable].\r\n<sub>It just so happens that the latest minor versions for both Angular and CLI are 7.1.x atm, but only the major versions are guaranteed to be aligned.</sub>\r\n\r\nAs a consequence, when we want to update the SHA used in one of Angular's branches, we need to submit a PR against that branch (and make sure PRs targeting master are not accidentally cherry-picked into stable).\r\n\r\nThe upside is that by submitting PRs against the targeted branch, the PR previews are created for and the tests run against that specific branch.\r\n\r\n##\r\n**Alternative plan:**\r\n\r\nWe can have the two different SHAs (one for master and one for the stable branch) in a config file that we keep in-sync between both branches.\r\n\r\nAs a consequence, the previews will be created for and the tests run against the master branch (using the corresponding SHA), which is not useful when updating the SHA for the stable branch. However, if the tests fail when cherry-picked to the stable branch, the broken version will not be deployed (it's just that we wouldn't be able to automatically catch the failures before merging the PR).\r\n\r\nThe upside is that the PRs updating one of the SHAs will always be submitted against master and always cherry-picked to the stable branch. There is no way to accidentally merge cherry-pick a SHA to the wrong branch.\r\n\r\n##\r\n**Thoughts/Considerations:**\r\n\r\n- With the alternative plan, it will be more complicated to determine which SHA to use (unless we have a reliable way to look it up; e.g. via `package.json#version`).\r\n  We would need to decide which branch we are building the docs for, which can be [non-trivial][aio-deploy-script] (and possibly impossible when building on a local branch)?\r\n\r\n---\r\n## Automatic updates.\r\n\r\n**Current state:**\r\n\r\nIn order to avoid having to manually update the SHA, there is [a script][upgrade-cli-src] that runs daily in a Travis cron job (for [gkalpak/ngx-deps-upgrade][ngx-deps-upgrade]) and submits a PR if there are changes in the CLI docs.\r\n<sub>(Currently, this is a prototype and only checks the master branches.)</sub> \r\n\r\n##\r\n**Plan:**\r\n\r\n- Make the script check both master and stable branch.\r\n- Move the script to [angular/angular][ng] and set it up to run in a CircleCI cron job (similar to [aio_monitoring][aio-monitoring-cfg]).\r\n- Make the script run as a non-privileged user (e.g. @MaryPoppins). \r\n \r\n##\r\n**Thoughts/Considerations:**\r\n\r\n- The script requires a GitHub access token to retrieve data from GitHub and create branches/PRs. (The `public_repo` scope is needed for the latter).\r\n  Make sure the token remains secure.\r\n- (Not thought-out) Alternative 1: We could setup CircleCI to run on Mary Poppins' fork (e.g. pull the script from [angular/angular][ng] and run it), so only those with access to her fork would have access to the token.\r\n  <sub>Who would have access to the logs (e.g. for debugging)?</sub>\r\n- (Not thought-out) Alternative 2: We could re-purpose the preview server to do things like that. E.g. ping it from a CircleCI cron job and have it run the script locally.\r\n  <sub>(We need to think more about securirty implications.)</sub>\r\n\r\n\r\n[ng]: https://github.com/angular/angular\r\n[ng-master]: https://github.com/angular/angular/tree/master\r\n[ng-stable]: https://github.com/angular/angular/tree/7.1.x\r\n\r\n[cli]: https://github.com/angular/angular-cli\r\n[cli-master]: https://github.com/angular/angular-cli/tree/master\r\n[cli-stable]: https://github.com/angular/angular-cli/tree/7.1.x\r\n\r\n[cli-builds]: https://github.com/angular/cli-builds\r\n[cli-builds-master]: https://github.com/angular/cli-builds/tree/master\r\n[cli-builds-stable]: https://github.com/angular/cli-builds/tree/7.1.x\r\n\r\n[aio-deploy-script]: https://github.com/angular/angular/blob/6740d0de74e3c399bd09254df579d6a3828fa7ee/aio/scripts/deploy-to-firebase.sh#L25-L62\r\n[aio-monitoring-cfg]: https://github.com/angular/angular/blob/6740d0de74e3c399bd09254df579d6a3828fa7ee/.circleci/config.yml#L454-L463\r\n[aio-pkg-sha]: https://github.com/angular/angular/blob/6740d0de74e3c399bd09254df579d6a3828fa7ee/aio/package.json#L21\r\n\r\n[ngx-deps-upgrade]: https://github.com/gkalpak/ngx-deps-upgrade\r\n[upgrade-cli-src]: https://github.com/gkalpak/ngx-deps-upgrade/blob/master/src/lib/aio/upgrade-cli-src.ts\r\n","Url":"https://github.com/angular/angular/issues/27507","RelatedDescription":"Open issue \"aio: CLI docs and updates\" (#27507)"},{"Id":"388091311","IsPullRequest":false,"CreatedAt":"2018-12-06T09:25:00","Actor":"vthinkxie","Number":"27504","RawContent":null,"Title":"ContentChildren get different children when add formArrayName","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n@angular/forms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nwhen add `formArrayName` to the ng-container, the child component could not be accessed by the parent component\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n\r\nhttps://stackblitz.com/edit/angular-2vcmz3?file=src%2Fapp%2Fapp.component.html\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. Share the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nContentChildren get nothing when add `formArrayName`\r\nshould have same behavior\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:** 7.1\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/27504","RelatedDescription":"Closed issue \"ContentChildren get different children when add formArrayName\" (#27504)"},{"Id":"388114861","IsPullRequest":false,"CreatedAt":"2018-12-06T08:58:26","Actor":"omrirz","Number":"27506","RawContent":null,"Title":"Animation on IOS chrome","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/platform-browser/animations, i guess\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 4.1.2 (the last one i used and it worked)\r\n\r\n\r\n### Description\r\n\r\non IOS Chrome the animations works fine but if you switch to another tab and goes back to the angular app then the animation is not smooth and has jumps.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ✍️--> https://stackblitz.com/edit/angular-ssjdcw\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. Share the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n-->\r\n\r\n\r\n## 🌍  Your Environment\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 7.1.1\r\nNode: 10.8.0\r\nOS: darwin x64\r\nAngular: 7.1.1\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.11.1\r\n@angular-devkit/build-angular     0.11.1\r\n@angular-devkit/build-optimizer   0.11.1\r\n@angular-devkit/build-webpack     0.11.1\r\n@angular-devkit/core              7.1.1\r\n@angular-devkit/schematics        7.1.1\r\n@ngtools/webpack                  7.1.1\r\n@schematics/angular               7.1.1\r\n@schematics/update                0.11.1\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\nYes, this happens on Chrome IOS and not Chrome desktop. other IOS browsers such as Firefox and Safari doesn't have this problem.\r\n","Url":"https://github.com/angular/angular/issues/27506","RelatedDescription":"Open issue \"Animation on IOS chrome\" (#27506)"},{"Id":"388095762","IsPullRequest":true,"CreatedAt":"2018-12-06T07:56:06","Actor":"FrederikSchlemmer","Number":"27505","RawContent":null,"Title":"docs: fix crisis-list component file selection","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: #27187\r\n\r\n\r\n## What is the new behavior?\r\n\r\nChanged one HTML-File with the correct TS-File.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/27505","RelatedDescription":"Open PR \"docs: fix crisis-list component file selection\" (#27505)"},{"Id":"388077789","IsPullRequest":false,"CreatedAt":"2018-12-06T06:43:19","Actor":"marsc","Number":"27502","RawContent":null,"Title":"Primary outlet navigation canceled while navigating in another outlet","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n\"@angular/router\": \"^7.1.1\"\r\n\r\n\r\n### Is this a regression?\r\nNo.\r\n\r\n\r\n### Description\r\nNavigating to a route in the primary outlet while navigating to another route in a named outlet cancels the primary outlet navigation.\r\n\r\nNavigating in one outlet should not affect other outlets.\r\n\r\n## 🔬 Minimal Reproduction\r\nhttps://stackblitz.com/edit/angular-amx5in\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 7.1.1\r\nNode: 10.14.1\r\nOS: darwin x64\r\nAngular: 7.1.1\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, http, language-service, material, platform-browser\r\n... platform-browser-dynamic, router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.11.1\r\n@angular-devkit/build-angular     0.11.1\r\n@angular-devkit/build-optimizer   0.11.1\r\n@angular-devkit/build-webpack     0.11.1\r\n@angular-devkit/core              7.1.1\r\n@angular-devkit/schematics        7.1.1\r\n@ngtools/webpack                  7.1.1\r\n@schematics/angular               7.1.1\r\n@schematics/update                0.11.1\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular/issues/27502","RelatedDescription":"Open issue \"Primary outlet navigation canceled while navigating in another outlet\" (#27502)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"388468559","IsPullRequest":true,"CreatedAt":"2018-12-07T02:05:54","Actor":"beeman","Number":"13147","RawContent":null,"Title":"feat(@schematics/angular): set use-host-property-decorator to false in new apps","State":"closed","Body":"Inspired by [this twitter thread](https://twitter.com/aaronfrost/status/1070389114959097856), this PR changes the default setting for the `use-host-property-decorator` codelyzer rule. \r\n\r\nThe rule gives the developer the impression that the `host` property in the `Component` decorator is deprecated, which is not the case. \r\n\r\nIn fact, the [angular/material2](https://github.com/angular/material2) project maintained by the Angular team uses it more than 140 times throughout the project.\r\n\r\nPersonally I've spend a few hours over the years to work around this warning, refactoring `host` properties to `@HostBinding` as I thought it was deprecated. The Twitter thread above thought me it's not, which is why I think it should be disabled.\r\n\r\nHere we can see other people [agree on this](https://twitter.com/aaronfrost/status/1070389114959097856), and have been [for a while](https://github.com/angular/angular.io/issues/1763#issuecomment-264036519). ","Url":"https://github.com/angular/angular-cli/pull/13147","RelatedDescription":"Closed or merged PR \"feat(@schematics/angular): set use-host-property-decorator to false in new apps\" (#13147)"},{"Id":"388414932","IsPullRequest":true,"CreatedAt":"2018-12-06T21:55:40","Actor":"alexeagle","Number":"13146","RawContent":null,"Title":"build: update unstable release numbers for 7.2 beta","State":"open","Body":"","Url":"https://github.com/angular/angular-cli/pull/13146","RelatedDescription":"Open PR \"build: update unstable release numbers for 7.2 beta\" (#13146)"},{"Id":"388402138","IsPullRequest":false,"CreatedAt":"2018-12-06T21:19:04","Actor":"TheeRFG","Number":"13145","RawContent":null,"Title":"*.bundle.js files no longer being generated, only *.js files instead ","State":"open","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n`node --version: v8.9.3`\r\n`npm --version: 5.5.1`\r\n```\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 7.1.1\r\nNode: 8.9.3\r\nOS: win32 x64\r\nAngular: 7.1.1\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.10.7\r\n@angular-devkit/build-angular     0.10.7\r\n@angular-devkit/build-optimizer   0.10.7\r\n@angular-devkit/build-webpack     0.10.7\r\n@angular-devkit/core              7.0.7\r\n@angular-devkit/schematics        0.8.8\r\n@ngtools/webpack                  7.0.7\r\n@schematics/angular               7.1.1\r\n@schematics/update                0.8.8\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.19.1\r\n\r\n```\r\n\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\ntrying to run `ng build --configuration=dev` no longer builds `main.bundle.js`, `vendor.bundle.js`, etc and instead builds `main.js`, `vendor.js` etc. \r\nThis was not the case in 7.0.3 and seems new to 7.1.0 I am curious why this changed, if I've done something wrong, or if there's a way to revert this. What is the best course of action to take when moving forward? \r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\nI would like to see the the old `main.bundle.js` and `vendor.bundle.js` files back unless there is a good reason their names have changed. \r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/13145","RelatedDescription":"Open issue \"*.bundle.js files no longer being generated, only *.js files instead \" (#13145)"},{"Id":"388115129","IsPullRequest":true,"CreatedAt":"2018-12-06T19:50:10","Actor":"alan-agius4","Number":"13141","RawContent":null,"Title":"fix(@angular/cli): show full path to project definition when already exists","State":"closed","Body":"\r\n\r\nFixes #13138","Url":"https://github.com/angular/angular-cli/pull/13141","RelatedDescription":"Closed or merged PR \"fix(@angular/cli): show full path to project definition when already exists\" (#13141)"},{"Id":"387934109","IsPullRequest":false,"CreatedAt":"2018-12-06T19:50:09","Actor":"davvit","Number":"13138","RawContent":null,"Title":"[7.1.1] The new command requires to be run outside of a project, but a project definition was found at \".angular-cli.json\".","State":"closed","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [X ] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [X ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n\r\n```\r\nPS C:\\xxx\\Desktop\\New folder> node --version\r\nv10.13.0\r\nPS C:\\xxx\\Desktop\\New folder> npm --version\r\n6.4.1\r\nPS C:\\xxx\\Desktop\\New folder> ng --version\r\nYour global Angular CLI version (7.1.1) is greater than your local\r\nversion (7.0.4). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\n\r\nAngular CLI: 7.0.4\r\nNode: 10.13.0\r\nOS: win32 x64\r\nAngular: 2.4.10\r\n... compiler, compiler-cli, core\r\n```\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.10.4\r\n@angular-devkit/core         7.0.4\r\n@angular-devkit/schematics   7.0.4\r\n@angular/cdk                 2.0.0-beta.12\r\n@angular/cli                 7.0.4\r\n@angular/tsc-wrapped         0.5.2\r\n@ngtools/json-schema         1.1.0\r\n@ngtools/webpack             1.10.2\r\n@schematics/angular          7.0.4\r\n@schematics/update           0.10.4\r\nrxjs                         6.3.3\r\ntypescript                   3.1.6\r\nwebpack                      2.2.0\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\n1) Create empty folder on desktop\r\n2)  ng help   or  ng new testProj\r\n\r\n\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\nYour global Angular CLI version (7.1.1) is greater than your local\r\nversion (7.0.4). The local Angular CLI version is used.\r\n\r\nTo disable this warning use \"ng config -g cli.warnings.versionMismatch false\".\r\nThe new command requires to be run outside of a project, but a project definition was found at \".angular-cli.json\".\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\nNo error; Should initialize a new project.\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\nYes i have seen this closed 'fixed' bug report. \r\nhttps://github.com/angular/angular-cli/issues/12198\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/4433698/49541023-220fa180-f897-11e8-9446-994e98ddf5b6.png)\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/13138","RelatedDescription":"Closed issue \"[7.1.1] The new command requires to be run outside of a project, but a project definition was found at \".angular-cli.json\".\" (#13138)"},{"Id":"387618698","IsPullRequest":true,"CreatedAt":"2018-12-06T19:49:22","Actor":"alan-agius4","Number":"13134","RawContent":null,"Title":"style: add spacing to error message","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/13134","RelatedDescription":"Closed or merged PR \"style: add spacing to error message\" (#13134)"},{"Id":"387561111","IsPullRequest":true,"CreatedAt":"2018-12-06T19:47:42","Actor":"clydin","Number":"13133","RawContent":null,"Title":"fix(@ngtools/webpack): avoid checking watchMode in environment hook","State":"closed","Body":"The `environment`/`afterEnvironment` hooks occur before `watchMode` is valid.\r\n\r\nCloses #13102","Url":"https://github.com/angular/angular-cli/pull/13133","RelatedDescription":"Closed or merged PR \"fix(@ngtools/webpack): avoid checking watchMode in environment hook\" (#13133)"},{"Id":"386829873","IsPullRequest":true,"CreatedAt":"2018-12-06T19:46:59","Actor":"alan-agius4","Number":"13121","RawContent":null,"Title":"test: remove debounce as it's causing flakes","State":"closed","Body":"It looks like the debounceTime is causing flakes when the both compilations happen faster than 1000ms.\r\n\r\nThus, when debouncing only the last rebuild is taken into consideration.\r\n\r\nError\r\n```\r\n**************************************************\r\n*                    Failures                    *\r\n**************************************************\r\n\r\n1) Browser Builder allow js works with watch\r\n  - Expected '(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"main\"],{\r\n\r\n  /***/ \"./main.ts\":\r\n  /*!*****************!*\\\r\n    !*** ./main.ts ***!\r\n    \\*****************/\r\n  /*! no exports provided */\r\n  /***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n  \"use strict\";\r\n  __webpack_require__.r(__webpack_exports__);\r\n  /* harmony import */ var _my_js_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./my-js-file */ \"./my-js-file.js\");\r\n\r\n  console.log(_my_js_file__WEBPACK_IMPORTED_MODULE_0__[\"a\"]);\r\n\r\n\r\n  /***/ }),\r\n\r\n  /***/ \"./my-js-file.js\":\r\n  /*!***********************!*\\\r\n    !*** ./my-js-file.js ***!\r\n    \\***********************/\r\n  /*! exports provided: a */\r\n  /***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n  \"use strict\";\r\n  __webpack_require__.r(__webpack_exports__);\r\n  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return a; });\r\n  console.log(1);\r\n  var a = 2;\r\n  //# sourceMappingURL=my-js-file.js.map\r\n\r\n  /***/ }),\r\n\r\n  /***/ 0:\r\n  /*!***************** ... to contain 'var a = 1'.\r\n  Error: Expected '(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[\"main\"],{\r\n\r\n  /***/ \"./main.ts\":\r\n  /*!*****************!*\\\r\n    !*** ./main.ts ***!\r\n    \\*****************/\r\n  /*! no exports provided */\r\n  /***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n  \"use strict\";\r\n  __webpack_require__.r(__webpack_exports__);\r\n  /* harmony import */ var _my_js_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./my-js-file */ \"./my-js-file.js\");\r\n\r\n  console.log(_my_js_file__WEBPACK_IMPORTED_MODULE_0__[\"a\"]);\r\n\r\n\r\n  /***/ }),\r\n\r\n  /***/ \"./my-js-file.js\":\r\n  /*!***********************!*\\\r\n    !*** ./my-js-file.js ***!\r\n    \\***********************/\r\n  /*! exports provided: a */\r\n  /***/ (function(module, __webpack_exports__, __webpack_require__) {\r\n\r\n  \"use strict\";\r\n  __webpack_require__.r(__webpack_exports__);\r\n  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return a; });\r\n  console.log(1);\r\n  var a = 2;\r\n  //# sourceMappingURL=my-js-file.js.map\r\n\r\n  /***/ }),\r\n\r\n  /***/ 0:\r\n  /*!***************** ... to contain 'var a = 1'.\r\n      at stack (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:2455:17)\r\n      at buildExpectationResult (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:2425:14)\r\n      at Spec.expectationResultFactory (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:901:18)\r\n      at Spec.addExpectationResult (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:524:34)\r\n      at Expectation.addExpectationResult (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:845:21)\r\n      at Expectation.toContain (/home/circleci/ng/node_modules/jasmine/node_modules/jasmine-core/lib/jasmine-core/jasmine.js:2369:12)\r\n      at TapSubscriber.testing_1.runTargetSpec.pipe.operators_1.tap [as _tapNext] (/home/circleci/ng/packages/angular_devkit/build_angular/test/browser/file:/home/circleci/ng/packages/angular_devkit/build_angular/test/browser/allow-js_spec_large.ts:99:29)\r\n      at TapSubscriber._next (/home/circleci/ng/node_modules/rxjs/src/internal/operators/tap.ts:111:21)\r\n      at TapSubscriber.Subscriber.next (/home/circleci/ng/node_modules/rxjs/src/internal/Subscriber.ts:101:12)\r\n      at DebounceTimeSubscriber.debouncedNext (/home/circleci/ng/node_modules/rxjs/src/internal/operators/debounceTime.ts:110:24)\r\n      at AsyncAction.dispatchNext (/home/circleci/ng/node_modules/rxjs/src/internal/operators/debounceTime.ts:126:14)\r\n      at AsyncAction._execute (/home/circleci/ng/node_modules/rxjs/src/internal/scheduler/AsyncAction.ts:121:12)\r\n      at AsyncAction.execute (/home/circleci/ng/node_modules/rxjs/src/internal/scheduler/AsyncAction.ts:96:24)\r\n      at AsyncScheduler.flush (/home/circleci/ng/node_modules/rxjs/src/internal/scheduler/AsyncScheduler.ts:58:26)\r\n      at ontimeout (timers.js:424:11)\r\n\r\n**************************************************\r\n*                    Pending                     *\r\n**************************************************\r\n\r\n```","Url":"https://github.com/angular/angular-cli/pull/13121","RelatedDescription":"Closed or merged PR \"test: remove debounce as it's causing flakes\" (#13121)"},{"Id":"387652527","IsPullRequest":true,"CreatedAt":"2018-12-06T19:44:57","Actor":"alan-agius4","Number":"13135","RawContent":null,"Title":"refactor: script webpack plugin remove webpack 3 code","State":"closed","Body":"Remove code that was previous required for Webpack 3","Url":"https://github.com/angular/angular-cli/pull/13135","RelatedDescription":"Closed or merged PR \"refactor: script webpack plugin remove webpack 3 code\" (#13135)"},{"Id":"387149693","IsPullRequest":true,"CreatedAt":"2018-12-06T19:44:43","Actor":"alan-agius4","Number":"13127","RawContent":null,"Title":"refactor: remove webpack 3 code from cleancss plugin","State":"closed","Body":"Remove code that was previous required for Webpack 3","Url":"https://github.com/angular/angular-cli/pull/13127","RelatedDescription":"Closed or merged PR \"refactor: remove webpack 3 code from cleancss plugin\" (#13127)"},{"Id":"386814088","IsPullRequest":true,"CreatedAt":"2018-12-06T19:44:29","Actor":"alan-agius4","Number":"13120","RawContent":null,"Title":"Enable fine grain optimization settings","State":"closed","Body":"\r\n\r\nWhile doing the sourceMaps and optimisations flags, there were several places that had duplicate logic, and options were not really type safety as in most cases a castings was used.\r\n\r\nThis tried to improve how we normalize options and also improves type safety or at least it unifies the logic into a common method.\r\n\r\nWe can now enabled/disabled optimisations for scripts and styles.\r\n\r\nEx: \r\n```\r\n optimization: {\r\n   scripts: true,\r\n   styles: false,\r\n },\r\n```\r\n\r\nFollowing a suggestion from @filipesilva, I combined these 2 PRs togather.","Url":"https://github.com/angular/angular-cli/pull/13120","RelatedDescription":"Closed or merged PR \"Enable fine grain optimization settings\" (#13120)"},{"Id":"388347555","IsPullRequest":false,"CreatedAt":"2018-12-06T18:48:45","Actor":"thedewpoint","Number":"13144","RawContent":null,"Title":"Possible to build server module without AOT?","State":"open","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [ ] bug report -> please search issues before submitting\r\n- [ X] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ x] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\n\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\nI would like to disable AOT for angular universal / server side rendering. It seems that although this works client side, when I build server side it will not bundle the angular compiler. Is there a way to do this?\r\n\r\n\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/13144","RelatedDescription":"Open issue \"Possible to build server module without AOT?\" (#13144)"},{"Id":"388298823","IsPullRequest":false,"CreatedAt":"2018-12-06T17:00:50","Actor":"Aphax","Number":"13142","RawContent":null,"Title":"ng serve error when loading a lazy module that holds itself lazy routed submodules","State":"closed","Body":"### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [X] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [X] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\nnode --version \r\nv8.11.3\r\n\r\nnpm --version\r\n5.6.0\r\n\r\nng --version\r\n\r\nAngular CLI: 6.2.7\r\nNode: 8.11.3\r\nOS: win32 x64\r\nAngular: 6.1.10\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.8.8\r\n@angular-devkit/build-angular      0.8.8\r\n@angular-devkit/build-ng-packagr   0.10.7\r\n@angular-devkit/build-optimizer    0.8.8\r\n@angular-devkit/build-webpack      0.8.8\r\n@angular-devkit/core               0.8.8\r\n@angular-devkit/schematics         0.8.7\r\n@angular/cdk                       6.4.7\r\n@angular/cli                       6.2.7\r\n@angular/material                  6.4.7\r\n@ngtools/json-schema               1.1.0\r\n@ngtools/webpack                   6.2.8\r\n@schematics/angular                0.8.7\r\n@schematics/update                 0.8.7\r\nng-packagr                         4.4.0\r\nrxjs                               6.3.3\r\ntypescript                         2.7.2\r\nwebpack                            4.16.4\r\n\r\nWindows 10\r\n\r\n### Repro steps\r\ngit clone https://github.com/Aphax/angular6-lib-lazy-submodule\r\n\r\n```\r\ncd angular6-lib-lazy-submodule\r\nng build admin\r\nnpm run start\r\n```\r\n\r\n### The log given by the failure\r\n`ERROR in Could not resolve module ./users/users.module relative to /C/Workspace/angular6-libtest/dist/admin/admin.d.ts`\r\n\r\n### Desired functionality\r\nIt should be possible to have nested lazy modules without any error output on ng serve.\r\n\r\n\r\n### Mention any other details that might be useful\r\nIt seems that admin.d.ts tries to resolve paths of lazy routes, the problem is that its position within the folder structure is different than the routing module in the source folders. (one level above out of lib/ folder).\r\n\r\nWhy admin.d.ts isn't put in lib/ folder instead ?\r\n","Url":"https://github.com/angular/angular-cli/issues/13142","RelatedDescription":"Closed issue \"ng serve error when loading a lazy module that holds itself lazy routed submodules\" (#13142)"},{"Id":"388303334","IsPullRequest":false,"CreatedAt":"2018-12-06T16:52:03","Actor":"Aphax","Number":"13143","RawContent":null,"Title":"ng serve error when loading a lazy module that holds itself lazy routed submodules","State":"open","Body":"### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [X] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [X] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n$ node --version\r\nv8.11.3\r\n\r\n$ npm --version\r\n5.6.0\r\n\r\nAngular CLI: 6.2.7\r\nNode: 8.11.3\r\nOS: win32 x64\r\nAngular: 6.1.10\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.8.8\r\n@angular-devkit/build-angular      0.8.8\r\n@angular-devkit/build-ng-packagr   0.10.7\r\n@angular-devkit/build-optimizer    0.8.8\r\n@angular-devkit/build-webpack      0.8.8\r\n@angular-devkit/core               0.8.8\r\n@angular-devkit/schematics         0.8.7\r\n@angular/cdk                       6.4.7\r\n@angular/cli                       6.2.7\r\n@angular/material                  6.4.7\r\n@ngtools/json-schema               1.1.0\r\n@ngtools/webpack                   6.2.8\r\n@schematics/angular                0.8.7\r\n@schematics/update                 0.8.7\r\nng-packagr                         4.4.0\r\nrxjs                               6.3.3\r\ntypescript                         2.7.2\r\nwebpack                            4.16.4\r\n\r\n\r\n### Repro steps\r\n```\r\ngit clone https://github.com/Aphax/angular6-lib-lazy-submodule.git\r\ncd angular6-lib-lazy-submodule\r\nnpm install\r\nng build admin\r\nnpm run start\r\n```\r\n\r\n\r\n### The log given by the failure\r\n`ERROR in Could not resolve module ./users/users.module relative to /C/Workspace/angular6-libtest/dist/admin/admin.d.ts`\r\n\r\n### Desired functionality\r\nWe should be able to run an app with a lazy routed module that has itself lazy routed submodules.\r\n\r\n### Mention any other details that might be useful\r\nThe error occurs because `admin.d.ts` tries to resolve lazy routes of the module but is one level above in the dist/ hierarchy than the admin-routing.module that declares the routes initially. \r\nThe file `admin.d.ts` should be in the lib/ folder so it would work.","Url":"https://github.com/angular/angular-cli/issues/13143","RelatedDescription":"Open issue \"ng serve error when loading a lazy module that holds itself lazy routed submodules\" (#13143)"},{"Id":"388089498","IsPullRequest":false,"CreatedAt":"2018-12-06T08:29:27","Actor":"JorJule","Number":"13140","RawContent":null,"Title":"angular proxy error","State":"closed","Body":"\r\n- [ ] bug report -> please search issues before submitting\r\n- [x ] feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [x ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\nMicrosoft Windows [Version 6.1.7601]\r\nCopyright (c) 2009 Microsoft Corporation.  All rights reserved.\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 7.0.6\r\nNode: 8.9.4\r\nOS: win32 x64\r\nAngular:\r\n...\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.10.6\r\n@angular-devkit/core         7.0.6\r\n@angular-devkit/schematics   7.0.6\r\n@schematics/angular          7.0.6\r\n@schematics/update           0.10.6\r\nrxjs                         6.3.3\r\ntypescript                   3.1.6\r\n\r\n\r\n### Repro steps\r\n   when i config the angular proxy in my local ide, its work ok,but when i use the cmd ng build --prod --aot to build the project. and deploy to the iis server the proxy could not work http requst 404 error\r\n\r\nmy proxy.config.json info:\r\n{\r\n  \"/ctuapi/*\": {\r\n    \"target\": \"http://localhost:81\",\r\n    \"secure\": false\r\n  }\r\n}\r\n\r\nangular.json add :\r\n\"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"options\": {\r\n            \"browserTarget\": \"Demo:build\",\r\n            \"proxyConfig\": \"proxy.conf.json\"\r\n          },\r\n\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\n\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/13140","RelatedDescription":"Closed issue \"angular proxy error\" (#13140)"},{"Id":"387978414","IsPullRequest":false,"CreatedAt":"2018-12-05T22:43:23","Actor":"tanzeelrana","Number":"13139","RawContent":null,"Title":"ng update not running migration.json schematic","State":"open","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x ] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n\r\nnode --version\r\nv8.11.3\r\n\r\nnpm --version\r\n6.4.1\r\n\r\n```\r\nng --version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 6.1.1\r\nNode: 8.11.3\r\nOS: darwin x64\r\nAngular: 6.1.10\r\n... common, core, router\r\n\r\nPackage                             Version\r\n-------------------------------------------------------------\r\n@angular-devkit/architect           0.7.5\r\n@angular-devkit/build-angular       0.7.5\r\n@angular-devkit/build-optimizer     0.7.5\r\n@angular-devkit/build-webpack       0.7.5\r\n@angular-devkit/core                0.6.8\r\n@angular-devkit/schematics          0.7.1\r\n@angular/animations                 6.1.0\r\n@angular/cdk                        6.4.7\r\n@angular/cli                        6.1.1\r\n@angular/compiler                   6.1.0\r\n@angular/compiler-cli               6.1.0\r\n@angular/forms                      6.1.0\r\n@angular/http                       6.1.0\r\n@angular/language-service           6.1.0\r\n@angular/platform-browser           6.1.0\r\n@angular/platform-browser-dynamic   6.1.0\r\n@ngtools/webpack                    6.1.5\r\n@schematics/angular                 0.7.1\r\n@schematics/update                  0.7.1\r\nrxjs                                6.3.3\r\ntypescript                          2.9.2\r\nwebpack                             4.9.2\r\n```\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\n\r\nI have a private project so I am unable to share the repo, so sorry in advance. I have an angular project to which I have added schematics support so I can update it using `ng update`. So I have a schematics folder with a `migration.json` file : \r\n\r\n```\r\n{\r\n  \"$schema\": \"../../../node_modules/@angular-devkit/schematics/collection-schema.json\",\r\n  \"schematics\": {\r\n    \"migration01\": {\r\n      \"version\": \"1.0.0-nav-menu-with-migration.3\",\r\n      \"description\": \"Update\",\r\n      \"factory\": \"./src/ng-update/index\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`tsconfig.schematics.json` : \r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2015\",\r\n    \"module\": \"commonjs\",\r\n    \"moduleResolution\": \"node\",\r\n    \"declaration\": true,\r\n    \"sourceMap\": true,\r\n    \"lib\": [\r\n      \"dom\",\r\n      \"es2017\",\r\n      \"esnext.asynciterable\"\r\n    ]\r\n  },\r\n  \"exclude\": [\r\n    \"**/files/*.ts\",\r\n    \"**/*.spec.ts\"\r\n  ]\r\n}\r\n```\r\n\r\n`tsconfig.schematics.spec.json` : \r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"module\": \"commonjs\",\r\n    \"target\": \"es2015\",\r\n    \"moduleResolution\": \"node\",\r\n    \"types\": [\r\n      \"jasmine\",\r\n      \"node\"\r\n    ],\r\n    \"lib\": [\r\n        \"es2017\",\r\n        \"dom\"\r\n    ],\r\n    \"declaration\": false\r\n  },\r\n  \"include\": [\r\n    \"./spec/**/*.spec.ts\"\r\n  ]\r\n}\r\n```\r\n\r\n`jasmine.json` :  \r\n\r\n```\r\n{\r\n  \"spec_dir\": \"projects/nav-menu/schematics/spec\",\r\n  \"spec_files\": [\r\n    \"**/*.spec.js\"\r\n  ],\r\n  \"helpers\": [\r\n    \"projects/nav-menu/schematics/spec/helpers/**/*.js\"\r\n  ],\r\n  \"stopSpecOnExpectationFailure\": false,\r\n  \"random\": false\r\n}\r\n```\r\n\r\nI have an `ng-update` folder with `index.ts` : \r\n\r\n```\r\nimport { Rule, SchematicContext, SchematicsException, Tree } from \"@angular-devkit/schematics\";\r\n\r\nexport default function(): Rule {\r\n  return (tree: Tree, context: SchematicContext) => {\r\n    context.logger.warn(\"it's happening!\");\r\n\r\n    const pkgPath = \"/package.json\";\r\n    const buffer = tree.read(pkgPath);\r\n    if (buffer == null) {\r\n      throw new SchematicsException(\"Could not read package.json\");\r\n    }\r\n    const content = buffer.toString();\r\n    const pkg = JSON.parse(content);\r\n\r\n    if (pkg === null || typeof pkg !== \"object\" || Array.isArray(pkg)) {\r\n      throw new SchematicsException(\"Error reading package.json\");\r\n    }\r\n\r\n    if (!pkg.dependencies) {\r\n      pkg.dependencies = {};\r\n    }\r\n\r\n    if (pkg.dependencies[\"@solarwinds/nav-menu-with-migration\"]) {\r\n      pkg.dependencies[\"ngx-perfect-scrollbar\"] = `^7.0.0`;\r\n      pkg.dependencies[\"ngx-device-detector\"] = null;\r\n\r\n      tree.overwrite(pkgPath, JSON.stringify(pkg, null, 2));\r\n    }\r\n\r\n    return tree;\r\n  };\r\n}\r\n```\r\n\r\n`package.json` for my nav menu project : \r\n\r\n```\r\n{\r\n  \"name\": \"@solarwinds/nav-menu-with-migration\",\r\n  \"version\": \"0.0.1\",\r\n  \"peerDependencies\": {\r\n    \"css-element-queries\": \"~0.4.0\",\r\n    \"ngx-perfect-scrollbar\": \"^7.0.0\",\r\n    \"web-animations-js\": \"^2.3.1\",\r\n    \"@angular/cdk\": \"^6.0.2\",\r\n    \"@angular/common\": \"^6.0.7\",\r\n    \"@angular/core\": \"^6.0.7\",\r\n    \"@angular/router\": \"^6.0.7\",\r\n    \"@solarwinds/nova-xui\": \"6.3.0-alpha.10.1322\",\r\n    \"rxjs\": \"^6.0.0\",\r\n    \"zone.js\": \"^0.8.26\"\r\n  },\r\n  \"schematics\": \"./schematics/collection.json\",\r\n  \"ng-update\": {\r\n    \"migrations\": \"./schematics/migration.json\"\r\n  }\r\n}\r\n\r\n```\r\n\r\nOnce I publish my package I try to update `nav-menu` in one of my other application's which use this package. I have tried a number of different commands and non of them seem to run the `migration.json` schematic on `ng update`. So I have tried : \r\n\r\n`ng update @solarwinds/nav-menu-with-migration --to=1.0.0-nav-menu-with-migration.3 --migrate-only`\r\n\r\nand I get the following error: `Incompatible peer dependencies found. See above` \r\n\r\n ```\r\nPackage \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"6.3.3\", would install \"6.4.7\").\r\n                  Package \"@angular/http\" has an incompatible peer dependency to \"@angular/core\" (requires \"6.1.0\" (extended), wouldinstall \"6.1.10\").\r\n                  Package \"@angular/platform-browser-dynamic\" has an incompatible peer dependency to \"@angular/common\" (requires \"6.1.0\" (extended), would install \"6.1.10\").\r\n                  Package \"@angular/router\" has an incompatible peer dependency to \"@angular/platform-browser\" (requires \"6.1.10\", would install \"6.1.0\")\r\n                  Package \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"@angular/router\" (requires \"6.1.4\" (extended), would install \"6.1.10\").\r\n                  Package \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"rxjs\" (requires \"6.2.2\", would install \"6.3.3\").\r\nIncompatible peer dependencies found. See above.\r\n```\r\n \r\nSo I tried with `--force` flag and I do get my `package.json` file updated but I never see my `migration.json` schematic run. \r\n\r\n`g update @solarwinds/nav-menu-with-migration --to=1.0.0-nav-menu-with-migration.3 --force --migrate-only`\r\n\r\n```\r\nPackage \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"rxjs\" (requires \"6.2.2\", would install \"6.3.3\").\r\n                  Package \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"6.3.3\", would install \"6.4.7\").\r\n                  Package \"@angular/platform-browser-dynamic\" has an incompatible peer dependency to \"@angular/core\" (requires \"6.1.0\" (extended), would install \"6.1.10\").\r\n                  Package \"@angular/router\" has an incompatible peer dependency to \"@angular/platform-browser\" (requires \"6.1.10\", would install \"6.1.0\")\r\n                  Package \"@solarwinds/nova-xui\" has an incompatible peer dependency to \"@angular/router\" (requires \"6.1.4\" (extended), would install \"6.1.10\").\r\n                  Package \"@angular/platform-browser-dynamic\" has an incompatible peer dependency to \"@angular/common\" (requires \"6.1.0\" (extended), would install \"6.1.10\").\r\n    Updating package.json with dependency rxjs @ \"6.3.3\" (was \"6.2.2\")...\r\n    Updating package.json with dependency @angular/cdk @ \"6.4.7\" (was \"6.4.3\")...\r\n    Updating package.json with dependency @angular/core @ \"6.1.10\" (was \"6.1.0\")...\r\n    Updating package.json with dependency @angular/router @ \"6.1.10\" (was \"6.1.0\")...\r\n    Updating package.json with dependency @angular/common @ \"6.1.10\" (was \"6.1.0\")...\r\n```\r\n\r\nI am not sure why my `ng update` command is not run. I wanted to test my `migration.json` schematic so I pointed my `collection.json` to point to `ng-update/index` so that when I run `ng add @solarwinds/nav-menu-with-migration@1.0.0-nav-menu-with-migration.3` I can see if my `ng-update` code work and it does work as expected (Note: this was only to test purpose and I do not intend to use `ng add` to run migrations). Here is the output  :  \r\n\r\n```\r\nTREHMAN-MB:web-application-seed tanzeel.rehman$ ng add @solarwinds/nav-menu-with-migration@1.0.0-nav-menu-with-migration.3Installing packages for tooling via npm.\r\nnpm WARN @solarwinds/nav-menu@2.2.0 requires a peer of @solarwinds/nova-xui@6.3.0-alpha.10.1322 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/animations@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/cdk@6.3.3 but none is installed. You must install peerdependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/common@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/compiler@6.1.4 but none is installed. You must installpeer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/core@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/forms@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/http@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/platform-browser@6.1.4 but none is installed. You mustinstall peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/platform-browser-dynamic@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nova-xui@6.3.0-alpha.12.1825 requires a peer of @angular/router@6.1.4 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN tsickle@0.30.0 requires a peer of typescript@>=2.4.2 <2.9 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nav-menu-with-migration@1.0.0-nav-menu-with-migration.3 requires a peer of ngx-perfect-scrollbar@^7.0.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN @solarwinds/nav-menu-with-migration@1.0.0-nav-menu-with-migration.3 requires a peer of @solarwinds/nova-xui@6.3.0-alpha.10.1322 but none is installed. You must install peer dependencies yourself.\r\n\r\n+ @solarwinds/nav-menu-with-migration@1.0.0-nav-menu-with-migration.3\r\nupdated 1 package and audited 40530 packages in 16.964s\r\nfound 10 vulnerabilities (3 low, 5 moderate, 2 high)\r\n  run `npm audit fix` to fix them, or `npm audit` for details\r\nInstalled packages for tooling via npm.\r\n    it's happening!\r\nUPDATE package.json (4250 bytes)\r\n```\r\n\r\nCan someone help me with `ng update` here. Please, Thank you in advance!! ","Url":"https://github.com/angular/angular-cli/issues/13139","RelatedDescription":"Open issue \"ng update not running migration.json schematic\" (#13139)"},{"Id":"387787315","IsPullRequest":false,"CreatedAt":"2018-12-05T14:43:28","Actor":"bartvanderwal","Number":"13137","RawContent":null,"Title":"ng test options mentioned in testing docs don't work","State":"closed","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [x] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nAngular CLI: 7.0.7\r\nNode: 10.10.0\r\nOS: darwin x64\r\nAngular: 7.0.4\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.10.7\r\n@angular-devkit/build-angular     0.10.7\r\n@angular-devkit/build-optimizer   0.10.7\r\n@angular-devkit/build-webpack     0.10.7\r\n@angular-devkit/core              7.0.7\r\n@angular-devkit/schematics        7.0.7\r\n@angular/cli                      7.0.7\r\n@ngtools/webpack                  7.0.7\r\n@schematics/angular               7.0.7\r\n@schematics/update                0.10.7\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.19.1\r\nnode `v10.10.0`, npm `6.4.1`, ng ``\r\nmacOS High Sierra\r\n-->\r\n\r\n### Desired functionality/Repro/other details that might be useful\r\nI would like to be able to follow the testing guide when using the new angular 7:\r\nhttps://angular.io/guide/testing#configure-cli-for-ci-testing-in-chrome\r\n\r\nBut similar to as mentioned in now closed issue #11582 these docs on testing at angular.io still mention/instruct the public to use the `--browser option` instead of the new `--browsers`. And also the --single-run option, which I understand should now be `--watch=false`\r\n\r\nSo this instruction:\r\n>`ng test --single-run --no-progress --browser=ChromeHeadlessCI`\r\n\r\nShould now be:\r\n>`ng test --watch=false --no-progress --browsers=ChromeHeadlessCI`\r\n\r\nThe next line in the docs source mentions also returns two now missing cli options in the current ng cli 7.0.7 that I'm using:\r\n>`ng e2e --no-progress --config=protractor-ci.conf.js`\r\n\r\nreturns:\r\n`Unknown option: '--no-progress'`\r\n`Unknown option: '--config'`\r\n\r\nCan you fix the docs or the CLI to be consistent. And as workaround perhaps specify alternative for the last two options of `ng test`.","Url":"https://github.com/angular/angular-cli/issues/13137","RelatedDescription":"Closed issue \"ng test options mentioned in testing docs don't work\" (#13137)"},{"Id":"387712453","IsPullRequest":false,"CreatedAt":"2018-12-05T11:25:38","Actor":"jacobfederer","Number":"13136","RawContent":null,"Title":"[Regression] aot compilation breaks enums from other files","State":"open","Body":"### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n\r\nNode Version: v10.8.0\r\n\r\nnpm version: 6.4.1\r\n\r\nng version: \r\n\r\n ```\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 7.1.0\r\nNode: 10.8.0\r\nOS: darwin x64\r\nAngular: 7.1.0\r\n... animations, bazel, cdk, cli, common, compiler, compiler-cli\r\n... core, forms, http, language-service, material\r\n... material-moment-adapter, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.10.6\r\n@angular-devkit/build-angular     0.11.0\r\n@angular-devkit/build-optimizer   0.10.6\r\n@angular-devkit/build-webpack     0.10.6\r\n@angular-devkit/core              7.0.6\r\n@angular-devkit/schematics        7.0.6\r\n@angular/flex-layout              7.0.0-beta.19\r\n@angular/pwa                      0.10.6\r\n@ngtools/webpack                  7.0.6\r\n@schematics/angular               7.0.6\r\n@schematics/update                0.11.0\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n```\r\n\r\nOs: MacOSX Mojave\r\n\r\n### Repro steps\r\n\r\nUse enum inside a file like this: \r\n\r\n```\r\nexport enum ErrorCode {\r\n    SERVERSIDE_VALIDATION_ERROR_KEY = 'serverside_validation_error',\r\n    ENTITY_NOT_EXISTENT_ERROR_KEY = 'entity_not_existent_error',\r\n    DEPENDENT_ENTITY_ERROR_KEY = 'dependent_entity_error',\r\n    DUPLICATE_ERROR_KEY = 'duplicate_error',\r\n  }\r\n\r\nexport default class Utils {\r\n```\r\n\r\nImport the enum like this:\r\n\r\n```\r\nimport {Component} from '@angular/core';\r\nimport Utils, {ErrorCode} from \"../utils\";\r\n\r\n@Component({\r\n  selector: 'adresse',\r\n  templateUrl: './adresse.component.html'\r\n})\r\nexport class AdresseComponent {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  get errorCodes() {\r\n    return ErrorCode\r\n  }\r\n}\r\n```\r\n\r\nThen run: `ng build --prod`\r\n\r\nThe issue seems to be related to #10655 but this time setting buildOptimzier and optimisation in angular.json to false does not resolve the issue.\r\n\r\nTurning off Ahead of Time compilation seems to help for now.\r\n\r\n### The log given by the failure\r\n\r\n```\r\nReferenceError: Can't find variable: ErrorCode\r\nget — main.95f4ea6bc507b9cafd32.js:215914\r\n(anonyme Funktion) — main.95f4ea6bc507b9cafd32.js:215882:4327\r\ncheckAndUpdateView — main.95f4ea6bc507b9cafd32.js:70116\r\ncallViewAction — main.95f4ea6bc507b9cafd32.js:70357\r\nexecComponentViewsAction — main.95f4ea6bc507b9cafd32.js:70299\r\ncheckAndUpdateView — main.95f4ea6bc507b9cafd32.js:70122\r\ncallViewAction — main.95f4ea6bc507b9cafd32.js:70357\r\n```\r\n### Desired functionality\r\n\r\nThat it finds the Enums.","Url":"https://github.com/angular/angular-cli/issues/13136","RelatedDescription":"Open issue \"[Regression] aot compilation breaks enums from other files\" (#13136)"},{"Id":"387335700","IsPullRequest":true,"CreatedAt":"2018-12-04T15:18:23","Actor":"JiaLiPassion","Number":"13132","RawContent":null,"Title":"fix(@schematics/angular): fix #12886, import zone related flags in other file.","State":"open","Body":"fix #12886.\r\n\r\nall zone related `flags` now in `polyfills.ts`, which will not work properly, because `webpack` will put `import 'zone.js/dist/zone'` before `setting those flags`, which will make those `flags useless`.\r\n\r\nSo in this PR, I created a standalone file `zone-flags.ts` to keep the `import` in correct order.","Url":"https://github.com/angular/angular-cli/pull/13132","RelatedDescription":"Open PR \"fix(@schematics/angular): fix #12886, import zone related flags in other file.\" (#13132)"},{"Id":"387220270","IsPullRequest":true,"CreatedAt":"2018-12-04T10:34:36","Actor":"divdavem","Number":"13131","RawContent":null,"Title":"feat(@angular-devkit/build-angular): code coverage for ng build, ng serve and ng e2e","State":"open","Body":"This PR is related to #6286 and allows `--code-coverage` and `--code-coverage-exclude` options to be used with `ng build`, `ng serve` and `ng e2e`, so that it is easy to instrument the code for coverage.\r\n\r\nWhen used with these commands, the `--code-coverage` switch does not automatically create a file with the report but allows the developers to access the `__coverage__` variable from Istanbul.js inside the browser to get coverage data.\r\nThat object can then be used to generate a report as described in https://istanbul.js.org/docs/advanced/coverage-object-report/\r\n","Url":"https://github.com/angular/angular-cli/pull/13131","RelatedDescription":"Open PR \"feat(@angular-devkit/build-angular): code coverage for ng build, ng serve and ng e2e\" (#13131)"},{"Id":"387200171","IsPullRequest":false,"CreatedAt":"2018-12-04T10:04:38","Actor":"rahulbari","Number":"13130","RawContent":null,"Title":"Angular Service Worker - Failed to load manifest file ","State":"closed","Body":"Everything works fine on the local lite-server, as well as on the production server, getting error failed to load manifest file in  production environment:","Url":"https://github.com/angular/angular-cli/issues/13130","RelatedDescription":"Closed issue \"Angular Service Worker - Failed to load manifest file \" (#13130)"},{"Id":"387197557","IsPullRequest":false,"CreatedAt":"2018-12-04T09:40:55","Actor":"rgansevles","Number":"13129","RawContent":null,"Title":"'ng e2e --port 0' does not work on Windows","State":"open","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [ x] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [x ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ x] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\nNode: v8.9.3\r\nNpm: 5.5.1\r\n\r\nAngular CLI: 7.1.1\r\nNode: 8.9.3\r\nOS: win32 x64\r\nAngular: 7.1.1\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.11.1\r\n@angular-devkit/build-angular     0.11.1\r\n@angular-devkit/build-optimizer   0.11.1\r\n@angular-devkit/build-webpack     0.11.1\r\n@angular-devkit/core              7.1.1\r\n@angular-devkit/schematics        7.1.1\r\n@ngtools/webpack                  7.1.1\r\n@schematics/angular               7.1.1\r\n@schematics/update                0.11.1\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\n\r\nng new test\r\ncd test\r\nnpm install\r\nng e2e --port 0\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n$ ng e2e --port 0\r\n** Angular Live Development Server is listening on localhost:49152, open your browser on http://localhost:49152/ **\r\n\r\nDate: 2018-12-04T09:22:02.395Z\r\nHash: 08d84e7201a27eb17ee3\r\nTime: 6572ms\r\nchunk {main} main.js, main.js.map (main) 9.83 kB [initial] [rendered]\r\nchunk {polyfills} polyfills.js, polyfills.js.map (polyfills) 223 kB [initial] [rendered]\r\nchunk {runtime} runtime.js, runtime.js.map (runtime) 6.08 kB [entry] [rendered]\r\nchunk {styles} styles.js, styles.js.map (styles) 16.3 kB [initial] [rendered]\r\nchunk {vendor} vendor.js, vendor.js.map (vendor) 3.43 MB [initial] [rendered]\r\ni ｢wdm｣: Compiled successfully.\r\n[10:22:23] E/downloader - Connection timeout downloading: https://chromedriver.storage.googleapis.com/2.44/chromedriver_win32.zip. Default timeout is 4 minutes.\r\n[10:22:23] I/update - chromedriver: file exists C:\\Users\\rob.gansevles\\tmp\\github\\test\\node_modules\\webdriver-manager\\selenium\\chromedriver_2.44.zip\r\n[10:22:23] I/update - chromedriver: unzipping chromedriver_2.44.zip\r\n[10:22:24] I/update - chromedriver: chromedriver_2.44.exe up to date\r\n[10:22:24] E/downloader - Connection timeout downloading: https://chromedriver.storage.googleapis.com/2.44/chromedriver_win32.zip. Default timeout is 4 minutes.\r\n[10:22:24] I/launcher - Running 1 instances of WebDriver\r\n[10:22:24] I/direct - Using ChromeDriver directly...\r\n\r\nDevTools listening on ws://127.0.0.1:58569/devtools/browser/38bcd15b-29b9-42a0-b923-6c8de17f5298\r\nJasmine started\r\n[20636:15708:1204/102227.264:ERROR:tcp_socket_win.cc(861)] connect failed: 10049\r\n[20636:15708:1204/102227.264:ERROR:tcp_socket_win.cc(861)] connect failed: 10049\r\n[20636:15708:1204/102227.265:ERROR:tcp_socket_win.cc(861)] connect failed: 10049\r\n[20636:15708:1204/102227.266:ERROR:tcp_socket_win.cc(861)] connect failed: 10049\r\n[10:22:37] E/protractor - Could not find Angular on page http://localhost:0/ : retries looking for angular exceeded\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\n\r\nWe need e2e tests to run on a random port to prevent port clashes with multiple tests running on the same host.\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n\r\nThis fails on Window, on Linux (Ubuntu) it works as expected.\r\n","Url":"https://github.com/angular/angular-cli/issues/13129","RelatedDescription":"Open issue \"'ng e2e --port 0' does not work on Windows\" (#13129)"},{"Id":"387164329","IsPullRequest":false,"CreatedAt":"2018-12-04T08:19:48","Actor":"ManoharNuli","Number":"13128","RawContent":null,"Title":"ng [commandname] -- help  throws error for few cli commands outside angular project","State":"closed","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x ] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ x] build\r\n- [ x] serve\r\n- [ x] test\r\n- [ x] e2e\r\n- [ x] generate\r\n- [ x] add\r\n- [ ] update\r\n- [ x] lint\r\n- [ x] xi18n\r\n- [ x] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\nnode v10.14.1\r\nnpm 6.4.1\r\nng 7.1.1\r\nwindows 10 Enterprise\r\n64bit\r\n x64 -based processer\r\nos win32\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\nInstall angular cli globally\r\nOpen command shell from any location\r\nRun the below command\r\nng add --help\r\n\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\nLocal workspace file ('angular.json') could not be found.\r\nError: Local workspace file ('angular.json') could not be found.\r\n    at WorkspaceLoader._getProjectWorkspaceFilePath (C:\\Users\\GGUB\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\models\\workspace-loader.js:35:19)\r\n    at WorkspaceLoader.loadWorkspace (C:\\Users\\GGUB\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\models\\workspace-loader.js:22:49)\r\n    at E2eCommand._loadWorkspaceAndArchitect (C:\\Users\\GGUB\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\models\\architect-command.js:176:49)\r\n    at E2eCommand.initialize (C:\\Users\\GGUB\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\models\\architect-command.js:28:20)\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:744:11)\r\n    at startup (internal/bootstrap/node.js:285:19)\r\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:739:3)\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\nC:\\angular\\app1>ng add --help\r\narguments:\r\n  collection\r\n    The package to be added.\r\n\r\noptions:\r\n  --defaults\r\n    When true, disables interactive input prompts for options with a default.\r\n  --dry-run (-d)\r\n    When true, runs through and reports activity without writing out results.\r\n  --force (-f)\r\n    When true, forces overwriting of existing files.\r\n  --help\r\n    Shows a help message for this command in the console.\r\n  --interactive\r\n    When false, disables interactive input prompts.\r\n\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n\r\nHelp command works only inside angular project folder for all the commands. The above mentioned commands expects the user to be inside angular project folder and throws error on angular.json file. The Documentation on CLI doesn't mention this point.\r\n","Url":"https://github.com/angular/angular-cli/issues/13128","RelatedDescription":"Closed issue \"ng [commandname] -- help  throws error for few cli commands outside angular project\" (#13128)"},{"Id":"387144952","IsPullRequest":false,"CreatedAt":"2018-12-04T07:20:37","Actor":"enddering","Number":"13126","RawContent":null,"Title":"@angular/compiler-cli Incompatible peer dependencies found","State":"closed","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n7.1.1\r\n\r\n### Repro steps\r\n<!--\r\nSimple steps to reproduce this bug.\r\nPlease include: commands run (incl args), packages added, related code changes.\r\nA link to a sample repo would help too.\r\n-->\r\n\r\n\r\n\r\n### The log given by the failure\r\n<!-- Normally this include a stack trace and some more information. -->\r\n\r\n`ng update --all `\r\n`Package \"@angular/compiler-cli\" has an incompatible peer dependency to \"typescript\" (requires \">=3.1.1 <3.2\", would install \"3.2.1\").`\r\n`Incompatible peer dependencies found. See above.`\r\n\r\n### Desired functionality\r\n<!--\r\nWhat would like to see implemented?\r\nWhat is the usecase?\r\n-->\r\ncompatible ts 3.2.1\r\n\r\n### Mention any other details that might be useful\r\n<!-- Please include a link to the repo if this is related to an OSS project. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/13126","RelatedDescription":"Closed issue \"@angular/compiler-cli Incompatible peer dependencies found\" (#13126)"},{"Id":"387069517","IsPullRequest":false,"CreatedAt":"2018-12-04T05:18:51","Actor":"vovikdrg","Number":"13125","RawContent":null,"Title":"Angular cli keeps recompiling even nothing changed","State":"closed","Body":"### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x ] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [ ] build\r\n- [x ] serve\r\n- [x ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\nAngular CLI: 7.0.4\r\nNode: 8.9.4\r\nOS: win32 x64\r\nAngular: 7.0.2\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... http, language-service, material, platform-browser\r\n... platform-browser-dynamic, platform-server, router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.10.4\r\n@angular-devkit/build-angular     0.10.4\r\n@angular-devkit/build-optimizer   0.10.4\r\n@angular-devkit/build-webpack     0.10.4\r\n@angular-devkit/core              7.0.4\r\n@angular-devkit/schematics        7.0.4\r\n@angular/cli                      7.0.4\r\n@ngtools/webpack                  7.0.4\r\n@schematics/angular               7.0.4\r\n@schematics/update                0.10.4\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.19.1\r\n\r\n\r\n### Repro steps\r\nOur team do have strange issue. Angular CLI keeps recompiling constantly. \r\nWe are running project with ` ng serve --host=localhost.domain.com --port=8081 --configuration=dev --verbose`\r\n\r\nAnd after sometime it will recompile even we dont change anything\r\n\r\n> \r\n> Built at: 2018-12-04 11:32:16\r\n>                         Asset        Size                  Chunks                    Chunk Names\r\n>           cash-cash-module.js     121 KiB        cash-cash-module                    cash-cash-module\r\n>                icon-clock.svg    1.24 KiB\r\n>                back-hover.svg  1000 bytes\r\n>            check-inactive.svg   886 bytes\r\n>              check-active.svg   923 bytes\r\n>                icon-check.svg   834 bytes\r\n>                   spinner.gif    87.9 KiB\r\n>                 preloader.svg    5.09 KiB\r\n>                   success.svg    1.02 KiB\r\n>                     error.svg    1.15 KiB\r\n>                  database.svg    1.24 KiB\r\n>                  thumb-up.svg    1.81 KiB\r\n>                money-hand.svg    1.89 KiB\r\n>                      next.svg    1.07 KiB\r\n>                       pie.svg    1.34 KiB\r\n>                 fluctuate.svg     1.3 KiB\r\n>                      mail.svg    1.16 KiB\r\n>                     order.svg    1.42 KiB\r\n>                      back.svg  1010 bytes\r\n>                     common.js     5.6 KiB                  common                    common\r\n>                       main.js     563 KiB                    main             [big]  main\r\n>                  polyfills.js     460 KiB               polyfills             [big]  polyfills\r\n>     product-product-module.js    1.47 MiB  product-product-module             [big]  product-product-module\r\n>                    runtime.js     8.9 KiB                 runtime                    runtime\r\n>                    styles.css    89.8 KiB                  styles                    styles\r\n>                          0.js    1.45 MiB                       0             [big]\r\n>                     vendor.js       8 MiB                  vendor             [big]  vendor\r\n>       cash-cash-module.js.map    73.2 KiB        cash-cash-module                    cash-cash-module\r\n>                 common.js.map       2 KiB                  common                    common\r\n>                   main.js.map     413 KiB                    main                    main\r\n>              polyfills.js.map     407 KiB               polyfills                    polyfills\r\n> product-product-module.js.map    1.55 MiB  product-product-module                    product-product-module\r\n>                runtime.js.map    9.03 KiB                 runtime                    runtime\r\n>                styles.css.map     174 KiB                  styles                    styles\r\n>                      0.js.map    1.74 MiB                       0\r\n>                 vendor.js.map    8.51 MiB                  vendor                    vendor\r\n>                    index.html   807 bytes                          [emitted]\r\n> Entrypoint main [big] = runtime.js runtime.js.map vendor.js vendor.js.map main.js main.js.map\r\n> Entrypoint polyfills [big] = runtime.js runtime.js.map polyfills.js polyfills.js.map\r\n> Entrypoint styles = runtime.js runtime.js.map styles.css styles.css.map\r\n> chunk    {0} 0.js, 0.js.map 1.45 MiB <{common}> <{product-product-module}>\r\n> chunk {cash-cash-module} cash-cash-module.js, cash-cash-module.js.map (cash-cash-module) 77.8 KiB <{common}> <{main}> <{product-product-module}> <{runtime}> <{vendor}> ={common}= >{common}< >{product-product-module}<\r\n> chunk {common} common.js, common.js.map (common) 2.65 KiB <{cash-cash-module}> <{common}> <{main}> <{product-product-module}> <{runtime}> <{vendor}> ={cash-cash-module}= ={product-product-module}= >{0}< >{cash-cash-module}< >{common}< >{product-product-module}< split chunk (cache group: common) (name: common)\r\n> chunk {main} main.js, main.js.map (main) 390 KiB ={runtime}= ={vendor}= >{cash-cash-module}< >{common}< >{product-product-module}< [initial]\r\n> chunk {polyfills} polyfills.js, polyfills.js.map (polyfills) 314 KiB ={runtime}= [initial]\r\n> chunk {product-product-module} product-product-module.js, product-product-module.js.map (product-product-module) 1.3 MiB <{cash-cash-module}> <{common}> <{main}> <{runtime}> <{vendor}> ={common}= >{0}< >{cash-cash-module}< >{common}<\r\n> chunk {runtime} runtime.js, runtime.js.map (runtime) 0 bytes ={main}= ={polyfills}= ={styles}= ={vendor}= >{cash-cash-module}< >{common}< >{product-product-module}< [entry]\r\n> chunk {styles} styles.css, styles.css.map (styles) 89.8 KiB ={runtime}= [initial]\r\n> chunk {vendor} vendor.js, vendor.js.map (vendor) 7.03 MiB ={main}= ={runtime}= >{cash-cash-module}< >{common}< >{product-product-module}< [initial] split chunk (cache group: vendor) (name: vendor)\r\n> i ｢wdm｣: Compiled successfully.\r\n\r\nBut if I run same command without `--verbose` then output will be:\r\n\r\n> Date: 2018-12-04T00:39:32.097Z - Hash: d6736946413fd5378009 - Time: 6616ms\r\n> 9 unchanged chunks\r\n> i ｢wdm｣: Compiled successfully.\r\n> i ｢wdm｣: Compiling...\r\n> \r\n> Date: 2018-12-04T00:39:33.379Z - Hash: d6736946413fd5378009 - Time: 997ms\r\n> 9 unchanged chunks\r\n> i ｢wdm｣: Compiled successfully.\r\n> i ｢wdm｣: Compiling...\r\n> \r\n> Date: 2018-12-04T00:42:39.061Z - Hash: d6736946413fd5378009 - Time: 1389ms\r\n> 9 unchanged chunks\r\n> i ｢wdm｣: Compiled successfully.\r\n\r\n\r\n- Some times is so bad that it recompile almost once a minute.\r\n- From observation it starts as soon as I do first change and save.\r\n- Company has strict security so I am not sure which software is installed.\r\n- For some team member is ok they dont have this problem.\r\n- Same problem is with karma tests they keep recompiling","Url":"https://github.com/angular/angular-cli/issues/13125","RelatedDescription":"Closed issue \"Angular cli keeps recompiling even nothing changed\" (#13125)"},{"Id":"386999165","IsPullRequest":true,"CreatedAt":"2018-12-03T20:49:15","Actor":"hansl","Number":"13124","RawContent":null,"Title":"feat(@schematics/update): add packageGroup version map support","State":"open","Body":"Fixes #13015","Url":"https://github.com/angular/angular-cli/pull/13124","RelatedDescription":"Open PR \"feat(@schematics/update): add packageGroup version map support\" (#13124)"},{"Id":"386798153","IsPullRequest":false,"CreatedAt":"2018-12-03T18:38:31","Actor":"zlepper","Number":"13118","RawContent":null,"Title":"Fonts defined in shared directly doesn't get loaded due to 404","State":"closed","Body":"### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [x ] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n<!--\r\nOutput from: `node --version`, `npm --version` and `ng --version`.\r\n  Windows (7/8/10). Linux (incl. distribution). macOS (El Capitan? Sierra? High Sierra?)\r\n-->\r\n```\r\nC:\\dev\\work\\test\\scss-import-issue>node --version\r\nv8.9.4\r\n\r\nC:\\dev\\work\\test\\scss-import-issue>npm --version\r\n6.4.1\r\n\r\nC:\\dev\\work\\test\\scss-import-issue>ng --version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 7.1.0\r\nNode: 8.9.4\r\nOS: win32 x64\r\nAngular: 7.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.11.0\r\n@angular-devkit/build-angular     0.11.0\r\n@angular-devkit/build-optimizer   0.11.0\r\n@angular-devkit/build-webpack     0.11.0\r\n@angular-devkit/core              7.1.0\r\n@angular-devkit/schematics        7.1.0\r\n@angular/cli                      7.1.0\r\n@ngtools/webpack                  7.1.0\r\n@schematics/angular               7.1.0\r\n@schematics/update                0.11.0\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n\r\nWindows 10 pro. \r\n```\r\n\r\n### Repro steps\r\nRepro: https://github.com/zlepper/scss-import-issue\r\n\r\nrun `ng serve`. \r\nOpen a browser to localhost:4200, see that Avenir Next font doesn't load due to 404. \r\n\r\n\r\n### The log given by the failure\r\nNothing unusual in the log. So apparently webpack does find the font-file\r\n\r\n\r\n### Mention any other details that might be useful\r\nThis issue doesn't happen for @angular-devkit/build-angular version 0.8.8. \r\n","Url":"https://github.com/angular/angular-cli/issues/13118","RelatedDescription":"Closed issue \"Fonts defined in shared directly doesn't get loaded due to 404\" (#13118)"},{"Id":"386887660","IsPullRequest":true,"CreatedAt":"2018-12-03T16:29:29","Actor":"rakishii13","Number":"13123","RawContent":null,"Title":"#13095 Update package.json","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/13123","RelatedDescription":"Closed or merged PR \"#13095 Update package.json\" (#13123)"},{"Id":"386875479","IsPullRequest":true,"CreatedAt":"2018-12-03T15:39:51","Actor":"ameerthehacker","Number":"13122","RawContent":null,"Title":"refactor: replace karma jasmine html reporter with karma material rep…","State":"open","Body":"Replace the karma-jasmine-html reporter with [karma-material-reporter](https://github.com/ameerthehacker/karma-material-reporter) as may have following advantages\r\n\r\n* Realtime test result reporting\r\n* Good automated test coverage for the package itself\r\n* Built with material design","Url":"https://github.com/angular/angular-cli/pull/13122","RelatedDescription":"Open PR \"refactor: replace karma jasmine html reporter with karma material rep…\" (#13122)"},{"Id":"386811739","IsPullRequest":false,"CreatedAt":"2018-12-03T13:12:45","Actor":"alan-agius4","Number":"13119","RawContent":null,"Title":"Component CSS don't get optimized unless AOT is enabled","State":"open","Body":"<!--\r\nIF YOU DON'T FILL OUT THE FOLLOWING INFORMATION YOUR ISSUE MIGHT BE CLOSED WITHOUT INVESTIGATING\r\n-->\r\n### Bug Report or Feature Request (mark with an `x`)\r\n```\r\n- [X] bug report -> please search issues before submitting\r\n- [ ] feature request\r\n```\r\n\r\n### Command (mark with an `x`)\r\n```\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n```\r\n\r\n### Versions\r\n```\r\nAngular CLI: 7.1.0\r\nNode: 11.1.0\r\nOS: darwin x64\r\nAngular: 7.1.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.11.0\r\n@angular-devkit/build-angular     0.11.0\r\n@angular-devkit/build-optimizer   0.11.0\r\n@angular-devkit/build-webpack     0.11.0\r\n@angular-devkit/core              7.1.0\r\n@angular-devkit/schematics        7.1.0\r\n@angular/cli                      7.1.0\r\n@ngtools/webpack                  7.1.0\r\n@schematics/angular               7.1.0\r\n@schematics/update                0.11.0\r\nrxjs                              6.3.3\r\ntypescript                        3.1.6\r\nwebpack                           4.23.1\r\n```\r\n\r\n### Repro steps\r\n\r\n- `ng new css-test`\r\n- `p {color: white}' > src/app/app.component.css`\r\n- `ng build --prod --noAot --noBuildOptimizer`\r\n\r\n\r\n### The log given by the failure\r\nAt the moment, when AOT is disabled components styles are not being optimised. Ie, cleancss is not running.\r\n\r\nSo for instance the above code, it should have been minified to `p {color: #fff}`. But this is only happening when using the AOT compiler.\r\n\r\n### Desired functionality\r\nComponent styles should be minified both when using the JIT and AOT Compiler.\r\n","Url":"https://github.com/angular/angular-cli/issues/13119","RelatedDescription":"Open issue \"Component CSS don't get optimized unless AOT is enabled\" (#13119)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"388281850","IsPullRequest":true,"CreatedAt":"2018-12-07T00:07:08","Actor":"crisbeto","Number":"14407","RawContent":null,"Title":"fix(a11y): activeItem out of date if active index is removed from ListKeyManager","State":"closed","Body":"Fixes the `activeItem` on the `ListKeyManager` not matching the item at the `activeItemIndex`, if the `activeItem` is removed from the list.\r\n\r\nFixes #14345.","Url":"https://github.com/angular/material2/pull/14407","RelatedDescription":"Closed or merged PR \"fix(a11y): activeItem out of date if active index is removed from ListKeyManager\" (#14407)"},{"Id":"387964596","IsPullRequest":true,"CreatedAt":"2018-12-07T00:06:47","Actor":"crisbeto","Number":"14393","RawContent":null,"Title":"fix(badge): aria-label not being updated if description changes","State":"closed","Body":"When we create a new badge element, we set its `aria-label` to the description of the badge, however that `aria-label` doesn't update if the description changes. These changes update the label accordingly.","Url":"https://github.com/angular/material2/pull/14393","RelatedDescription":"Closed or merged PR \"fix(badge): aria-label not being updated if description changes\" (#14393)"},{"Id":"388368845","IsPullRequest":true,"CreatedAt":"2018-12-06T23:55:34","Actor":"DevVersion","Number":"14411","RawContent":null,"Title":"build: package docs content into npm package ","State":"closed","Body":"* Packages the Bazel generated docs content into the Bazel generated `ng_package` of the `material-examples`.\r\n\r\n**Note**: In a follow-up I will try to wire this up in the publish script.\r\n","Url":"https://github.com/angular/material2/pull/14411","RelatedDescription":"Closed or merged PR \"build: package docs content into npm package \" (#14411)"},{"Id":"388429553","IsPullRequest":false,"CreatedAt":"2018-12-06T22:43:03","Actor":"shlomiassaf","Number":"14416","RawContent":null,"Title":"improvments in CdkTable._getAllRenderRows()","State":"open","Body":"The classic template will not fit here because the behavior is not visible much...\r\n\r\nI found some things I can't explain logically, which makes the code hard to read... if I'm wrong - sorry in advance:\r\n\r\n\r\n```ts\r\n  private _getAllRenderRows(): RenderRow<T>[] {\r\n    const renderRows: RenderRow<T>[] = [];\r\n\r\n    // Store the cache and create a new one. Any re-used RenderRow objects will be moved into the\r\n    // new cache while unused ones can be picked up by garbage collection.\r\n    const prevCachedRenderRows = this._cachedRenderRowsMap;\r\n    this._cachedRenderRowsMap = new Map();\r\n\r\n    // For each data object, get the list of rows that should be rendered, represented by the\r\n    // respective `RenderRow` object which is the pair of `data` and `CdkRowDef`.\r\n    for (let i = 0; i < this._data.length; i++) {\r\n      let data = this._data[i];\r\n      const renderRowsForData = this._getRenderRowsForData(data, i, prevCachedRenderRows.get(data));\r\n\r\n      if (!this._cachedRenderRowsMap.has(data)) {\r\n        this._cachedRenderRowsMap.set(data, new WeakMap());\r\n      }\r\n\r\n      for (let j = 0; j < renderRowsForData.length; j++) {\r\n        let renderRow = renderRowsForData[j];\r\n\r\n        const cache = this._cachedRenderRowsMap.get(renderRow.data)!;\r\n        if (cache.has(renderRow.rowDef)) {\r\n          cache.get(renderRow.rowDef)!.push(renderRow);\r\n        } else {\r\n          cache.set(renderRow.rowDef, [renderRow]);\r\n        }\r\n        renderRows.push(renderRow);\r\n      }\r\n    }\r\n\r\n    return renderRows;\r\n  }\r\n```\r\n\r\n## (1) Redundant if:\r\n\r\nI think this if statement can be removed:\r\n\r\n```ts\r\n      if (!this._cachedRenderRowsMap.has(data)) {\r\n        this._cachedRenderRowsMap.set(data, new WeakMap());\r\n      }\r\n```\r\n\r\nBecause `_cachedRenderRowsMap` is being reset before the loop:\r\n\r\n```ts\r\n this._cachedRenderRowsMap = new Map();\r\n```\r\n\r\nAnd since we loop over each `data` item once, it will always be missing...\r\n\r\n> Remember this fact, looping over `data` once\r\n\r\n## (2) Redundant array in the cache that is always a single item\r\n\r\nThe cache is defined like this:\r\n\r\n```ts\r\nprivate _cachedRenderRowsMap = new Map<T, WeakMap<CdkRowDef<T>, RenderRow<T>[]>>();\r\n```\r\n\r\nThere is a comment for why the array is there:\r\n\r\n> The array is necessary to handle cases where the data array contains multiple duplicate data objects and each instantiated `RenderRow` must be stored.\r\n\r\nIf a data item is our instance (T) we can render between 1 to N rows, depending on the `CdkRowDef` we have and their `when` predicate.\r\n\r\nThis is expressed through `Map<T, WeakMap<CdkRowDef<T>, RenderRow<T>>>`... For each data item T we have a map of `CdkRowDef` that points to an object that holds the same instances of `T` and `CdkRowDef<T>` plus the data index of T...\r\n\r\nWhat is the scenario that can possibly lead to multiple `RenderRow`, this doesn't make sense because `RenderRow` itself holds the values we need to query it in the cache maps...\r\n\r\nMeaning:\r\n\r\n```ts\r\nconst renderRows = this._cachedRenderRowsMap.get(X).get(Y); \r\nfor (const rr of renderRows) {\r\n  rr.data === X // TRUE\r\n  rr.rowDef === Y // TRUE\r\n}\r\n```\r\n\r\n\r\nThe argument get's stronger in:\r\n\r\n```ts\r\n  private _getRenderRowsForData(\r\n      data: T, dataIndex: number, cache?: WeakMap<CdkRowDef<T>, RenderRow<T>[]>): RenderRow<T>[] {\r\n    const rowDefs = this._getRowDefs(data, dataIndex);\r\n\r\n    return rowDefs.map(rowDef => {\r\n      const cachedRenderRows = (cache && cache.has(rowDef)) ? cache.get(rowDef)! : [];\r\n      if (cachedRenderRows.length) {\r\n        const dataRow = cachedRenderRows.shift()!;\r\n        dataRow.dataIndex = dataIndex;\r\n        return dataRow;\r\n      } else {\r\n        return {data, rowDef, dataIndex};\r\n      }\r\n    });\r\n  }\r\n```\r\n\r\nWhere only the first item is taken from the cache\r\n\r\n```ts\r\n     const dataRow = cachedRenderRows.shift()!;\r\n```\r\n\r\nNow `_getRenderRowsForData` is called from (and only from) `_getAllRenderRows` and the cache that is sent to it is `prevCachedRenderRows.get(data)`, coming back to the fact that `data` is used once in the iteration thus that cache array will never be used again, i.e. **it always uses 1 item from the array**\r\n\r\n> I also don't understand why we `shift`... mutating the cache that we don't use again...","Url":"https://github.com/angular/material2/issues/14416","RelatedDescription":"Open issue \"improvments in CdkTable._getAllRenderRows()\" (#14416)"},{"Id":"388414312","IsPullRequest":false,"CreatedAt":"2018-12-06T21:53:49","Actor":"RussellAFisher","Number":"14415","RawContent":null,"Title":"Disabled Indeterminate Checkbox Styling","State":"open","Body":"#### Bug: Background-color styling for a disabled indeterminate checkbox doesn't match styling for disabled checked checkbox\r\n\r\n#### What is the expected behavior?\r\nDisabled checkboxes all have the same background-color: #b0b0b0 no matter their state\r\n\r\n#### What is the current behavior?\r\nIndeterminate checkboxes retain their themed color\r\n\r\n#### What are the steps to reproduce?\r\nhttps://stackblitz.com/edit/angular-iscw2w\r\n\r\n1. Expand top level\r\n2. Click on a secondary level checkbox so top level becomes indeterminate\r\n3. Click disable button at the bottom\r\n\r\n#### What is the use-case or motivation for changing an existing behavior?\r\nRegression from 6\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\n\"@angular/core\": \"^7.1.1\",\r\n\"@angular/material\": \"^7.1.1\",\r\n\"typescript\": \"~3.1.6\"\r\nMacOS High Sierra 10.13.6\r\nChrome Version 70.0.3538.110\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14415","RelatedDescription":"Open issue \"Disabled Indeterminate Checkbox Styling\" (#14415)"},{"Id":"388084887","IsPullRequest":false,"CreatedAt":"2018-12-06T21:04:30","Actor":"BamiGorengo","Number":"14400","RawContent":null,"Title":"Implementation of the new material style guide planned?","State":"closed","Body":"As everyone knows, many things changed in the material styleguide not long ago. Just as an example: Everything is round and especially noticeable the [new input fields](https://material.io/design/components/text-fields.html)\r\n\r\nI find the new styleguide more beautiful than the old one. I can not find any information about whether this implementation is planned or not, I thought I just ask here.","Url":"https://github.com/angular/material2/issues/14400","RelatedDescription":"Closed issue \"Implementation of the new material style guide planned?\" (#14400)"},{"Id":"387968450","IsPullRequest":true,"CreatedAt":"2018-12-06T20:41:43","Actor":"DevVersion","Number":"14395","RawContent":null,"Title":"build: fix failing nightly snapshot tests","State":"closed","Body":"Apparently Yarn installs mismatching dependencies of Angular Github snapshot packages. Meaning that we need to flatten out all dependencies for `@angular/*` packages.\r\n\r\nThis can be achieved by using the Yarn's `resolutions` feature.","Url":"https://github.com/angular/material2/pull/14395","RelatedDescription":"Closed or merged PR \"build: fix failing nightly snapshot tests\" (#14395)"},{"Id":"387922462","IsPullRequest":true,"CreatedAt":"2018-12-06T20:41:32","Actor":"DevVersion","Number":"14391","RawContent":null,"Title":"build: no longer require updating multiple package.json files for bazel","State":"closed","Body":"* Replaces second \"package.json\" file with a small workspace that just aliases to the actual dependencies provided in the \"@matdeps\" workspace. This speeds up the analysis phase and also makes debugging easier.\r\n* Also proxies the \"ng_package\" so that it always includes the proper `README.md` file. Also this means that we can always replace the version placeholders. Similar to `angular/angular`.\r\n\r\nSimilar to https://github.com/angular/angular/commit/68074df0a23f12b11bd480a1911d7403d2b31530. Credits to @gregmagolan for this.\r\n\r\nWe just need a bit more work because we don't overwrite the default `compiler`, `xi18n` and `packager` targets to the actual source files (this is special to Angular because those contain the sources)","Url":"https://github.com/angular/material2/pull/14391","RelatedDescription":"Closed or merged PR \"build: no longer require updating multiple package.json files for bazel\" (#14391)"},{"Id":"388384301","IsPullRequest":true,"CreatedAt":"2018-12-06T20:26:57","Actor":"crisbeto","Number":"14414","RawContent":null,"Title":"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled","State":"open","Body":"Fixes the first option not appearing as highlighted if the consumer has set `floatLabel=\"never\"` and `autoActiveFirstOption`. It looks like we were depending on the `transitioned` event from the label to kick off the change detection that shows the highlight.\r\n\r\nFixes #13734.","Url":"https://github.com/angular/material2/pull/14414","RelatedDescription":"Open PR \"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled\" (#14414)"},{"Id":"388382914","IsPullRequest":true,"CreatedAt":"2018-12-06T20:24:42","Actor":"crisbeto","Number":"14413","RawContent":null,"Title":"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled","State":"closed","Body":"Fixes the first option not appearing as highlighted if the consumer has set `floatLabel=\"never\"` and `autoActiveFirstOption`. It looks like we were depending on the `transitioned` event from the label to kick off the change detection that shows the highlight.\r\n\r\nFixes #13734.","Url":"https://github.com/angular/material2/pull/14413","RelatedDescription":"Closed or merged PR \"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled\" (#14413)"},{"Id":"388370388","IsPullRequest":false,"CreatedAt":"2018-12-06T19:49:06","Actor":"jmeberlein","Number":"14412","RawContent":null,"Title":"Implement a stable sorting algorithm","State":"open","Body":"The Javascript standards do not specify which sorting algorithm to use. Google Chrome and several other browsers are known to use Introsort, which is an [unstable](https://stackoverflow.com/questions/1517793/what-is-stability-in-sorting-algorithms-and-why-is-it-important) sorting algorithm. This matters from a UX perspective in any app, because it precludes multi-level sorting. The user can't just click on two columns in order and expect the first column to still be sorted for any given value of the second, because Introsort treats equal elements as interchangeable. \r\n\r\nAs an example of this behavior, look at the Dessert table on [the overview page](https://material.angular.io/components/sort/overview) for mat-sort. If you sort by Calories, then Protein, the four entries with 4 g protein are all still sorted by calories. But if you sort by Fat, then Protein, the four entries with 4 g protein are no longer sorted by calories. The former, in my opinion, is the expected behavior.\r\n\r\nTo solve this issue, all you would have to do is add a stable sorting algorithm, even as simple as a bottom-up merge sort, then replace calls to sort() with calls to the new, internal algorithm.","Url":"https://github.com/angular/material2/issues/14412","RelatedDescription":"Open issue \"Implement a stable sorting algorithm\" (#14412)"},{"Id":"388327769","IsPullRequest":false,"CreatedAt":"2018-12-06T17:53:09","Actor":"jelbourn","Number":"14410","RawContent":null,"Title":"Create README for each npm package","State":"open","Body":"","Url":"https://github.com/angular/material2/issues/14410","RelatedDescription":"Open issue \"Create README for each npm package\" (#14410)"},{"Id":"388320621","IsPullRequest":false,"CreatedAt":"2018-12-06T17:33:02","Actor":"operskaas","Number":"14409","RawContent":null,"Title":"No way to see full text of overflowing mat-option within mat-autocomplete","State":"open","Body":"#### What is the expected behavior?\r\nTo be able to see the full text of mat-option within a mat-autocomplete, without selecting the option. Perhaps a tooltip on hover or keyboard nav. \r\n\r\n#### What is the current behavior?\r\nOverflowing text has an ellipsis, with no tooltip.\r\n\r\n#### What are the steps to reproduce?\r\n1.) Have a mat-option with long text within a mat-autocomplete \r\n2.) Click in the corresponding input to bring up the mat-autocomplete\r\n3.) Hover over the mat-option within the mat-autocomplete\r\n\r\nhttps://stackblitz.com/edit/angular-material2-issue-czk7em\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nNot sure. At least what we are using on Pantheon and what is used in the stackblitz above. \r\n\r\n#### Is there anything else we should know?\r\nThis is blocking a customer issue on Cloud Datastore. Implemented a workaround but it is not ideal. ","Url":"https://github.com/angular/material2/issues/14409","RelatedDescription":"Open issue \"No way to see full text of overflowing mat-option within mat-autocomplete\" (#14409)"},{"Id":"388298813","IsPullRequest":true,"CreatedAt":"2018-12-06T16:41:54","Actor":"crisbeto","Number":"14408","RawContent":null,"Title":"fix(chips): default selectable state not passed to individual chips on init","State":"open","Body":"Fixes the default `selectable` state from the chip list not being passed to the individual chips on init.\r\n\r\nFixes #14397.","Url":"https://github.com/angular/material2/pull/14408","RelatedDescription":"Open PR \"fix(chips): default selectable state not passed to individual chips on init\" (#14408)"},{"Id":"388261713","IsPullRequest":false,"CreatedAt":"2018-12-06T15:22:05","Actor":"jaetea","Number":"14406","RawContent":null,"Title":"Mat-Select does not respect default parent width of 180px. Spans 100% of window,  if width of form field is not explicitly set.","State":"open","Body":"#### What is the expected behavior?\r\nSelect should be 180px which is the width of the mat-infix container\r\n\r\n#### What is the current behavior?\r\n\r\nSelect spans 100% if width of form field is not set\r\n\r\n#### What are the steps to reproduce?\r\nSee demo page\r\n\r\nChrome / Edge 17\r\n![image](https://user-images.githubusercontent.com/3731879/49593231-0d87e380-f941-11e8-90a6-631cba527c38.png)\r\n\r\nEdge 18\r\n![image](https://user-images.githubusercontent.com/3731879/49593250-17a9e200-f941-11e8-9935-cd2553dd14fc.png)\r\n\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nMaterial 6.4.7, 7.1.1 \r\n\r\nIE Edge Preview and version 18. Works as intended in version 17.\r\n\r\n#### Is there anything else we should know?\r\nThis form field has not explicit with however the select element is not contained to the 180px with of the mat-form-field-infix which contains it.\r\n \r\n![image](https://user-images.githubusercontent.com/3731879/49593033-9c483080-f940-11e8-9a4a-68b3142cdbfd.png)\r\n\r\n![image](https://user-images.githubusercontent.com/3731879/49593088-c6015780-f940-11e8-8a17-44d0cc774e59.png)\r\n\r\n","Url":"https://github.com/angular/material2/issues/14406","RelatedDescription":"Open issue \"Mat-Select does not respect default parent width of 180px. Spans 100% of window,  if width of form field is not explicitly set.\" (#14406)"},{"Id":"388210528","IsPullRequest":true,"CreatedAt":"2018-12-06T13:19:42","Actor":"crisbeto","Number":"14405","RawContent":null,"Title":"fix(drag-drop): prevent text selection while dragging on Safari","State":"open","Body":"Fixes being able to select text while dragging an item on Safari.\r\n\r\nFixes #14403.","Url":"https://github.com/angular/material2/pull/14405","RelatedDescription":"Open PR \"fix(drag-drop): prevent text selection while dragging on Safari\" (#14405)"},{"Id":"388184362","IsPullRequest":false,"CreatedAt":"2018-12-06T12:38:19","Actor":"vadjs","Number":"14404","RawContent":null,"Title":"[CdkDrag] Drag start event","State":"closed","Body":"#### Please describe the feature you would like to request.\r\nCurrent drag and drop implementation has no drag start event.\r\n\r\n#### What is the use-case or motivation for this proposal?\r\nCurrent drag and drop implementation makes some drag cases uncoverable through this API. For example: I want to drag element in tree and make drag preview with needed padding value right from drag start. But i can't do it.\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14404","RelatedDescription":"Closed issue \"[CdkDrag] Drag start event\" (#14404)"},{"Id":"388130416","IsPullRequest":false,"CreatedAt":"2018-12-06T09:41:34","Actor":"philmtd","Number":"14403","RawContent":null,"Title":"bug(drag-drop): Safari selects text on drag","State":"open","Body":"#### What is the expected behavior?\r\nSafari (or any browser) should not select text when starting to drag an item.\r\n\r\n#### What is the current behavior?\r\nWhen starting to drag an item in a drop list, Safari selects the text that is near to the dragged item.\r\n\r\n#### What are the steps to reproduce?\r\n**Stackblitz:** https://stackblitz.com/edit/angular-material2-issue-b6tvka\r\nSwitch the versions of cdk and material to 7.1.0 to see the previous and correct behaviour.\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\n* Safari 12.0.1 (but probably not only this version)\r\n* CDK & Material 7.1.1 \r\n\r\n#### Is there anything else we should know?\r\nI tried it with Chrome and Firefox on macOS and the bug did not appear there, so it is probably exclusive to Safari. This bug was introduced in the 7.1.1 release. Downgrading to 7.1.0 fixes this behaviour. This can easily be verified using the stackblitz example from above.","Url":"https://github.com/angular/material2/issues/14403","RelatedDescription":"Open issue \"bug(drag-drop): Safari selects text on drag\" (#14403)"},{"Id":"388097061","IsPullRequest":true,"CreatedAt":"2018-12-06T08:01:10","Actor":"thomaspink","Number":"14402","RawContent":null,"Title":"Fix/dynamically changing autocomplete","State":"open","Body":"fixes #13812\r\n\r\nThis PR is a reopened copy of #13814 because of an accidental merge to master despite breaking some internal google apps.\r\n\r\n@mmalerba can you provide the error or some information why this PR did break these apps? ","Url":"https://github.com/angular/material2/pull/14402","RelatedDescription":"Open PR \"Fix/dynamically changing autocomplete\" (#14402)"},{"Id":"388085818","IsPullRequest":false,"CreatedAt":"2018-12-06T07:17:04","Actor":"wswanking","Number":"14401","RawContent":null,"Title":"drag-drop: invoke renderRows() method to refresh mat-table, but cdkDropList has not been updated","State":"open","Body":"#### What is the expected behavior?\r\nupdate cdkDropList after invoking mat-table.renderRows() method\r\n\r\n#### What is the current behavior?\r\ncdkDropList has not been updated after invoking mat-table.renderRows() method\r\n\r\n#### What are the steps to reproduce?\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nAngular:7.0.4 \r\nOS:window 10\r\nTypeScript:3.1.6\r\nbrowsers:Google Chrome 67.0.3396.87\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14401","RelatedDescription":"Open issue \"drag-drop: invoke renderRows() method to refresh mat-table, but cdkDropList has not been updated\" (#14401)"},{"Id":"387992914","IsPullRequest":true,"CreatedAt":"2018-12-05T23:35:48","Actor":"vivian-hu","Number":"14399","RawContent":null,"Title":"refactor(tree):clean up flat tree example","State":"open","Body":"clean up flat tree example and use element to update doc site","Url":"https://github.com/angular/material2/pull/14399","RelatedDescription":"Open PR \"refactor(tree):clean up flat tree example\" (#14399)"},{"Id":"387991904","IsPullRequest":true,"CreatedAt":"2018-12-05T23:31:53","Actor":"mmalerba","Number":"14398","RawContent":null,"Title":"Revert \"fix(autocomplete): update template when changing autocomplete in trigger\"","State":"closed","Body":"Reverts angular/material2#13814","Url":"https://github.com/angular/material2/pull/14398","RelatedDescription":"Closed or merged PR \"Revert \"fix(autocomplete): update template when changing autocomplete in trigger\"\" (#14398)"},{"Id":"387968334","IsPullRequest":false,"CreatedAt":"2018-12-05T23:28:12","Actor":"redjab","Number":"14394","RawContent":null,"Title":"[Table] Cell view not updating when column definition is changed with trackBy set","State":"closed","Body":"#### What is the expected behavior?\r\nCell view should be updated\r\n\r\n#### What is the current behavior?\r\nCell view remains the same even though the underlying value is updated\r\n\r\n#### What are the steps to reproduce?\r\nhttps://stackblitz.com/edit/angular-wihjxb?file=app%2Ftable-basic-example.ts\r\n\r\nClick on 'test' button\r\nSee that the first item name is not updated to 'TEST'\r\n\r\nIf this.columns reassignment is removed, then it works as expected\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nAngular/Material 7.1.1\r\n\r\n#### Is there anything else we should know?\r\nIf there's no trackBy function, then it works, because the item is getting removed and recreated again.\r\n","Url":"https://github.com/angular/material2/issues/14394","RelatedDescription":"Closed issue \"[Table] Cell view not updating when column definition is changed with trackBy set\" (#14394)"},{"Id":"387978940","IsPullRequest":false,"CreatedAt":"2018-12-05T22:44:54","Actor":"12wrigja","Number":"14397","RawContent":null,"Title":"[Chips] Selectable=false not working for keyboard input.","State":"open","Body":"#### What is the expected behavior?\r\nSetting \"[selectable]=false\" on a mat-chip-list causes the chip to not be selectable via either the mouse or keyboard.\r\n\r\n#### What is the current behavior?\r\nCurrently, selectable=false does disable mouse changes, but not keyboard changes.\r\n\r\n#### What are the steps to reproduce?\r\nModifying the default mat-chip-list on the default chips stackblitz to be non-selectable ([selectable]=\"false\") reproduces this behaviour.\r\n\r\nhttps://stackblitz.com/angular/rokobmedblr?file=app%2Fchips-overview-example.html \r\n\r\nAdd the selectable attribute, and then use the keyboard to focus on a non-selected (grey) chip and press spacebar.\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nThe stackblitz build says 7.1.1, and I was able to repro this on Chrome Linux and ChromeOS.\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14397","RelatedDescription":"Open issue \"[Chips] Selectable=false not working for keyboard input.\" (#14397)"},{"Id":"387974720","IsPullRequest":true,"CreatedAt":"2018-12-05T22:31:03","Actor":"mmalerba","Number":"14396","RawContent":null,"Title":"Revert \"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled\"","State":"closed","Body":"Reverts angular/material2#13774","Url":"https://github.com/angular/material2/pull/14396","RelatedDescription":"Closed or merged PR \"Revert \"fix(autocomplete): auto-highlighted first option not display correctly if the floating label is disabled\"\" (#14396)"},{"Id":"387941493","IsPullRequest":true,"CreatedAt":"2018-12-05T22:06:34","Actor":"crisbeto","Number":"14392","RawContent":null,"Title":"fix(drag-drop): error on touch end","State":"closed","Body":"Fixes an error being thrown by `CdkDrag` when the `touchend` event fires.\r\n\r\nFixes #14390.\r\n\r\nMarking as P2 since this will throw consistently on touch devices.","Url":"https://github.com/angular/material2/pull/14392","RelatedDescription":"Closed or merged PR \"fix(drag-drop): error on touch end\" (#14392)"},{"Id":"387898216","IsPullRequest":false,"CreatedAt":"2018-12-05T22:06:34","Actor":"atscott","Number":"14390","RawContent":null,"Title":"cdkDropList broken on touch devices on touchend","State":"closed","Body":"#### What is the expected behavior?\r\ncdkDropList does not error\r\n\r\n#### What is the current behavior?\r\nThe _cleanupDragArtifacts method now calls _getPointerPositionOnPage which does not handle touchend events correctly:\r\n`const point = this._isTouchEvent(event) ? event.touches[0] : event;` \r\n ==> When the event is \"touchend\" the event.touches array is empty. Instead changedTouches has the Touch object you need.\r\nDocumentation for the touches array (key portion \"touch points that are currently in contact\"):\r\nA TouchList listing all the Touch objects for touch points that are currently in contact with the touch surface, regardless of whether or not they've changed or what their target element was at touchstart time.\r\n\r\n#### What are the steps to reproduce?\r\nI don't think this is available as an npm yet, so I can't get a stackblitz.\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\nI believe this was caused by https://github.com/angular/material2/pull/14140 and affects all touch-based browsers\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14390","RelatedDescription":"Closed issue \"cdkDropList broken on touch devices on touchend\" (#14390)"},{"Id":"387712449","IsPullRequest":false,"CreatedAt":"2018-12-05T21:18:32","Actor":"samktest","Number":"14387","RawContent":null,"Title":"How can we implement drag and drop between different components  like one component for list of templates and other for dropzone area?","State":"closed","Body":"#### Bug, feature request, or proposal:\r\n\r\n\r\n#### What is the expected behavior?\r\n\r\n\r\n#### What is the current behavior?\r\n\r\n\r\n#### What are the steps to reproduce?\r\nProviding a StackBlitz reproduction is the *best* way to share your issue. <br/>\r\nStackBlitz starter: https://goo.gl/wwnhMV<br/>\r\n\r\n\r\n#### What is the use-case or motivation for changing an existing behavior?\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\n\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14387","RelatedDescription":"Closed issue \"How can we implement drag and drop between different components  like one component for list of templates and other for dropzone area?\" (#14387)"},{"Id":"387725793","IsPullRequest":false,"CreatedAt":"2018-12-05T21:05:25","Actor":"KSANTHOSHKUMA","Number":"14388","RawContent":null,"Title":"how to fix gap between dialog header and mat dialog starting","State":"closed","Body":"#### Please describe the feature you would like to request.\r\ni want to remove gap of blue circles in attached screenshot\r\n\r\n#### What is the use-case or motivation for this proposal?\r\n![image](https://user-images.githubusercontent.com/19944264/49512474-141c4980-f8b4-11e8-988f-dbda2b542f69.png)\r\n\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/material2/issues/14388","RelatedDescription":"Closed issue \"how to fix gap between dialog header and mat dialog starting\" (#14388)"},{"Id":"387884961","IsPullRequest":true,"CreatedAt":"2018-12-05T18:24:11","Actor":"crisbeto","Number":"14389","RawContent":null,"Title":"fix(menu): reduce specificity of icon selector","State":"closed","Body":"In #14161 we had to tweak the selector for an icon inside a `mat-menu-item`, in order to fix an issue, however the new selector's specificity is a lot higher which can break people's overrides. These changes rework the approach to have a lower specificity selector.","Url":"https://github.com/angular/material2/pull/14389","RelatedDescription":"Closed or merged PR \"fix(menu): reduce specificity of icon selector\" (#14389)"}],"ResultType":"GitHubIssue"}},"RunOn":"2018-12-07T05:30:10.923805Z","RunDurationInMilliseconds":8700}