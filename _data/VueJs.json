{"Data":{"Vue-Issues":{"Issues":[{"Id":"343294789","IsPullRequest":true,"CreatedAt":"2018-07-21T04:01:45","Actor":"ktsn","Number":"8537","RawContent":null,"Title":"fix(types): relax the return type of props default option","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\n**Other information:**\r\n\r\nCurrently, the return type of `default` option is annotated with `object` since it is used for generating fresh object for each component instance. But there is another use case for `default` option of function in [portal-vue](https://github.com/LinusBorg/portal-vue) which is for dynamically generating unique value as default.\r\nhttps://github.com/LinusBorg/portal-vue/blob/develop/src/components/portal.js#L16\r\n\r\nThe current typing breaks `this` type inference when the `default` function returns non-object type. I just relaxed the return type to `any` to avoid breaking the inference.","Url":"https://github.com/vuejs/vue/pull/8537","RelatedDescription":"Open PR \"fix(types): relax the return type of props default option\" (#8537)"},{"Id":"343294467","IsPullRequest":true,"CreatedAt":"2018-07-21T03:55:35","Actor":"xyzingh","Number":"8536","RawContent":null,"Title":"fix(observer): Disable reactive non-numerical property of array (fix #8535)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nPre-defined non-numerical properties are never reactive, new non-numerical properties' behaviors\r\nshould be consistent with them.\r\n\r\n/test/e2e/specs/modal.js failed, but the previous commit also failed.","Url":"https://github.com/vuejs/vue/pull/8536","RelatedDescription":"Open PR \"fix(observer): Disable reactive non-numerical property of array (fix #8535)\" (#8536)"},{"Id":"343285824","IsPullRequest":false,"CreatedAt":"2018-07-21T01:30:28","Actor":"xyzingh","Number":"8535","RawContent":null,"Title":"The logic of Vue.set is unreasonable when handling array","State":"open","Body":"### Version\r\n2.5.17-beta.0\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/L6pey1ts/22/](https://jsfiddle.net/L6pey1ts/22/)\r\n\r\n### Steps to reproduce\r\nRun JSFiddle snippet\r\n\r\n### What is expected?\r\nI expect, that the program only outputs `2,3,5,7,11,13` (when executing `arr.push(13)`).\r\n\r\n### What is actually happening?\r\n```\r\n    (empty line)\r\n2,3,5,7,11\r\narr.abc changed\r\narr.def\r\n    (empty line)\r\n2,3,5,7,11,13\r\n    (empty line)\r\narr.def changed\r\n```\r\n\r\n---\r\n**abc** is already existed on **arr** when **app** is initializing, and it is neglected for it was defined on an array.\r\n\r\n**def** is set by **Vue.set()**, but it executes **defineReactive(arr, 'def', 'arr.def')** (src/core/observer/index.js  line:225), and notifies the watchers.\r\n\r\nVue.set() should be consistent when dealing with them. In my mind, both of them should be neglected.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8535","RelatedDescription":"Open issue \"The logic of Vue.set is unreasonable when handling array\" (#8535)"},{"Id":"343269477","IsPullRequest":true,"CreatedAt":"2018-07-20T22:55:35","Actor":"cos","Number":"8534","RawContent":null,"Title":"Use rest params operator instead of the `arguments` variable","State":"open","Body":"\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [x] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\n**Other information:**\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters","Url":"https://github.com/vuejs/vue/pull/8534","RelatedDescription":"Open PR \"Use rest params operator instead of the `arguments` variable\" (#8534)"},{"Id":"343254059","IsPullRequest":false,"CreatedAt":"2018-07-20T21:34:04","Actor":"simaodeveloper","Number":"8533","RawContent":null,"Title":"Why not $payload?","State":"open","Body":"### What problem does this feature solve?\r\nHello folks, How it going?\r\n\r\nI want to start a discussion about parameter $event, when we use Custom Events to notify parent component about children changes, instead receive $ event we can receive $ payload, yes it's just semantic, but IMHO I think the $ payload name make much sense.\r\n\r\n\r\n### What does the proposed API look like?\r\n```\r\n@:custom-event=\"text = $payload\"\r\n```\r\n\r\nor\r\n \r\n```\r\n@:custom-event=\"drawSVG($payload)\"\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8533","RelatedDescription":"Open issue \"Why not $payload?\" (#8533)"},{"Id":"343189920","IsPullRequest":false,"CreatedAt":"2018-07-20T17:35:45","Actor":"lee-chase","Number":"8532","RawContent":null,"Title":"Passing a value attribute via to a select tag using $attrs should not set the select value without v-model","State":"open","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://codepen.io/lee-chase/pen/cead98e32ada57abc99350be8331197f](https://codepen.io/lee-chase/pen/cead98e32ada57abc99350be8331197f)\r\n\r\n### Steps to reproduce\r\nCan be observed on opening the codepen.\r\n\r\n### What is expected?\r\nPassing a value to a select tag via $attrs should behave the same way setting the attribute in HTML does, that is it is ignored.\r\n\r\nWhen using v-model it should behave as it currently does.\r\n\r\n### What is actually happening?\r\nThe value overrides any selected attribute set on an option. This should only occur with v-model.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8532","RelatedDescription":"Open issue \"Passing a value attribute via to a select tag using $attrs should not set the select value without v-model\" (#8532)"},{"Id":"343134813","IsPullRequest":false,"CreatedAt":"2018-07-20T14:50:26","Actor":"novacoder","Number":"8531","RawContent":null,"Title":"Crash when use v-bind with v-model on input element","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/eywraw8t/190868/](http://jsfiddle.net/eywraw8t/190868/)\r\n\r\n### Steps to reproduce\r\nBind undefined attributes prop on input element with v-model \r\n\r\n&lt;input v-bind=\"attributes\" v-model=\"editingValue\"&gt;\r\n\r\n### What is expected?\r\nInput element uses default \"text\" value for \"type\" attribute.\r\n\r\nIt works on vue 2.5.13\r\n\r\n### What is actually happening?\r\nException:\r\n\r\nVM841 vue.js:1743 TypeError: Cannot read property 'type' of undefined\r\n    at Proxy.eval (eval at createFunction (VM841 vue.js:10667), <anonymous>:3:116)\r\n    at Vue._render (VM841 vue.js:4535)\r\n    at Vue.updateComponent (VM841 vue.js:2788)\r\n    at Watcher.get (VM841 vue.js:3140)\r\n    at new Watcher (VM841 vue.js:3129)\r\n    at mountComponent (VM841 vue.js:2795)\r\n    at Vue.$mount (VM841 vue.js:8527)\r\n    at Vue.$mount (VM841 vue.js:10926)\r\n    at Vue._init (VM841 vue.js:4627)\r\n    at new Vue (VM841 vue.js:4716)\r\n\r\n---\r\nIt works when you: \r\n\r\n1. Add type attribute on input element\r\n&lt;input type=\"text\" v-bind=\"attributes\" v-model=\"editingValue\"&gt;\r\n\r\n2. Return empty object for attributes property by default\r\n...\r\nprops: {\r\n  \tattributes: {default: function() {return {}}} \r\n  }\r\n...\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8531","RelatedDescription":"Closed issue \"Crash when use v-bind with v-model on input element\" (#8531)"},{"Id":"343046476","IsPullRequest":false,"CreatedAt":"2018-07-20T13:41:08","Actor":"mehwww","Number":"8530","RawContent":null,"Title":"Hook event won't emit if v-if is change","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/2xp6xn653n](https://codesandbox.io/s/2xp6xn653n)\r\n\r\n### Steps to reproduce\r\n1. run program, custom directive hook function has been called correctly\r\n2. change `isMounted` to `false`, hook function will never called no matter how `isMounted` is change\r\n\r\n### What is expected?\r\nMounted hook function called every time it's vnode mounted.\r\n\r\n### What is actually happening?\r\nMounted hook won't call anyway if v-if is falsy\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8530","RelatedDescription":"Closed issue \"Hook event won't emit if v-if is change\" (#8530)"},{"Id":"342988119","IsPullRequest":true,"CreatedAt":"2018-07-20T06:27:55","Actor":"sagirk","Number":"8529","RawContent":null,"Title":"fix (shared-utils): Improve readability and consistency in code comments (fix #8528)","State":"open","Body":"Improvements that apply to all comments:\r\n- Consistent use of periods\r\n- Consistent use of commas\r\n- Consistent capitalization\r\n- Correct use of articles (a, an, the)\r\n\r\nImprovements to specific comments:\r\n- Correct pluralization in the description for helper functions\r\n- Re-word for clarity and break into shorter sentences the description\r\nfor `polyfillBind` function\r\n- Re-word for clarity the description for `genStaticKeys` function\r\n- Add a previously missing description for `looseIndexOf` function\r\n\r\nFixes: https://github.com/vuejs/vue/issues/8528\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [x] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8529","RelatedDescription":"Open PR \"fix (shared-utils): Improve readability and consistency in code comments (fix #8528)\" (#8529)"},{"Id":"342940766","IsPullRequest":false,"CreatedAt":"2018-07-20T06:16:50","Actor":"sunshixiong789","Number":"8526","RawContent":null,"Title":"vue对typescript支持现在已经成熟了么？","State":"closed","Body":"### What problem does this feature solve?\r\n我想用typescript来编写vue项目，不知道vue-cli生成得项目是否很好得支持typescript，更具我用了最新得3.0-rc5版本还是支持很好得，但是不知道会不会有坑，求指点！\r\n\r\n### What does the proposed API look like?\r\n我希望能够完全得支持typescript\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8526","RelatedDescription":"Closed issue \"vue对typescript支持现在已经成熟了么？\" (#8526)"},{"Id":"342983319","IsPullRequest":false,"CreatedAt":"2018-07-20T06:02:04","Actor":"sagirk","Number":"8528","RawContent":null,"Title":"Better comments in `shared/util.js` code","State":"open","Body":"### Version\r\n2.5.17-beta.0\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/dev/src/shared/util.js](https://github.com/vuejs/vue/blob/dev/src/shared/util.js)\r\n\r\n### Steps to reproduce\r\n1. Go to https://github.com/vuejs/vue/blob/dev/src/shared/util.js\r\n\r\n### What is expected?\r\nComments in the `shared/util.js` code to have\r\n- Consistent use of periods\r\n- Consistent use of commas\r\n- Consistent capitalization\r\n- Correct use of articles (a, an, the)\r\n- Correct pluralization\r\n- Shorter sentences in `polyfillBind` description\r\n- Clearer description for `genStaticKeys`\r\n- Description for `looseIndexOf` to be present\r\n\r\n### What is actually happening?\r\nNone of the above\r\n\r\n---\r\nI am working on a PR to improve the above. Interestingly, this will be my first contribution to Vue.js.\r\n\r\n_EDIT:_ Raised the PR — https://github.com/vuejs/vue/pull/8529\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8528","RelatedDescription":"Open issue \"Better comments in `shared/util.js` code\" (#8528)"},{"Id":"342941731","IsPullRequest":false,"CreatedAt":"2018-07-20T01:35:13","Actor":"llamicron","Number":"8527","RawContent":null,"Title":"MDL Components won't render correctly when being added dynamically ","State":"closed","Body":"### Version\r\n2.5.3\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/llamicron/eywraw8t/189044/](https://jsfiddle.net/llamicron/eywraw8t/189044/)\r\n\r\n### Steps to reproduce\r\nClick the add button on the JSFiddle.\r\n\r\nRender multiple elements with \"v-for\", then add new elements\r\n\r\n### What is expected?\r\nElements should appear rendered with the correct MDL styling\r\n\r\n### What is actually happening?\r\nElements are rendered as browser default. For example, an MDL switch is a checkbox\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8527","RelatedDescription":"Closed issue \"MDL Components won't render correctly when being added dynamically \" (#8527)"},{"Id":"342904627","IsPullRequest":false,"CreatedAt":"2018-07-19T22:01:26","Actor":"exotype","Number":"8525","RawContent":null,"Title":"[Suggestion] Regarding issues in Chinese ","State":"closed","Body":"I know this is probably not the place for this but i don't know where else to reach you, \r\ni'd like to suggest that you try to tell Chinese users to try and report issues in English if and whenever they can, because a lot of people in my current company and others i know of are shutting down Vue proposals on account of not being able to understand bug tickets made for VueJS and the fact many popular libraries are primarily and/or exclusively in Chinese.\r\n\r\nIt's important for VueJS to have a healthy Chinese community but i feel that the community's disregard for non-Chinese users is ultimately damaging VueJS and frustrating the efforts of Vue evangelists in the west. Couple the non-english documentation and issues with React's facebook backing and it's very hard to convince anyone in management that Vue is the way to go, i feel that i'm not alone and would also like to hear what others have to say about it.","Url":"https://github.com/vuejs/vue/issues/8525","RelatedDescription":"Closed issue \"[Suggestion] Regarding issues in Chinese \" (#8525)"},{"Id":"342792850","IsPullRequest":false,"CreatedAt":"2018-07-19T16:05:36","Actor":"lanxuebao","Number":"8524","RawContent":null,"Title":"页面中局部组件加载失败了怎么重新加载","State":"closed","Body":"### Version\r\n2.5.17-beta.0\r\n\r\n### Reproduction link\r\n[http://www.baidu.com](http://www.baidu.com)\r\n\r\n### Steps to reproduce\r\nvue官网有段代码是关于异步组件的，代码如下：\r\n\r\nconst AsyncComponent = (path) => ({\r\n    // 需要加载的组件 (应该是一个 `Promise` 对象)\r\n    component: import(`@/${path}`),\r\n    // 异步组件加载时使用的组件\r\n    loading: Loading,\r\n    // 加载失败时使用的组件\r\n    error: LoadingError,\r\n    // 展示加载时组件的延时时间。默认值是 200 (毫秒)\r\n    delay: 200,\r\n    // 如果提供了超时时间且组件加载也超时了，\r\n    // 则使用加载失败时使用的组件。默认值是：`Infinity`\r\n    timeout: 1000\r\n});\r\n\r\n请问页面如果局部组件加载失败了，怎么重新重新加载局部组件？\r\n应用场景：在听歌曲时，可以给歌曲评论，查看评论列表。如果组件加载失败了，怎么能重新加载局部组件？而不是通过刷新整个页面达到目的？如果刷新整个页面则会造成歌曲重播，这个是不符合业务场景的。\r\n\r\n### What is expected?\r\n想知道页面局部组件怎么重新加载或者重新创建渲染\r\n\r\n### What is actually happening?\r\n页面局部组件加载失败后怎么重试加载局部组件？\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8524","RelatedDescription":"Closed issue \"页面中局部组件加载失败了怎么重新加载\" (#8524)"},{"Id":"342206424","IsPullRequest":false,"CreatedAt":"2018-07-19T16:03:10","Actor":"stalniy","Number":"8512","RawContent":null,"Title":"Cache event handlers generated by compiler","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently vue compiler generates anonymous function expressions for each event handler with modifiers or handlers which contains expression inside. That is not efficient because resulting `render` function creates new functions each time component is re-rendered. This increases time of garbadge collector work, especially on mobile devices. It becomes even worse when we declare event handler inside `v-for` because `render` function instantiate new functions for each iteration despite the fact that they are the same\r\n\r\n**Example** :\r\n\r\n```html\r\n<template>\r\n  <div>\r\n     <a href=\"#\" @click.prevent=\"toggleVisibility\">toggle</a>\r\n     <div v-for=\"todo in todos\">\r\n            <input @keydown.enter=\"saveTodo(todo)\" v-model=\"todo.title\">\r\n     </div>\r\n  </div>\r\n</template>\r\n```\r\n\r\nThe compiled render function looks like this:\r\n\r\n```js\r\n        return _c('div', [_c('a', {\r\n            attrs: {\r\n                \"href\": \"#\"\r\n            },\r\n            on: {\r\n                \"click\": function($event) {\r\n                    $event.preventDefault();\r\n                    return toggleVisibility($event)\r\n                }\r\n            }\r\n        })\r\n.....\r\n```\r\n\r\nBy caching event handlers we could decrease amount of created garbage (i.e., functions) and speed up resulting `render` function\r\n\r\n### What does the proposed API look like?\r\nI propose to add a cache object to every `Vue` component instance. That object will hold references to event handlers generated by compiler. And compiler should generate code like this for handlers which compiles to function expression:\r\n\r\n```js\r\n\"click\": _z[\"click.0\"] || function($event) {\r\n   $event.preventDefault();\r\n   return toggleVisibility($event)\r\n}\r\n```\r\n\r\nThis task can be split into 3 parts:\r\n1. Cache event handlers outside `v-for`. This is quite easy, we just create a cache object per each `Vue` instance and generate a unique id (e.g., integer) for every element which has event handlers\r\n2. Cache event handlers inside `v-for`. I don't see an easy way to do this. However, if we could associate iteration scope with an element then we would be able to cache that handlers as well. So, the resulting handler for `keydown` may look like this:\r\n\r\n```js\r\n\"keydown\": _z[\"keydown.1\"] || function($event) {\r\n    if (!('button' in $event) && _k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\r\n    return saveTodo($event.currentTarget.__vforScope__.todo)\r\n},\r\n```\r\n3. We will need to update Vue hot loader api to clear handlers cache when template is updated (similar to how static functions cache is cleared)\r\n\r\nI can work on both PRs for this feature if you are ok with the proposed changes\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8512","RelatedDescription":"Closed issue \"Cache event handlers generated by compiler\" (#8512)"},{"Id":"342714542","IsPullRequest":false,"CreatedAt":"2018-07-19T13:10:17","Actor":"biapar","Number":"8523","RawContent":null,"Title":"Write a tutorial or documentation on how to porting an HTML5/JS UI Component to VueJS Component to build a Vue UI Framework","State":"closed","Body":"### What problem does this feature solve?\r\nHelp the community to grow\r\n\r\n### What does the proposed API look like?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8523","RelatedDescription":"Closed issue \"Write a tutorial or documentation on how to porting an HTML5/JS UI Component to VueJS Component to build a Vue UI Framework\" (#8523)"},{"Id":"342212452","IsPullRequest":false,"CreatedAt":"2018-07-19T11:37:42","Actor":"qxzm","Number":"8513","RawContent":null,"Title":"子组件props没有及时更新","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/eywraw8t/181151/](https://jsfiddle.net/qxzm/21yxjzr6/)\r\n\r\n### Steps to reproduce\r\n点击click，观察tempArr， tempObj\r\n\r\n### What is expected?\r\n可以在tempArr， tempObj看到及时更新的数据\r\n\r\n### What is actually happening?\r\n数据更新滞后（PS：可以用nextTick解决）\r\n\r\n---\r\n1.点击click可以看到在同步调用子组件的log方法时，tempArr和tempObj没有及时更新\r\n2.如果是 修改对象的属性时 可以及时更新\r\n3.两者行为不一致导致需要额外的代码来解决差异\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8513","RelatedDescription":"Closed issue \"子组件props没有及时更新\" (#8513)"},{"Id":"342205914","IsPullRequest":false,"CreatedAt":"2018-07-19T11:34:59","Actor":"ridea-co","Number":"8511","RawContent":null,"Title":"Instantiating new array inside renderList()","State":"closed","Body":"### Version\r\n2.5.13\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue/blob/5981529b497f5ef064b123aeb58eb9655172d6eb/src/core/instance/render-helpers/render-list.js](https://github.com/vuejs/vue/blob/5981529b497f5ef064b123aeb58eb9655172d6eb/src/core/instance/render-helpers/render-list.js)\r\n\r\n### Steps to reproduce\r\nWhen renderList(val, render) is called, passing NaN for 'val' as parameter.\r\n\r\nApologies for the \"Reproduction link\", but we cannot reproduce one since we have no clue what triggered that function:\r\nhttps://github.com/vuejs/vue/blob/5981529b497f5ef064b123aeb58eb9655172d6eb/src/core/instance/render-helpers/render-list.js\r\non line 22.\r\nBut you can probably do a unit test using renderList(0/0, function(a, b) {})\r\n\r\n### What is expected?\r\nunable to instantiate new array\r\n\r\n### What is actually happening?\r\ncode is not checking if given 'val' is NaN, which is a 'number'.  Thus trying to call new Array(NaN) throws exception\r\n\r\n---\r\nprobably can check if the given val is greater or equal to 0 since if a negative value will also cause exception: new Array(-1)\r\n\r\ninstead of:\r\n... else if (typeof val === 'number') {\r\n\r\n}\r\n\r\nuse:\r\n... else if (typeof val === 'number' && val >= 0) {\r\n\r\n}\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8511","RelatedDescription":"Closed issue \"Instantiating new array inside renderList()\" (#8511)"},{"Id":"342680298","IsPullRequest":false,"CreatedAt":"2018-07-19T11:34:34","Actor":"jossef","Number":"8522","RawContent":null,"Title":"aliasing component \"props\" names","State":"closed","Body":"### What problem does this feature solve?\r\nsimilar to angularjs directives, would like the ability to alias the names the component's parent uses to pass values \r\n\r\n\r\n### What does the proposed API look like?\r\ncomponent:\r\n```\r\nexport default {\r\n\t\tname: \"paging\",\r\n\t\tprops: {\r\n\t\t\t\"count\": {\"name\": \"pagingCount\", \"type\": Number}\r\n\t\t},\r\n\r\n```\r\n\r\n\r\nparent:\r\n```\r\n<paging v-bind:paging-count=\"itemsCount\"></paging>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8522","RelatedDescription":"Closed issue \"aliasing component \"props\" names\" (#8522)"},{"Id":"342526278","IsPullRequest":false,"CreatedAt":"2018-07-19T07:09:10","Actor":"ys64","Number":"8520","RawContent":null,"Title":"A selected file disappears after switching radio buttons on Vuejs","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://stackoverflow.com/questions/51272049/a-selected-file-disappears-after-switching-radio-buttons-on-vuejs](https://stackoverflow.com/questions/51272049/a-selected-file-disappears-after-switching-radio-buttons-on-vuejs)\r\n\r\n### Steps to reproduce\r\n1. Go to \"https://stackoverflow.com/questions/51272049/a-selected-file-disappears-after-switching-radio-buttons-on-vuejs\"\r\n2. Click \"Run code snippet\"\r\n3. Click \"Test1\"\r\n4. Upload any file\r\n5. Make sure that the file name you uploaded shows up\r\n6. Click \"Test2\"\r\n7. Click \"Test1\"\r\n\r\n### What is expected?\r\nThe file you uploaded still exists, and it shows the file name.\r\n\r\n### What is actually happening?\r\nIt shows \"No file chosen.\"\r\n\r\n---\r\nI know this is a multiple post, and it is not a good practice, but I would like to know how to fix this issue.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8520","RelatedDescription":"Closed issue \"A selected file disappears after switching radio buttons on Vuejs\" (#8520)"},{"Id":"342562666","IsPullRequest":false,"CreatedAt":"2018-07-19T03:05:48","Actor":"webjiandong","Number":"8521","RawContent":null,"Title":"赞助商","State":"closed","Body":"贝米钱包都暴雷了，还不下吗？\r\n","Url":"https://github.com/vuejs/vue/issues/8521","RelatedDescription":"Closed issue \"赞助商\" (#8521)"},{"Id":"342501222","IsPullRequest":false,"CreatedAt":"2018-07-18T21:37:27","Actor":"elmasry200","Number":"8519","RawContent":null,"Title":"vuejs how to create select list with years from 1900 to this year","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/8519","RelatedDescription":"Closed issue \"vuejs how to create select list with years from 1900 to this year\" (#8519)"},{"Id":"342474698","IsPullRequest":true,"CreatedAt":"2018-07-18T20:12:21","Actor":"sqal","Number":"8518","RawContent":null,"Title":"chore: update reference to already defined variable","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8518","RelatedDescription":"Open PR \"chore: update reference to already defined variable\" (#8518)"},{"Id":"342460248","IsPullRequest":false,"CreatedAt":"2018-07-18T20:00:34","Actor":"Simonwep","Number":"8517","RawContent":null,"Title":"Manually executing of a directive expression","State":"closed","Body":"### What problem does this feature solve?\r\nLet's assume  I have a custom directive which will be used like this: `v-my-directive:someargument.amodifier`.\r\n\r\nNow I have JavaScript code as value like this:  `v-my-directive:someargument.amodifier=\"alert('Hello Vue!')\"`.\r\n\r\nThe problem is, the value would be executed. How can I prevent this and execute it by myself, like `v-on` it does?\r\n\r\n### What does the proposed API look like?\r\nMaybe adding an option to the `Vue.directive` function would be helpful. Example:\r\n\r\n```js\r\nVue.directive('my-directive', {\r\n    parsing: false, // Default would be true\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8517","RelatedDescription":"Closed issue \"Manually executing of a directive expression\" (#8517)"},{"Id":"342460207","IsPullRequest":false,"CreatedAt":"2018-07-18T19:26:38","Actor":"riophae","Number":"8516","RawContent":null,"Title":"Error thrown when using transition-group with conditionally rendered children","State":"open","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://codepen.io/riophae/pen/EpgWdZ](https://codepen.io/riophae/pen/EpgWdZ)\r\n\r\n### Steps to reproduce\r\n1. Open the pen and it shows 1, 3, 5\r\n2. Click the button\r\n\r\n### What is expected?\r\nIt should show 3, 5\r\n\r\n### What is actually happening?\r\nGot this error in console:\r\n\r\n```\r\n[Vue warn]: Error in render: \"TypeError: c$1.elm.getBoundingClientRect is not a function\"\r\n\r\nfound in\r\n\r\n---> <TransitionGroup>\r\n       <Root>\r\n\r\nTypeError: c$1.elm.getBoundingClientRect is not a function\r\n   at Proxy.render (VM643 vue.js:8383)\r\n   at VueComponent.Vue._render (VM643 vue.js:4535)\r\n   at VueComponent.updateComponent (VM643 vue.js:2788)\r\n   at Watcher.get (VM643 vue.js:3140)\r\n   at Watcher.run (VM643 vue.js:3217)\r\n   at flushSchedulerQueue (VM643 vue.js:2981)\r\n   at Array.<anonymous> (VM643 vue.js:1839)\r\n   at MessagePort.flushCallbacks (VM643 vue.js:1760)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8516","RelatedDescription":"Open issue \"Error thrown when using transition-group with conditionally rendered children\" (#8516)"},{"Id":"342327568","IsPullRequest":false,"CreatedAt":"2018-07-18T16:52:18","Actor":"chearon","Number":"8515","RawContent":null,"Title":"$listeners are not updated if you use $on","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/eywraw8t/182246/](http://jsfiddle.net/eywraw8t/182246/)\r\n\r\n### Steps to reproduce\r\nOpen fiddle and click on the text.\r\n\r\nThere is one component in the middle of 2 others that forwards events like the documentation example, with `v-on=\"$events\"`. The `<h1>` component fires a mousedown and a mouseup, and the highest-level component registers one of those in the render function and one of them with `$on`.\r\n\r\n### What is expected?\r\nI would expect using `$on` to update `$listeners` which would update the listeners on the deepest component. If this is by design, could it be clarified in the documentation?\r\n\r\n### What is actually happening?\r\n`$on` doesn't update child components if `$listeners` is used in the render functions\r\n\r\n---\r\nI know it's unusual to use `$on` like this, but I'm working on an Angular application that's being slowly converted into Vue. In order to cross barriers we create Vue components and mount them into Angular directly\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8515","RelatedDescription":"Closed issue \"$listeners are not updated if you use $on\" (#8515)"},{"Id":"342166446","IsPullRequest":false,"CreatedAt":"2018-07-18T15:03:51","Actor":"thecodechef","Number":"8508","RawContent":null,"Title":"Adding a Vue.helper() constructor","State":"closed","Body":"### What problem does this feature solve?\r\nWell, to be honest, the way Vue define the global dollar-sign helpers is quite cumbersome.\r\nSo I figured that this would be a better option\r\n\r\nThis is what we have now\r\n```js\r\n// vuepress - app.js\r\n\r\nVue.prototype.$withBase = function (path) {\r\n  const base = this.$site.base\r\n  if (path.charAt(0) === '/') {\r\n    return base   path.slice(1)\r\n  } else {\r\n    return path\r\n  }\r\n}\r\n```\r\n\r\n### What does the proposed API look like?\r\n```js\r\nVue.helper('withBase', (path) => {\r\n  const base = this.$site.base\r\n  if (path.charAt(0) === '/') {\r\n    return base   path.slice(1)\r\n  } else {\r\n    return path\r\n  }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8508","RelatedDescription":"Closed issue \"Adding a Vue.helper() constructor\" (#8508)"},{"Id":"342301114","IsPullRequest":false,"CreatedAt":"2018-07-18T15:02:51","Actor":"TrueGameover","Number":"8514","RawContent":null,"Title":"Bug with imported components","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/82oo6j6w8](https://codesandbox.io/s/82oo6j6w8)\r\n\r\n### Steps to reproduce\r\njust run\r\n\r\n### What is expected?\r\nRendered component1 in component2\r\n\r\n### What is actually happening?\r\nFailed to mount component: template or render function not defined.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8514","RelatedDescription":"Closed issue \"Bug with imported components\" (#8514)"},{"Id":"342172347","IsPullRequest":false,"CreatedAt":"2018-07-18T07:10:06","Actor":"jasonxia23","Number":"8510","RawContent":null,"Title":"Why textarea with a fixed value still change","State":"closed","Body":"### What problem does this feature solve?\r\nMaybe a stupid question.\r\nBut textarea with value props will change even if it is set to be a fixed value.\r\nSee examples [here](https://jsfiddle.net/0dzvcf4d/18698/)\r\n\r\n### What does the proposed API look like?\r\n`value` props of textarea should not change after it is set to be a fixed value.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8510","RelatedDescription":"Closed issue \"Why textarea with a fixed value still change\" (#8510)"},{"Id":"342171655","IsPullRequest":true,"CreatedAt":"2018-07-18T04:22:49","Actor":"msrahman07","Number":"8509","RawContent":null,"Title":"Fix redundancy, structural error","State":"open","Body":"\"Vue.js is an MIT-licensed open source project. It's an independent project\" --> \"Vue.js is an MIT-licensed open source independent project\"\r\n\"made possible entirely thanks to the support by these\" --> \"made possible entirely by the support of these\"\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8509","RelatedDescription":"Open PR \"Fix redundancy, structural error\" (#8509)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"343277100","IsPullRequest":false,"CreatedAt":"2018-07-20T23:51:35","Actor":"liuyangjike","Number":"2307","RawContent":null,"Title":"When using the query to pass parameters, the parameters are deeply nested data, the first jump is no problem, but when manually refreshed, the nested layer data will become \"[object Object]\"","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/ovzyk4nl86](https://codesandbox.io/s/ovzyk4nl86)\r\n\r\n### Steps to reproduce\r\n1. Download the replay link item because it cannot be manually refreshed above\r\n2. install dependencies, start project\r\n3. click \"B\"\r\n4. Manual refresh\r\n\r\n### What is expected?\r\nManual refresh is not lost when query passes deep nested data\r\n\r\n### What is actually happening?\r\n the third step : display the data \"{ \"id\": \"ee\", \"obj\": { \"name\": \"jike\" } }\"<br/>\r\nthe fourth step: display the data  \"{ \"id\": \"ee\", \"obj\": \"[object Object]\" }\"<br/>\r\n\"obj\"  lose\r\n\r\n---\r\nI will encounter this problem when designing to some details page\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2307","RelatedDescription":"Open issue \"When using the query to pass parameters, the parameters are deeply nested data, the first jump is no problem, but when manually refreshed, the nested layer data will become \"[object Object]\"\" (#2307)"},{"Id":"342872629","IsPullRequest":false,"CreatedAt":"2018-07-19T20:23:57","Actor":"senyaak","Number":"2306","RawContent":null,"Title":"beforeRouteEnter next in callback ","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/senyaak/kommersant-board-game-web/tree/vue_issue](https://github.com/senyaak/kommersant-board-game-web/tree/vue_issue)\r\n\r\n### Steps to reproduce\r\ngit clone https://github.com/senyaak/kommersant-board-game-web.git\r\n\r\ncd kommersant-board-game-web\r\n\r\ngit checkout origin/vue_issue\r\n\r\nnpm i         # install dependencies\r\n\r\nnpm run watch # start local server\r\n\r\nin browser -> localhost:3000 -> Lobby -> Create Lobby \r\n\r\n### What is expected?\r\nNo errors in console\r\n\r\n### What is actually happening?\r\nWarning - [vue-router] missing param for named route \"Room\": Expected \"id\" to be \r\n\r\n---\r\nThis happend only if next called in callback - if call next in beforeroutereenter it works fine\r\nSomething happened when beforerouterenter return value - and router can't find params\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2306","RelatedDescription":"Closed issue \"beforeRouteEnter next in callback \" (#2306)"},{"Id":"342455570","IsPullRequest":false,"CreatedAt":"2018-07-19T11:57:01","Actor":"watchduck","Number":"2305","RawContent":null,"Title":"Router links sometimes lead to wrong pages or don't work","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[http://daggy1c.watchduck.net/nodes/9](http://daggy1c.watchduck.net/nodes/9)\r\n\r\n### Steps to reproduce\r\nStart on page 9, click parent 2, click parent 1. Link does not work.\r\n\r\nStart on page 10, click parent 1, click child 2. Link leads to 13 instead of 2.\r\n\r\n### What is expected?\r\nThat the links go to the correct pages.\r\n\r\n### What is actually happening?\r\nSometimes these links go to the wrong page or don't work.\r\n\r\n---\r\nA detailed description is on Stackoverflow: https://stackoverflow.com/questions/51332783\r\nFull version with console logging: http://daggy1.watchduck.net/nodes/9\r\nCode on GitHub: https://github.com/watchduck/daggy/tree/static-data/front/src\r\n\r\nWorks without tag=\"li\": \r\nhttp://daggy1a.watchduck.net/nodes/9\r\nhttps://github.com/watchduck/daggy/tree/simple-router-links/front/src\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2305","RelatedDescription":"Closed issue \"Router links sometimes lead to wrong pages or don't work\" (#2305)"},{"Id":"342143626","IsPullRequest":false,"CreatedAt":"2018-07-18T01:30:21","Actor":"PierBover","Number":"2304","RawContent":null,"Title":"Prevent Vue Router from accessing the history object when using hash mode","State":"open","Body":"### What problem does this feature solve?\r\nThe feature request is simple: Vue Router should not access `history` at all when it starts in hash mode.\r\n\r\n**But Why?**\r\n\r\nThe problem is that Chrome web apps (as in apps installed from the Chrome Web Store to Chrome OS devices) do not have access to the same browser API a regular web app has. In this particular case the problem is that the `history` object is not present.\r\n\r\nThis was not really a problem before, `history` was `undefined` and it didn't really matter. The current behavior is different. When an app tries to access the `history` object it completely crashes. A polyfill cannot be implemented either because of this.\r\n\r\nIt would seem the solution to this problem should be simply to stick to hash mode, but Vue Router still tries to access `history` even in hash mode. I imagine this is done to check whether the history API is present, but since hash mode is already specified, those checks are unnecessary.\r\n\r\nA couple of months ago I hacked my way through this by modifying Vue Router. If there is interest I could implement this feature myself.\r\n\r\nEven if this feature is not implemented the Vue team should at least be aware of this limitation.\r\n\r\n### What does the proposed API look like?\r\nNo changes in the API would be necessary.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2304","RelatedDescription":"Open issue \"Prevent Vue Router from accessing the history object when using hash mode\" (#2304)"},{"Id":"341890655","IsPullRequest":false,"CreatedAt":"2018-07-17T13:04:54","Actor":"shenjianzch","Number":"2303","RawContent":null,"Title":"Vue-router -Is there a function to clear the routes","State":"closed","Body":"### What problem does this feature solve?\r\nAdding a route has a router.addroutes method but I want to clear how the route I've registered should be successful.\r\n\r\n### What does the proposed API look like?\r\nrouter.clearAll()\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2303","RelatedDescription":"Closed issue \"Vue-router -Is there a function to clear the routes\" (#2303)"},{"Id":"341874994","IsPullRequest":false,"CreatedAt":"2018-07-17T11:29:39","Actor":"suau","Number":"2302","RawContent":null,"Title":"Allow custom route matching functions","State":"closed","Body":"### What problem does this feature solve?\r\nAllow less hierarchical and shorter urls for nested routes and general wide usecase flexibility.\r\n\r\nDue to limitations of simple pattern matching the example from https://router.vuejs.org/guide/essentials/nested-routes.html require hierarchical urls for nesting routes and router-views e.g. `user/:id/profile` and `user/:id/posts`, routes without a common parent-path can't be nested.\r\n\r\nExample: Let's say we want a tabbed overview page with different topics like this\r\n```\r\n---------------------------------\r\n|                               |\r\n| **DOGS**     CATS    UNICORNS | \r\n|                               |\r\n| LIST OF DOGS:                 |\r\n| 1) Woof                       |\r\n| 2) Woof woof                  |\r\n| 3) Woof woof woof             |\r\n|                               |\r\n---------------------------------\r\n```\r\nThe routes would look like this\r\n```\r\nroutes = [\r\n   {\r\n      path: '/pets',\r\n      component: PetsTabs,\r\n      children: [\r\n         {\r\n            path: 'dogs',\r\n            component: DogsList\r\n          },\r\n         {\r\n            path: 'cats',\r\n            component: CatsList\r\n          },\r\n         {\r\n            path: 'unicorns',\r\n            component: UnicornsList\r\n          }\r\n      ]\r\n   }\r\n]\r\n```\r\nThe pattern matching dictates hierarchical urls like above `/pets/dogs`, `/pets/cats`, `/pets/unicorns`.\r\nShorter urls like `/dogs`, `/cats`, `/unicorns` can't be achieved (while still keeping the overview page with the tabs).\r\nWith custom matcher (functions) that would be possible.\r\nThis is especially important when migrating from other frameworks, where the url structure can't be changed for SEO and other reasons.\r\n\r\n### What does the proposed API look like?\r\nFor the example above that could look like this:\r\n```\r\nroutes = [\r\n   {\r\n      matcher: (raw: RawLocation, current?: Route, redirectedFrom?: Location) => {\r\n         // I DON'T REALLY NOW HOW RAWLOCATION LOOKS LIKE, THIS IS JUST FOR DEMO PURPOSES\r\n         if (raw.path.startsWith('/dogs') || raw.path.startsWith('/cats') || raw.path.startsWith('/unicorns')) {\r\n            return current;\r\n         } else {\r\n            return null;\r\n         }\r\n      },\r\n      component: PetsTabs,\r\n      children: [\r\n         {\r\n            path: 'dogs',\r\n            component: DogsList\r\n          },\r\n         {\r\n            path: 'cats',\r\n            component: CatsList\r\n          },\r\n         {\r\n            path: 'unicorns',\r\n            component: UnicornsList\r\n          }\r\n      ]\r\n   }\r\n]\r\n```\r\nThis is similar to the how Angular handles it:\r\nhttps://angular.io/api/router/UrlMatcher\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2302","RelatedDescription":"Closed issue \"Allow custom route matching functions\" (#2302)"},{"Id":"341844958","IsPullRequest":false,"CreatedAt":"2018-07-17T09:47:26","Actor":"Terrijoo","Number":"2301","RawContent":null,"Title":"nested props are marked as missing when changing route and using keep-alive","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/Terrijoo/pntLxf20/](https://jsfiddle.net/Terrijoo/pntLxf20/)\r\n\r\n### Steps to reproduce\r\n1. open console\r\n2. click `/home`\r\n3. click `Info`\r\n4. click `/foo`\r\n5. look into console\r\n\r\n### What is expected?\r\nThe props still being \"there\" and no warning about the missing required prop.\r\n\r\n### What is actually happening?\r\nThe props are apparently removed/emptied and vue throws a warning.\r\n\r\n---\r\nIt's a combination of several circumstances:\r\n1. `router-view` needs to be wrapped by `keep-alive`\r\n2. props needs to be required on the component\r\n3. prop needs to be on the children, it does work on the parent:\r\n  - click `/home`\r\n  - click `/foo`\r\n  - no error/warning\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2301","RelatedDescription":"Open issue \"nested props are marked as missing when changing route and using keep-alive\" (#2301)"},{"Id":"341319252","IsPullRequest":false,"CreatedAt":"2018-07-15T14:07:29","Actor":"pradeepachan","Number":"2300","RawContent":null,"Title":"vue-router without router-link","State":"closed","Body":"### What problem does this feature solve?\r\nCan I use vue-router without using router-link tag? The use case is,  my HTML is created by designers, using standard components like A HREF=\"/my-router-link\" tag -  so that it is visible as regular HTML. Later,  I enable dynamic nature by attaching routing script by mapping /my-router-link to a custom function.  \r\n\r\nFor this purpose, I was forced to move to page.js (https://visionmedia.github.io/page.js/) - as a barebone router - just for the above functionality. But it will be ideal, if vue-router can support this natively, and I could switch back to vue-router. \r\n\r\n\r\n\r\n \r\n\r\n### What does the proposed API look like?\r\n<A HREF=\"/my-router-link\"> \r\n\r\nroute('/user/:id', user.load, user.show)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2300","RelatedDescription":"Closed issue \"vue-router without router-link\" (#2300)"},{"Id":"341217984","IsPullRequest":false,"CreatedAt":"2018-07-14T10:02:50","Actor":"see311","Number":"2299","RawContent":null,"Title":"希望router.addRoutes可以给已存在的路由下添加新路由，并且添加删除路由对象的功能","State":"closed","Body":"### What problem does this feature solve?\r\n可以为已经存在的路由对象下添加新路由，删除已经存在的路由对象\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nrouter.addRoutes(existingRoute,newRoutes)\r\nrouter.removeRoutes(existingRoutes)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2299","RelatedDescription":"Closed issue \"希望router.addRoutes可以给已存在的路由下添加新路由，并且添加删除路由对象的功能\" (#2299)"},{"Id":"341120508","IsPullRequest":true,"CreatedAt":"2018-07-13T19:37:51","Actor":"rayfoss","Number":"2298","RawContent":null,"Title":"Standardize kebab-case in route names by example","State":"closed","Body":"I have been mistakenly using PascalCase in all my projects, when clearly, kebab-case is becoming the standard in route names. An example where a distinction between camelCase, snake_case and kebab-case should be included.\r\n\r\nhttps://github.com/gothinkster/vue-realworld-example-app/blob/master/src/router/index.js","Url":"https://github.com/vuejs/vue-router/pull/2298","RelatedDescription":"Closed or merged PR \"Standardize kebab-case in route names by example\" (#2298)"},{"Id":"341064736","IsPullRequest":false,"CreatedAt":"2018-07-13T15:34:01","Actor":"alpeer","Number":"2297","RawContent":null,"Title":"Cannot pass data via push","State":"closed","Body":"Normally Vue-router can successfuly pass data with name params combination\r\n\r\n```javascript\r\nlet object = {data: 'someData'}\r\n\r\nthis.$router.push({\r\n   name:'PageName',\r\n   params: {object}\r\n})\r\n```\r\n\r\nBut when I use path, params is truncated. Is there a way that Vue-router can pass objects safely?\r\n\r\n```javascript\r\nlet object = {data: 'someData'}\r\n\r\nthis.$router.push({\r\n   path: 'page/name',\r\n   params: {object}\r\n})\r\n```\r\n","Url":"https://github.com/vuejs/vue-router/issues/2297","RelatedDescription":"Closed issue \"Cannot pass data via push\" (#2297)"},{"Id":"340786011","IsPullRequest":true,"CreatedAt":"2018-07-12T20:44:59","Actor":"ulivz","Number":"2296","RawContent":null,"Title":"docs: upgrade vuepress","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n- For: https://github.com/vuejs/vuepress/issues/645, \r\n- Preview: https://deploy-preview-2296--vue-router.netlify.com/","Url":"https://github.com/vuejs/vue-router/pull/2296","RelatedDescription":"Closed or merged PR \"docs: upgrade vuepress\" (#2296)"},{"Id":"340693511","IsPullRequest":true,"CreatedAt":"2018-07-12T15:41:40","Actor":"posva","Number":"2295","RawContent":null,"Title":"fix: workaround replaceState bug in Safari","State":"open","Body":"Fix #2195\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2295","RelatedDescription":"Open PR \"fix: workaround replaceState bug in Safari\" (#2295)"},{"Id":"340624240","IsPullRequest":false,"CreatedAt":"2018-07-12T12:51:18","Actor":"Alex-Sokolov","Number":"2294","RawContent":null,"Title":"[Docs] Headings in sidebar for API page displayed incorrectly","State":"closed","Body":"Headings with code blocks for `<router-link>` and `<router-view>` in sidebar displayed incorrectly for API page (https://router.vuejs.org/api/)\r\n\r\n<img width=\"297\" alt=\"2018-07-12 15 47 04\" src=\"https://user-images.githubusercontent.com/4497128/42634150-231a8168-85eb-11e8-80c0-e386c2924686.png\">\r\n","Url":"https://github.com/vuejs/vue-router/issues/2294","RelatedDescription":"Closed issue \"[Docs] Headings in sidebar for API page displayed incorrectly\" (#2294)"},{"Id":"340150188","IsPullRequest":true,"CreatedAt":"2018-07-11T08:58:56","Actor":"posva","Number":"2293","RawContent":null,"Title":"docs(redirect): fix redirect rules","State":"closed","Body":"Fix #2214, #2241\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2293","RelatedDescription":"Closed or merged PR \"docs(redirect): fix redirect rules\" (#2293)"},{"Id":"339781738","IsPullRequest":true,"CreatedAt":"2018-07-10T10:22:18","Actor":"posva","Number":"2292","RawContent":null,"Title":"feat(url): call afterEach hooks after url is ensured","State":"open","Body":"Closes #2079\r\n\r\nThis helps integrating with external scripts and makes more sense as the\r\nnavigation is finished.  However, onComplete callback passed to\r\n`router.push` is now called before `afterEach` hooks. This shouldn't be\r\na problem as there's no guarantee provided anywhere in the docs about\r\nthis\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2292","RelatedDescription":"Open PR \"feat(url): call afterEach hooks after url is ensured\" (#2292)"},{"Id":"339711056","IsPullRequest":false,"CreatedAt":"2018-07-10T07:56:44","Actor":"ccqgithub","Number":"2291","RawContent":null,"Title":"in-component guards not called correctly with key's router view","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/smxe4ht7/](http://jsfiddle.net/smxe4ht7/)\r\n\r\n### Steps to reproduce\r\njust look the demo:  http://jsfiddle.net/qajtru23/\r\n\r\n\r\n\r\n### What is expected?\r\nwhen the `router-view` has a new instance, it will have a new lifecycle, call (the component of the new router-view)'s  `beforeRouteEnter` guard .\r\n\r\n### What is actually happening?\r\n\r\nWhen the router change,  it will create a new `router-view` instance because the router-view has `key=\"$route.fullpath\"`.\r\n\r\nFor the new router-view instance, it is expected to call the  `new component`'s `beforeRouteEnter` guard, but it only call the old component's `beforeRouteUpdate`,  never call `new component`'s `beforeRouteEnter` ....\r\n\r\nand, i can't get the  new component instance of the new router view when the router change, so i can not update the new component's data!\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2291","RelatedDescription":"Closed issue \"in-component guards not called correctly with key's router view\" (#2291)"},{"Id":"339297340","IsPullRequest":false,"CreatedAt":"2018-07-09T06:51:04","Actor":"xiaozhongliu","Number":"2287","RawContent":null,"Title":"Not able to replace a router itself?","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Steps to reproduce\r\nchange the query of the current route, and then replace itself\r\n```javascript\r\n    const { name, query } = this.$route\r\n    delete query.code\r\n    this.$router.replace({ name, query })\r\n```\r\n\r\n### What is expected?\r\nsuccessfully replace a route itself\r\n\r\n### What is actually happening?\r\nnot replace a route itself\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2287","RelatedDescription":"Closed issue \"Not able to replace a router itself?\" (#2287)"},{"Id":"339317868","IsPullRequest":false,"CreatedAt":"2018-07-09T06:49:41","Actor":"zhangxing0716","Number":"2290","RawContent":null,"Title":"I did not see it clearly! Sorry to bother","State":"closed","Body":"","Url":"https://github.com/vuejs/vue-router/issues/2290","RelatedDescription":"Closed issue \"I did not see it clearly! Sorry to bother\" (#2290)"},{"Id":"339316409","IsPullRequest":false,"CreatedAt":"2018-07-09T06:10:13","Actor":"zhangxing0716","Number":"2289","RawContent":null,"Title":"vue-router中文API 参数描述错误","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n[-->](https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html)\r\nvue-router中文API文档   动态路由匹配    多段路径参数/ user /：username / post /：post_id => / user / evan / post / 123 => {username：'evan'，post_id：123}这里应该是职位，而不是POST_ID","Url":"https://github.com/vuejs/vue-router/issues/2289","RelatedDescription":"Closed issue \"vue-router中文API 参数描述错误\" (#2289)"},{"Id":"339315774","IsPullRequest":false,"CreatedAt":"2018-07-09T06:06:11","Actor":"zhangxing0716","Number":"2288","RawContent":null,"Title":"API描述错误","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n动态路由匹配   多段路径参数  /user/:username/post/:post_id  => /user/evan/post/123 =>{ username: 'evan', post_id: 123 }     这里应该是post，而不是post_id  ","Url":"https://github.com/vuejs/vue-router/issues/2288","RelatedDescription":"Closed issue \"API描述错误\" (#2288)"},{"Id":"339129958","IsPullRequest":true,"CreatedAt":"2018-07-07T08:52:49","Actor":"posva","Number":"2286","RawContent":null,"Title":"fix(normalizeLocation): create a copy with named locations","State":"open","Body":"Fix #2121\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2286","RelatedDescription":"Open PR \"fix(normalizeLocation): create a copy with named locations\" (#2286)"},{"Id":"338936870","IsPullRequest":true,"CreatedAt":"2018-07-06T13:57:39","Actor":"SunApriloy","Number":"2285","RawContent":null,"Title":"modify the link to Async-Components","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2285","RelatedDescription":"Closed or merged PR \"modify the link to Async-Components\" (#2285)"},{"Id":"338844018","IsPullRequest":false,"CreatedAt":"2018-07-06T08:47:23","Actor":"Nandiin","Number":"2284","RawContent":null,"Title":"Mute/Turn off <router-view> reactive rendering programatically","State":"closed","Body":"### What problem does this feature solve?\r\nSuppose an app like `Settings` app in iOS.\r\n\r\nWe navigate in a path like this: \r\nSettings -> General -> About This Phone\r\n\r\nThen we can navigate in a reversed path by clicking 'back' button on the top left corner.\r\n\r\nThis \"happy path\" is easy to implement. But as a nature of web app, user may directly visit any \"deep route\" via a \"deep url\" and the \"back\" button loses its power to navigate through the reverse path:\r\n\r\n1. User visits `https://app.example.com/settings/general/about`\r\n2. User clicks back\r\n3. App exits \r\n*Instead, we want the app to navigate to `/settings/general`*\r\n\r\nI have managed to automatically inject the `/settings`, `/settings/general` routes when user directly visits `/settings/general/about`. The problem is these two pages and transitions associated to them show up in this process. \r\n\r\nI need the routing life cycles of auto injected routes, i.e. `/settings`, `/settings/general`,  to be complete to make the later `back` operation possible, but a complete routing life cycle causes the corresponding component to be rendered thus the problem occurred.\r\n\r\nIf I can mute/turn off the `<router-view>`'s rendering before the automatic injection starts and then turn it on later when the injection ends the problem would be hopefully solved.\r\n\r\n### What does the proposed API look like?\r\n```\r\nrouter.mute()\r\nrouter.unmute()\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2284","RelatedDescription":"Closed issue \"Mute/Turn off <router-view> reactive rendering programatically\" (#2284)"},{"Id":"338783483","IsPullRequest":false,"CreatedAt":"2018-07-06T07:56:08","Actor":"fly2017313","Number":"2282","RawContent":null,"Title":"vue-router 3.0.1单页面跳转，在某些手机快速切换路由的情况下，会出现获取不到url参数的bug ","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://testapi-c.wifi.com/d/changsha](https://testapi-c.wifi.com/d/changsha)\r\n\r\n\r\n### Steps to reproduce\r\n我们使用的是编程式导航this.$router.push\r\n\r\n我们尝试2种获取参数都有失败的可能\r\n1、原生直接获取location.href\r\n2、用vue提供的方式获取 ，例如：this.$route.params.recruitId\r\n都出现了获取不到参数的问题。\r\n我们不得不改成多页面跳转。\r\n\r\n\r\n### What is expected?\r\n在单页面跳转时，进入组件内部，都应该立即获取到url参数\r\n\r\n### What is actually happening?\r\n在某些手机上快速切换路由\r\n\r\n---\r\n根据我们报警信息抓取出用户的userAgent如下：\r\n\r\nMozilla/5.0 (Linux; Android 5.1.1; OPPO A33 Build/LMY47V; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/42.0.2311.138 Mobile Safari/537.36 wkbrowser 4.2.91 \r\nMozilla/5.0 (Linux; Android 6.0; M5 Note Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/44.0.2403.146 Mobile Safari/537.36 wkbrowser 4.2.56 \r\nMozilla/5.0 (Linux; Android 5.0.2; vivo Y37A Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/37.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.90 \r\nMozilla/5.0 (Linux; Android 4.4.4; vivo X5V Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.88\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2282","RelatedDescription":"Closed issue \"vue-router 3.0.1单页面跳转，在某些手机快速切换路由的情况下，会出现获取不到url参数的bug \" (#2282)"},{"Id":"338782151","IsPullRequest":false,"CreatedAt":"2018-07-06T05:53:59","Actor":"fly2017313","Number":"2281","RawContent":null,"Title":"在某些手机快速操作切换的情况下，会出现获取不到url参数的bug","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://testapi-c.wifi.com/d/changsha](https://testapi-c.wifi.com/d/changsha)\r\n\r\n### Steps to reproduce\r\n我们尝试2种获取参数都有失败的可能\r\n1、原生直接获取location.href\r\n2、用vue提供的方式获取 ，例如：this.$route.params.recruitId\r\n都出现了获取不到参数的问题。\r\n我们不得不改成多页面跳转。\r\n\r\n\r\n### What is expected?\r\n在单页面跳转时，进入组件内部，都应该立即获取到url参数\r\n\r\n### What is actually happening?\r\n在某些手机上快速切换路由\r\n\r\n---\r\n根据我们报警信息抓取出用户的userAgent如下：\r\n\r\nMozilla/5.0 (Linux; Android 5.1.1; OPPO A33 Build/LMY47V; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/42.0.2311.138 Mobile Safari/537.36 wkbrowser 4.2.91 \r\nMozilla/5.0 (Linux; Android 6.0; M5 Note Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/44.0.2403.146 Mobile Safari/537.36 wkbrowser 4.2.56 \r\nMozilla/5.0 (Linux; Android 5.0.2; vivo Y37A Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/37.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.90 \r\nMozilla/5.0 (Linux; Android 4.4.4; vivo X5V Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.88\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2281","RelatedDescription":"Closed issue \"在某些手机快速操作切换的情况下，会出现获取不到url参数的bug\" (#2281)"},{"Id":"338784212","IsPullRequest":false,"CreatedAt":"2018-07-06T05:53:41","Actor":"fly2017313","Number":"2283","RawContent":null,"Title":"vue-router 3.0.1单页面跳转，在某些手机快速切换路由的情况下，会出现获取不到url参数的bug","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://testapi-c.wifi.com/d/changsha](https://testapi-c.wifi.com/d/changsha)\r\n\r\n\r\n### Steps to reproduce\r\n我们使用的是编程式导航this.$router.push\r\n\r\n我们尝试2种获取参数都有失败的可能\r\n1、原生直接获取location.href\r\n2、用vue提供的方式获取 ，例如：this.$route.params.recruitId\r\n都出现了获取不到参数的问题。\r\n我们不得不改成多页面跳转。\r\n\r\n\r\n### What is expected?\r\n在单页面跳转时，进入组件内部，都应该立即获取到url参数\r\n\r\n### What is actually happening?\r\n在某些手机上快速切换路由\r\n\r\n---\r\n根据我们报警信息抓取出用户的userAgent如下：\r\n\r\nMozilla/5.0 (Linux; Android 5.1.1; OPPO A33 Build/LMY47V; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/42.0.2311.138 Mobile Safari/537.36 wkbrowser 4.2.91 \r\nMozilla/5.0 (Linux; Android 6.0; M5 Note Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/44.0.2403.146 Mobile Safari/537.36 wkbrowser 4.2.56 \r\nMozilla/5.0 (Linux; Android 5.0.2; vivo Y37A Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/37.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.90 \r\nMozilla/5.0 (Linux; Android 4.4.4; vivo X5V Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Mobile Safari/537.36 wkbrowser 4.2.88\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2283","RelatedDescription":"Closed issue \"vue-router 3.0.1单页面跳转，在某些手机快速切换路由的情况下，会出现获取不到url参数的bug\" (#2283)"},{"Id":"338662851","IsPullRequest":false,"CreatedAt":"2018-07-05T18:00:22","Actor":"hiroshifariassaito","Number":"2280","RawContent":null,"Title":"router.addRoutes not updating routes list","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/anon/pen/gKNYwO?editors=1010](https://codepen.io/anon/pen/gKNYwO?editors=1010)\r\n\r\n### Steps to reproduce\r\nimport AnyComponent from './Somewhere';\r\n\r\nconst router = new VueRouter({ \r\n  routes: [], \r\n  mode: 'history'\r\n});\r\n\r\nnew Vue({ router });\r\n\r\nrouter.addRoutes([{ path:'/example', name: 'example', component: AnyComponent }]);\r\n\r\n### What is expected?\r\nconsole.log(router.options.routes); // [{ path:'/example', name: 'example', component: AnyComponent }]\r\n\r\n### What is actually happening?\r\nconsole.log(router.options.routes); // []\r\n\r\n---\r\nShouldn't update router.options.routes when using router.addRoutes?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2280","RelatedDescription":"Closed issue \"router.addRoutes not updating routes list\" (#2280)"},{"Id":"338438415","IsPullRequest":true,"CreatedAt":"2018-07-05T09:04:01","Actor":"banxi1988","Number":"2279","RawContent":null,"Title":"refactor: do not modify array while loop","State":"closed","Body":"modify array while loop seems harder to understand.\r\nwe can use two filter and two push to implement this small part of function.","Url":"https://github.com/vuejs/vue-router/pull/2279","RelatedDescription":"Closed or merged PR \"refactor: do not modify array while loop\" (#2279)"},{"Id":"338434382","IsPullRequest":true,"CreatedAt":"2018-07-05T05:47:43","Actor":"samgre","Number":"2278","RawContent":null,"Title":"router-link exact path matching (#fix 2040)","State":"open","Body":"There have been at least two requests (#2040 and #2193) for adding ability to match only the path in a router-link.\r\n\r\nA use case is highlighted in the issue #2040. Sometimes you want to highlight a router-link regardless of the query string parameters. This happens e.g. with paginated listing pages, where the desired page number is often supplied as a query string parameter.\r\n\r\nThis pull requests implements the requested feature.","Url":"https://github.com/vuejs/vue-router/pull/2278","RelatedDescription":"Open PR \"router-link exact path matching (#fix 2040)\" (#2278)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"336844595","IsPullRequest":false,"CreatedAt":"2018-07-20T06:08:19","Actor":"owey0312","Number":"1325","RawContent":null,"Title":"variable of state changed for 3 times, but the getters use it only triggered for once when app init.","State":"closed","Body":"### Version\r\n2.5.0\r\n\r\n### Reproduction link\r\n[http://www.baidu.com](http://www.baidu.com)\r\n\r\n### Steps to reproduce\r\n1、start app;  we can see shoppedGoodsList getter triggered once.\r\n2、see shopping cart page: empty now;\r\n3、add 2 goods to cart, commit has changed state variable goodsInfo as we can see it from console;\r\n       but at this time, we can not see  shoppedGoodsList getter triggered any more;\r\n4、see shopping cart page: empty as before;\r\n\r\n### What is expected?\r\ngetter triggered for 3 times\r\n\r\n### What is actually happening?\r\ngetter triggered for 1 times at app startup.\r\n\r\n---\r\n/********store info as below******************/\r\nconst state = {\r\n   goodsInfo: {}\r\n};\r\n\r\nconst getters = {\r\n    shoppedGoodsInfo(state){\r\n        return state.goodsInfo;\r\n    },\r\n    shoppedGoodsList(state){\r\n        let info = UTILS.object.map(state.goodsInfo, (k, v)=>{\r\n            let rs = {\r\n                id: k,\r\n                name: v.info.prodName,\r\n                price: v.info.price,\r\n                media: v.info.thumbnailList[0],\r\n                feature: v.info.feature,\r\n                count: v.count,\r\n                maxCount: v.info.limit\r\n            };\r\n            return rs;\r\n        });\r\n        console.log('triggered', info);\r\n        return info;\r\n    }\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n}\r\n\r\n/******vue info as below************/\r\ncomputed: {\r\n        ...mapGetters('shoppingCart', ['shoppedGoodsList']),\r\n    }\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1325","RelatedDescription":"Closed issue \"variable of state changed for 3 times, but the getters use it only triggered for once when app init.\" (#1325)"},{"Id":"336148815","IsPullRequest":true,"CreatedAt":"2018-07-18T15:11:07","Actor":"sue71","Number":"1322","RawContent":null,"Title":"feat: add type annotation for the context of actions and mutations","State":"closed","Body":"The handlers for actions and mutations are bound to the store, but there is no type annotation for this behavior. \r\n\r\nThis PR will enable us to use `this` as Store in the handlers.","Url":"https://github.com/vuejs/vuex/pull/1322","RelatedDescription":"Closed or merged PR \"feat: add type annotation for the context of actions and mutations\" (#1322)"},{"Id":"342121944","IsPullRequest":false,"CreatedAt":"2018-07-17T23:42:05","Actor":"atilkan","Number":"1350","RawContent":null,"Title":"Swapping array indexes does not trigger update","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/p5zq2w8x7q](https://codesandbox.io/s/p5zq2w8x7q)\r\n\r\n### Steps to reproduce\r\nExample with steps.\r\n\r\n### What is expected?\r\nComputed property to be updated.\r\n\r\n### What is actually happening?\r\nnot updating computed prop.\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1350","RelatedDescription":"Closed issue \"Swapping array indexes does not trigger update\" (#1350)"},{"Id":"341645933","IsPullRequest":false,"CreatedAt":"2018-07-17T16:04:21","Actor":"GopherJ","Number":"1348","RawContent":null,"Title":"Getter with payload","State":"closed","Body":"### What problem does this feature solve?\r\nI think there are already many issues for this, I just want to say this feature is very very very important, I know that perhaps we can use a mutation to do the same work just with a `return`. But mutation is for change the state, if I use it like this, I will be doing something too strange that I don't want really want to do.\r\n\r\nI hope really Vuex getters can have a payload.\r\n\r\nLast question, I think there maybe also a design problem with the name getter. In fact, if a getter return directlly the state, then we can change the state use this getter. It's strange because it's just a getter not getter&&setter.\r\n\r\nI hope really someone can fix the two problems, for a long time I think I can work with these problems exist.....it's not true now......\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n1. getter can have a payload\r\n2. getter cant change directly the state\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1348","RelatedDescription":"Closed issue \"Getter with payload\" (#1348)"},{"Id":"341954583","IsPullRequest":false,"CreatedAt":"2018-07-17T14:51:15","Actor":"tecoholic","Number":"1349","RawContent":null,"Title":"[Request] Add Unit tests for the shopping cart example vuex functions","State":"closed","Body":"I know I am deviating from the issue guidelines. I just have a simple request. Kindly add the unittest for the shopping cart example. I am structuring my project in a similar way using callbacks for api, and it is proving untestable which actions call which mutations.\r\n","Url":"https://github.com/vuejs/vuex/issues/1349","RelatedDescription":"Closed issue \"[Request] Add Unit tests for the shopping cart example vuex functions\" (#1349)"},{"Id":"341528435","IsPullRequest":false,"CreatedAt":"2018-07-16T14:12:42","Actor":"GuilhemBarboux","Number":"1347","RawContent":null,"Title":"State changing on getters method-style","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/50wL7mdz/493598/](https://jsfiddle.net/50wL7mdz/493598/)\r\n\r\n### Steps to reproduce\r\n- Declare an array state item\r\n- Create a getter method-style\r\n- Use 'state.array.reverse()'\r\n- Changing state for all application\r\n\r\nexport default {\r\n  state: {\r\n    sections,\r\n    currentSectionIndex: -1\r\n  },\r\n\r\n  getters: {\r\n    getAvailableSection: (state) => (id) => {\r\n      const section = state.sections.find(s => s.id === id)\r\n      if (section instanceof Section) return section\r\n      else state.sections.reverse().find(s => s.isAvailable())\r\n    },\r\n}\r\n\r\n### What is expected?\r\nDoesn't changing store state\r\n\r\n### What is actually happening?\r\nChanging store state\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1347","RelatedDescription":"Closed issue \"State changing on getters method-style\" (#1347)"},{"Id":"336006104","IsPullRequest":true,"CreatedAt":"2018-07-14T15:22:44","Actor":"Titiaiev","Number":"1321","RawContent":null,"Title":"fixed bugs in links to guide","State":"closed","Body":"now the Russian documentation does not work links \"more\",\r\nfor example this link  -  https://vuex.vuejs.org/ru/api/mutations.html\r\n\r\nI fixed it\r\n","Url":"https://github.com/vuejs/vuex/pull/1321","RelatedDescription":"Closed or merged PR \"fixed bugs in links to guide\" (#1321)"},{"Id":"338305076","IsPullRequest":true,"CreatedAt":"2018-07-14T15:19:24","Actor":"Rackar","Number":"1334","RawContent":null,"Title":"zh-cn document change to the right url link.","State":"closed","Body":"zh-cn document change to the right url link.","Url":"https://github.com/vuejs/vuex/pull/1334","RelatedDescription":"Closed or merged PR \"zh-cn document change to the right url link.\" (#1334)"},{"Id":"340215442","IsPullRequest":true,"CreatedAt":"2018-07-14T15:18:05","Actor":"Alex-Sokolov","Number":"1340","RawContent":null,"Title":"[RU] Translation fix","State":"closed","Body":"Fixed example & links","Url":"https://github.com/vuejs/vuex/pull/1340","RelatedDescription":"Closed or merged PR \"[RU] Translation fix\" (#1340)"},{"Id":"341212142","IsPullRequest":true,"CreatedAt":"2018-07-14T15:17:44","Actor":"Alex-Sokolov","Number":"1345","RawContent":null,"Title":"docs: Delete core-concepts.md","State":"closed","Body":"Seems like this file not used anywhere","Url":"https://github.com/vuejs/vuex/pull/1345","RelatedDescription":"Closed or merged PR \"docs: Delete core-concepts.md\" (#1345)"},{"Id":"341195729","IsPullRequest":true,"CreatedAt":"2018-07-14T15:17:19","Actor":"d4rkb1ue","Number":"1344","RawContent":null,"Title":"doc: fix link in README.md","State":"closed","Body":"Fix global event bus link","Url":"https://github.com/vuejs/vuex/pull/1344","RelatedDescription":"Closed or merged PR \"doc: fix link in README.md\" (#1344)"},{"Id":"341218901","IsPullRequest":true,"CreatedAt":"2018-07-14T11:54:52","Actor":"dz45693","Number":"1346","RawContent":null,"Title":"Master","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1346","RelatedDescription":"Closed or merged PR \"Master\" (#1346)"},{"Id":"340949719","IsPullRequest":false,"CreatedAt":"2018-07-13T09:36:19","Actor":"phanithken","Number":"1343","RawContent":null,"Title":"Cannot update state in mutations with with RxJS subscribe","State":"closed","Body":"I have two functions in my **mutations** and two **state**\r\n```\r\nconst state = {\r\n  files: [],\r\n  uploadProgress: 0\r\n}\r\n\r\nconst mutations = {\r\n\r\n  SET_UPLOAD_IMAGE: (state, files) => {\r\n    state.files = files\r\n  },\r\n\r\n  UPLOAD_IMAGE: (state) => {\r\n    StandbyService.uploadImage(state.files).subscribe(progress => {\r\n      state.uploadProgress += progress\r\n      console.log(`Upload Progress ${progress}%`)\r\n    })\r\n  }\r\n\r\n}\r\n```\r\n**SET_UPLOAD_IMAGE** is used to set the **files** state and **UPLOAD_IMAGE** is used to trigger uploading the image to the server. The upload process run and return the upload progress. My `uploadImage()` return an Observable and I want to update the **uploadProgress** state whenever the progress is received, but I can't do such that. It keep on giving error in the console as shown in the picture below:\r\n\r\n<img width=\"945\" alt=\"screenshot\" src=\"https://user-images.githubusercontent.com/33407061/42684551-5f8797a4-86cb-11e8-946c-b8937568bd29.png\">\r\n\r\nI don't know what to do with this error. I already spent more than 4 hours with this.\r\nI really appreciate for helps and suggestions. Thank you very much.","Url":"https://github.com/vuejs/vuex/issues/1343","RelatedDescription":"Closed issue \"Cannot update state in mutations with with RxJS subscribe\" (#1343)"},{"Id":"340473552","IsPullRequest":false,"CreatedAt":"2018-07-12T03:24:43","Actor":"chiaweilee","Number":"1342","RawContent":null,"Title":"Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/issues/1341](https://github.com/vuejs/vuex/issues/1341)\r\n\r\n### Steps to reproduce\r\nvar store = new Store()\r\nstore._vm.$router // undefined\r\nstore._vm.$route // undefined\r\n\r\n### What is expected?\r\ngot $router and $route\r\n\r\n### What is actually happening?\r\nstore._vm.$router // undefined\r\nstore._vm.$route // undefined\r\n\r\n$route:[Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)]\r\n$router:[Exception: TypeError: Cannot read property '_router' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:553:52) at Vue.remoteFunction (<anonymous>:2:14)]\r\n\r\nvue.esm.js?3153:591 [Vue warn]: Error in callback for watcher \"function () { return getter(this$1.state, this$1.getters); }\": \"TypeError: Cannot read property '_router' of undefined\"\r\n\r\n---\r\nVue 2.5.16\r\nvuex 3.0.1\r\nvue-router 3.0.1\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1342","RelatedDescription":"Closed issue \"Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)\" (#1342)"},{"Id":"340473519","IsPullRequest":false,"CreatedAt":"2018-07-12T03:08:16","Actor":"chiaweilee","Number":"1341","RawContent":null,"Title":"Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)","State":"closed","Body":"```vuejs\r\nvar store = new Store()\r\nstore._vm.$router // undefined\r\nstore._vm.$route // undefined\r\n```\r\n\r\n$route:[Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)]\r\n$router:[Exception: TypeError: Cannot read property '_router' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:553:52) at Vue.remoteFunction (<anonymous>:2:14)]\r\n\r\nvue.esm.js?3153:591 [Vue warn]: Error in callback for watcher \"function () { return getter(this$1.state, this$1.getters); }\": \"TypeError: Cannot read property '_router' of undefined\"\r\n\r\nVue 2.5.16\r\nvuex 3.0.1\r\nvue-router 3.0.1","Url":"https://github.com/vuejs/vuex/issues/1341","RelatedDescription":"Closed issue \"Exception: TypeError: Cannot read property '_route' of undefined at Vue.get (webpack-internal:///./node_modules/_vue-router@3.0.1@vue-router/dist/vue-router.esm.js:557:52) at Vue.remoteFunction (<anonymous>:2:14)\" (#1341)"},{"Id":"339955218","IsPullRequest":false,"CreatedAt":"2018-07-10T18:20:16","Actor":"jtktam","Number":"1339","RawContent":null,"Title":"typescript vuex component class style example?","State":"closed","Body":"I am trying to stick with class component (vue-class-component) style of coding and I am having a hard time finding working examples, and even if I use normal typescript the examples are far and in between\r\n\r\nis there plans to work on a full example? thanks","Url":"https://github.com/vuejs/vuex/issues/1339","RelatedDescription":"Closed issue \"typescript vuex component class style example?\" (#1339)"},{"Id":"339395271","IsPullRequest":false,"CreatedAt":"2018-07-09T10:36:43","Actor":"BenoitZugmeyer","Number":"1338","RawContent":null,"Title":"High CPU usage in strict mode with a large state","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsbin.com/xetolobaba/edit?html,output](https://jsbin.com/xetolobaba/edit?html,output)\r\n\r\n### Steps to reproduce\r\n* Have a Vuex store with a large state (ex: thousands of reactive values)\r\n* Activate strict mode\r\n* Trigger any store mutation\r\n\r\n### What is expected?\r\nThe mutation should complete in a few ms, like in non-strict mode.\r\n\r\n### What is actually happening?\r\nThe mutation can take a very long time. It seems that vuex is iterating over the whole store at each `commit`.\r\n\r\n---\r\nEach store `commit` is really costly, even if they are all done at once (synchronously).\r\n\r\nThis is reproductible in any browser. For example, the example shows ~= 150ms in Chrome and ~= 250ms in Firefox.\r\nThis is reproductible in previous Vuex versions as well (2.3).\r\n\r\nRelated issues: https://github.com/vuejs/vuex/issues/1139 https://github.com/vuejs/vuex/issues/659\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1338","RelatedDescription":"Open issue \"High CPU usage in strict mode with a large state\" (#1338)"},{"Id":"339217251","IsPullRequest":false,"CreatedAt":"2018-07-08T11:10:35","Actor":"eeerrrttty","Number":"1337","RawContent":null,"Title":"Mounted: function () {} not triggering action on store","State":"closed","Body":"client side:\r\n\r\n\r\n```\r\n  mounted: function () {\r\n    this.$nextTick(function () {\r\n      console.log(this.id)\r\n      this.$store.dispatch('carregarNoticia', {id: this.id})\r\n      // Code that will run only after the\r\n      // entire view has been rendered\r\n    })\r\n  }\r\n```\r\n\r\nstore:\r\n\r\n```\r\n    carregarNoticia ({commit}, payload) {\r\n      console.log(payload)\r\n}\r\n```\r\nconsole.log(this.id) shows correctly my id loaded after router, but not sending this to store.","Url":"https://github.com/vuejs/vuex/issues/1337","RelatedDescription":"Closed issue \"Mounted: function () {} not triggering action on store\" (#1337)"},{"Id":"339134531","IsPullRequest":false,"CreatedAt":"2018-07-07T10:51:50","Actor":"mesqueeb","Number":"1336","RawContent":null,"Title":"Retrieve all modules through `_modulesNamespaceMap` in plugin","State":"closed","Body":"### What problem does this feature solve?\r\nI'm writing a vuex plugin that adds one module on top of each existing module.\r\nI tried accessing the modules in my plugin function through store._modulesNamespaceMap however, at the time the plugin triggers this seems to be still empty.\r\n\r\nNow I have to manually look through the store's store._modules to find all modules. I came here to hope that anyone knows a better way of retrieving all modules?\r\n\r\nBest regards,\r\n\r\n### What does the proposed API look like?\r\naccess `store._modulesNamespaceMap` in plugin.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1336","RelatedDescription":"Closed issue \"Retrieve all modules through `_modulesNamespaceMap` in plugin\" (#1336)"},{"Id":"339134349","IsPullRequest":false,"CreatedAt":"2018-07-07T10:07:36","Actor":"mesqueeb","Number":"1335","RawContent":null,"Title":"Retrieve all modules through `_modulesNamespaceMap` in plugin","State":"closed","Body":"I'm writing a vuex plugin that adds one module on top of each existing module.\r\nI tried accessing the modules in my plugin function through `store._modulesNamespaceMap` however, at the time the plugin triggers this seems to be still empty.\r\n\r\nNow I have to manually look through the store's `store._modules` to find all modules. I came here to hope that anyone knows a better way of retrieving all modules?\r\n\r\nBest regards,","Url":"https://github.com/vuejs/vuex/issues/1335","RelatedDescription":"Closed issue \"Retrieve all modules through `_modulesNamespaceMap` in plugin\" (#1335)"},{"Id":"338278718","IsPullRequest":true,"CreatedAt":"2018-07-04T14:22:17","Actor":"amorist","Number":"1333","RawContent":null,"Title":"fixed markdown syntax","State":"closed","Body":"![56 dpwqim5j07m _u_6 m5](https://user-images.githubusercontent.com/14037268/42279965-f64fd8dc-7fd1-11e8-8aa4-b0b5ee6f1bbe.png)\r\n","Url":"https://github.com/vuejs/vuex/pull/1333","RelatedDescription":"Closed or merged PR \"fixed markdown syntax\" (#1333)"},{"Id":"337858532","IsPullRequest":true,"CreatedAt":"2018-07-03T11:31:18","Actor":"miyako-ep","Number":"1332","RawContent":null,"Title":"docs-ja: to be strong","State":"closed","Body":"sorry, one more thing.  @ktsn","Url":"https://github.com/vuejs/vuex/pull/1332","RelatedDescription":"Closed or merged PR \"docs-ja: to be strong\" (#1332)"},{"Id":"337558749","IsPullRequest":true,"CreatedAt":"2018-07-02T15:23:51","Actor":"miyako-ep","Number":"1331","RawContent":null,"Title":"docs-ja: to be strong","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1331","RelatedDescription":"Closed or merged PR \"docs-ja: to be strong\" (#1331)"},{"Id":"337417212","IsPullRequest":false,"CreatedAt":"2018-07-02T14:00:25","Actor":"Prior99","Number":"1330","RawContent":null,"Title":"TypeError: Cannot read property '_modulesNamespaceMap' of undefined","State":"closed","Body":"### Versions\r\n\r\n * vuex: 3.0.1\r\n * vue-test-utils: 1.0.0-beta.18\r\n * vue-jest: 2.6.0\r\n * vue-template-compiler: 2.5.16\r\n * vue: 2.5.16\r\n * jest: 23.2.0\r\n\r\n### Reproduction link\r\n[https://github.com/Prior99/vuex-crash-reproduce](https://github.com/Prior99/vuex-crash-reproduce)\r\n\r\n### Steps to reproduce\r\n1. Clone reproduction repository\r\n2. Install dependencies using `yarn`\r\n3. Run the unit tests using `yarn test`\r\n\r\n### What is expected?\r\nThe unit tests should pass.\r\n\r\n### What is actually happening?\r\nThe unit tests fail with:\r\n\r\n```\r\n    TypeError: Cannot read property '_modulesNamespaceMap' of undefined\r\n        at getModuleByNamespace (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vuex/dist/vuex.common.js:914:22)\r\n        at VueComponent.mappedGetter (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vuex/dist/vuex.common.js:847:25)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at Watcher.evaluate (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3247:21)\r\n        at Proxy.computedGetter (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3505:17)\r\n        at Proxy.render (/home/prior/repositories/kn/jest-vue-reproduce/src/some-component.vue:726:50)\r\n        at VueComponent.Vue._render (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4542:22)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:21)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at init (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4135:13)\r\n        at createComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5606:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5553:9)\r\n        at createChildren (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5680:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5582:9)\r\n        at VueComponent.patch [as __patch__] (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:6089:7)\r\n        at VueComponent.Vue._update (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2658:19)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:10)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at init (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4135:13)\r\n        at createComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5606:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5553:9)\r\n        at VueComponent.patch [as __patch__] (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:6089:7)\r\n        at VueComponent.Vue._update (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2658:19)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:10)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at Object.mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/@vue/test-utils/dist/vue-test-utils.js:5940:21)\r\n        at Object.<anonymous> (/home/prior/repositories/kn/jest-vue-reproduce/src/__tests__/test-something.ts:19:21)\r\n        at Object.asyncFn (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/jasmine_async.js:108:37)\r\n        at resolve (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:56:12)\r\n        at new Promise (<anonymous>)\r\n        at mapper (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:43:19)\r\n        at promise.then (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:87:41)\r\n        at <anonymous>\r\n        at process._tickCallback (internal/process/next_tick.js:188:7)\r\n```\r\n\r\nWhen changing the store module not to use namespaces by removing the\r\n\r\n```\r\n                namespaced: true,\r\n```\r\n\r\nin both `src/__tests__/test-something.ts` and `src/store.ts` and changing the line\r\n\r\n```\r\n        ...mapGetters(\"myModule\", [\"getContent\"]),\r\n```\r\n\r\nto \r\n\r\n```\r\n        ...mapGetters([\"getContent\"]),\r\n```\r\n\r\nin `src/some-component.vue` the error changes to:\r\n\r\n```\r\n    TypeError: Cannot read property 'getters' of undefined\r\n        at VueComponent.mappedGetter (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vuex/dist/vuex.common.js:850:73)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at Watcher.evaluate (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3247:21)\r\n        at Proxy.computedGetter (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3505:17)\r\n        at Proxy.render (/home/prior/repositories/kn/jest-vue-reproduce/src/some-component.vue:726:50)\r\n        at VueComponent.Vue._render (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4542:22)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:21)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at init (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4135:13)\r\n        at createComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5606:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5553:9)\r\n        at createChildren (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5680:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5582:9)\r\n        at VueComponent.patch [as __patch__] (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:6089:7)\r\n        at VueComponent.Vue._update (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2658:19)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:10)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at init (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:4135:13)\r\n        at createComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5606:9)\r\n        at createElm (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:5553:9)\r\n        at VueComponent.patch [as __patch__] (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:6089:7)\r\n        at VueComponent.Vue._update (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2658:19)\r\n        at VueComponent.updateComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2786:10)\r\n        at Watcher.get (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3140:25)\r\n        at new Watcher (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:3129:12)\r\n        at mountComponent (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:2793:3)\r\n        at VueComponent.Object.<anonymous>.Vue.$mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/vue/dist/vue.runtime.common.js:7997:10)\r\n        at Object.mount (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/@vue/test-utils/dist/vue-test-utils.js:5940:21)\r\n        at Object.<anonymous> (/home/prior/repositories/kn/jest-vue-reproduce/src/__tests__/test-something.ts:19:21)\r\n        at Object.asyncFn (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/jasmine_async.js:108:37)\r\n        at resolve (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:56:12)\r\n        at new Promise (<anonymous>)\r\n        at mapper (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:43:19)\r\n        at promise.then (/home/prior/repositories/kn/jest-vue-reproduce/node_modules/jest-jasmine2/build/queue_runner.js:87:41)\r\n        at <anonymous>\r\n        at process._tickCallback (internal/process/next_tick.js:188:7)\r\n```\r\n\r\nPlease note that the unit test is not failing with these errors. They are logged from inside `vue.runtime.common.js`.\r\nThe actual error with which the unit tests fail is:\r\n\r\n```\r\n    TypeError: Cannot read property 'getters' of undefined\r\n\r\n      at VueComponent.mappedGetter (node_modules/vuex/dist/vuex.common.js:850:73)\r\n      at Proxy.render (src/some-component.vue:726:50)\r\n      at Object.<anonymous> (src/__tests__/test-something.ts:19:21)\r\n```\r\n\r\n---\r\n### Hints\r\n\r\n * When removing `Vue.extend` in `src/some-component.vue` the failing test passes.\r\n * The error only occurs when the `SomeComponent` component is used inside a parent component, hence the test in `src/__tests__/test-some-component.ts` test is passing.\r\n * This also happens with version `2.x.x` of vuex and older versions of jest and vue.\r\n * This issue also happens when not using local vue.\r\n\r\nThis issue **might** be related to other issues across the web:\r\n\r\n * [Cannot read property 'getters' of undefined](https://github.com/vuejs/vue-test-utils/issues/363)\r\n * [Throws \"Cannot read property 'getters' of undefined\" using vuex's dynamic modules](https://github.com/vuejs/vuex-router-sync/issues/46)\r\n * [@vue/test-utils 1.0.0-beta.18 broke unit tests](https://github.com/vuejs/vue-test-utils/issues/699)\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1330","RelatedDescription":"Closed issue \"TypeError: Cannot read property '_modulesNamespaceMap' of undefined\" (#1330)"},{"Id":"337411569","IsPullRequest":false,"CreatedAt":"2018-07-02T08:52:25","Actor":"tomers","Number":"1329","RawContent":null,"Title":"Warn when mapGetters et. al. are used in the wrong property","State":"closed","Body":"### What problem does this feature solve?\r\nI've spend couple of hours debugging an issue which caused by me mistakenly writing _mapGetters_ under _computed_ instead of under _methods_.\r\nIt would be so much helpful that the _Vuex_ code could notify the user if one of the following happens:\r\n\r\n- _mapState_ is not under _computed_ property\r\n- _mapGetters_ is not under _methods_ property\r\n- _mapActions_ is not under _methods_ property\r\n- _mapMutations_ is not under _methods_ property\r\n\r\n### What does the proposed API look like?\r\nn/a\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1329","RelatedDescription":"Closed issue \"Warn when mapGetters et. al. are used in the wrong property\" (#1329)"},{"Id":"337410750","IsPullRequest":false,"CreatedAt":"2018-07-02T08:08:19","Actor":"tomers","Number":"1328","RawContent":null,"Title":"Warn when mapGetter are used in methods instead of computer","State":"closed","Body":"I've spend couple of hours debugging an issue which caused by me mistakenly writing _mapGetters_ under _compute_ instead of under _methods_.\r\nIt would be so much helpful that the Vuex code could notify the user if one of the following happens:\r\n\r\n- _mapState_ is not under _computed_ property\r\n- _mapGetters_ is not under _methods_ property\r\n- _mapActions_ is not under _methods_ property\r\n- _mapMutations_ is not under _methods_ property","Url":"https://github.com/vuejs/vuex/issues/1328","RelatedDescription":"Closed issue \"Warn when mapGetter are used in methods instead of computer\" (#1328)"},{"Id":"337392871","IsPullRequest":false,"CreatedAt":"2018-07-02T07:03:07","Actor":"choonggg","Number":"1327","RawContent":null,"Title":"Better error message for Vuex mapActions typo","State":"open","Body":"### What problem does this feature solve?\r\nWhile working using Vuex, I came across an error which took me quite a chunk of time to debug and I thought this deserves a better error messages.\r\n\r\nWhile using map actions `...mapActions('select'Filter)` - notice the mistake with no square brackets in `Listings -> Filters -> SelectFilter` component. The error went up to top level component and appears as below.\r\n```\r\nvue.runtime.esm.js:587 [Vue warn]: Failed to resolve async component: function Listings() {\r\n      return __webpack_require__.e/* import() */(0).then(__webpack_require__.bind(null, /*! @/pages/Listings/index.vue */ \"./app/javascript/pages/Listings/index.vue\"));\r\n    }\r\nReason: TypeError: Cannot convert undefined or null to object\r\n```\r\n\r\n### What does the proposed API look like?\r\nShow shows error message pointing to correct file and line.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1327","RelatedDescription":"Open issue \"Better error message for Vuex mapActions typo\" (#1327)"},{"Id":"337200528","IsPullRequest":false,"CreatedAt":"2018-06-30T09:14:52","Actor":"aComputerGeek","Number":"1326","RawContent":null,"Title":"After refreshing the web page, the value type has changed","State":"closed","Body":"![](https://s1.ax2x.com/2018/06/30/nLMbe.jpg)\r\n\r\n**before**\r\n![](https://s1.ax2x.com/2018/06/30/nLdNO.jpg)\r\n\r\n**after**\r\n\r\n![](https://s1.ax2x.com/2018/06/30/nLG9q.jpg)","Url":"https://github.com/vuejs/vuex/issues/1326","RelatedDescription":"Closed issue \"After refreshing the web page, the value type has changed\" (#1326)"},{"Id":"336750488","IsPullRequest":false,"CreatedAt":"2018-06-28T19:29:50","Actor":"exe-dealer","Number":"1324","RawContent":null,"Title":"dispatch root action with leading slash","State":"open","Body":"### What problem does this feature solve?\r\ntrailing `{ root: true }` object is verbose and spoils code style\r\n\r\n### What does the proposed API look like?\r\n```js\r\ndispatch('api/foo', {\r\n  bar: 'buz',\r\n  quz: 'qux',\r\n}, { root: true }) // ugly trailing options object\r\n\r\n// leading slash makes it look better\r\ndispatch('/api/foo', {\r\n  bar: 'buz',\r\n  quz: 'qux',\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1324","RelatedDescription":"Open issue \"dispatch root action with leading slash\" (#1324)"},{"Id":"336214607","IsPullRequest":false,"CreatedAt":"2018-06-27T12:47:19","Actor":"hnzxb","Number":"1323","RawContent":null,"Title":"介绍网站样式挂了","State":"closed","Body":"https://vuex.vuejs.org/  错乱","Url":"https://github.com/vuejs/vuex/issues/1323","RelatedDescription":"Closed issue \"介绍网站样式挂了\" (#1323)"}],"ResultType":"GitHubIssue"}},"RunOn":"2018-07-21T05:30:50.5058467Z","RunDurationInMilliseconds":3126}