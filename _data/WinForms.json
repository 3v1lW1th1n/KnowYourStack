{"Data":{"GitHub":{"Issues":[{"Id":"410124404","IsPullRequest":true,"CreatedAt":"2019-02-14T04:41:37","Actor":"KexyBiscuit","Number":"442","RawContent":null,"Title":"Update .NET Core SDK link.","State":"open","Body":"","Url":"https://github.com/dotnet/winforms/pull/442","RelatedDescription":"Open PR \"Update .NET Core SDK link.\" (#442)"},{"Id":"410115507","IsPullRequest":true,"CreatedAt":"2019-02-14T03:59:54","Actor":"sharwell","Number":"441","RawContent":null,"Title":"Exclude documentation files from NuGet package","State":"open","Body":"@zsd4yr requested that XML files produced during the build not be included in the NuGet package produced for the repository. This change implements that request.\r\n\r\nIf this request was documented by an issue, please feel free to link it. üëç ","Url":"https://github.com/dotnet/winforms/pull/441","RelatedDescription":"Open PR \"Exclude documentation files from NuGet package\" (#441)"},{"Id":"410056449","IsPullRequest":true,"CreatedAt":"2019-02-13T23:44:39","Actor":"zsd4yr","Number":"440","RawContent":null,"Title":"rename binlog","State":"open","Body":"* different workaround than previous checkin\r\n* allows us to rely again on the eng/Common build.ps1 and tools.ps1 and not role our own\r\n* uses /bl msbuild argument to name the binary log\r\n\r\nStill not the most ideal solution if: Arcade changes where the logging directory is.","Url":"https://github.com/dotnet/winforms/pull/440","RelatedDescription":"Open PR \"rename binlog\" (#440)"},{"Id":"409121848","IsPullRequest":true,"CreatedAt":"2019-02-13T23:29:25","Actor":"Tanya-Solyanik","Number":"430","RawContent":null,"Title":"Fix text in the ThreadExceptionDialog","State":"closed","Body":"Fixed #202 \r\n* replaced hardcoded text that represents a resource name with a get ‚Ä¶property that reads this resource\r\n* replaced explicit \\r\\n strings in SR.RESX file for system.windows.forms.dll with newlines because resx reader escapes them and as a result we don't have new lines in the displayed text\r\n* for other assemblies in this repo, I created a tracking issue to fix SR.resx files:\r\nhttps://github.com/dotnet/winforms/issues/429\r\n* added a test for this dialog to `WinformsControlsTest`, @zsd4yr  - please review, I tested this change by running the app, is there anything else to run\r\n\r\nBefore:\r\n![image](https://user-images.githubusercontent.com/15823268/52612877-6e9bce00-2e40-11e9-80a2-41efcf9b94ca.png)\r\n\r\nAfter:\r\n![image](https://user-images.githubusercontent.com/15823268/52612888-765b7280-2e40-11e9-988f-9501c75af58f.png)\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/430","RelatedDescription":"Closed or merged PR \"Fix text in the ThreadExceptionDialog\" (#430)"},{"Id":"409939433","IsPullRequest":true,"CreatedAt":"2019-02-13T18:23:58","Actor":"JuditRose","Number":"439","RawContent":null,"Title":"adding collection editor and object selector editor","State":"open","Body":"This code is copied over from VS and Winforms Framework repos. So if something doesn't make sense here in core let me know and I am happy to change it.\r\n\r\nFixes #177 ","Url":"https://github.com/dotnet/winforms/pull/439","RelatedDescription":"Open PR \"adding collection editor and object selector editor\" (#439)"},{"Id":"409794229","IsPullRequest":true,"CreatedAt":"2019-02-13T17:28:50","Actor":"dotnet-maestro[bot]","Number":"437","RawContent":null,"Title":"Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19112.3\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/437","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/arcade\" (#437)"},{"Id":"409803814","IsPullRequest":true,"CreatedAt":"2019-02-13T17:28:18","Actor":"dotnet-maestro[bot]","Number":"438","RawContent":null,"Title":"Update dependencies from dotnet/corefx","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/corefx\r\n\r\n- System.CodeDom - 4.6.0-preview.19112.21\r\n- Microsoft.Win32.SystemEvents - 4.6.0-preview.19112.21\r\n- Microsoft.Win32.Registry - 4.6.0-preview.19112.21\r\n- System.Windows.Extensions - 4.6.0-preview.19112.21\r\n- System.Configuration.ConfigurationManager - 4.6.0-preview.19112.21\r\n- System.Security.Cryptography.Cng - 4.6.0-preview.19112.21\r\n- System.Security.Permissions - 4.6.0-preview.19112.21\r\n- System.Drawing.Common - 4.6.0-preview.19112.21\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/438","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/corefx\" (#438)"},{"Id":"409755281","IsPullRequest":true,"CreatedAt":"2019-02-13T17:17:08","Actor":"v-zbsail","Number":"436","RawContent":null,"Title":"LOC CHECKIN | dotnet/winforms master | 20190213","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/436","RelatedDescription":"Closed or merged PR \"LOC CHECKIN | dotnet/winforms master | 20190213\" (#436)"},{"Id":"408429555","IsPullRequest":true,"CreatedAt":"2019-02-12T21:53:28","Actor":"dotnet-maestro[bot]","Number":"422","RawContent":null,"Title":"Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19108.1\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19108.1\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19108.1\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19108.1\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/422","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/arcade\" (#422)"},{"Id":"409514988","IsPullRequest":true,"CreatedAt":"2019-02-12T21:46:20","Actor":"M-Lipin","Number":"435","RawContent":null,"Title":"Adding basic tests for AccessibleObjects","State":"open","Body":"Adding basic tests for ComboBoxAccessibleObject, DataGridViewAccessibleObject, PropertyGridAccessibleObject and ToolStripAccessibleObject.","Url":"https://github.com/dotnet/winforms/pull/435","RelatedDescription":"Open PR \"Adding basic tests for AccessibleObjects\" (#435)"},{"Id":"409453939","IsPullRequest":true,"CreatedAt":"2019-02-12T19:10:53","Actor":"dotnet-maestro[bot]","Number":"434","RawContent":null,"Title":"Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/arcade\r\n\r\n- Microsoft.DotNet.Arcade.Sdk - 1.0.0-beta.19112.3\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/434","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/arcade\" (#434)"},{"Id":"409376999","IsPullRequest":true,"CreatedAt":"2019-02-12T18:52:37","Actor":"zsd4yr","Number":"433","RawContent":null,"Title":"This should call our version of the build command, not the Arcade one.","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/433","RelatedDescription":"Closed or merged PR \"This should call our version of the build command, not the Arcade one.\" (#433)"},{"Id":"409292604","IsPullRequest":true,"CreatedAt":"2019-02-12T16:03:41","Actor":"dotnet-maestro[bot]","Number":"432","RawContent":null,"Title":"Update dependencies from dotnet/corefx","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/corefx\r\n\r\n- System.CodeDom - 4.6.0-preview.19112.2\r\n- Microsoft.Win32.SystemEvents - 4.6.0-preview.19112.2\r\n- Microsoft.Win32.Registry - 4.6.0-preview.19112.2\r\n- System.Windows.Extensions - 4.6.0-preview.19112.2\r\n- System.Configuration.ConfigurationManager - 4.6.0-preview.19112.2\r\n- System.Security.Cryptography.Cng - 4.6.0-preview.19112.2\r\n- System.Security.Permissions - 4.6.0-preview.19112.2\r\n- System.Drawing.Common - 4.6.0-preview.19112.2\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/432","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/corefx\" (#432)"},{"Id":"409125184","IsPullRequest":true,"CreatedAt":"2019-02-12T06:51:17","Actor":"manuelvalenzuela","Number":"431","RawContent":null,"Title":"Fixed broken link pointing to roadmap.md","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/431","RelatedDescription":"Closed or merged PR \"Fixed broken link pointing to roadmap.md\" (#431)"},{"Id":"409116560","IsPullRequest":false,"CreatedAt":"2019-02-12T04:36:20","Actor":"Tanya-Solyanik","Number":"429","RawContent":null,"Title":"remove explicit \"\\r\\n\" test from the .resx files in this repo because these strings will be escaped by the resx reader and will not be displayed as new lines","State":"open","Body":"* .NET Core 3.0 Preview1\r\n* Have you experienced this same bug with .NET Framework?: No - resources are in a different format there\r\n\r\nSample repro:\r\nrun this code:\r\n`            (new ThreadExceptionDialog(new Exception(\"Really long exception description string, because we want to see if it properly wraps around or is truncated.\"))).Show();`\r\n\r\n\r\nActual: \r\n![image](https://user-images.githubusercontent.com/15823268/52612014-d5b78380-2e3c-11e9-8390-690af42db31a.png)\r\n\r\nExpected - \"\\r\\n\" text is displayed as a new line\r\n\r\n  ","Url":"https://github.com/dotnet/winforms/issues/429","RelatedDescription":"Open issue \"remove explicit \"\\r\\n\" test from the .resx files in this repo because these strings will be escaped by the resx reader and will not be displayed as new lines\" (#429)"},{"Id":"409034959","IsPullRequest":true,"CreatedAt":"2019-02-12T00:52:42","Actor":"zsd4yr","Number":"428","RawContent":null,"Title":"remove vswhere.exe, which gets pulled down during build, and add to gitignore","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/428","RelatedDescription":"Closed or merged PR \"remove vswhere.exe, which gets pulled down during build, and add to gitignore\" (#428)"},{"Id":"409032628","IsPullRequest":true,"CreatedAt":"2019-02-12T00:22:54","Actor":"zsd4yr","Number":"427","RawContent":null,"Title":"Dev/zadanz/master is on preview 4 now","State":"closed","Body":"Moving us to preview 4 on master","Url":"https://github.com/dotnet/winforms/pull/427","RelatedDescription":"Closed or merged PR \"Dev/zadanz/master is on preview 4 now\" (#427)"},{"Id":"408205845","IsPullRequest":true,"CreatedAt":"2019-02-11T18:18:04","Actor":"zacpwhite","Number":"419","RawContent":null,"Title":"Removed ResourceExposure/ResourceConsumption attributes","State":"closed","Body":"Remove the obsolete ResourceExposure / ResourceConsumption attributes as outlined in #321 ","Url":"https://github.com/dotnet/winforms/pull/419","RelatedDescription":"Closed or merged PR \"Removed ResourceExposure/ResourceConsumption attributes\" (#419)"},{"Id":"407534325","IsPullRequest":true,"CreatedAt":"2019-02-11T18:10:36","Actor":"manuelvalenzuela","Number":"413","RawContent":null,"Title":"Fixed broken link pointing to contributing.md","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/413","RelatedDescription":"Closed or merged PR \"Fixed broken link pointing to contributing.md\" (#413)"},{"Id":"408327093","IsPullRequest":true,"CreatedAt":"2019-02-11T18:08:23","Actor":"danielchalmers","Number":"420","RawContent":null,"Title":"Fix link path","State":"closed","Body":"`See here for a workaround invoking the Classic Framework Designer` incorrectly points to a file in `./` instead of `./Documentation/`","Url":"https://github.com/dotnet/winforms/pull/420","RelatedDescription":"Closed or merged PR \"Fix link path\" (#420)"},{"Id":"408534144","IsPullRequest":true,"CreatedAt":"2019-02-11T18:07:46","Actor":"dotnet-maestro[bot]","Number":"424","RawContent":null,"Title":"Update dependencies from dotnet/corefx","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\nUpdates from https://github.com/dotnet/corefx\r\n\r\n- System.CodeDom - 4.6.0-preview.19109.6\r\n- Microsoft.Win32.SystemEvents - 4.6.0-preview.19109.6\r\n- Microsoft.Win32.Registry - 4.6.0-preview.19109.6\r\n- System.Windows.Extensions - 4.6.0-preview.19109.6\r\n- System.Configuration.ConfigurationManager - 4.6.0-preview.19109.6\r\n- System.Security.Cryptography.Cng - 4.6.0-preview.19109.6\r\n- System.Security.Permissions - 4.6.0-preview.19109.6\r\n- System.Drawing.Common - 4.6.0-preview.19109.6\r\n\r\nUpdates from https://github.com/dotnet/corefx\r\n\r\n- System.CodeDom - 4.6.0-preview.19110.4\r\n- Microsoft.Win32.SystemEvents - 4.6.0-preview.19110.4\r\n- Microsoft.Win32.Registry - 4.6.0-preview.19110.4\r\n- System.Windows.Extensions - 4.6.0-preview.19110.4\r\n- System.Configuration.ConfigurationManager - 4.6.0-preview.19110.4\r\n- System.Security.Cryptography.Cng - 4.6.0-preview.19110.4\r\n- System.Security.Permissions - 4.6.0-preview.19110.4\r\n- System.Drawing.Common - 4.6.0-preview.19110.4\r\n\r\n","Url":"https://github.com/dotnet/winforms/pull/424","RelatedDescription":"Closed or merged PR \"Update dependencies from dotnet/corefx\" (#424)"},{"Id":"408538839","IsPullRequest":true,"CreatedAt":"2019-02-10T14:45:06","Actor":"reaction1989","Number":"425","RawContent":null,"Title":"remove ` /// <include file='` an `///<internalonly/>` comments","State":"closed","Body":"fixes #167 \r\n\r\nfollowing RegExes were used:\r\n\r\n\r\n^.*///<internalonly/>.*$\\n\r\n^.*/// <include file='.*$\\n\r\n\r\nHad to do datagridview manually because of the comments","Url":"https://github.com/dotnet/winforms/pull/425","RelatedDescription":"Closed or merged PR \"remove ` /// <include file='` an `///<internalonly/>` comments\" (#425)"},{"Id":"408541900","IsPullRequest":true,"CreatedAt":"2019-02-10T14:45:02","Actor":"reaction1989","Number":"426","RawContent":null,"Title":"remove ` /// <include file='` an `///<internalonly/>` comments","State":"open","Body":"fixes #167 \r\n\r\nfollowing RegExes were used:\r\n\r\n\r\n^.*///<internalonly/>.*$\\n\r\n^.*/// <include file='.*$\\n\r\n\r\nHad to do datagridview manually because of the comments","Url":"https://github.com/dotnet/winforms/pull/426","RelatedDescription":"Open PR \"remove ` /// <include file='` an `///<internalonly/>` comments\" (#426)"},{"Id":"408455657","IsPullRequest":false,"CreatedAt":"2019-02-09T18:11:00","Actor":"0xd4d","Number":"423","RawContent":null,"Title":"WinForms XML files from runtime pack are added to deps.json and prevent WPF/WinForms apps from starting","State":"open","Body":"* .NET Core Version: Latest daily build as of today: 3.0.100-preview4-010277\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n**Problem description:**\r\n\r\nXML files are included in deps json which prevent the apphost from starting the WPF/WinForms app\r\n\r\nI found the following XML files in the nuget dir, and they're all added to the deps.json file:\r\n\r\n```\r\nSystem.Design.xml\r\nSystem.Drawing.Design.xml\r\nSystem.Drawing.xml\r\nSystem.Windows.Forms.Design.Editors.xml\r\nSystem.Windows.Forms.Design.xml\r\nSystem.Windows.Forms.xml\r\n```\r\n\r\n**Actual behavior:**\r\n\r\nA message box is shown, eg.:\r\n\r\n```\r\n---------------------------\r\nwpftest.exe\r\n---------------------------\r\nError:\r\n  An assembly specified in the application dependencies manifest (wpftest.deps.json) has already been found but with a different file extension:\r\n    package: 'runtimepack.runtime.win-x64.Microsoft.WindowsDesktop.App', version: '3.0.0-preview-27408-15'\r\n    path: './System.Design.xml'\r\n    previously found assembly: 'C:\\wpftest\\bin\\Release\\netcoreapp3.0\\win-x64\\publish\\System.Design.dll'\r\n\r\n---------------------------\r\nOK   \r\n---------------------------\r\n```\r\n\r\n**Expected behavior:**\r\n\r\nIt starts\r\n\r\n**Minimal repro:**\r\n\r\nUse latest daily build of .NET Core SDK, eg. 3.0.100-preview4-010277\r\n\r\nBuild:\r\n\r\n```\r\n# or replace wpf with winforms\r\ndotnet new wpf\r\ndotnet publish -c Release -f netcoreapp3.0 -r win-x64 --self-contained\r\n```\r\n\r\nRun:\r\n\r\n```\r\nbin\\Release\\netcoreapp3.0\\win-x64\\publish\\wpftest.exe\r\n```\r\n","Url":"https://github.com/dotnet/winforms/issues/423","RelatedDescription":"Open issue \"WinForms XML files from runtime pack are added to deps.json and prevent WPF/WinForms apps from starting\" (#423)"},{"Id":"408345183","IsPullRequest":true,"CreatedAt":"2019-02-08T22:24:53","Actor":"zsd4yr","Number":"421","RawContent":null,"Title":"Revert \"Update dependencies from dotnet/arcade (#410)\"","State":"closed","Body":"This reverts commit f9fe161aa8a9b9b62eb9b675e0af3f5583cabd7a.","Url":"https://github.com/dotnet/winforms/pull/421","RelatedDescription":"Closed or merged PR \"Revert \"Update dependencies from dotnet/arcade (#410)\"\" (#421)"},{"Id":"407934894","IsPullRequest":false,"CreatedAt":"2019-02-08T19:18:53","Actor":"JuditRose","Number":"417","RawContent":null,"Title":"Build failing with error MSB4062 (gets fixed with cache clean)","State":"closed","Body":"* .NET Core Version: 3.0.100-preview-010024\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\nRepro:\r\nRun build from command line (or terminal in VS code)\r\n(with clean working directory, having successful builds before, same master head version building successfully on other machines)\r\n\r\n**Actual behavior:**  Build output:\r\nE:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.DefaultItems.targets(127,5): error MSB4062: The \"CheckIfPackageReferenceShouldBeFrameworkReference\" task could not be loaded from the assembly E:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\\r\nSdks\\Microsoft.NET.Sdk\\targets\\..\\tools\\net46/Microsoft.NET.Build.Tasks.dll.  Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [E:\\repos\\winforms\r\n\\src\\System.Design\\src\\System.Design.Facade.csproj]\r\nE:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.DefaultItems.targets(127,5): error MSB4062: The \"CheckIfPackageReferenceShouldBeFrameworkReference\" task could not be loaded from the assembly E:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\\r\nSdks\\Microsoft.NET.Sdk\\targets\\..\\tools\\net46/Microsoft.NET.Build.Tasks.dll.  Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [E:\\repos\\winforms\r\n\\pkg\\Microsoft.Private.Winforms.csproj]\r\n\r\nBuild FAILED.\r\n\r\nE:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.DefaultItems.targets(127,5): error MSB4062: The \"CheckIfPackageReferenceShouldBeFrameworkReference\" task could not be loaded from the assembly E:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\\r\nSdks\\Microsoft.NET.Sdk\\targets\\..\\tools\\net46/Microsoft.NET.Build.Tasks.dll.  Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [E:\\repos\\winforms\r\n\\src\\System.Design\\src\\System.Design.Facade.csproj]\r\nE:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\Sdks\\Microsoft.NET.Sdk\\targets\\Microsoft.NET.Sdk.DefaultItems.targets(127,5): error MSB4062: The \"CheckIfPackageReferenceShouldBeFrameworkReference\" task could not be loaded from the assembly E:\\repos\\winforms\\.dotnet\\sdk\\3.0.100-preview-010024\\\r\nSdks\\Microsoft.NET.Sdk\\targets\\..\\tools\\net46/Microsoft.NET.Build.Tasks.dll.  Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. [E:\\repos\\winforms\r\n\\pkg\\Microsoft.Private.Winforms.csproj]\r\n    0 Warning(s)\r\n    2 Error(s)\r\n\r\n![image](https://user-images.githubusercontent.com/16646604/52447795-b3450380-2ae6-11e9-9cf0-000ad0a846f8.png)\r\n\r\n\r\n**Expected behavior:** Build is successful.\r\n\r\nIt got fixed after these caches cleaned:\r\n - winforms\\ .dotnet folder removed\r\n - winforms\\artifacts folder removed\r\n - c:\\Users\\myuser\\ .nuget folder removed\r\n\r\n","Url":"https://github.com/dotnet/winforms/issues/417","RelatedDescription":"Closed issue \"Build failing with error MSB4062 (gets fixed with cache clean)\" (#417)"},{"Id":"407945175","IsPullRequest":true,"CreatedAt":"2019-02-08T18:35:11","Actor":"0xflotus","Number":"418","RawContent":null,"Title":"fixed a space error","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/418","RelatedDescription":"Closed or merged PR \"fixed a space error\" (#418)"},{"Id":"407864178","IsPullRequest":true,"CreatedAt":"2019-02-07T19:37:36","Actor":"JoeErickson","Number":"416","RawContent":null,"Title":"Fixed Clipboard.SetDataObject to work with custom formats #415","State":"open","Body":"While testing SpreadsheetGear for Windows Forms on .NET Core 3 we found that Clipboard.SetDataObject writes uninitialized data to the clipboard instead of serialized .NET objects.\r\n\r\nThis bug is apparently a regression from Span<T> work in https://github.com/dotnet/winforms/commit/37abb3afc218d6052664de63b017d4504e1aa8b4.\r\n\r\nThis change includes a simple fix and a unit test.\r\n\r\nThere is one potential issue with the unit test - it does change the clipboard of the computer it is run on. I could not find any other tests which do so and I'm not sure of the ramifications of that other than the fact that is is a nuisance for anyone using the computer the test is run on. Having said that, it seems to me that unit tests to verify that the clipboard works is important...","Url":"https://github.com/dotnet/winforms/pull/416","RelatedDescription":"Open PR \"Fixed Clipboard.SetDataObject to work with custom formats #415\" (#416)"},{"Id":"407859871","IsPullRequest":false,"CreatedAt":"2019-02-07T19:27:10","Actor":"JoeErickson","Number":"415","RawContent":null,"Title":"Clipboard.SetDataObject fails for user defined clipboard formats","State":"open","Body":"I have a fix and XUnit test which I will issue a pull request for shortly.\r\n\r\n* .NET Core Version: 3.0.100-preview-010226\r\n* Have you experienced this same bug with .NET Framework?: No\r\n\r\n**Problem description:**\r\n\r\nWhile testing SpreadsheetGear for Windows Forms on .NET Core 3 we found that Clipboard.SetDataObject fails for custom clipboard types. This is apparently due to Span<T> work in this checkin which removed the necessary 'stream.Position = 0' before reading from the stream:\r\n    https://github.com/dotnet/winforms/commit/37abb3afc218d6052664de63b017d4504e1aa8b4\r\n\r\n**Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n\r\nUninitialized data gets written to the clipboard.\r\n\r\n**Expected behavior:**\r\n\r\n.NET objects get serialized to clipboard.\r\n\r\n**Minimal repro:**\r\n        [WinFormsFact]\r\n        private void DataObject_CustomFormats()\r\n        {\r\n            var myTextFormat = \"MyTextFormat\";\r\n            var myBlobFormat = \"MyBlobFormat\";\r\n            var guid = Guid.NewGuid();\r\n            var myText = guid.ToString();\r\n            var myBlob = new System.IO.MemoryStream(guid.ToByteArray());\r\n            var unicodeText = \"Euro char: \\u20AC\";\r\n            var data = new System.Windows.Forms.DataObject();\r\n            data.SetData(myTextFormat, myText);\r\n            data.SetData(myBlobFormat, myBlob);\r\n            data.SetText(unicodeText);\r\n            System.Windows.Forms.Clipboard.SetDataObject(data);\r\n            var copiedDataObject = System.Windows.Forms.Clipboard.GetDataObject();\r\n            var copiedText = copiedDataObject.GetData(myTextFormat) as string;\r\n            var copiedBlob = copiedDataObject.GetData(myBlobFormat) as System.IO.MemoryStream;\r\n            var copiedUnicodeText = System.Windows.Forms.Clipboard.GetText();\r\n            Assert.NotNull(copiedText);\r\n            Assert.Equal(copiedText, myText);\r\n            Assert.NotNull(copiedBlob);\r\n            Assert.Equal(copiedBlob.Length, myBlob.Length);\r\n            Assert.Equal(new Guid(copiedBlob.ToArray()), guid);\r\n            Assert.NotNull(copiedUnicodeText);\r\n            Assert.Equal(copiedUnicodeText, unicodeText);\r\n        }\r\n","Url":"https://github.com/dotnet/winforms/issues/415","RelatedDescription":"Open issue \"Clipboard.SetDataObject fails for user defined clipboard formats\" (#415)"},{"Id":"407626283","IsPullRequest":true,"CreatedAt":"2019-02-07T17:57:38","Actor":"v-zbsail","Number":"414","RawContent":null,"Title":"LOC CHECKIN | dotnet/winforms master | 20190207","State":"closed","Body":"","Url":"https://github.com/dotnet/winforms/pull/414","RelatedDescription":"Closed or merged PR \"LOC CHECKIN | dotnet/winforms master | 20190207\" (#414)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-02-14T05:31:18.1068914Z","RunDurationInMilliseconds":735}