{"Data":{"Vue":{"Events":[],"ResultType":"GitHubEvent"},"Router":{"Events":[{"Id":"6895434333","Type":"IssuesEvent","CreatedAt":"2017-11-23T13:52:08","Actor":"vue-issue-bot","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1902","RelatedDescription":"Closed issue \"keep-alive后，后退如何销毁缓存\" (#1902) at vuejs/vue-router","RelatedBody":"期望能够前进时保持组件状态，后退能够销毁组件的状态"},{"Id":"6895434251","Type":"IssuesEvent","CreatedAt":"2017-11-23T13:52:07","Actor":"iceuncle","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1902","RelatedDescription":"Opened issue \"keep-alive后，后退如何销毁缓存\" (#1902) at vuejs/vue-router","RelatedBody":"期望能够前进时保持组件状态，后退能够销毁组件的状态"},{"Id":"6892224235","Type":"IssuesEvent","CreatedAt":"2017-11-22T20:05:53","Actor":"posva","Repository":"vuejs/vue-router","Organization":"vuejs","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/vuejs/vue-router/issues/1901","RelatedDescription":"Closed issue \"Pass props via router-link\" (#1901) at vuejs/vue-router","RelatedBody":"### What problem does this feature solve?\r\nIt is possible to pass props via the defined routes. Unfortunately, I can't get the complete object passed to the `to` attribute from the route props function.\r\n\r\nroutes:\r\n```js\r\nroutes: {\r\n    {\r\n        path: '/device/:id',\r\n        component: load('device/DeviceView'),\r\n        props: (route) => { console.log(route) // does not contain route.props }\r\n    }\r\n}\r\n```\r\n\r\ntemplate\r\n```html\r\n<router-link :to=\"{path: `device/${device.UniqueID}`, props: {device: device}}\">show device</router-link>\r\n```\r\n\r\n### What does the proposed API look like?\r\nSame as above. I would like to pass the props via `router-link`:\r\n```html\r\n<router-link :to=\"{path: `device/${device.UniqueID}`, props: {device: device}}\">show device</router-link>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"}],"ResultType":"GitHubEvent"},"Vuex":{"Events":[{"Id":"6897204758","Type":"IssuesEvent","CreatedAt":"2017-11-24T00:05:58","Actor":"lichnow","Repository":"vuejs/vuex","Organization":"vuejs","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/vuejs/vuex/issues/1064","RelatedDescription":"Opened issue \"Vuex state can not watch which state data changed twice\" (#1064) at vuejs/vuex","RelatedBody":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n### Steps to reproduce\r\nMy code of store module\r\n```\r\nconst state = {\r\n    menus: []\r\n}\r\nconst mutations = {\r\n    ....\r\n    ADD_CONTEXTMENUS (state, params) {\r\n        let menus = _(params).isArray() ? params : [params]\r\n        _(menus).each(menu => {\r\n            menu.id = `context_menu_${menu.name}`\r\n            menu.visible = false\r\n            menu.position = false\r\n            menu.callback = _(menu).has('callback')\r\n                ? name => {} : name => menu.callback(name)\r\n            menu.items = _(menu).has('items') ? menu.items : []\r\n            state.menus.push(menu)\r\n        })\r\n    },\r\n    OPEN_CONTEXTMENU (state, params) {\r\n        for (let index in state.menus) {\r\n            if (state.menus[index].name === params.name) {\r\n                state.menus[index].visible = true\r\n                state.menus[index].position = params.position\r\n            }\r\n        }\r\n        console.log(state.menus)\r\n    },\r\n    CLOSE_ALL_CONTEXTMENU (state) {\r\n        for (let index in state.menus) {\r\n            state.menus[index].visible = false\r\n            state.menus[index].position = false\r\n        }\r\n        console.log(state.menus[0].visible)\r\n    }\r\n}\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n}\r\n```\r\ncomponent template code\r\n```\r\n<v-dropdown :visible=\"menu.visible\" />\r\n```\r\ncomponent script code\r\n\r\n```\r\n...\r\n\r\nprops: ['name'],\r\ncreated () {\r\n            this.addContextMenus([{\r\n                name: 'writerbook_finder',\r\n                items: [{\r\n                    name: 'fff',\r\n                    text: 'ffff'\r\n                }, {\r\n                    name: 'ddd',\r\n                    text: 'ddd'\r\n                }]\r\n            }])\r\n            this.$store.watch(\r\n                () => this.menu,\r\n                () => this.setPositionOfMenu(),\r\n                {\r\n                    deep: true\r\n                }\r\n            )\r\n},\r\ncomputed: {\r\n       menu () {\r\n        return _(this.$store.state.ContextMenus.menus)\r\n        .filter(menu => menu.name === this.name)\r\n        .first()\r\n       }\r\n},\r\nmethods: {\r\n    ...mapMutations('ContextMenus', {\r\n           addContextMenu: 'ADD_CONTEXTMENUS',\r\n           openContextMenu: 'OPEN_CONTEXTMENU',\r\n           closeAllContextMenus: 'CLOSE_ALL_CONTEXTMENU'\r\n    }),\r\n    handleContextMenu(name, e){\r\n        this.closeAllContextMenus()\r\n        this.openContextMenu({\r\n            name,\r\n            position: e\r\n       })\r\n    }\r\n    setPositionOfMenu(){ \r\n        console.log(this.menu.visible)\r\n    }\r\n}\r\n```\r\n\r\n### What is expected?\r\nWhen `commit the CLOSE_ALL_CONTEXTMENU`\r\nand \r\n`commit the OPEN_CONTEXTMENU`\r\n\r\nwatcher which watch twice changed of this.menu\r\n\r\n\r\n### What is actually happening?\r\nNow I want to set position when contextmenu been visible,and before it visible close all other.\r\nWhen I use a `click` event to close all menus(`commit the CLOSE_ALL_CONTEXTMENU`) then open one contextmenu (`commit the OPEN_CONTEXTMENU`),it work fine.\r\n\r\nBut when I use `handleContextMenu` method which do both of `CLOSE_ALL_CONTEXTMENU` and `OPEN_CONTEXTMENU`, store can't watch the change of `this.menu`(use lodash `_`'s map with `props name` getted from `menus array state`)\r\n\r\nthe devtools console show me `this.$store.ContextMenus.menus[0].visible` has been change be `false` and then be `true`, but  `setPositionOfMenu` work once only, what's wrong? the state.menus changed twice and watch only do once?\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->"}],"ResultType":"GitHubEvent"}},"RunOn":"2017-11-24T05:30:35.4427381Z","RunDurationInMilliseconds":1896}