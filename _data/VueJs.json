{"Data":{"Vue-Issues":{"Issues":[{"Id":"559334674","IsPullRequest":false,"CreatedAt":"2020-02-03T23:55:28","Actor":"Scnck","Number":"11074","RawContent":null,"Title":"example needed of resizing panel div","State":"closed","Body":"### What problem does this feature solve?\r\nI would like an example to have the elements automatic resize when resizing the pane for instance a table. Thank you.\r\n\r\n<pane id=\"pane2-2\" size=\"80\" min-size=\"30\">\r\n    <table id=\"table\"></table>\r\n</pane>\r\n\r\n### What does the proposed API look like?\r\nN/A\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11074","RelatedDescription":"Closed issue \"example needed of resizing panel div\" (#11074)"},{"Id":"559401273","IsPullRequest":false,"CreatedAt":"2020-02-03T23:41:50","Actor":"ulisesqg","Number":"11075","RawContent":null,"Title":"s !yt","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/11075","RelatedDescription":"Closed issue \"s !yt\" (#11075)"},{"Id":"559330479","IsPullRequest":false,"CreatedAt":"2020-02-03T20:59:31","Actor":"Scnck","Number":"11073","RawContent":null,"Title":"example needed of resizing panel div","State":"closed","Body":"can you provide an example of having the div resized when resizing the pane?","Url":"https://github.com/vuejs/vue/issues/11073","RelatedDescription":"Closed issue \"example needed of resizing panel div\" (#11073)"},{"Id":"559114670","IsPullRequest":true,"CreatedAt":"2020-02-03T14:20:27","Actor":"vue-bot","Number":"11072","RawContent":null,"Title":"[automated] Patreon sponsors update","State":"open","Body":"This is an automated pull request.","Url":"https://github.com/vuejs/vue/pull/11072","RelatedDescription":"Open PR \"[automated] Patreon sponsors update\" (#11072)"},{"Id":"558953032","IsPullRequest":false,"CreatedAt":"2020-02-03T09:57:08","Actor":"Patrick-Spiegel","Number":"11071","RawContent":null,"Title":"Slots are not updating correctly when binding render function to this context","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/musing-meitner-z5c5n](https://codesandbox.io/s/musing-meitner-z5c5n)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nChange Text in TextBox.\r\n\r\n### What is expected?\r\n It should update the text in the output too.\r\n\r\n### What is actually happening?\r\nThe text of the scoped slot is not updating\r\n\r\n---\r\nUpdating with h(Vue.compile) is updating the whole tree, but this causes to render larger pages completely new when a property is changed (Page is scrolling to top).\r\n\r\nThe advantage of this method is that only those parts are updated which are actually changed, but its not working with slots.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11071","RelatedDescription":"Closed issue \"Slots are not updating correctly when binding render function to this context\" (#11071)"},{"Id":"558815208","IsPullRequest":false,"CreatedAt":"2020-02-03T08:13:12","Actor":"zshuangyan","Number":"11069","RawContent":null,"Title":"Use emit to modify the data of the parent component, but other components that reference this data are not updated","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/zshuangyan/vue-learning/tree/master/pomodoro](https://github.com/zshuangyan/vue-learning/tree/master/pomodoro)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n#### parent component: \r\nsrc/App.vue\r\n\r\n#### shared data\r\nApp.vue's state\r\n\r\n#### child component of AppVue:\r\nsrc/component/ControlsComponent.vue\r\nsrc/component/StateTitleComponent.vue\r\n\r\n### Steps to reproduce\r\n- execute `npm install` and `npm run dev`, your webrowser will open a page like following:\r\n![image](https://user-images.githubusercontent.com/3966367/73619943-93e5a580-466a-11ea-8414-84dbe5e472a6.png)\r\n- click > button under pomodo \r\n- you will see state of  App.vue changed to started, but title of StateTitleComponent.vue stay to stopped\r\n![image](https://user-images.githubusercontent.com/3966367/73620716-03a95f80-466e-11ea-89e0-b2946b4d6cc6.png)\r\n\r\n\r\n\r\n### What is expected?\r\ntitle of StateTitleComponent.vue changed to started\r\n\r\n### What is actually happening?\r\n title of StateTitleComponent.vue stay to stopped\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11069","RelatedDescription":"Closed issue \"Use emit to modify the data of the parent component, but other components that reference this data are not updated\" (#11069)"},{"Id":"558902886","IsPullRequest":false,"CreatedAt":"2020-02-03T07:49:34","Actor":"fengzi2016","Number":"11070","RawContent":null,"Title":"i think there is a bug in  the function named 'classify' at 'vue/src/core/util/debug.js'","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/fengzi2016/pen/LYEwdbp](https://codepen.io/fengzi2016/pen/LYEwdbp)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```js\r\nconst classifyRE = /(?:^|[-_])(\\w)/g\r\nconst classify = str => str\r\n    .replace(classifyRE, c => c.toUpperCase())\r\n    .replace(/[-_]/g, '')\r\nconst demo = ['_guan', 'guan', '-guan']\r\ndemo.forEach((i) => {\r\n    console.log(classify(i));\r\n})\r\n// guan Guan Guan\r\nconsole.log('_guan'.match(classifyRE))\r\n// _\r\n```\r\n\r\n### What is expected?\r\nI think  the function named \"classify\" is used to making any \r\nvariable to be an Initial capital word\r\n\r\n### What is actually happening?\r\nBut this function does not work for \"_guan\"\r\n\r\n---\r\nI think the reason is that '\\w' includes '_'\r\n\r\nsorry for my poor English\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11070","RelatedDescription":"Open issue \"i think there is a bug in  the function named 'classify' at 'vue/src/core/util/debug.js'\" (#11070)"},{"Id":"558804312","IsPullRequest":false,"CreatedAt":"2020-02-03T02:22:56","Actor":"zshuangyan","Number":"11068","RawContent":null,"Title":"Use emit to modify the data of the parent component, but other components that reference this data are not updated","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\nhttps://github.com/zshuangyan/vue-learning/tree/master/pomodoro\r\n#### parent component: \r\n```src/App.vue```\r\n\r\n#### shared data\r\n```App.vue's state```\r\n\r\n#### child component of AppVue:\r\n```src/component/ControlsComponent.vue```\r\n```src/component/StateTitleComponent.vue```\r\n\r\n### Steps to reproduce\r\n- execute `npm install` and `npm run dev`, your webrowser will open a page like following:\r\n![image](https://user-images.githubusercontent.com/3966367/73619943-93e5a580-466a-11ea-8414-84dbe5e472a6.png)\r\n- click > button under pomodo \r\n- you will see state of  App.vue changed to started, but title of StateTitleComponent.vue stay to stopped\r\n![image](https://user-images.githubusercontent.com/3966367/73620716-03a95f80-466e-11ea-89e0-b2946b4d6cc6.png)\r\n\r\n\r\n#### What is expected?\r\ntitle of StateTitleComponent.vue changed to started\r\n\r\n#### What is actually happening?\r\n title of StateTitleComponent.vue stay to stopped\r\n","Url":"https://github.com/vuejs/vue/issues/11068","RelatedDescription":"Closed issue \"Use emit to modify the data of the parent component, but other components that reference this data are not updated\" (#11068)"},{"Id":"558758263","IsPullRequest":false,"CreatedAt":"2020-02-02T21:35:15","Actor":"profimedica","Number":"11067","RawContent":null,"Title":"DataList hide lookup value.","State":"closed","Body":"### What problem does this feature solve?\r\nA feature request\r\n(I might be able to implement it)\r\n\r\nWith DataList I can generate options for a select. I am planning to generate options from a collection of ojbects having uniqie numeric IDs. My issue is that the template of the options is showing the IDs as the first line. As they make no sense for users, I would like to hide the IDs, but there is no option to hide IDs (and to ignore them from search).\r\n\r\nI was looking for answers from other developers but looks like there is little interest in this feature:\r\n\r\nhttps://stackoverflow.com/questions/60004448/vuejs-datalist-how-to-hide-the-lookup-value/60008663#60008663\r\n\r\n\r\n### What does the proposed API look like?\r\nI was unable to achieve the intended feature using current implementation.\r\n\r\nhttps://jsfiddle.net/startflorin/v65t80e9/28/\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11067","RelatedDescription":"Closed issue \"DataList hide lookup value.\" (#11067)"},{"Id":"558757569","IsPullRequest":false,"CreatedAt":"2020-02-02T21:03:36","Actor":"profimedica","Number":"11066","RawContent":null,"Title":"DataList hide lookup value","State":"closed","Body":"A feature request \r\n(I might be able to implement it)\r\n\r\nWith DataList I can generate options for a select. I am planning to generate options from a collection of ojbects having uniqie numeric IDs. My issue is that the template of the options is showing the IDs as the first line. As they make no sense for users, I would like to hide the IDs, but there is no option to hide IDs (and to ignore them from search).\r\n\r\nI was looking for answers from other developers but looks like there is little interest in this feature:\r\n\r\nhttps://stackoverflow.com/questions/60004448/vuejs-datalist-how-to-hide-the-lookup-value/60008663#60008663\r\n\r\nhttps://jsfiddle.net/startflorin/v65t80e9/28/\r\n","Url":"https://github.com/vuejs/vue/issues/11066","RelatedDescription":"Closed issue \"DataList hide lookup value\" (#11066)"},{"Id":"558721015","IsPullRequest":true,"CreatedAt":"2020-02-02T16:31:51","Actor":"despreston","Number":"11065","RawContent":null,"Title":"fix(compiler): avoid converting &nbps; to spaces (fix #11059)","State":"open","Body":"The regex for whitespace was too strict and was causing $nbps; chars to\r\ndisappear from templates when `whitespace: 'condense'` is set. Changing the rule\r\nto avoid converting non-breaking white space chars into regular spaces.\r\n\r\nFixes #10485\r\nFixes #11059\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n","Url":"https://github.com/vuejs/vue/pull/11065","RelatedDescription":"Open PR \"fix(compiler): avoid converting &nbps; to spaces (fix #11059)\" (#11065)"},{"Id":"558647943","IsPullRequest":true,"CreatedAt":"2020-02-02T05:51:53","Actor":"ahaoboy","Number":"11064","RawContent":null,"Title":"chore(platforms/web/server/util): Removes duplicate values from the a…","State":"open","Body":"Removes duplicate values from the attr list\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11064","RelatedDescription":"Open PR \"chore(platforms/web/server/util): Removes duplicate values from the a…\" (#11064)"},{"Id":"558510487","IsPullRequest":false,"CreatedAt":"2020-02-01T09:42:34","Actor":"malacca","Number":"11063","RawContent":null,"Title":"slot template with scope value not working","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/L514wjxn/](https://jsfiddle.net/L514wjxn/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n@see reproduction link\r\n\r\n### What is expected?\r\nshow slot\r\n\r\n### What is actually happening?\r\nnot working\r\n\r\n---\r\neven `el-input` prepend slot not provide scope value, it should working .\r\n\r\nex: if i create a middle component, i don't know if sub component provide scope value\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11063","RelatedDescription":"Closed issue \"slot template with scope value not working\" (#11063)"},{"Id":"557697017","IsPullRequest":false,"CreatedAt":"2020-01-31T09:27:06","Actor":"Sp3r4z","Number":"11062","RawContent":null,"Title":"Mounted legacy function in promise","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/dsboqkn0/1/](https://jsfiddle.net/dsboqkn0/1/)\r\n\r\n### Steps to reproduce\r\nJust click on JSfiddle link and see nothing, totally white result window.\r\n\r\nIssue seems to be on L10 of JS, when I set \"arrow function\" on response it doesn't work, when I switch to \"legacy function\" it works. Even if it seems to work with a \"console.log\", response doesn't front refresh the \"info\" variable.\r\n\r\nSame test done, with native browser API Fetch, and same issue.\r\n\r\nAfter some tests, it seems that having a \"legacy function declaration\" in a `.then` promise, doesn't allow/accept to refresh my 'info' variable, even if it populate it (checked with `console.log`)\r\n\r\n### What is expected?\r\nHaving information\r\n\r\n### What is actually happening?\r\nNothing visible\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11062","RelatedDescription":"Closed issue \"Mounted legacy function in promise\" (#11062)"},{"Id":"556931417","IsPullRequest":false,"CreatedAt":"2020-01-29T15:33:05","Actor":"polPintero","Number":"11061","RawContent":null,"Title":"Leak memory","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://github.com/polPintero/vue-leak-memory](https://github.com/polPintero/vue-leak-memory)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nrun code: node index.js\r\n\r\n### What is expected?\r\nNo memory leak expected\r\n\r\n### What is actually happening?\r\nleak memory\r\n\r\nChrome v.79.0.3945.130 \r\n\r\n---\r\n\r\nI have an application. At the set intervals, according to WebSoket, I get updated data from the server and put it in the store. I noticed a memory leak with the arrival of each new piece of data. The repository contains a demo code.\r\n\r\nNote: there is a leak only if the index.html file is opened through the web server. If you open the index.html file in a direct path in the address bar of the browser, then there is no memory leak\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11061","RelatedDescription":"Closed issue \"Leak memory\" (#11061)"},{"Id":"556878195","IsPullRequest":false,"CreatedAt":"2020-01-29T13:56:00","Actor":"iamvitali","Number":"11060","RawContent":null,"Title":"How can I achieve multiple elements within a `<template>` or another \"ghost tag\"?","State":"closed","Body":"What I'm looking for is:\r\n\r\n\r\nParent:\r\n```\r\n...\r\n    <ul>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <child></child>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n    </ul>\r\n...\r\n```\r\n\r\nChild:\r\n```\r\n    <template>\r\n        <li>child list element</li>\r\n        <li>child list element</li>\r\n    </template>\r\n```\r\n\r\nAll in order to get this beauty:\r\n```\r\n...\r\n    <ul>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>child list element</li>\r\n        <li>child list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n    </ul>\r\n...\r\n```\r\n\r\nIf I use a work-around like such then it breaks my CSS:\r\n```\r\n    <template>\r\n        <div>\r\n            <li>child list element</li>\r\n            <li>child list element</li>\r\n        </div>\r\n    </template>\r\n```\r\nbecause I get this instead:\r\n```\r\n...\r\n    <ul>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <div>\r\n            <li>child list element</li>\r\n            <li>child list element</li>\r\n        </div>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n        <li>parent list element</li>\r\n    </ul>\r\n...\r\n```\r\n\r\n:cry: ","Url":"https://github.com/vuejs/vue/issues/11060","RelatedDescription":"Closed issue \"How can I achieve multiple elements within a `<template>` or another \"ghost tag\"?\" (#11060)"},{"Id":"556767728","IsPullRequest":false,"CreatedAt":"2020-01-29T10:24:11","Actor":"aimozg","Number":"11059","RawContent":null,"Title":"With `whitespace:condense` all &nbsps;, even meaningful, are converted to spaces","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://gist.github.com/aimozg/c073eea5a55062e3dcd8f887a8567807](https://gist.github.com/aimozg/c073eea5a55062e3dcd8f887a8567807)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun example.js in Node.\r\n\r\nAlternative steps/Detailed explanation:\r\n1. Setup Vue template compiler with `whitespace: 'condense'`. (it is default for vue-cli).\r\n2. Render template with `&nbsp;` entity, e.g. `<p>a&nbsp;b</p>`\r\n3. Inspect template for actual non-breaking space character\r\n\r\n### What is expected?\r\n`&nbsp;` entity rendered as non-breaking space character; example.js output should contain\r\n```\r\n---- whitespace: condense\r\n// code\r\nNBSP FOUND\r\n```\r\n\r\n### What is actually happening?\r\n`&nbsp;` entity is rendered as plain space, example.js output contains\r\n```\r\n---- whitespace: condense\r\n// code\r\nNBSP NOT FOUND\r\n```\r\n\r\n---\r\nThe whitespace is stripped by this compiler code:\r\n\r\n```js\r\nif (!inPre && whitespaceOption === 'condense') {\r\n  // condense consecutive whitespaces into single space\r\n  text = text.replace(whitespaceRE, ' ')\r\n}\r\n```\r\n\r\nand `\"&nbsp;\"`s are replaced by `\"\\xA0\"`s with entity decoder earlier.\r\n\r\nRelated issues is https://github.com/vuejs/vue/issues/10485\r\n\r\n**Suggestion**:\r\n\r\nNarrower whitespaceRE regexp, like `/[ \\t\\r\\n]+/g`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11059","RelatedDescription":"Open issue \"With `whitespace:condense` all &nbsps;, even meaningful, are converted to spaces\" (#11059)"},{"Id":"556489994","IsPullRequest":false,"CreatedAt":"2020-01-29T08:42:31","Actor":"justin-schroeder","Number":"11058","RawContent":null,"Title":"Props with values that are the same as the prop name are cast to true when the prop type is [Boolean, String]","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codepen.io/justin-schroeder/pen/wvBbKpO?editors=1010](https://codepen.io/justin-schroeder/pen/wvBbKpO?editors=1010)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIf the value of a prop is set to the same name as the prop, and the `type` is [Boolean, String] it gets cast to `true`.\r\n\r\n```vue\r\n<my-component\r\n  name=\"name\"\r\n/>\r\n```\r\n\r\n```vue\r\n// mycomponent\r\n{\r\n props: {\r\n   name: {\r\n     type: [Boolean, String]\r\n   }\r\n }\r\n}\r\n```\r\n\r\nIn the above `my-component` the value of the the name prop will be Boolean `true` if the value is String \"name\"\r\n\r\n### What is expected?\r\nThe value would be String \"name\"\r\n\r\n### What is actually happening?\r\nThe value is cast to Boolean `true`\r\n\r\n---\r\nI'm not confident this is a bug as there is a comment describing this condition in core (https://github.com/vuejs/vue/blob/dev/src/core/util/props.js#L36). The \"fix\" once you know what is going on is quite simple, change:\r\n```\r\n[Boolean, String]\r\nto\r\n[String, Boolean]\r\n```\r\nHowever, stumbling upon this condition was quite unexpected in \"user land\".  If this is indeed a feature, perhaps it’s just a matter of documenting it?\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11058","RelatedDescription":"Closed issue \"Props with values that are the same as the prop name are cast to true when the prop type is [Boolean, String]\" (#11058)"},{"Id":"556333414","IsPullRequest":false,"CreatedAt":"2020-01-28T16:56:43","Actor":"google-mac","Number":"11057","RawContent":null,"Title":"Watch not picking up on state changes","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-watcher-issue-z3zp0](https://codesandbox.io/s/vue-watcher-issue-z3zp0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a local state variable \"foobar\" (boolean). Create another boolean called \"changed\". Bind a watcher to the first to detect when it changes to true, setting the \"changed\" state to true. In a function, set \"foobar\" to true and then to false. Bind this function to a button. (CodeSandbox link has all this set up.)\r\n\r\n### What is expected?\r\nThe watcher should run when \"foobar\" is set to true, which would then set \"changed\" to true.\r\n\r\n### What is actually happening?\r\nChanged does not get set to true. The watcher is not called at all when the value is set to true.\r\n\r\n---\r\nIf you remove the line that sets \"foobar\" back to false, the watcher on \"foobar\" is triggered and \"changed\" is set to true, which is weird behavior. Even weirder is that if the function is async and an await statement is placed, then things work as expected. The await can go anywhere (as shown in the CodeSandbox example).\r\n\r\nWe ran into this because we had to have a \"changed\" flag to avoid a race condition. We are using Google Maps autocomplete, which was binding to an input element, but our event listeners still needed to be on that input as well. By having the flag, we make sure to only run the proper functions once and in the correct order. We are setting the flag to true immediately and then setting it back to false after some synchronous data manipulation, but when the value is set back to false, the first switch to true is not picked up. Weird. Then somehow we tried using await this.$nextTick(), which solved it but we don't think that should be necessary.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11057","RelatedDescription":"Closed issue \"Watch not picking up on state changes\" (#11057)"},{"Id":"556136112","IsPullRequest":false,"CreatedAt":"2020-01-28T11:06:22","Actor":"alitaassofnm","Number":"11056","RawContent":null,"Title":"test","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n6457481546\r\n  https://new-issue.vuejs.org/\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n\r\n中文用户请注意：\r\n请使用上面的链接来创建新的 issue。如果不是用上述工具创建的 issue 会被自动关闭。\r\n-->\r\n\r\n<!--\r\nLove vuejs? Please consider supporting us via Patreon or OpenCollective:\r\n👉  https://www.patreon.com/evanyou\r\n👉  https://opencollective.com/vuejs/donate\r\n-->\r\n","Url":"https://github.com/vuejs/vue/issues/11056","RelatedDescription":"Closed issue \"test\" (#11056)"},{"Id":"556108406","IsPullRequest":true,"CreatedAt":"2020-01-28T10:16:22","Actor":"mateonunez","Number":"11055","RawContent":null,"Title":"fix(attrs): check key on setAttr","State":"open","Body":"verify if key is invalid then catch error\r\n\r\nfix #11040\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11055","RelatedDescription":"Open PR \"fix(attrs): check key on setAttr\" (#11055)"},{"Id":"555554204","IsPullRequest":false,"CreatedAt":"2020-01-27T13:27:04","Actor":"MansurAliKoroglu","Number":"11054","RawContent":null,"Title":"@media does not work in .vue file's style area","State":"closed","Body":"### Version\r\n2.6.10\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/chrisvfritz/50wL7mdz/](https://jsfiddle.net/chrisvfritz/50wL7mdz/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a new component in .vue file\r\n```\r\n<template>\r\n    <header class=\"header\"></header>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .header {\r\n        height: 2000px;\r\n        background-color: black;\r\n    }\r\n\r\n    @media only screen and (min-width: 576px) {\r\n        .header {\r\n            height: 2000px;\r\n            background-color: white;\r\n        }\r\n    }\r\n</style>\r\n```\r\n\r\n### What is expected?\r\nMedia query detects different resolutions and apply styling\r\n\r\n### What is actually happening?\r\nMedia query does not work and the styling with line priority applies.\r\n\r\n---\r\nIf I don't use VueJS it works just fine. I tried with raw html css it is fine.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11054","RelatedDescription":"Closed issue \"@media does not work in .vue file's style area\" (#11054)"},{"Id":"555520094","IsPullRequest":false,"CreatedAt":"2020-01-27T11:41:35","Actor":"falcon03","Number":"11053","RawContent":null,"Title":"False value cause aria boolean attributes to be removed from the DOM","State":"open","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://www.dropbox.com/s/3ltqeent65djedw/problematic-false-aria-values.zip?dl=0](https://www.dropbox.com/s/3ltqeent65djedw/problematic-false-aria-values.zip?dl=0)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Extract the provided zip archive and enter the produced \"problematic-false-aria-values\" directory.\r\n2. Install dependencies (i.e. `yarn install`).\r\n3. Run the development server (i.e. `yarn serve`) and head to its url with your favorite browser.\r\n4. Inspect the DOM of the page: the `aria-checked` and `aria-expanded` attributes won't be there.\r\n5. Enable the checkbox and/or expand the toggle.\r\n6. Inspect the DOM of the page: this time both `aria-checked` and `aria-expanded` will be there as expected.\r\n7. Disable the checkbox and collapse the toggle.\r\n8. Inspect the DOM of the page: the `aria-checked` and `aria-expanded` attributes won't be there, again.\r\n\r\n### What is expected?\r\nAria attributes should be present in the DOM even if their value is false.\r\n\r\n### What is actually happening?\r\nAria attributes are not present in the DOM when their value is false.\r\n\r\n---\r\nUnlike for html 5 boolean values, removing aria attributes from the DOM when their value is false changes the page semantics and degrades its accessibility, causing markup validation issues as well.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11053","RelatedDescription":"Open issue \"False value cause aria boolean attributes to be removed from the DOM\" (#11053)"},{"Id":"555504169","IsPullRequest":true,"CreatedAt":"2020-01-27T11:09:41","Actor":"jedrula","Number":"11052","RawContent":null,"Title":"Do not warn when binding native modifier on dynamic components, fixes #10939","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\nRemoves confusing warning\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nFix #10939","Url":"https://github.com/vuejs/vue/pull/11052","RelatedDescription":"Open PR \"Do not warn when binding native modifier on dynamic components, fixes #10939\" (#11052)"},{"Id":"555382852","IsPullRequest":false,"CreatedAt":"2020-01-27T06:34:18","Actor":"Hesammousavi","Number":"11051","RawContent":null,"Title":"when will you release vue version 3.0","State":"closed","Body":"when will u release vue version 3.0 ?\r\ni ask it cuz im curious about it","Url":"https://github.com/vuejs/vue/issues/11051","RelatedDescription":"Closed issue \"when will you release vue version 3.0\" (#11051)"},{"Id":"555187853","IsPullRequest":true,"CreatedAt":"2020-01-26T14:08:18","Actor":"alanmatw","Number":"11050","RawContent":null,"Title":"docs: fix minor typo","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/11050","RelatedDescription":"Closed or merged PR \"docs: fix minor typo\" (#11050)"},{"Id":"555150857","IsPullRequest":false,"CreatedAt":"2020-01-26T03:30:58","Actor":"Abuntxa","Number":"11048","RawContent":null,"Title":"Allow the event emitter to know when all subscribers have voted to have finished","State":"closed","Body":"### What problem does this feature solve?\r\nI am trying to develop a cancelable event. \r\n\r\nTypically, this is implemented by emitting an intent event before an action. This event normally contains an argument passed by reference with the final voting result \"{ cancel: false }\". \r\n\r\nIf the event handler requires some kind of long validation in order to give the final vote (normally making use of promises), the emitter loses the chance of getting this result as the $emit function does not return any promise.\r\n\r\nI know that there are alternatives such as passing an array of promises in the cancelable argument itself. This way subcribers could push their promises in the argument passed by reference. And the emitter could receive all promises and wait for all of them to have concluded.\r\n\r\nBut it just seems a little hacky for something that looks quite usual. \r\n\r\nWhy should the subscriber have to adapt its implementation for an emmiter requirement?\r\n\r\nFurthermore, why the event subscriber cannot make use naturally of [the async functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) ?\r\n\r\n\r\n### What does the proposed API look like?\r\nIdeally I would change the default $emmit implementation in order to return a Promise; this promise would be resolved when all the promises returned by all the subscribers are over.\r\n\r\nCurrently the $emit implementation returns the component itself (for use cases I don't know) and therefore this would be a breaking change.\r\n\r\nThat's why I'm proposing a new operation for emmiting the event ($emitP).\r\n\r\n```typescript\r\nVue.prototype.$emitP = function event: string): Promise<void> {\r\n    const vm: Component = this\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      const lowerCaseEvent = event.toLowerCase()\r\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\r\n        tip(\r\n          `Event \"${lowerCaseEvent}\" is emitted in component `  \r\n          `${formatComponentName(vm)} but the handler is registered for \"${event}\". `  \r\n          `Note that HTML attributes are case-insensitive and you cannot use `  \r\n          `v-on to listen to camelCase events when using in-DOM templates. `  \r\n          `You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`\r\n        )\r\n      }\r\n    }\r\n    const promises = []\r\n    let cbs = vm._events[event]\r\n    if (cbs) {\r\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs\r\n      const args = toArray(arguments, 1)\r\n      const info = `event handler for \"${event}\"`\r\n      for (let i = 0, l = cbs.length; i < l; i  ) {\r\n       const res = invokeWithErrorHandling(cbs[i], vm, args, vm, info)\r\n       if (isPromise(res)) {\r\n        // We avoid breaking the notifications in case of subscriber error\r\n        promises.push(res.catch(() => undefined))\r\n       }\r\n      }\r\n    }\r\n    // We hide the results\r\n    return Promise.all(promises).then(()=>{})\r\n  }\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11048","RelatedDescription":"Closed issue \"Allow the event emitter to know when all subscribers have voted to have finished\" (#11048)"},{"Id":"555153058","IsPullRequest":true,"CreatedAt":"2020-01-26T03:30:02","Actor":"Abuntxa","Number":"11049","RawContent":null,"Title":"feat(events): Allow emmitter wait async subscriber","State":"closed","Body":"Implementation suggestion for [#11048 feature request](https://github.com/vuejs/vue/issues/11048)\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [X] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [X] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [X] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [X] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [X] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\n\r\n","Url":"https://github.com/vuejs/vue/pull/11049","RelatedDescription":"Closed or merged PR \"feat(events): Allow emmitter wait async subscriber\" (#11049)"},{"Id":"555127959","IsPullRequest":true,"CreatedAt":"2020-01-25T19:34:45","Actor":"FredKSchott","Number":"11047","RawContent":null,"Title":"Export public types from types/options.d.ts","State":"open","Body":"\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n[ ]x] Bugfix\r\n[x] ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [X] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [X] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [X] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [X] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n\r\nhttps://github.com/vuejs/vue/blob/dev/types/umd.d.ts#L3-L7\r\n\r\n`types/umd.d.ts` imports `DefaultData` (and others) from the `options.d.ts` file, but those type definitions are never actually exported. It seems like TypeScript doesn't fail on this (which is surprising, but I've seen them allow bugs in `.d.ts` files before) but other tooling gets confused and breaks when it can't find this export.\r\n","Url":"https://github.com/vuejs/vue/pull/11047","RelatedDescription":"Open PR \"Export public types from types/options.d.ts\" (#11047)"},{"Id":"554417330","IsPullRequest":false,"CreatedAt":"2020-01-24T08:28:54","Actor":"valq7711","Number":"11046","RawContent":null,"Title":"factory defined in render causes infinite loop and crash the app","State":"closed","Body":"### Version\r\n2.6.11\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/valq/j65gfkq4/47/](https://jsfiddle.net/valq/j65gfkq4/47/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\njust comment  `return h(factory_work);`\r\n\r\nand  uncomment  `return h(factory_crash);`\r\n\r\n### What is expected?\r\ncomponent is mounted and rendered\r\n\r\n### What is actually happening?\r\ninfinite loop that crashes the app\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/11046","RelatedDescription":"Closed issue \"factory defined in render causes infinite loop and crash the app\" (#11046)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"559259641","IsPullRequest":true,"CreatedAt":"2020-02-03T18:37:00","Actor":"kelunik","Number":"3114","RawContent":null,"Title":"feat(core): add 'on-complete' and 'on-abort' props to router-link","State":"open","Body":"This allows implementing a wrapper component handling aborted navigations, e.g. due to navigating to the exact same path (see #974), and other custom behavior such as a loading state showing on a button-like link.\r\n\r\n**Sample Implementation**\r\n\r\nNote: This doesn't trigger the scroll behavior hook, so that needs some separate PR / implementation automatically work, but that's fine, as we're not doing any navigation with this implementation.\r\n\r\n```vue\r\n<template>\r\n  <div id=\"app\">\r\n    <router-link to=\"/\" :on-abort=\"handleAbort\">Home</router-link>\r\n    <router-link to=\"/about\" :on-abort=\"handleAbort\">About</router-link>\r\n    <router-view :key=\"$route.fullPath + ' @ ' + sameRouteCounter\"/>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport HelloWorld from './components/HelloWorld.vue'\r\n\r\n@Component({\r\n  components: {\r\n    HelloWorld\r\n  }\r\n})\r\nexport default class App extends Vue {\r\n  sameRouteCounter: number = 0\r\n\r\n  mounted () {\r\n    this.$router.afterEach((to, from) => {\r\n      if (to.fullPath !== from.fullPath) {\r\n        this.sameRouteCounter = 0\r\n      }\r\n    })\r\n  }\r\n\r\n  handleAbort (err: any) {\r\n    if (err.name === 'NavigationDuplicated') {\r\n      this.sameRouteCounter++\r\n      this.$nextTick().then(() => {\r\n        window.scroll(0, 0)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\nImplements #3027.","Url":"https://github.com/vuejs/vue-router/pull/3114","RelatedDescription":"Open PR \"feat(core): add 'on-complete' and 'on-abort' props to router-link\" (#3114)"},{"Id":"558276976","IsPullRequest":false,"CreatedAt":"2020-01-31T18:09:15","Actor":"protium-dev","Number":"3113","RawContent":null,"Title":"Throw proper error when aborting navigation","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-router-undefined-error-7ltnr](https://codesandbox.io/s/vue-router-undefined-error-7ltnr)\r\n\r\n### Steps to reproduce\r\n* Create route \"/\" and \"/B\"\r\n* Redirect to \"/\" inside \"beforeEnter\" in /\"B\" using `next('/')`\r\n* Push \"/B\" from \"/\"\r\n\r\n### What is expected?\r\nTo have a proper error object thrown\r\n\r\n### What is actually happening?\r\nUndefined object thrown `Uncaught (in promise) undefined`\r\n\r\n---\r\nThis only happens when using `this.$router.push`. The behaviour is not present using `router-link`.\r\nEven though, I'd be great to always have proper errors. I suspect this is the line of code involved https://github.com/vuejs/vue-router/blob/dev/src/history/base.js#L163\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3113","RelatedDescription":"Closed issue \"Throw proper error when aborting navigation\" (#3113)"},{"Id":"557964317","IsPullRequest":true,"CreatedAt":"2020-01-31T07:34:36","Actor":"anselal","Number":"3112","RawContent":null,"Title":":pencil: docs(router): Update history mode apache config, fix SPA","State":"open","Body":"Make Single Page Applications load the correct endpoint on refresh and not just fallback to index.html\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3112","RelatedDescription":"Open PR \":pencil: docs(router): Update history mode apache config, fix SPA\" (#3112)"},{"Id":"551959995","IsPullRequest":false,"CreatedAt":"2020-01-29T17:17:57","Actor":"adi-zz","Number":"3106","RawContent":null,"Title":"push to named star route with empty pathMatch fails","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-template-7k3sv](https://codesandbox.io/s/vue-template-7k3sv)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Open https://codesandbox.io/s/vue-template-7k3sv\r\n1. Click [button 1]. Note you get to `https://7k3sv.csb.app/anything/123` - which is ok.\r\n1. Click [button 2].\r\n\r\n### What is expected?\r\nYou should get to `https://7k3sv.csb.app/anything/`.\r\n\r\n### What is actually happening?\r\nYou get to `https://7k3sv.csb.app/`.\r\n\r\n---\r\nI checked a couple of vue-router issues in the past, and I noticed posva has his own particular way of assessing bugs, so I know he will say this is not a bug. But is there anyone in vue-router team willing to acknowledge this is a bug? (cc @yyx990803, @kazupon)\r\n\r\nI used the latest vue-router available on npm (3.1.5). My current issue report says I used 3.1.3 because new-issue.vuejs.org does not let me choose 3.1.5. Guys, if you force me using new-issue.vuejs.org when reporting an issue, it would be nice to keep it up-to-date.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3106","RelatedDescription":"Closed issue \"push to named star route with empty pathMatch fails\" (#3106)"},{"Id":"556813703","IsPullRequest":true,"CreatedAt":"2020-01-29T17:17:51","Actor":"adi-zz","Number":"3111","RawContent":null,"Title":"fix: correctly calculate `path` when `pathMatch` is empty string (fix #3106)","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->","Url":"https://github.com/vuejs/vue-router/pull/3111","RelatedDescription":"Closed or merged PR \"fix: correctly calculate `path` when `pathMatch` is empty string (fix #3106)\" (#3111)"},{"Id":"554715940","IsPullRequest":false,"CreatedAt":"2020-01-24T12:44:11","Actor":"ejez","Number":"3110","RawContent":null,"Title":"Routes with non-ascii characters are not matched in SSR","State":"open","Body":"### Version\r\n3.1.5\r\n\r\n### Reproduction link\r\n[https://github.com/ejez/vue-router-ssr-issue](https://github.com/ejez/vue-router-ssr-issue)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Create a basic vue project with ssr and router:\r\n```sh\r\ngit clone https://github.com/ejez/vue-router-ssr-issue\r\ncd vue-router-ssr-issue && yarn\r\n```\r\n2. start project:\r\n```sh\r\nyarn start\r\n```\r\n3. open following link in browser:\r\nhttp://localhost:8080/à-propos\r\n\r\n\r\n### What is expected?\r\nRoute should match and browser should show page contents\r\n\r\n### What is actually happening?\r\n404 error in terminal\r\n\r\n---\r\nWhen on client, the previous route is matched and works normally, this can be checked by initially visiting http://localhost:8080 , and then clicking on the link \"Go To à-propos\".\r\n\r\nAnother route without \"non-ascii characters\" is provided to show that it works normally both in ssr and client:\r\nhttp://localhost:8080/about\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3110","RelatedDescription":"Open issue \"Routes with non-ascii characters are not matched in SSR\" (#3110)"},{"Id":"554520249","IsPullRequest":false,"CreatedAt":"2020-01-24T03:00:39","Actor":"Davilink","Number":"3109","RawContent":null,"Title":"Add Router.options in type definition","State":"closed","Body":"I don't know if it 'as design' or only a oversight, but the property 'options' is missing the Router type definition\r\nhttps://github.com/vuejs/vue-router/blob/256cf3edfc126411febe4573d427949d273a38b8/types/router.d.ts#L16-L59\r\n \r\nhere the property in the js\r\nhttps://github.com/vuejs/vue-router/blob/256cf3edfc126411febe4573d427949d273a38b8/src/index.js#L38","Url":"https://github.com/vuejs/vue-router/issues/3109","RelatedDescription":"Closed issue \"Add Router.options in type definition\" (#3109)"},{"Id":"551242706","IsPullRequest":false,"CreatedAt":"2020-01-23T13:46:01","Actor":"zoaked","Number":"3105","RawContent":null,"Title":"Router-link has excessive memory usage","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\r\n    <title>Back and forward navigation cancel</title>\r\n  </head>\r\n  <body>\r\n    <script src=\"https://unpkg.com/vue\"></script>\r\n    <script src=\"https://unpkg.com/vue-router\"></script>\r\n\r\n    <div id=\"app\">\r\n      <h1>Memory consumption test</h1>\r\n      <router-view />\r\n    </div>\r\n\r\n    <script>\r\n      const Home = {\r\n        template: `\r\n      <div>\r\n        <input type=\"button\" @click=\"showList()\" value=\"Begin\" />\r\n        <div class=\"links\" v-if=\"linksToShow\">\r\n          <div><input type=\"button\" @click=\"hideList()\" value=\"X\" /></div>\r\n          <ul>\r\n            <li v-for=\"link in linksToShow\" :key=\"link.id\">\r\n              <span class=\"colorDot\" :class=\"link.status\"></span>\r\n              <router-link :to=\"\\'/details/\\' + link.id\"\r\n                >{{ link.id }}</router-link\r\n              >\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n        `,\r\n        data() {\r\n          const statuses = ['outdated', 'unused', 'alarm', 'alert', 'normal']\r\n          this.links = []\r\n          for (let i = 0; i < 3000; i++) {\r\n            const status = statuses[Math.floor(Math.random() * statuses.length)]\r\n            this.links.push(\r\n              Object.freeze({\r\n                id: i.toString().padStart(10, '0'),\r\n                status: status\r\n              })\r\n            )\r\n          }\r\n          return {\r\n            linksToShow: null\r\n          }\r\n        },\r\n        methods: {\r\n          hideList() {\r\n            this.linksToShow = null\r\n          },\r\n          showList() {\r\n            this.linksToShow = this.links\r\n          }\r\n        }\r\n      }\r\n\r\n      const Details = {\r\n        data() {\r\n          return {\r\n            selectedLinkId: null\r\n          }\r\n        },\r\n        mounted() {\r\n          this.selectedLinkId = this.$route.params.linkId\r\n        },\r\n        template:\r\n          '<div><router-link to=\"/\">Back to Home</router-link><h1 v-if=\"selectedLinkId\">{{ selectedLinkId }}</h1></div>'\r\n      }\r\n\r\n      Vue.use(VueRouter)\r\n\r\n      const router = new VueRouter({\r\n        // mode: 'history',\r\n        routes: [\r\n          { path: '/', component: Home },\r\n          { path: '/details', component: Details }\r\n        ]\r\n      })\r\n\r\n      // router.push('/')\r\n\r\n      new Vue({\r\n        router,\r\n        el: '#app'\r\n      })\r\n    </script>\r\n  </body>\r\n</html>\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n\r\n\r\n* Take note of memory usage for your browser\r\n* Click the \"Begin\" button in the top left corner of the reproduction\r\n* Review memory usage of the browser \r\n* Click the \"X\" button right below the \"Begin\" button\r\n* Review memory usage of the browser \r\n\r\n### What is expected?\r\nA reasonable amount of memory is used for a component and that memory is released when the component is no longer utilized\r\n\r\n### What is actually happening?\r\nrouter-link is using an excessive amount of memory and is not able to release it\r\n\r\n---\r\nI\r\nOptional reproduction steps:\r\n* Close the browser window and open the reproduction in a fresh instance \r\n* Edit the Home.template so that instead of there being a <router-link> tag, it uses another element (I tried it with an a tag as well as a span tag)\r\n* Also edit the </router-link> tag to be a closing tag for whatever element you chose in the previous step\r\n* Take note of memory usage of the browser\r\n* Click the \"Begin\" button in the top left corner of the reproduction\r\n* Wait a few seconds for the text to appear\r\n* Review memory usage of the browser\r\n* Compare the significant difference from router-link results\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3105","RelatedDescription":"Closed issue \"Router-link has excessive memory usage\" (#3105)"},{"Id":"553081845","IsPullRequest":false,"CreatedAt":"2020-01-22T08:33:06","Actor":"pavinthan","Number":"3108","RawContent":null,"Title":"Set $route meta data dynamically.","State":"closed","Body":"### What problem does this feature solve?\r\nFor SEO / Layout purpose good to have ```$route.setMeta``` method to update current route's meta information because if we view an artical, I'll fetch artical title using route param first, then We can set the page title.\r\n\r\nplease advice me.\r\n\r\n### What does the proposed API look like?\r\nTo update current route meta data\r\n```\r\nthis.$route.setMeta({\r\n    title: \"Example title from service.\"\r\n})\r\n```\r\n\r\nThen we can have separete hook for route modifed like\r\n```\r\nrouter.onUpdate((route) => {\r\n    // do something here\r\n    document.title = route.meta.title;\r\n})\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3108","RelatedDescription":"Closed issue \"Set $route meta data dynamically.\" (#3108)"},{"Id":"553077559","IsPullRequest":false,"CreatedAt":"2020-01-21T19:22:17","Actor":"pavinthan","Number":"3107","RawContent":null,"Title":"Set $route meta data dynamically.","State":"closed","Body":"This is not a bug report, just a featue request.\r\n\r\nFor SEO / Layout purpose good to have `$route.setMeta` method to update current route's meta information because if we view an artical, I'll fetch artical title using route param first, then We can set the page title.\r\n\r\nplease advice me.","Url":"https://github.com/vuejs/vue-router/issues/3107","RelatedDescription":"Closed issue \"Set $route meta data dynamically.\" (#3107)"},{"Id":"551235486","IsPullRequest":false,"CreatedAt":"2020-01-17T06:49:18","Actor":"VincentMRA","Number":"3104","RawContent":null,"Title":"Rerouted when query contains 'blog' ","State":"closed","Body":"Dear,\r\n\r\nI've noticed some strange behaviour of the router recently.\r\nWhenever my query contains the word 'blog' it gets rerouted to homepage.\r\n\r\nFor example a route where test.com/params?next=-LkSAnyVzUPorYnblog \r\nGets rerouted to / \r\nwhile test.com/params?next=-LkSAnyVzUPorYn9Q1Qx \r\ngoes to the requested route.\r\n\r\nI've double checked my code to see whether it provides from my error but can't seem to find anything that reroutes with such a query.\r\n\r\nThanks a lot.\r\n\r\nKind regards ","Url":"https://github.com/vuejs/vue-router/issues/3104","RelatedDescription":"Closed issue \"Rerouted when query contains 'blog' \" (#3104)"},{"Id":"550681095","IsPullRequest":false,"CreatedAt":"2020-01-16T09:29:42","Actor":"vkaelin","Number":"3103","RawContent":null,"Title":"Router link active class not applied with non ascii params","State":"open","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/romantic-browser-xvj0m](https://codesandbox.io/s/romantic-browser-xvj0m)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n* Refresh page at https://xvj0m.csb.app/user/test : the active class works fine.\r\n* Refresh page at https://xvj0m.csb.app/user/tést : the active class is not applied.\r\n\r\n### What is expected?\r\nActive class on the router link\r\n\r\n### What is actually happening?\r\nNo active class is applied\r\n\r\n---\r\nThe active class is not even applied when the params is encoded (e.g: https://xvj0m.csb.app/user/t%C3%A9st).\r\n\r\nFinally, the active class is applied when you click on router links, even with non ASCII char. The only problem is at the first load of the page.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3103","RelatedDescription":"Open issue \"Router link active class not applied with non ascii params\" (#3103)"},{"Id":"550460832","IsPullRequest":false,"CreatedAt":"2020-01-16T09:20:01","Actor":"hitostacha","Number":"3101","RawContent":null,"Title":"Using next(false) or next(error) while navigating to a component manually doesn't redirect to any component","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/repro-history-yigiu?fontsize=14&hidenavigation=1&theme=dark\"](https://codesandbox.io/s/repro-history-yigiu?fontsize=14&hidenavigation=1&theme=dark\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Click in redirect with parameter, the variable will be passed to the component\r\n2. Click in redirect without parameter, the component will note that there's no variable and will cancel the navigation\r\n3. Try manually navigating to the component \"/query\" and no component will render at all.\r\n\r\n### What is expected?\r\nRedirection to the root ('/') component (it should be 'Main' in this case)\r\n\r\n### What is actually happening?\r\nRedirection to an empty component (as the 'from' gives out an empty route)\r\n\r\n---\r\nI was trying to fetch some data from the backend, I needed a boolean flag from the server whether or not should I render this view at all, or just display some error message and handle the exception, calling `next(new Error())` and handling the error accordingly with `router.onError();` works when I'm accessing the component within the application, but doesn't when I navigate manually to the component.\r\nI can work around this just doing `next(from.path)`, but it won't trigger the `.onError()` I mentioned earlier.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3101","RelatedDescription":"Closed issue \"Using next(false) or next(error) while navigating to a component manually doesn't redirect to any component\" (#3101)"},{"Id":"550587874","IsPullRequest":false,"CreatedAt":"2020-01-16T05:44:41","Actor":"priyankagupta34","Number":"3102","RawContent":null,"Title":"Navigation locations are stacking over one another","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n\r\nHere i am redirecting, / and * to login page.\r\n`export default new Router({\r\n    routes: [\r\n\r\n        {\r\n            path: '/login',\r\n            name: 'login',\r\n            component: Login\r\n        },\r\n        {\r\n            path: '/signup',\r\n            name: 'signup',\r\n            component: Signup\r\n        },\r\n        {\r\n            path: '*',\r\n            redirect: '/login'\r\n        },\r\n        {\r\n            path: '/',\r\n            redirect: '/login'\r\n        },\r\n    ]\r\n})`\r\n\r\nTo test this i wrote in url bar `http://localhost:8080/fhhfjfkjfkkf` just to make sure it redirects to login page. However i noticed that this got redirected to `http://localhost:8080/fhhfjfkjfkkf#/login`\r\nExpection: `http://localhost:8080/login`\r\n\r\nBecause of this problem while swapping between login and signup page via button click, i am facing `Navigating to current location (\"/login\") is not allowed` Error.\r\nThis is happening because i am trying to again got to `/login` from page `http://localhost:8080/fhhfjfkjfkkf#/login` via `this.$router.push('/login').catch((err)=>{\r\n                console.log('err going to login ', err);})`\r\nI am guessing it would be better if this was checking the url first just like how u find in angularjs, angular or react routing systems, and without throwing any such error it silently redirects to the page if it suits because what will a front-end user do with that kind of message anyway.\r\n","Url":"https://github.com/vuejs/vue-router/issues/3102","RelatedDescription":"Closed issue \"Navigation locations are stacking over one another\" (#3102)"},{"Id":"549494310","IsPullRequest":false,"CreatedAt":"2020-01-14T11:07:44","Actor":"peakrock","Number":"3100","RawContent":null,"Title":"I want get default query params with default route, but failed, could you tell how to implement this ?","State":"closed","Body":"\r\n* Path : \r\n\r\n```\r\n/quote/approval-frontend/?quoteNum=12321\r\n```\r\n\r\nbut default  component can not get the query params.\r\n\r\nI do not want use `/quote/approval-frontend/#/?quoteNum=12321`  to redirect to default route, because `#` can not be send to server ( this link need to be protect SSO, and go back this url, so can not use #)\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3100","RelatedDescription":"Closed issue \"I want get default query params with default route, but failed, could you tell how to implement this ?\" (#3100)"},{"Id":"546772988","IsPullRequest":false,"CreatedAt":"2020-01-14T10:13:04","Actor":"theharshin","Number":"3091","RawContent":null,"Title":"<router-link> throws an error if multiple child elements provided with v-slot API.","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/condescending-yalow-gn5fz?fontsize=14&hidenavigation=1&module=%2Fsrc%2FApp.vue&theme=dark](https://codesandbox.io/s/condescending-yalow-gn5fz?fontsize=14&hidenavigation=1&module=%2Fsrc%2FApp.vue&theme=dark)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a router-link component with v-slot API and provide multiple child elements.\r\n\r\n### What is expected?\r\nAccording to the docs here: https://router.vuejs.org/api/#v-slot-api-3-1-0\r\nThe content should be automatically wrapped with <span> and router-link should work fine.\r\n\r\n### What is actually happening?\r\nThe rendering of a component fails and throws an error with the following message: \"TypeError: this.props is undefined\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3091","RelatedDescription":"Closed issue \"<router-link> throws an error if multiple child elements provided with v-slot API.\" (#3091)"},{"Id":"549283363","IsPullRequest":false,"CreatedAt":"2020-01-14T01:51:32","Actor":"yonicb","Number":"3099","RawContent":null,"Title":"💥 The v-for iteration returns me an error!","State":"closed","Body":"This is my code!\r\n```vue\r\n<template>\r\n   <ul>\r\n       <li v-for=\"fruit of fruits\">\r\n         <img :src=\"fruit.image\" alt class=\"icon\" />\r\n         {{fruit.name}}\r\n      </li>\r\n   </ul>\r\n</template>\r\n<script>\r\nexport default {\r\n   data() {\r\n      return {\r\n         fruits: [\r\n            {\r\n               name: \"Apple\",\r\n               image: \"../images/apple.png\"\r\n            },\r\n            {\r\n               name: \"Orange\",\r\n               image: \"../images/orange.png\"\r\n            },\r\n            {\r\n               name: \"Plum\",\r\n               image: \"../images/plum.png\"\r\n            }\r\n         ]\r\n      };\r\n   }\r\n};\r\n</script>\r\n```\r\n\r\nThis sends me an error! 💥\r\n```vue\r\n<li v-for=\"fruit of fruits\">\r\n```","Url":"https://github.com/vuejs/vue-router/issues/3099","RelatedDescription":"Closed issue \"💥 The v-for iteration returns me an error!\" (#3099)"},{"Id":"548833739","IsPullRequest":true,"CreatedAt":"2020-01-13T11:44:44","Actor":"15238381693","Number":"3098","RawContent":null,"Title":"docs(ja): remove extra space","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3098","RelatedDescription":"Closed or merged PR \"docs(ja): remove extra space\" (#3098)"},{"Id":"548644830","IsPullRequest":false,"CreatedAt":"2020-01-13T11:43:57","Actor":"koresar","Number":"3095","RawContent":null,"Title":"Console flooded with \"Non-Error promise rejection captured with value: undefined\"","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://exmaple.com/NOT_NEEDED](https://exmaple.com/NOT_NEEDED)\r\n\r\n### Steps to reproduce\r\nI'm calling `context.redirect(\"/\")` in Nuxt.js middleware. I've found the exact lines in vue-router source code where it rejects with `undefined`.\r\n\r\n### What is expected?\r\nPromise rejections contain error object or do not reject.\r\n\r\n### What is actually happening?\r\nConsole is flooded with \"Non-Error promise rejection captured with value: undefined\". We receive huge amount of Sentry issues automatically caught as `UnhandledRejection`\r\n\r\n---\r\nThe `History.confirmTransition` method calls the function `abort()` (stack trace shows this exact line https://github.com/vuejs/vue-router/blob/fc42d9cf8e1d381b885c9af37003198dce6f1161/src/history/base.js#L163 ) which in turn calls `onAbort(err)` (stack trace shows this exact line https://github.com/vuejs/vue-router/blob/fc42d9cf8e1d381b885c9af37003198dce6f1161/src/history/base.js#L117 ) within the `transitionTo` method (stack trace shows this exact line: https://github.com/vuejs/vue-router/blob/fc42d9cf8e1d381b885c9af37003198dce6f1161/src/history/base.js#L88 )\r\n\r\n The `onAbort` then calls `reject(err)` (as Promise rejection), but the `err` is undefined (because `abort()`).\r\n\r\nI assume, that the rejection should never happen.\r\n\r\nTo my very limited knowledge this line:\r\n```js\r\nonAbort && onAbort(err)\r\n```\r\nshould be replaced with this:\r\n```js\r\nerr && onAbort && onAbort(err)\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3095","RelatedDescription":"Closed issue \"Console flooded with \"Non-Error promise rejection captured with value: undefined\"\" (#3095)"},{"Id":"548673918","IsPullRequest":false,"CreatedAt":"2020-01-13T10:59:42","Actor":"ctwowt","Number":"3096","RawContent":null,"Title":"nested keep-alive and router-view render last route path component not current route component ","State":"closed","Body":"### Version\r\n3.1.3\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/peaceful-tdd-k2tvn](https://codesandbox.io/s/peaceful-tdd-k2tvn)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nsee gif or \r\nclick buttons: \r\nHome -> a.aa.aaa -> Home -> a.aa.bbb \r\n\r\n### What is expected?\r\nrouter-view working correctly\r\n\r\n### What is actually happening?\r\nrouter-view render last route component not current route path component  \r\n\r\n---\r\nhttps://github.com/vuejs/vue-router/blob/927f0c9013141c95df77a82b84acb7cc77c238c5/src/components/view.js#L35\r\n\r\nBut I Change code \r\n\r\n```js\r\nif (vnodeData.keepAlive && parent._inactive) {\r\n     inactive = true\r\n}\r\n```\r\nto\r\n\r\n```js\r\nif (vnodeData.keepAlive) {\r\n    inactive = parent._inactive\r\n}\r\n```\r\n\r\nIt's working.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->\r\n\r\n![keep-alive-router-view-bug3](https://user-images.githubusercontent.com/37615488/72230539-2907f800-35f1-11ea-99d2-f6a0cf1921be.gif)\r\n","Url":"https://github.com/vuejs/vue-router/issues/3096","RelatedDescription":"Closed issue \"nested keep-alive and router-view render last route path component not current route component \" (#3096)"},{"Id":"548807914","IsPullRequest":false,"CreatedAt":"2020-01-13T10:57:58","Actor":"jiankafei","Number":"3097","RawContent":null,"Title":"多级嵌套路由无法渲染到一个根 router-view","State":"closed","Body":"### What problem does this feature solve?\r\n路由的嵌套配置就是为了说明路由的层级情况，父子关系，但现在的嵌套路由却恰恰相反，下一级的路由只能渲染到父级的 router-view 里，这种设计有点反人类，而且目前的设计完全可以通过组件的方式很方便的解决，为什么这么设计，能说了理由吗，我只知道同级路由是没有必要前进或者返回的，就像四个底栏视图，彼此之间就是同级的，不会因为从底栏第一视图切换到第二视图，按返回键又返回到第一视图，而是直接退出，这更符合原生app的路由设计，如果当前的路由设计就是为了应对这种情况，我觉得完全是反人类。\r\n\r\n### What does the proposed API look like?\r\n嵌套路由是为了说明路由层级，而不是视图层级，视图层级的局部切换通过组件解决，所有路由渲染到一个根 router-view 里，路由就应该是页面切换，不是局部切换，局部切换都是同级切换，因此根本没必要路由支持。\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3097","RelatedDescription":"Closed issue \"多级嵌套路由无法渲染到一个根 router-view\" (#3097)"},{"Id":"548446150","IsPullRequest":true,"CreatedAt":"2020-01-11T15:55:47","Actor":"kxbk100","Number":"3094","RawContent":null,"Title":"Update navigation-guards.md","State":"open","Body":"英文逗号改为中文逗号\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3094","RelatedDescription":"Open PR \"Update navigation-guards.md\" (#3094)"},{"Id":"547884676","IsPullRequest":false,"CreatedAt":"2020-01-10T06:07:18","Actor":"2234839","Number":"3093","RawContent":null,"Title":"query 对象的值应可以为数值，实际是中可以正确的传递数值的","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/3093","RelatedDescription":"Closed issue \"query 对象的值应可以为数值，实际是中可以正确的传递数值的\" (#3093)"},{"Id":"547084185","IsPullRequest":false,"CreatedAt":"2020-01-08T20:26:30","Actor":"MattixNow","Number":"3092","RawContent":null,"Title":"How to use vue router to redirect to a file","State":"closed","Body":"How to use vue router to redirect to a file.\r\nI want to redirect the user to a pdf file from the '/cv' location. I've tried \r\n```\r\nextendRoutes(routes, resolve) {\r\n      routes.push({\r\n        path: \"/CV.pdf\",\r\n        name:'cv',\r\n      });\r\n    },\r\n```\r\n\r\nCan somebody help me ?","Url":"https://github.com/vuejs/vue-router/issues/3092","RelatedDescription":"Closed issue \"How to use vue router to redirect to a file\" (#3092)"},{"Id":"546615479","IsPullRequest":true,"CreatedAt":"2020-01-08T06:14:12","Actor":"zhangjiawei0","Number":"3090","RawContent":null,"Title":"docs(zh): remove extra space","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/3090","RelatedDescription":"Closed or merged PR \"docs(zh): remove extra space\" (#3090)"},{"Id":"545400244","IsPullRequest":false,"CreatedAt":"2020-01-05T16:46:28","Actor":"borodadada","Number":"3089","RawContent":null,"Title":"beforeEnter (node:15088) UnhandledPromiseRejectionWarning: undefined","State":"closed","Body":"### What problem does this feature solve?\r\nHello, i try create redirect, example\r\n\r\n    {\r\n        path: '/admin/',\r\n        component: resolve => require(['../components/admin/index.vue'], resolve),\r\n        beforeEnter: (to, from, next) => {\r\n            next('/test');\r\n        }\r\n    },\r\non client side work fine, BUT server console write:\r\n\r\n(node:15088) UnhandledPromiseRejectionWarning: undefined\r\n(node:15088) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)\r\n\r\nwhats is problem?\r\n\r\n### What does the proposed API look like?\r\n\"vue-router\": \"^3.1.3\",\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3089","RelatedDescription":"Closed issue \"beforeEnter (node:15088) UnhandledPromiseRejectionWarning: undefined\" (#3089)"},{"Id":"545399903","IsPullRequest":false,"CreatedAt":"2020-01-05T10:34:57","Actor":"borodadada","Number":"3088","RawContent":null,"Title":"beforeEnter (node:15088) UnhandledPromiseRejectionWarning: undefined","State":"closed","Body":"Hello, i try create redirect, example\r\n\r\n```\r\n    {\r\n        path: '/admin/',\r\n        component: resolve => require(['../components/admin/index.vue'], resolve),\r\n        beforeEnter: (to, from, next) => {\r\n            next('/test');\r\n        }\r\n    },\r\n```\r\n\r\non client side work fine, BUT server console write\r\n\r\n```\r\n(node:15088) UnhandledPromiseRejectionWarning: undefined\r\n(node:15088) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)\r\n```\r\n\r\nwhats is problem?","Url":"https://github.com/vuejs/vue-router/issues/3088","RelatedDescription":"Closed issue \"beforeEnter (node:15088) UnhandledPromiseRejectionWarning: undefined\" (#3088)"},{"Id":"544888819","IsPullRequest":false,"CreatedAt":"2020-01-03T07:52:27","Actor":"hyjiacan","Number":"3087","RawContent":null,"Title":"I've code api: removeRoute and replaceRoutes, may I make a pull request ?","State":"open","Body":"### What problem does this feature solve?\r\nIn order to split large project into modules, I (and someone else: #1234 #298 ) is looking for a method for dynamically routing. And I've code them, may I make a pull request ?\r\n\r\nHere is the commit: https://github.com/hyjiacan/vue-router/commit/e8eef6da398684de0aca406cfc7e722e284c664a\r\n\r\n### What does the proposed API look like?\r\n\r\nThey are identified by `route path`\r\n\r\n#### Remove route\r\n\r\nRemove route which matches path `/path/to/` and all its children routes:\r\n\r\n```javascript\r\nrouter.removeRoute('/path/to')\r\n```\r\n\r\n#### Replace routes\r\n\r\nReplace route `/path/to` and more:\r\n\r\n```javascript\r\nrouter.replaceRoutes([{\r\n  path: '/path/to',\r\n  component: NewComponent,\r\n  // something else\r\n}, {\r\n  // more replacement\r\n}])\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/3087","RelatedDescription":"Open issue \"I've code api: removeRoute and replaceRoutes, may I make a pull request ?\" (#3087)"},{"Id":"544887458","IsPullRequest":false,"CreatedAt":"2020-01-03T07:46:49","Actor":"hyjiacan","Number":"3086","RawContent":null,"Title":"I've code api: removeRoute and replaceRoutes, may I make a pull request ?","State":"closed","Body":"In order to split large project into modules, I (and someone else: #1234 #298 ) is looking for a method for dynamically routing. And I've code them, may I make a pull request ?\r\n\r\nHere is the commit: https://github.com/hyjiacan/vue-router/commit/e8eef6da398684de0aca406cfc7e722e284c664a\r\n\r\n# Samples\r\n\r\nThey are identified by `route path`\r\n\r\n## Remove route\r\n\r\nRemove path `/path/to/` and all its children routes:\r\n\r\n```javascript\r\nrouter.removeRoute('/path/to')\r\n```\r\n\r\n## Replace routes\r\n\r\nReplace route `/path/to`:\r\n\r\n```javascript\r\nrouter.replaceRoutes([{\r\n  path: '/path/to',\r\n  component: NewComponent,\r\n  // something else\r\n}, {\r\n  // more replacement\r\n}])\r\n```\r\n\r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/3086","RelatedDescription":"Closed issue \"I've code api: removeRoute and replaceRoutes, may I make a pull request ?\" (#3086)"},{"Id":"544481814","IsPullRequest":false,"CreatedAt":"2020-01-02T08:44:02","Actor":"killer99999","Number":"3085","RawContent":null,"Title":"已处理","State":"closed","Body":"已处理 ","Url":"https://github.com/vuejs/vue-router/issues/3085","RelatedDescription":"Closed issue \"已处理\" (#3085)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"558957076","IsPullRequest":false,"CreatedAt":"2020-02-03T09:34:32","Actor":"HuberTRoy","Number":"1673","RawContent":null,"Title":"Default mutations for set state.","State":"open","Body":"### What problem does this feature solve?\r\nIf I just want to set a value for one state, I must code: \r\n\r\n```js\r\nconst state = {\r\n     test : 1\r\n}\r\n\r\nconst mutations = {\r\n      setTest(state, value) {\r\n            state.test = value\r\n      }\r\n}\r\n```\r\n\r\nI wrote or read most of the mutations are this kind of. So If `vuex` set default mutations for all states we will reduce most of the mutations set.\r\n\r\n### What does the proposed API look like?\r\n\r\n```js\r\nconst state = {\r\n    test: 1\r\n}\r\n\r\nconst actions = {\r\n      async setTestWhenRequest(context) {\r\n            let res = await axios.get('http://www.new-issue.vuejs.org')\r\n            if ( res.code === 200) {\r\n                  context.commit('$setTest', 2)\r\n            }\r\n      }\r\n}\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1673","RelatedDescription":"Open issue \"Default mutations for set state.\" (#1673)"},{"Id":"548374675","IsPullRequest":true,"CreatedAt":"2020-02-02T06:41:42","Actor":"huybuidac","Number":"1665","RawContent":null,"Title":"Apply mixins to module","State":"closed","Body":"Support inject common mutations/getters/actions to each Module","Url":"https://github.com/vuejs/vuex/pull/1665","RelatedDescription":"Closed or merged PR \"Apply mixins to module\" (#1665)"},{"Id":"556895643","IsPullRequest":false,"CreatedAt":"2020-01-29T14:23:53","Actor":"Candane","Number":"1672","RawContent":null,"Title":"为什么不推荐使用常量替代 action事件类型?","State":"closed","Body":"为什么不是使用常量代替 Action 类型，通常 Mutation 的类型只在一个 store 使用，如果修改 y 一个类型也在一个 store 里面修改，但是 action 的话可能在很多组件中会使用到，修改的面积会比 Mutation 大得多，为什么官方只推荐使用常量替代 Mutation 事件类型？","Url":"https://github.com/vuejs/vuex/issues/1672","RelatedDescription":"Closed issue \"为什么不推荐使用常量替代 action事件类型?\" (#1672)"},{"Id":"555645733","IsPullRequest":true,"CreatedAt":"2020-01-27T16:09:47","Actor":"kiaking","Number":"1670","RawContent":null,"Title":"#1591 refactor: do not mutate mutation payload in the todo app example","State":"closed","Body":"Issue #1591\r\n\r\nThis PR refactors the mutation logic in todo example to not mutate mutation payload directly in the simplest form.\r\n\r\nIt's still using the reference to todo (at `indexOf`) but I think it's more clearer than before that Vuex recommends to not mutate payload directly.","Url":"https://github.com/vuejs/vuex/pull/1670","RelatedDescription":"Closed or merged PR \"#1591 refactor: do not mutate mutation payload in the todo app example\" (#1670)"},{"Id":"555668976","IsPullRequest":false,"CreatedAt":"2020-01-27T15:57:21","Actor":"steveworkman","Number":"1671","RawContent":null,"Title":" Cannot set reactive property on undefined, null, or primitive value: undefined when using Vuex and Storybook 5.3","State":"open","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://github.com/dylanbanks96/storybook-demo](https://github.com/dylanbanks96/storybook-demo)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nCreate a basic component using Vuex, and add storybook documentation. The component attempts to commit data to vuex state via an action and mutator\r\n\r\nEssentially, I'm trying to commit input field data to my store\r\n\r\n### What is expected?\r\nI'm able to access and modify state\r\n\r\n### What is actually happening?\r\nCannot set reactive property on undefined, null, or primitive value: undefined\" and a TypeError: \"index.js:47 TypeError: Cannot use 'in' operator to search for 'foo' in undefined\".\r\n\r\n---\r\nThis may be a storybook issue, but it may be a Vuex issue as well. I've also raised this on S/O https://stackoverflow.com/questions/59919325/vuex-storybook-cannot-set-reactive-property-on-undefined-null-or-primitive\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1671","RelatedDescription":"Open issue \" Cannot set reactive property on undefined, null, or primitive value: undefined when using Vuex and Storybook 5.3\" (#1671)"},{"Id":"555507435","IsPullRequest":false,"CreatedAt":"2020-01-27T14:16:39","Actor":"tbetous","Number":"1669","RawContent":null,"Title":"Slow performance using getter references other getter","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/tbetous/y4m0keav/53/](https://jsfiddle.net/tbetous/y4m0keav/53/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1 - Write a getter `myGetter` that use another getter `otherGetter` by using `getters` argument\r\n\r\n```js\r\nmyGetter: (state, getters) => {\r\n      console.time('myGetter')\r\n      const t0 = performance.now();\r\n      for(let i = 0; i < 100; i  ) {\r\n        const foo = getters.otherGetter\r\n      }\r\n      console.timeEnd('myGetter')\r\n      const t1 = performance.now();\r\n      return t1 - t0\r\n    },\r\n```\r\n\r\n2 - Write a getter `myGetterOptimized` that use another getter `otherGetter` by destructuring `getters`\r\n\r\n```js\r\nmyGetterOptimized: (state, {otherGetter}) => {\r\n      console.time('myGetterOptimized')\r\n      const t0 = performance.now();\r\n      for(let i = 0; i < 100; i  ) {\r\n        const foo = otherGetter\r\n      }\r\n      console.timeEnd('myGetterOptimized')\r\n      const t1 = performance.now();\r\n      return t1 - t0\r\n    },\r\n```\r\n\r\n3 - Compare time execution\r\n\r\n### What is expected?\r\nTime execution should be the same.\r\n\r\n### What is actually happening?\r\nTime execution is different :\r\n- getterOptimized : 0.21999999989930075\r\n- getterNotOptimized : 494.8850000000675\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1669","RelatedDescription":"Closed issue \"Slow performance using getter references other getter\" (#1669)"},{"Id":"554690831","IsPullRequest":false,"CreatedAt":"2020-01-27T01:19:55","Actor":"vicglarson","Number":"1668","RawContent":null,"Title":"dispatch interface returns pending promise instead of resolved","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/jtzqmxk3/](https://jsfiddle.net/jtzqmxk3/)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nin this request insterface of dispatch changed\r\nLook at this https://github.com/vuejs/vuex/pull/1115/files#diff-3bf35cd41da51153dcca3003656f7c67R139\r\n\r\nit returns now pending promise for returned true from action instead of resolved. You can see it at jsfiddle console.\r\n\r\n\r\n\r\n\r\n\r\n### What is expected?\r\nuntouched Promise.resolve(true) returned by action wrapper\r\nwhen no any action subscribers added\r\n\r\n\r\n### What is actually happening?\r\nreturned pending promise\r\n\r\n---\r\nalso you can look at \r\nhttps://github.com/vuejs/vuex/issues/1572\r\nwhich targets the same pull request\r\n\r\nPerhaps I have bad assumptions. But behavior for trivial action response is not specified here https://vuex.vuejs.org/ru/guide/actions.html\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1668","RelatedDescription":"Closed issue \"dispatch interface returns pending promise instead of resolved\" (#1668)"},{"Id":"552158159","IsPullRequest":true,"CreatedAt":"2020-01-20T08:56:42","Actor":"Zhwt","Number":"1667","RawContent":null,"Title":"docs: Add clarity of module definition","State":"open","Body":"Add documentation clarity of module definition","Url":"https://github.com/vuejs/vuex/pull/1667","RelatedDescription":"Open PR \"docs: Add clarity of module definition\" (#1667)"},{"Id":"548553432","IsPullRequest":true,"CreatedAt":"2020-01-12T23:55:24","Actor":"huybuidac","Number":"1666","RawContent":null,"Title":"Store adds reset function that helps reset to initial state","State":"closed","Body":"Currently, there is no true way to reset to initial state.\r\n\r\nAdding Reset function to do that.\r\n\r\nFixes: https://github.com/vuejs/vuex/issues/1118","Url":"https://github.com/vuejs/vuex/pull/1666","RelatedDescription":"Closed or merged PR \"Store adds reset function that helps reset to initial state\" (#1666)"},{"Id":"547194166","IsPullRequest":false,"CreatedAt":"2020-01-09T01:22:33","Actor":"wangqiang66","Number":"1664","RawContent":null,"Title":"Typescript下webpack热更新 actions多次执行","State":"open","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[http://localhost:9529/login](http://localhost:9529/login)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. typescript 正常书写modules 例如添加\r\n@Action\r\npublic login() {}\r\n2. webpack 采用热更新方式\r\n3.修改modules代码 例如public login() { console.log(test)} 保存\r\n\r\n### What is expected?\r\n执行login的时候的用更新的代码\r\n\r\n### What is actually happening?\r\n以前的方法和新的方法都执行\r\n\r\n\r\n---\r\n热更新才会出现，需要动态的修改源码， 无法提供重现链接\r\n\r\n正常打包不会出现这个问题，热更新的时候才会出现\r\n\r\n查看store._actions 发现login对象是一个数组，有两条数据\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1664","RelatedDescription":"Open issue \"Typescript下webpack热更新 actions多次执行\" (#1664)"},{"Id":"546753496","IsPullRequest":false,"CreatedAt":"2020-01-08T09:51:42","Actor":"wangqiang66","Number":"1663","RawContent":null,"Title":"Typescript webpack 热加载开发模式下修改store/modules的内容。store._actions下面会多加一个事件","State":"closed","Body":"如图\r\n\r\n![image](https://user-images.githubusercontent.com/9331467/71968195-62caae80-323f-11ea-92fb-c4abaa90a3bf.png)\r\n\r\n旧的事件没有删除，导致会触发以前的方法","Url":"https://github.com/vuejs/vuex/issues/1663","RelatedDescription":"Closed issue \"Typescript webpack 热加载开发模式下修改store/modules的内容。store._actions下面会多加一个事件\" (#1663)"},{"Id":"546444301","IsPullRequest":false,"CreatedAt":"2020-01-07T18:41:53","Actor":"BonBonSlick","Number":"1662","RawContent":null,"Title":"Error in v-on handler: \"TypeError: Cannot destructure property 'data' of 'undefined' as it is undefined.\"","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vuex/issues/1662","RelatedDescription":"Closed issue \"Error in v-on handler: \"TypeError: Cannot destructure property 'data' of 'undefined' as it is undefined.\"\" (#1662)"},{"Id":"545746876","IsPullRequest":false,"CreatedAt":"2020-01-06T14:11:39","Actor":"wangzhiyao66","Number":"1661","RawContent":null,"Title":"Vue项目报错：Uncaught SyntaxError: Unexpected token <","State":"closed","Body":"1. Vue  and  Typescript Projects built\r\n2.I want to use webworker to count user data,\r\n3. The code snippet is as follows\r\n// webworker.js\r\n`\r\nonmessage = function (event) {\r\n  // postmessage的参数\r\n  const eventData = {\r\n    token: event.data.token,\r\n    requestData: event.data,\r\n    url: event.data.url,\r\n  }\r\n\r\n  // 请求地址 在 worker.service.ts 里面\r\n\r\n  const sleep = function (time) {\r\n    /**\r\n     *\r\n     * @param {*} data 请求参数\r\n     * @param {*} callback 请求成功回掉函数\r\n     */\r\n    var xhr = function (data, callback) {\r\n      // console.log('worker 参数', data);\r\n      const workerdata = JSON.parse(JSON.stringify(data));\r\n      if (workerdata) {\r\n        delete workerdata.token;\r\n        delete workerdata.url;\r\n      }\r\n      // fetch 请求方式\r\n      fetch(eventData.url, {\r\n        body: JSON.stringify(workerdata), // must match 'Content-Type' header\r\n        headers: {\r\n          \"Authorization\": \"Bearer \" + eventData.token,\r\n          \"Content-Type\": \"application/json;charset=UTF-8\"\r\n        },\r\n        method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n      })\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          throw new Error('Network response was not ok.');\r\n        })\r\n        .then(function (data) {\r\n          // console.log(JSON.stringify(data));\r\n          // console.table(data);\r\n          console.log('%c webworker请求成功 fetch方式 开始收集数据', 'color:orange');\r\n          callback();\r\n        }, function (err) {\r\n          console.error(err);\r\n        })\r\n        .catch(error => console.error('Error:', error))\r\n    }\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      const obj = {\r\n        data: 'ok',\r\n        type: 'worker'\r\n      };\r\n\r\n      xhr(eventData.requestData, function () {\r\n        resolve(obj);\r\n      });\r\n    });\r\n  };\r\n\r\n  // 立即执行的 async 函数\r\n  (async () => {\r\n    const result = await sleep(event.data);\r\n    postMessage(result);\r\n    // console.log('在使用importScripts()的文件中调用：' + kk());\r\n    close();\r\n  })();\r\n};\r\n`\r\n// An error occurred during a method call\r\n\r\n`\r\n        if (typeof Worker !== 'undefined') {\r\n            this.worker = new Worker('../../../../../static/js/webworker.js'); // 需要每次都调用打开一个woker\r\n            console.log( 'msg =========', msg);\r\n      \r\n            // 可以序列化为JSON结构的任何值都可以作为参数传递给 postMessage();\r\n            this.worker.postMessage(msg);\r\n            this.worker.onmessage = (event: any) => {\r\n              this.worker_data = event.data;\r\n            };\r\n            console.log('start Web Workers...');\r\n          } else {\r\n            console.log('Sorry, your browser does not support Web Workers...');\r\n          }\r\n`\r\n\r\n\r\nI need your help to solve this problem. Thank you very much","Url":"https://github.com/vuejs/vuex/issues/1661","RelatedDescription":"Closed issue \"Vue项目报错：Uncaught SyntaxError: Unexpected token <\" (#1661)"},{"Id":"543671710","IsPullRequest":false,"CreatedAt":"2019-12-30T01:52:06","Actor":"phymo","Number":"1660","RawContent":null,"Title":"Vuex 3.1.2 shows TSlint Error","State":"open","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://codepen.io/phymo/pen/bGNrJVQ](https://codepen.io/phymo/pen/bGNrJVQ)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nvuex 3.1.2 shows tslint error: \r\n/node_modules/vuex/types/helpers.d.ts(8,85):\r\nTS2370: A rest parameter must be of an array type.\r\n/node_modules/vuex/types/helpers.d.ts(8,120):\r\nTS2370: A rest parameter must be of an array type.\r\n\r\n\r\n### What is expected?\r\nno error\r\n\r\n### What is actually happening?\r\nupdated to 3.1.2 then error occurs\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1660","RelatedDescription":"Open issue \"Vuex 3.1.2 shows TSlint Error\" (#1660)"},{"Id":"542311819","IsPullRequest":false,"CreatedAt":"2019-12-25T11:22:55","Actor":"SunGuoQiang123","Number":"1659","RawContent":null,"Title":"mapMutations and mapActions not usable in mixin","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://codepen.io/sungunguoqiang/pen/vYEZmpN?editors=1112](https://codepen.io/sungunguoqiang/pen/vYEZmpN?editors=1112)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nApp component created hook executed, the error emit  `this.TEST is not a function`\r\n\r\n### What is expected?\r\nno error happen\r\n\r\n### What is actually happening?\r\nan error emitted when called in created hook, and also mapActions also has the same problem.\r\nif call by the `this.$store.commit('TEST')`, it's right\r\n\r\n---\r\n`mapState ` and `mapGetters` are right, but `mapMutations` and `mapActions` are not right\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1659","RelatedDescription":"Closed issue \"mapMutations and mapActions not usable in mixin\" (#1659)"},{"Id":"530695466","IsPullRequest":true,"CreatedAt":"2019-12-25T08:32:01","Actor":"zuochenxue","Number":"1653","RawContent":null,"Title":"refactor: remove extra parameter","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1653","RelatedDescription":"Closed or merged PR \"refactor: remove extra parameter\" (#1653)"},{"Id":"534236183","IsPullRequest":true,"CreatedAt":"2019-12-25T08:28:07","Actor":"saylestyler","Number":"1655","RawContent":null,"Title":"mutates -> mutate; add period to mirror other constructions","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1655","RelatedDescription":"Closed or merged PR \"mutates -> mutate; add period to mirror other constructions\" (#1655)"},{"Id":"524349368","IsPullRequest":false,"CreatedAt":"2019-12-25T08:27:23","Actor":"ossdev07","Number":"1647","RawContent":null,"Title":"PhantomJS is an unmaintained project","State":"closed","Body":"### What problem does this feature solve?\r\nThe PhantomJS browser used by the vue package is an unmaintained project and also doesn't have support for aarch64.\r\n\r\nI am curious to know that will you be interested in removing the phantomjs from vuex.\r\nIn my view, it will be better if the package uses all up to date dependencies.\r\n\r\nPlease revert that what are your thoughts on the phantomjs removal and share your suggestion on how to proceed further with this.\r\n\r\n### What does the proposed API look like?\r\nWe could consider using the ChromeHeadless browser as an alternative to phantomjs as it is a maintained alternative to it.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1647","RelatedDescription":"Closed issue \"PhantomJS is an unmaintained project\" (#1647)"},{"Id":"524825443","IsPullRequest":true,"CreatedAt":"2019-12-25T08:27:06","Actor":"kiaking","Number":"1648","RawContent":null,"Title":"#1647 Remove PhantomJS from E2E test, and use Chrom Headless Webdriver","State":"closed","Body":"Issue #1647\r\n\r\nThis PR removes PhantomJS from E2E test because it is not supported anymore. Instead, Chrome Headless Driver is used.\r\n\r\n1. Remove PhantomJS from dependency and config.\r\n2. Update Nightwatch and Chromedriver to the latest.\r\n3. Remove Selenium too, since the latest Nightwatch can handle Chromesriver without Selenium, and also it's not recommended to use Selenium ([regarding the doc](https://nightwatchjs.org/gettingstarted/installation/#using-selenium-server)).\r\n4. Tests adjusted a little since some part wasn't working correctly. Please refer to the inline comments on this.","Url":"https://github.com/vuejs/vuex/pull/1648","RelatedDescription":"Closed or merged PR \"#1647 Remove PhantomJS from E2E test, and use Chrom Headless Webdriver\" (#1648)"},{"Id":"542247801","IsPullRequest":false,"CreatedAt":"2019-12-25T08:23:54","Actor":"galenyuan","Number":"1658","RawContent":null,"Title":"Change of state not dispatch to component","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/sx9e7fav/](http://jsfiddle.net/sx9e7fav/)\r\n\r\n### Steps to reproduce\r\nOpen the reproduce link.\r\n\r\n### What is expected?\r\nshould display email list\r\n\r\n### What is actually happening?\r\nThe placeholder value 「-」 displayed\r\n\r\n---\r\njsfiddle can not use Vue  devtool, so you can copy this code in a html file and run a HTTP Server.\r\n```html\r\n<html>\r\n  <head>\r\n    <title>demo</title>\r\n    <script src=\"https://unpkg.com/vue@2.6.11/dist/vue.min.js\"></script>\r\n    <script src=\"https://unpkg.com/vuex@3.1.2/dist/vuex.min.js\"></script>\r\n  </head>\r\n  <body>\r\n    <ul id=\"demo\">\r\n      <li v-for=\"item in list\">{{ users[item.userid] ? users[item.userid].email : '-' }}</li>\r\n    </ul>\r\n    <script>\r\n      Vue.config.devtools = true\r\n      const getUserById = (id) => {\r\n        return new Promise((resolve) => {\r\n          setTimeout(() => {\r\n            resolve({\r\n              id,\r\n              email: `${id}@email.com`\r\n            })\r\n          }, 1000)\r\n        })\r\n      }\r\n      const store = new Vuex.Store({\r\n        state: {\r\n          users: {}\r\n        },\r\n        mutations: {\r\n          addUser(state, user) {\r\n            state.users[user.id] = user\r\n          }\r\n        },\r\n        actions: {\r\n          async getUser(ctx, id) {\r\n            if (id in ctx.state.users) return\r\n            ctx.commit('addUser', { id, email: '-' })\r\n            const user = await getUserById(id)\r\n            ctx.commit('addUser', user)\r\n          }\r\n        }\r\n      })\r\n      const app = new Vue({\r\n        store,\r\n        el: '#demo',\r\n        data: {\r\n          list: [\r\n            { userid: 1 },\r\n            { userid: 2 },\r\n            { userid: 3 },\r\n            { userid: 4 },\r\n            { userid: 5 },\r\n          ]\r\n        },\r\n        computed: {\r\n          ...Vuex.mapState(['users'])\r\n        },\r\n        methods: {\r\n          ...Vuex.mapActions(['getUser'])\r\n        },\r\n        created() {\r\n          this.list.forEach(item => {\r\n            this.getUser(item.userid)\r\n          })\r\n        }\r\n      });\r\n    </script>\r\n  </body>\r\n</html>\r\n```\r\nLet's check in Vue devtool, we can find mutaion has triggered and state changed:\r\n![image](https://user-images.githubusercontent.com/10335062/71431526-4aba4180-270d-11ea-88c6-3e1c4f28e265.png)\r\n\r\nThen lets try a Time Travel:\r\n![image](https://user-images.githubusercontent.com/10335062/71431539-64f41f80-270d-11ea-9f7c-5334108adc57.png)\r\n\r\nThen the page gose to what I want:\r\n![image](https://user-images.githubusercontent.com/10335062/71431555-7d643a00-270d-11ea-9a23-d38a68878bc6.png)\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1658","RelatedDescription":"Closed issue \"Change of state not dispatch to component\" (#1658)"},{"Id":"538511187","IsPullRequest":false,"CreatedAt":"2019-12-16T16:16:11","Actor":"andywuzh","Number":"1657","RawContent":null,"Title":"mapGetter dosen't work with namespaced module","State":"closed","Body":"**Version**\r\n3.1.2\r\n\r\n**Steps to reproduce**\r\n\r\n```javascript\r\n// store/modules/todo.js\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    todos: [\r\n      { id: 1, title: 'something todo' }\r\n    ]\r\n  },\r\n  getters: {\r\n    getTodo: state => id => state.todos.filter(todo => todo.id === id)[0]\r\n  }\r\n}\r\n\r\n\r\n// a component.vue\r\nmethods: {\r\n  ...mapGetters('todo', ['getTodo']),\r\n  someMethod: {\r\n    console.log(this.getTodo(1))\r\n\r\n    // this work!\r\n    console.log(this.getTodo()(1))\r\n  }\r\n}\r\n\r\n```\r\n\r\n**What is expected?**\r\n\r\n```this.getTodo(1)``` should return ``` {id: 1, title: 'something todo'}```\r\n\r\n**What is actually happening?**\r\n\r\nit return a callable function same as ```getTodo```: \r\n```javascript\r\nƒ (id) {\r\n  return state.filter(function (s) {\r\n    return s.id == id;\r\n  })[0];\r\n}\r\n```\r\n\r\n-----\r\nThere is no more details about how to use ```mapGetters``` with **namespaced** module in the [doc](https://vuex.vuejs.org/api/#mapgetters).\r\nAm I miss something or it should not be used in this way?\r\n\r\n\r\n","Url":"https://github.com/vuejs/vuex/issues/1657","RelatedDescription":"Closed issue \"mapGetter dosen't work with namespaced module\" (#1657)"},{"Id":"536744701","IsPullRequest":false,"CreatedAt":"2019-12-12T04:04:47","Actor":"liwanchao4","Number":"1656","RawContent":null,"Title":"vue3.1.2 webpack打包出错的问题","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vuex\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n.gitlab-ci.yml\r\n\r\n```\r\n.package:\r\n  stage: package\r\n  before_script:\r\n    - npm config set registry http://nexus.sjgs/repository/npm-group/\r\n  artifacts:\r\n    paths:\r\n      - dist\r\n# 测试环境\r\npackage-staging:\r\n    extends: .package\r\n    script:      \r\n      - npm install\r\n      - npm run build-staging --verbose\r\n    only:\r\n    - pre_production\r\n```\r\n\r\nbuild的时候报错如下：\r\n![image](https://user-images.githubusercontent.com/43988736/70681714-4175b180-1cd7-11ea-9733-ec49b6133403.png)\r\n\r\n将vuex降级到3.1.1版本就没有问题","Url":"https://github.com/vuejs/vuex/issues/1656","RelatedDescription":"Closed issue \"vue3.1.2 webpack打包出错的问题\" (#1656)"},{"Id":"532686154","IsPullRequest":false,"CreatedAt":"2019-12-04T16:19:32","Actor":"andresclua","Number":"1654","RawContent":null,"Title":"Three Js","State":"closed","Body":"### Version\r\n2.4.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue-cli-bdfd3](https://codesandbox.io/s/vue-cli-bdfd3)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nHi all,\r\nBasically I am trying to make a minimum version of vue / vuex with three.js.\r\n\r\nI have taken the example from https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene.\r\n\r\nWhile I can create the scene, add the cube, I have encountered a problem calling the animate function.\r\n\r\n### What is expected?\r\nIdeally will look more or less something like this.\r\nhttps://codepen.io/andresclua/pen/WNbbYPb\r\n\r\n### What is actually happening?\r\n Error in mounted hook: \"RangeError: Maximum call stack size exceeded\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1654","RelatedDescription":"Closed issue \"Three Js\" (#1654)"},{"Id":"529772777","IsPullRequest":false,"CreatedAt":"2019-11-28T09:38:08","Actor":"mspoulsen","Number":"1652","RawContent":null,"Title":"[vuex] state field \"foo\" was overridden by a module with the same name at \"foo\"","State":"closed","Body":"### Version\r\n3.1.2\r\n\r\n### Reproduction link\r\n[https://gist.github.com/mspoulsen/f3a67e22a76ba124e606a0beae597974](https://gist.github.com/mspoulsen/f3a67e22a76ba124e606a0beae597974)\r\n\r\n\r\n### Steps to reproduce\r\nCreate a minimal store using the gist.\r\nThen try to access store.state.foo\r\n\r\nResult: We get Typescript error: Property 'foo' does not exist on type 'RootState'.\r\n\r\n\r\n### What is expected?\r\nA Typescript error is expected\r\n\r\n### What is actually happening?\r\nWe get the Typescript error and that is the problem\r\n\r\n---\r\nHow would I be able to access store.state.foo without adding foo to RootState? And if I do I get this warning in 3.1.2:\r\n[vuex] state field \"foo\" was overridden by a module with the same name at \"foo\"\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1652","RelatedDescription":"Closed issue \"[vuex] state field \"foo\" was overridden by a module with the same name at \"foo\"\" (#1652)"},{"Id":"528851065","IsPullRequest":true,"CreatedAt":"2019-11-27T02:19:39","Actor":"zuochenxue","Number":"1651","RawContent":null,"Title":"simplify getNestedState","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1651","RelatedDescription":"Closed or merged PR \"simplify getNestedState\" (#1651)"},{"Id":"526537712","IsPullRequest":false,"CreatedAt":"2019-11-21T11:34:37","Actor":"davidpelayo","Number":"1650","RawContent":null,"Title":"Latest release v3.1.2 warning when different namespaced modules within the same path","State":"closed","Body":"Hi guys. Great job the one you're doing.\r\n\r\nI'm wondering why you didn't consider well-known and used plugins like `vuex-i18n` when introducing such warning.\r\n\r\nI've reported an issue on their side: see [this](https://github.com/kazupon/vue-i18n/issues/742), but not sure if any discussion should be taken from now on on this topic again.\r\n\r\nThanks in advance.","Url":"https://github.com/vuejs/vuex/issues/1650","RelatedDescription":"Closed issue \"Latest release v3.1.2 warning when different namespaced modules within the same path\" (#1650)"},{"Id":"526152807","IsPullRequest":false,"CreatedAt":"2019-11-20T20:07:31","Actor":"mjmnagy","Number":"1649","RawContent":null,"Title":"Store.registerModule({name: module}) module does not persist ","State":"closed","Body":"I am trying to make a component library that will be shared across several apps. Each app is internal to a larger global app and has their own domain.\r\n\r\nhub.website.com\r\n\r\napp.website.com\r\n\r\nThe component library uses Vuex to allow users to change their preferences(Ex: want to increase the button size or change it's color).\r\n\r\nIn my components library project i created the index.js file which is the main file\r\n\r\n     //index.js\r\n    import * as vsComponents from './components'        // imports all the components\r\n    import storeModule from './store/components'        //Imports the store module which is mentioned below\r\n\r\n    const install = (Vue, options = {}) => {\r\n          if (!options.store) {                             //Must pass the store from the larger component\r\n        throw new Error('Please provide vuex store.')\r\n      }\r\n\r\n      //Register Store modules\r\n      options.store.registerModule('components', storeModule) //Registers the module into the larger store\r\n\r\n      // Use Components\r\n      Object.values(vsComponents).forEach(vsComponent => { //Creates the components for vue to use\r\n            Vue.use(vsComponent)\r\n      })\r\n    }\r\n\r\n    if (typeof window !== 'undefined' && window.Vue) {    //No 100% sure i need this ??? - i would like it ssr so im thinking its not required (any help here would be awesome too)\r\n          install(window.Vue)\r\n    }\r\n\r\n    export default install\r\n\r\n    export * from './components/index'                 //Allows you to individually import each component\r\n\r\nI use the following command to create the component library and upload it to bitbucket \"scripts\":`{\"production\": \"vue-cli-service build --target lib --name sc src/index.js\"}` in which src/index.js is the file with the code pasted above.\r\n\r\nIn my nuxt application, i\r\n\r\n1. npm i bitbucket project\r\n2. Create a file components.js in the plugin folder\r\n3. Add the file to nuxt.config.js - i have played around with the ssr true/false\r\n\r\nHere my components.js file\r\n\r\n    import components from 'components'         //Component library\r\n    import Vue from 'vue'\r\n\r\n    export default context => {\r\n      Vue.use(components, { store: context.store })\r\n    }\r\nThe Funny part\r\n\r\nOn the initial load of the page, i can see the added state from the components library\r\n\r\n    <pre> {{ this.$store.state.components }} </pre>\r\n\r\nWhen i refresh the page, the added state is now gone?!?!?!\r\n\r\nTLDR Basically, i am importing a component lirbary as a plugin within nuxt. On the initial load, the plugin works as expect by injecting it's vuex module parameters into the nuxt's store. Upon subsequent loads, the vuex module is gone???\r\n\r\nEssentially, all im trying to do is have the a basic store module held within the components library. This would keep everything consistent between apps and then add the module to the larger app store and be able to utilize/use it","Url":"https://github.com/vuejs/vuex/issues/1649","RelatedDescription":"Closed issue \"Store.registerModule({name: module}) module does not persist \" (#1649)"},{"Id":"524135650","IsPullRequest":false,"CreatedAt":"2019-11-19T14:25:13","Actor":"jgilbertcastro","Number":"1646","RawContent":null,"Title":"Defualt sample vuex","State":"closed","Body":"### What problem does this feature solve?\r\nVue-cli create some file and directory for vuejs but new vue developer don't now how to config a simple var. So I want to make a defualt sample for vuex on vue-cli options\r\n\r\n### What does the proposed API look like?\r\nI will to add a new step to ask \"sample config vuex?\" And this will edit index.js on store  to add a simple var to state and then edit HelloComponent to render that var\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1646","RelatedDescription":"Closed issue \"Defualt sample vuex\" (#1646)"},{"Id":"523870883","IsPullRequest":false,"CreatedAt":"2019-11-18T02:28:51","Actor":"seminarian","Number":"1645","RawContent":null,"Title":"Access vue root instance from within a module action","State":"closed","Body":"### What problem does this feature solve?\r\nThe possibility to use root vue instance methods from within the actions of modules.\r\n\r\nWithin actions of vuex (not in modules) the vm can be accessed by this._vm .. See https://github.com/vuejs/vuex/issues/1399\r\n\r\nI can't succeed doing this from a module action. this is just the exports defined in the module file..\r\n\r\n### What does the proposed API look like?\r\nI'm not sure.. There's more clever minds than me to solve this..\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1645","RelatedDescription":"Closed issue \"Access vue root instance from within a module action\" (#1645)"},{"Id":"521427551","IsPullRequest":false,"CreatedAt":"2019-11-12T09:25:28","Actor":"mysllove","Number":"1644","RawContent":null,"Title":"使用常量替代 Mutation 事件类型中好像有一个字写错了","State":"closed","Body":"同时把这些常量放在单独的文件中可以让你的代码合作者对整个 app 包含的 mutation 一目了然（中的和）","Url":"https://github.com/vuejs/vuex/issues/1644","RelatedDescription":"Closed issue \"使用常量替代 Mutation 事件类型中好像有一个字写错了\" (#1644)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-02-04T05:30:49.2899741Z","RunDurationInMilliseconds":2149}