{"Data":{"Blog":{"FeedItems":[{"Title":"Announcing ASP.NET MVC 5.2.4, Web API 5.2.4, and Web Pages 3.2.4","PublishedOn":"2018-02-12T17:36:54+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Today we released stable packages for ASP.NET MVC 5.2.4, Web API 5.2.4, and Web Pages 3.2.4 on NuGet. This release contains some minor bug fixes and a couple of new features specifically targeted at...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/12/announcing-asp-net-mvc-5-2-4-web-api-5-2-4-and-web-pages-3-2-4/","RawContent":null},{"Title":"Two Lesser Known Tools for Local Azure Development","PublishedOn":"2018-02-09T00:01:48+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"If you’re developing applications that target Azure services (e.g. Web Apps, Functions, Storage), you’ll want to know about two powerful tools that come with Visual Studio 2017 and the Azure...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/08/two-lesser-known-tools-for-local-azure-development/","RawContent":null},{"Title":"File nesting in Solution Explorer","PublishedOn":"2018-02-08T06:09:04+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"We are excited to share with you a new capability in Visual Studio that was a clear ask from you, the community. Visual Studio has been nesting related files in Solution Explorer for a long time now,...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/07/file-nesting-in-solution-explorer/","RawContent":null},{"Title":"Diagnosing Errors on your Cloud Apps","PublishedOn":"2018-02-07T16:00:26+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"One of the most frustrating experiences is when you have your app working on your local machine, but when you publish it it’s inexplicably failing. Fortunately, Visual Studio provides handy features...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/07/diagnosing-errors-on-your-cloud-apps/","RawContent":null},{"Title":"A new experiment: Browser-based web apps with .NET and Blazor","PublishedOn":"2018-02-06T18:00:53+00:00","CommentsCount":10,"FacebookCount":0,"Summary":"Today I’m excited to announce a new experimental project from the ASP.NET team called Blazor. Blazor is an experimental web UI framework based on C#, Razor, and HTML that runs in the browser via...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/06/blazor-experimental-project/","RawContent":null},{"Title":"Learn how to do Image Recognition with Cognitive Services and ASP.NET","PublishedOn":"2018-02-05T21:27:39+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"With all the talk about artificial intelligence (AI) and machine learning (ML) doing crazy things, it’s easy to be left wondering, “what are practical ways I can use this today?&#8221; It turns out...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/05/learn-how-to-do-image-recognition-with-cognitive-services-and-asp-net/","RawContent":null},{"Title":"ASP.NET Core 2.1 roadmap","PublishedOn":"2018-02-02T18:00:52+00:00","CommentsCount":2,"FacebookCount":0,"Summary":"Five months ago, we shipped ASP.NET Core 2.0 as a foundational release for our high performance, cross-platform web framework for .NET and .NET Core. Since then we have been hard at work to deliver...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/02/02/asp-net-core-2-1-roadmap/","RawContent":null},{"Title":"Azure Storage for Serverless .NET Apps in Minutes","PublishedOn":"2018-01-25T19:38:13+00:00","CommentsCount":1,"FacebookCount":0,"Summary":"Azure Storage is a quick and effortless way to store data for applications that has high availability, is secure, scales and is redundant. This blog post walks through a simple application that...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/01/25/azure-storage-for-serverless-net-apps-in-minutes/","RawContent":null},{"Title":"64 bit ASP.NET Core on Azure App Service","PublishedOn":"2018-01-10T00:15:58+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"When creating an Azure App Service .NET Core is already pre-installed. However, only the 32 bit .NET runtime is installed. In this post we will look at a  few ways that you can get a 64 bit runtime on...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/01/09/64-bit-asp-net-core-on-azure-app-service/","RawContent":null},{"Title":"Announcing Preview 1 of ASP.NET MVC 5.2.4, Web API 5.2.4, and Web Pages 3.2.4","PublishedOn":"2018-01-05T20:30:38+00:00","CommentsCount":0,"FacebookCount":0,"Summary":"Today we are releasing Preview 1 of ASP.NET MVC 5.2.4, Web API 5.2.4, and Web Pages 3.2.4 on NuGet. This release contains some minor bug fixes and a couple of new features specifically targeted at...","Href":"https://blogs.msdn.microsoft.com/webdev/2018/01/05/announcing-preview-1-of-asp-net-mvc-5-2-4-web-api-5-2-4-and-web-pages-3-2-4/","RawContent":null}],"ResultType":"Feed"},"Home":{"Events":[{"Id":"7278800715","Type":"IssuesEvent","CreatedAt":"2018-02-22T00:40:52","Actor":"Eilon","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Home/issues/2893","RelatedDescription":"Closed issue \"EmailAddressAttribute.IsValid Method (Object) cannot validate hyphen at the beginning of domain name\" (#2893) at aspnet/Home","RelatedBody":"Domain names cannot start with hyphen (ref: https://tools.ietf.org/html/rfc952)\r\n\r\nHowever; IsValid method does not respect to this rule\r\n\r\nTest case:\r\n\r\nvar checkMail = new System.ComponentModel.DataAnnotations.EmailAddressAttribute().IsValid(\"ahmet.bombaci@yahoo.-united.COM\"); "},{"Id":"7278306181","Type":"IssuesEvent","CreatedAt":"2018-02-21T22:25:37","Actor":"ahmetbombaci-united","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/2893","RelatedDescription":"Opened issue \"EmailAddressAttribute.IsValid Method (Object) cannot validate hyphen at the beginning of domain name\" (#2893) at aspnet/Home","RelatedBody":"Domain names cannot start with hyphen (ref: https://tools.ietf.org/html/rfc952)\r\n\r\nHowever; IsValid method does not respect to this rule\r\n\r\nTest case:\r\n\r\nvar checkMail = new System.ComponentModel.DataAnnotations.EmailAddressAttribute().IsValid(\"ahmet.bombaci@yahoo.-united.COM\"); "},{"Id":"7278001225","Type":"IssuesEvent","CreatedAt":"2018-02-21T21:22:32","Actor":"natemcmaster","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Home/issues/2775","RelatedDescription":"Closed issue \"Broken symlinks return HTTP 500 instead of HTTP 404\" (#2775) at aspnet/Home","RelatedBody":"Repro:\r\n```\r\ndotnet new mvc\r\nln -s doesnotexists.txt wwwroot/test.txt\r\ndotnet run\r\n```\r\nhttp://localhost:5000/test.txt\r\n\r\n**Expected**\r\nHTTP 404. This file does not exist\r\n\r\n**Actual**\r\nHTTP 500\r\n```\r\nFileNotFoundException: Could not find file '/private/tmp/symlink/wwwroot/test.txt'.\r\nInterop.ThrowExceptionForIoErrno(ErrorInfo errorInfo, string path, bool isDirectory, Func<ErrorInfo, ErrorInfo> errorRewriter)\r\nMicrosoft.Win32.SafeHandles.SafeFileHandle.Open(string path, OpenFlags flags, int mode)\r\nSystem.IO.FileStream..ctor(string path, FileMode mode, FileAccess access, FileShare share, int bufferSize, FileOptions options)\r\nMicrosoft.Extensions.FileProviders.Physical.PhysicalFileInfo.CreateReadStream()\r\n```\r\n\r\n**details**\r\nmacOS\r\n```\r\n<PackageReference Include=\"Microsoft.AspNetCore.All\" Version=\"2.1.0-preview1-28042\" />\r\n```\r\n"},{"Id":"7276616360","Type":"IssuesEvent","CreatedAt":"2018-02-21T16:51:53","Actor":"andylyonette","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/2892","RelatedDescription":"Opened issue \"Specify sub protocol for WebSocket Client\" (#2892) at aspnet/Home","RelatedBody":"Hi,\r\n\r\nI can't work out how to specify the sub protocol when creating a client connect to a websocket endpoint. Is this possible like it is with this JavaScript client? (https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications)\r\n\r\nThanks,\r\nAndy"},{"Id":"7276321861","Type":"IssuesEvent","CreatedAt":"2018-02-21T16:04:11","Actor":"olivier-spinelli","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Home/issues/2891","RelatedDescription":"Opened issue \"PhysicalFileProvider: Least Surprise Principle violation.\" (#2891) at aspnet/Home","RelatedBody":"A directory exists but when calling GetFileInfo to obtain an \"abstract\" IFIleInfo it does not.\r\nHowever when a directory is returned by the enumeration of a IDirectoryContents, a IFileInfo is correctly returned (with both Exists and IsDirectory sets to true).\r\n\r\nThis means that the code that handles a IFileInfo HAS to be aware of how it has been created/obtained.\r\n\r\n```CSharp\r\n[Test]\r\npublic void standard_physical_file_provider_is_full_of_surprises()\r\n{\r\n   using( var pStd = new PhysicalFileProvider( LocalTestHelper.WorldFolder ) )\r\n   {\r\n       var fCA = pStd.GetDirectoryContents( \"TestGitRepository\" );\r\n       fCA.Exists.Should().BeTrue( \"Yes, this is a directory...\" );\r\n\r\n        var fA = pStd.GetFileInfo( \"TestGitRepository\" );\r\n\r\n        fA.IsDirectory.Should().BeFalse( \"What??? This IS a directory!\" );\r\n        fA.Exists.Should().BeFalse( \"And it DOES exist !\" );\r\n   }\r\n}\r\n```\r\n\r\nI suspect that this oddity is due to the FileSystemInfo being abstract: the current code uses a new FileInfo for its PhysicalFileInfo returned object, totally missing the IsDirectory possibility.\r\n\r\nAny chance for this to be fixed? Or should I go with my own SimplePhysicalFileProvider?\r\n"},{"Id":"7275880362","Type":"IssuesEvent","CreatedAt":"2018-02-21T14:53:31","Actor":"mikelunn","Repository":"aspnet/Home","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Home/issues/2888","RelatedDescription":"Closed issue \"Proxy Doesn't Work With Host Name Alias\" (#2888) at aspnet/Home","RelatedBody":"This issue references the AspNet/Proxy repository for .Net Core. The proxy middleware works great as long as you specify a physical host or IP address in the proxy options like so:\r\n`app.RunProxy(new ProxyOptions\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tScheme = \"http\",\r\n\t\t\t\t\t\tHost = \"myserver\",\r\n\t\t\t\t\t\tPort = \"80\"\r\n\t\t\t\t\t});`\r\nHowever, if a dns alias is specified as the host, for instance myserver.mydomain.com a 504 error message is returned with message \"The server did not return a complete response for this request. Server returned 0 bytes. \" I'm not sure how the Proxy library is handling the formation of the URI, but it seems to be defaulting to port 80 if no port is specified. Not sure if this helps, but if I make a GET request to my virtual endpoint  using a client like the HttpClient with a uri: \"http://myserver.mydomain.com:80/api/sampledata\"  the request response is processed successfully.  I also see the request in Fiddler as GET http://myserver.mydomain.com/api/sampledata HTTP/1.1 However, if I proxy a request to this same URI using the Proxy library I immediately receive a  504 error with message \"The server did not return a complete response for this request. Server returned 0 bytes. \" And I notice that the request in fiddler included the port number GET http://myserver.mydomain.com:80/api/sampledata HTTP/1.1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          "}],"ResultType":"GitHubEvent"},"SignalR":{"Events":[{"Id":"7279526014","Type":"IssuesEvent","CreatedAt":"2018-02-22T05:06:36","Actor":"davidfowl","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/SignalR/issues/1477","RelatedDescription":"Closed issue \"How do I specify the subprotocol to use with ClientWebSocket\" (#1477) at aspnet/SignalR","RelatedBody":"Hi,\r\n\r\nSorry, this isn't strictly SignalR related but the WebSockets issues are closed.  I can't work out how to specify the sub protocol when creating a client connect to a websocket endpoint.  Is this possible like it is with this JavaScript client? (https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications)\r\n\r\nThanks,\r\nAndy"},{"Id":"7279522616","Type":"PullRequestEvent","CreatedAt":"2018-02-22T05:05:11","Actor":"davidfowl","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/pull/1480","RelatedDescription":"Opened pull request \"Add timeout back to hanging test\" (#1480) at aspnet/SignalR","RelatedBody":"- Increase timeout to 60 seconds"},{"Id":"7279044164","Type":"PullRequestEvent","CreatedAt":"2018-02-22T02:01:11","Actor":"anurse","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/pull/1479","RelatedDescription":"Opened pull request \"Fix #924 by introducing HubDispatcher abstraction\" (#1479) at aspnet/SignalR","RelatedBody":"We originally talked about using HubLifetimeManager for this, but I have concerns about that. It makes HubLifetimeManager into a God Object that has lots of different unrelated behaviors. For example, the RedisHubLifetimeManager would have to provided implementations of the dispatching-related methods that have the same implementation as the DefaultHubLifetimeManager. Even if we provide a common type or base-class to do so, it feels wrong. I have some thoughts on how to factor things a little better among these types but they're a little too big to do in one go and need some discussion first. I tried a few attempts today but it got tricky fast.\r\n\r\nSo this is the keep-it-simple first pass at doing this refactoring. There is a new service, `HubDispatcher<THub>` which contains all the logic needed to dispatch `OnConnectedAsync`, `OnDisconnectedAsync` and `HubMessage`s to the Hub. Almost all the code is just literally extracted from HubEndpoint.\r\n\r\nInterestingly, no test changes were needed. I like this because it tells me that the tests weren't coupled to the specific architecture of the system 😄, also because it tells me I didn't break things. The HubEndpointTests actually use `.AddSignalR` to build a DI container, so everything Just Worked(TM)."},{"Id":"7278157059","Type":"PullRequestEvent","CreatedAt":"2018-02-21T21:54:13","Actor":"mikaelm12","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/SignalR/pull/1478","RelatedDescription":"Merged pull request \"Remove ProtoBuf from spec\" (#1478) at aspnet/SignalR","RelatedBody":""},{"Id":"7277876011","Type":"PullRequestEvent","CreatedAt":"2018-02-21T20:56:32","Actor":"mikaelm12","Repository":"aspnet/SignalR","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/SignalR/pull/1478","RelatedDescription":"Opened pull request \"Remove ProtoBuf from spec\" (#1478) at aspnet/SignalR","RelatedBody":""}],"ResultType":"GitHubEvent"},"Mvc":{"Events":[{"Id":"7278717029","Type":"IssuesEvent","CreatedAt":"2018-02-22T00:23:32","Actor":"dougbu","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7398","RelatedDescription":"Opened issue \"Unexpected default path of view component views\" (#7398) at aspnet/Mvc","RelatedBody":"For example, create a view component named \"Menu\" and invoke it from a view used in a controller named \"Home\". In the view component's `Invoke()` method, call `View(\"Menu.cshtml\")`.\r\n## Expected\r\nFinds Menu.cshtml in the default location for this component and controller pair aka the first location searched when using the view name `\"Menu\"`: `Views/Home/Components/Menu/Menu.cshtml`\r\n## Actual\r\nFinds Menu.cshtml in the *controller*'s default view folder: `Views/Home/Menu.cshtml`\r\n## Not found case\r\nDoing the same thing without a matching `Menu.cshtml` file confirms the name is treated as a relative path, not a name to search for.\r\n```\r\nInvalidOperationException: The view 'Components/Menu/Menu.cshtml' was not found. The following locations were searched:\r\n /Views/Home/Menu.cshtml\r\n```\r\n### Additional logging issue\r\nThough the locations searched are correct, the `Message` is not. `Components/Menu/Menu.cshtml` and `Views/Home/Components/Menu/Menu.cshtml` are not checked. MVC is logging with an edited \"view name\" that's never used because Menu.cshtml is a relative path.\r\n## Documentation\r\nThe view component documentation (https://docs.microsoft.com/en-us/aspnet/core/mvc/views/view-components) does not mention passing a relative path to `View(...)` within a view component.\r\n## Suggestions\r\n1. Allow users to opt into using `~/Views/{Controller}/Components/{Component}/` as the default path for relative paths passed to `View(...)` within a  view component. Because view components have been around for a release or so, can't change the default path (i.e. the `ViewContext.ExecutingFilePath` on entering `Invoke()`) without a breaking change. Likely need another `RazorViewEngineOptions` or `MvcViewOptions` property.\r\n  This is based on an assumption that the root cause is `ExecutingFilePath` doesn't change from the view invoking the component i.e. where `Component.Invoke[Async](...)` was called.\r\n2. Correct the failed search `Exception.Message` to use the original view name or path.\r\n3. Document the interpretation of relative paths with and without the new property set.\r\n## First scenario details\r\n``` c#\r\npublic class HomeController : Controller\r\n{\r\n    public IActionResult Index()\r\n    {\r\n        return View();\r\n    }\r\n}\r\n\r\n[ViewComponent(Name = \"Menu\")]\r\npublic class MenuComponent : ViewComponent\r\n{\r\n    public IViewComponentResult Invoke()\r\n    {\r\n        return View(\"Menu.cshtml\");\r\n    }\r\n}\r\n```\r\n### Views/Home/Index.cshtml\r\n``` html\r\n<div class=\"row\">\r\n    @await Component.InvokeAsync(\"Menu\")\r\n</div>\r\n```\r\n### Views/Home/Components/Menu/Menu.cshtml\r\nExists but is not invoked\r\n### Views/Home/Menu.cshtml\r\n``` html\r\n<h2>Menu.cshtml in controller (@Path).</h2>\r\n```"},{"Id":"7278514793","Type":"IssuesEvent","CreatedAt":"2018-02-21T23:15:33","Actor":"dougbu","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7033","RelatedDescription":"Closed issue \"DisplayTextFor doesn't respect Display attribute\" (#7033) at aspnet/Mvc","RelatedBody":"Hi!\r\n\r\nWe want to render Name+Status of a list of entities in a select HTML tag like so:\r\n\r\n    <select>\r\n        <option value=\"...\">Name1 (Status: Status1)</option>\r\n        ...\r\n    </select>\r\n\r\nFor this we create a `List<SelectListItem>` like so:\r\n\r\n    entities.Select(e => new SelectListItem {\r\n        Value = e.Id,\r\n        Text = e.Name + \" (Status: \" + htmlHelper.DisplayTextFor(x => e.Status) + \")\"\r\n    }).ToList();\r\n\r\nWhere Status is of an enum type. The enum values have Display attributes on them, however, they are completely ignored. It looks like DisplayTextFor renders just the ToString() representation of the enum.\r\n\r\nIs this a bug? Is this the desired behavior? What's our alternative?\r\n\r\nWe don't want to use DisplayFor() instead of DisplayTextFor() to prevent rendering HTML into the option element (which is not allowed)."},{"Id":"7278512102","Type":"PullRequestEvent","CreatedAt":"2018-02-21T23:14:50","Actor":"dougbu","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/pull/7388","RelatedDescription":"Closed pull request \"HtmlHelper.DisplayTextFor should use DisplayAttribute of enums\" (#7388) at aspnet/Mvc","RelatedBody":"Continue on from #7149 with a few more tests\r\n- includes @mistakenot's original #7033 though squashed and rebased"},{"Id":"7278484638","Type":"IssuesEvent","CreatedAt":"2018-02-21T23:07:43","Actor":"ajaybhargavb","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7397","RelatedDescription":"Opened issue \"Precompiled views are not being used even when they are available\" (#7397) at aspnet/Mvc","RelatedBody":"Looks like this is a regression. I can see PrecompiledViews.dll being generated with all the CompiledViewItems but the views are being compiled on the first request.\r\n\r\ncc @pranavkm @rynowak \r\n\r\n@mikeharder, this is the reason for the perf regression we were seeing."},{"Id":"7278000308","Type":"IssuesEvent","CreatedAt":"2018-02-21T21:22:20","Actor":"dougbu","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/6285","RelatedDescription":"Closed issue \"ViewComponent partial view searching outside component folder\" (#6285) at aspnet/Mvc","RelatedBody":"Let's say I'm calling view component named 'NavigationViewComponent' from Index.cshtml view of controller named 'HomeController'. (tested on ASP.NET Core MVC 1.1.3)\r\n\r\n~/Views/Home/Index.cshtml\r\n\r\n`@Component.Invoke(\"Menu\")`\r\n\r\nnow, inside the component's view\r\n\r\n~/Views/Home/Components/Navigation/Menu.cshtml\r\n\r\n```\r\n<div class=\"menu\">\r\n    Html.Partial(\"SubMenu\")\r\n</div>\r\n```\r\n\r\nit seems razor view engine is searching SubMenu inside ~/Views/Home/ and ~/Views/Shared/ folders.\r\n\r\nLogically, it should search inside the current view component's folder first. Like following?\r\n\r\n~/Views/Home/Components/Navigaiton/SubMenu.cshtml\r\n~/Views/Shared/Components/Navigation/SubMenu.cshtml\r\n\r\nIs it bug or by design?"},{"Id":"7277567591","Type":"IssuesEvent","CreatedAt":"2018-02-21T19:52:41","Actor":"lugrugzo","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7370","RelatedDescription":"Closed issue \"[BindProperty][BUG] How ModelState validation is calculated?\" (#7370) at aspnet/Mvc","RelatedBody":"I have a few **BindProperty** in my Page:\r\n\r\n``` cs\r\n [BindProperty]\r\npublic string CurrencyId { get; set; }\r\n\r\n[BindProperty]\r\npublic Currency SelectedCurrency { get; set; }\r\n\r\n[BindProperty]\r\npublic WithdrawalInput WithdrawalInput { get; set; }\r\n\r\n[BindProperty]\r\npublic DepositBankInput DepositBankInput { get; set; }\r\n\r\n[BindProperty]\r\npublic UserWallet UserWallet { get; set; }\r\n\r\n[BindProperty]\r\npublic UserTransaction WaitingBankDeposit { get; set; }\r\n\r\n[BindProperty]\r\npublic List<SystemBankAccount> SystemBankAccounts { get; set; }\r\n```\r\n\r\nOnly **DepositBankInput** & and **WithdrawalInput** have validation attributes(Required and Range). I used them for \"asp-for\" attributes. I also have two form in that page with following handler signatures: \r\n\r\n> OnPost**Withdraw**Async()\r\n> OnPost**DepositBank**Async()\r\n\r\nWhen I post to **OnPostDepositBankAsync()**, it validates **WithdrawalInput** too, which I don't want (it should only validate **DepositBankInput**). But when I **OnPostWithdrawAsync()**, it only validates **WithdrawalInput**, which is correct. \r\n\r\n\r\nForms in that page:\r\n``` html\r\n<form method=\"post\" asp-page-handler=\"DepositBank\">\r\n    <input type=\"hidden\" asp-for=\"@currencyId\">\r\n    <div class=\"form-group\">\r\n        <label for=\"amount-input\" asp-for=\"DepositBankInput.Amount\">Miktar</label>\r\n        <div class=\"input-group\">\r\n            <input type=\"number\" class=\"form-control\" id=\"amount-input\" placeholder=\"10\" asp-for=\"DepositBankInput.Amount\" autocomplete=\"off\">\r\n            <div class=\"input-group-append\">\r\n                <span class=\"input-group-text\"><i class=\"fa fa-try\"></i></span>\r\n            </div>\r\n        </div>\r\n        <span asp-validation-for=\"DepositBankInput.Amount\" class=\"text-danger\"></span>\r\n    </div>\r\n     <div class=\"form-group\">\r\n        <label for=\"bank-account-input\">Bitfil Banka hesabı</label>\r\n        <div class=\"input-group\">\r\n            <select id=\"bank-account-input\" class=\"form-control\" asp-for=\"DepositBankInput.SelectedSystemBankAccountId\">\r\n                @foreach (var item in Model.SystemBankAccounts)\r\n                {\r\n                    <option value=\"@item.Id\">@item.BankName</option>\r\n                }\r\n            </select>\r\n        </div>\r\n    </div>\r\n    <button type=\"submit\" class=\"btn btn-primary\">Yatırma emri ver</button>\r\n</form>\r\n```\r\n\r\n``` html\r\n<form method=\"post\" asp-page-handler=\"Withdraw\">\r\n    <input type=\"hidden\" asp-for=\"@currencyId\">\r\n    <div class=\"form-group\">\r\n        <label for=\"address-input\" asp-for=\"WithdrawalInput.Address\">IBAN</label>\r\n        <input class=\"form-control\" id=\"address-input\" placeholder=\"TR\" asp-for=\"WithdrawalInput.Address\" autocomplete=\"off\">\r\n        <span asp-validation-for=\"WithdrawalInput.Address\" class=\"text-danger\"></span>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"withdraw-amount-input\" asp-for=\"WithdrawalInput.Amount\">Miktar</label>\r\n        <div class=\"input-group\">\r\n            <input type=\"number\" class=\"form-control\" id=\"withdraw-amount-input\" placeholder=\"\" asp-for=\"WithdrawalInput.Amount\" autocomplete=\"off\">\r\n            <div class=\"input-group-append\">\r\n                <span class=\"input-group-text\">@currencyId</span>\r\n            </div>\r\n        </div>\r\n        <span asp-validation-for=\"WithdrawalInput.Amount\" class=\"text-danger\"></span>\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\" class=\"btn btn-primary\">Çekim emri ver</button>\r\n    </div>\r\n</form>\r\n```\r\n\r\nRelated handler methods:\r\n\r\n``` cs\r\npublic async Task<IActionResult> OnPostWithdrawAsync()\r\n{\r\n    if (!ModelState.IsValid)\r\n    {\r\n        await InitData();\r\n        return Page();\r\n    }\r\n    \r\n    return RedirectToPage(new {\r\n        currencyId = CurrencyId\r\n    });\r\n}\r\n\r\npublic async Task<IActionResult> OnPostDepositBankAsync()\r\n{\r\n    if (!ModelState.IsValid)\r\n    {\r\n        await InitData();\r\n        return Page();\r\n    }\r\n    \r\n    return RedirectToPage(new {\r\n        currencyId = CurrencyId\r\n    });\r\n}\r\n```\r\n\r\nI'm using .NET Core 2.0.0. I'd like to know what I'm doing wrong."},{"Id":"7276792826","Type":"PullRequestEvent","CreatedAt":"2018-02-21T17:22:26","Actor":"Eilon","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Mvc/pull/7394","RelatedDescription":"Merged pull request \"Update README.md\" (#7394) at aspnet/Mvc","RelatedBody":"Per MS style guide, Avoid please except in situations where the customer is asked to do something inconvenient or the application or site is to blame for the situation."},{"Id":"7275484342","Type":"IssuesEvent","CreatedAt":"2018-02-21T13:45:02","Actor":"Jon-Murray","Repository":"aspnet/Mvc","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Mvc/issues/7396","RelatedDescription":"Opened issue \"Completely Disabling Antiforgery\" (#7396) at aspnet/Mvc","RelatedBody":"Hi,\r\n\r\n   I'm trying to completely disable antiforgery, but it seems this is not possible. The documentation seems to suggest that using AddMvcCore as the only service will disable anti forgery. Whilst this seems true in that the tokens are not validated, the .aspnet.antiforgery token still gets set in any requests omitting it. \r\n\r\nTrying to manually remove any services which are anti forgery related will throw an exception when attempting to view a view, such as:\r\n\r\nInvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Antiforgery.IAntiforgery' while attempting to activate 'Microsoft.AspNetCore.Mvc.ViewFeatures.DefaultHtmlGenerator'.\r\n\r\nIs there any way to completely get rid of the cookies issued? I know i can rename them, but this isn't really the point.\r\n\r\nThanks!"}],"ResultType":"GitHubEvent"},"Identity":{"Events":[{"Id":"7277467688","Type":"PullRequestEvent","CreatedAt":"2018-02-21T19:33:19","Actor":"jbagga","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/pull/1644","RelatedDescription":"Opened pull request \"Add AllowAnonymous for some Identity razor pages\" (#1644) at aspnet/Identity","RelatedBody":"Addresses #1617"},{"Id":"7277291790","Type":"IssuesEvent","CreatedAt":"2018-02-21T18:59:34","Actor":"javiercn","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Identity/issues/1643","RelatedDescription":"Opened issue \"Add third party notice to identity UI package\" (#1643) at aspnet/Identity","RelatedBody":""},{"Id":"7272558059","Type":"IssuesEvent","CreatedAt":"2018-02-20T23:44:05","Actor":"javiercn","Repository":"aspnet/Identity","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Identity/issues/1639","RelatedDescription":"Closed issue \"Reset password doesn't work\" (#1639) at aspnet/Identity","RelatedBody":"* The ResetPassword view doesn't send the code as a hidden field of the reset password form, so it doesn't get modelbound.\r\n* The reset password handlers are incorrectly defined on the ResetPasswordModel and the behavior is as if they weren't there."}],"ResultType":"GitHubEvent"},"Kestrel":{"Events":[{"Id":"7278461933","Type":"PullRequestEvent","CreatedAt":"2018-02-21T23:02:00","Actor":"kekekeks","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2342","RelatedDescription":"Opened pull request \"Don't throw in HttpRequestStream.Flush\" (#2342) at aspnet/KestrelHttpServer","RelatedBody":"Because read-only streams apparently can have Flush semantics and this behavior is expected by some of built-in stream wrappers (e. g. CryptoStream)\r\n\r\nhttps://github.com/dotnet/corefx/pull/27327#pullrequestreview-98384813\r\nhttps://github.com/aspnet/KestrelHttpServer/issues/2341"},{"Id":"7278442845","Type":"IssuesEvent","CreatedAt":"2018-02-21T22:57:20","Actor":"kekekeks","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2341","RelatedDescription":"Opened issue \"FrameRequestStream/HttpRequestStream is not compatible with CryptoStream\" (#2341) at aspnet/KestrelHttpServer","RelatedBody":"```\r\nSystem.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.FrameRequestStream.Flush()\r\n   at System.Security.Cryptography.CryptoStream.FlushFinalBlock()\r\n   at System.Security.Cryptography.CryptoStream.Dispose(Boolean disposing)\r\n```\r\n\r\n`CryptoStream.Dispose` is calling `Flush` on the underlying stream even if said stream is read only - https://github.com/dotnet/corefx/issues/27326\r\n\r\nApparently this is intended behavior of `CryptoStream` and `Flush` shouldn't ever throw exceptions: https://github.com/dotnet/corefx/pull/27327#pullrequestreview-98384813"},{"Id":"7277886725","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:58:45","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2253","RelatedDescription":"Closed issue \"An unhandled exception has occurred: Request timed out. Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request timed out.\" (#2253) at aspnet/KestrelHttpServer","RelatedBody":"**SEEMS TO BE FIXED WITH 2.0.5 CLOSE PLEASE**\r\n\r\nI am running the latest version of asp.net core 2.0.3 on IIS 10\r\n\r\n\r\nMy log file on my production server is getting filled with these errors, I am running the site off windows 2016.\r\nAlso here is my error logger middleware\r\n\r\n``    class SerilogMiddleware\r\n     {\r\n        const string MessageTemplate = \"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms\";\r\n\r\n        static readonly ILogger Log = Serilog.Log.ForContext<SerilogMiddleware>();\r\n\r\n        readonly RequestDelegate _next;\r\n\r\n        public SerilogMiddleware(RequestDelegate next)\r\n        {\r\n            if (next == null) throw new ArgumentNullException(nameof(next));\r\n            _next = next;\r\n        }\r\n\r\n        public async Task Invoke(HttpContext httpContext)\r\n        {\r\n            if (httpContext == null) throw new ArgumentNullException(nameof(httpContext));\r\n\r\n            var start = Stopwatch.GetTimestamp();\r\n            try\r\n            {\r\n                await _next(httpContext);\r\n                var elapsedMs = GetElapsedMilliseconds(start, Stopwatch.GetTimestamp());\r\n\r\n                var statusCode = httpContext.Response?.StatusCode;\r\n                var level = statusCode > 499 ? LogEventLevel.Error : LogEventLevel.Information;\r\n\r\n                var log = level == LogEventLevel.Error ? LogForErrorContext(httpContext) : Log;\r\n                log.Write(level, MessageTemplate, httpContext.Request.Method, httpContext.Request.Path, statusCode, elapsedMs);\r\n            }\r\n            // Never caught, because `LogException()` returns false.\r\n            catch (Exception ex) when (LogException(httpContext, GetElapsedMilliseconds(start, Stopwatch.GetTimestamp()), ex)) { }\r\n        }\r\n\r\n        static bool LogException(HttpContext httpContext, double elapsedMs, Exception ex)\r\n        {\r\n            LogForErrorContext(httpContext)\r\n                .Error(ex, MessageTemplate, httpContext.Request.Method, httpContext.Request.Path, 500, elapsedMs);\r\n\r\n            return false;\r\n        }\r\n\r\n        static ILogger LogForErrorContext(HttpContext httpContext)\r\n        {\r\n            var request = httpContext.Request;\r\n\r\n            var result = Log\r\n                .ForContext(\"RequestHeaders\", request.Headers.ToDictionary(h => h.Key, h => h.Value.ToString()), destructureObjects: true)\r\n                .ForContext(\"RequestHost\", request.Host)\r\n                .ForContext(\"RequestProtocol\", request.Protocol);\r\n\r\n            if (request.HasFormContentType)\r\n                result = result.ForContext(\"RequestForm\", request.Form.ToDictionary(v => v.Key, v => v.Value.ToString()));\r\n\r\n            return result;\r\n        }\r\n\r\n        static double GetElapsedMilliseconds(long start, long stop)\r\n        {\r\n            return (stop - start) * 1000 / (double)Stopwatch.Frequency;\r\n        }\r\n``\r\n\r\nLine 42 referred to in the error log is\r\n\r\n`catch (Exception ex) when (LogException(httpContext, GetElapsedMilliseconds(start, Stopwatch.GetTimestamp()), ex)) { }`\r\n\r\nMy log file also has a lot of these as well\r\n\r\n``ERR Connection id \"\"0HLAOQ9LIG5UR\"\", Request id \"\"0HLAOQ9LIG5UR:000001EF\"\": An unhandled exception was thrown by the application.\r\nMicrosoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request timed out.\r\n``\r\n\r\nI am not sure if they are related  or not.\r\n\r\nErrors\r\n\r\n``[11/01/18 07:20:54.498 -5] ERR An unhandled exception has occurred: Request timed out.\r\nMicrosoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request timed out.\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.PipeCompletion.ThrowFailed()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.GetResult(ReadResult& result)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.IReadableBufferAwaiter.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.ReadableBufferAwaitable.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.<ReadAsync>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.FrameRequestStream.<ReadAsyncInternal>d__21.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()\r\n   at System.IO.StreamReader.<ReadBufferAsync>d__65.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()\r\n   at System.IO.StreamReader.<ReadAsyncInternal>d__63.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<BufferAsync>d__41.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<ReadNextPairAsyncImpl>d__34.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.WebUtilities.FormReader.<ReadFormAsync>d__43.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Http.Features.FormFeature.<InnerReadFormAsync>d__18.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Http.Features.FormFeature.ReadForm()\r\n   at Microsoft.AspNetCore.Http.Internal.DefaultHttpRequest.get_Form()\r\n   at cryptocal.ui.Support.SerilogMiddleware.LogForErrorContext(HttpContext httpContext) in D:\\projects\\Crypto\\cryptocal.ui\\Support\\ErrorHandlingMiddleware.cs:line 63\r\n   at cryptocal.ui.Support.SerilogMiddleware.LogException(HttpContext httpContext, Double elapsedMs, Exception ex) in D:\\projects\\Project1\\Support\\ErrorHandlingMiddleware.cs:line 47\r\n   at cryptocal.ui.Support.SerilogMiddleware.<Invoke>d__4.MoveNext() in D:\\projects\\Project1\\Support\\ErrorHandlingMiddleware.cs:line 42\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>d__6.MoveNext()\r\n``\r\n"},{"Id":"7277882157","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:57:49","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2250","RelatedDescription":"Closed issue \"Kestrel startup issue - address already in use\" (#2250) at aspnet/KestrelHttpServer","RelatedBody":"_From @Petermarcu on November 7, 2017 16:59_\n\n@istvanko filed this here: https://github.com/dotnet/core/issues/1062\r\n\r\nWe host some microservices in Azure using ASP.Net Core 2.0 framework and as we noticed, after some days, the services are recycled automatically although Always on is turned on, but the restart doesn't work all the time and our services remain stopped.\r\n\r\nWe enabled the logging in Azure and we found the below log entry:\r\n\r\n`2017-11-06 23:27:28.337 +00:00 [Critical] Microsoft.AspNetCore.Server.Kestrel: **Unable to start Kestrel.**\r\nSystem.IO.IOException: **Failed to bind to address http://127.0.0.1:3119: address already in use.** ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.AddressInUseException: Error -4091 EADDRINUSE address already in use ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -4091 EADDRINUSE address already in use\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.ThrowError(Int32 statusCode)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.tcp_getsockname(UvTcpHandle handle, SockAddr& addr, Int32& namelen)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvTcpHandle.GetSockIPEndPoint()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.ListenTcp(Boolean useFileHandle)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.CreateListenSocket()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.<>c.<StartAsync>b__8_0(Listener listener)\r\n   at 'Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.CallbackAdapter'1.<>c.<.cctor>b__3_1(Object callback, Object state)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.DoPostWork()\r\n--- End of stack trace from previous location where exception was thrown ---`\r\n\r\nDetailed stack trace available in the document:\r\n[69a2cc3935e9dc939ab7e2d17b47888fef8e50149a09de2203f3b52f2432e924_applicationLog.txt](https://github.com/dotnet/core/files/1450091/69a2cc3935e9dc939ab7e2d17b47888fef8e50149a09de2203f3b52f2432e924_applicationLog.txt)\r\n\r\nThe issue is quite annoying since it happens in the production system once every week.\r\n\r\nWe noticed another issue last week, when the dotnet command received invalid arguments which might have connection with this issue. \r\n\r\nIn general these issues happen in case of Azure infrastructure maintenance or in case of remote file storage unavailability, etc.\r\n\r\n![image](https://user-images.githubusercontent.com/33455058/32497034-8565c63a-c3cb-11e7-8010-699fdbe1a375.png)\r\n\r\n\r\n\r\n\r\n\r\n\n\n_Copied from original issue: aspnet/Home#2272_"},{"Id":"7277877121","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:56:46","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2249","RelatedDescription":"Closed issue \"BadHttpRequestionException: Request timed out on OSEv3\" (#2249) at aspnet/KestrelHttpServer","RelatedBody":"Hi,\r\n\r\nI am running ASP .NET Core 2.0 on OSEv3. My ASP .NET Web API is a simple controller that is responsible for uploading dat files in the region of ~300MB. After the initial request all subsequent requests fail with the following error \r\n\r\n\r\n\r\n`  Connection id \"0HLANMLGCKEGN\", Request id \"0HLANMLGCKEGN:00000001\": An unhandled exception was thrown by the application.\r\nMicrosoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request timed out.\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.PipeCompletion.ThrowFailed()`\r\n\r\n\r\nMy controller code is taken from the Microsoft mvc asp .net core examples  for the streaming controller [here](https://docs.microsoft.com/en-us/aspnet/core/mvc/models/file-uploads)\r\n\r\nMy kestrel setup is as \r\n\r\n`  WebHost.CreateDefaultBuilder(args)\r\n                .UseKestrel(options =>\r\n                {\r\n                    options.Limits.MaxRequestBodySize = null;\r\n                    options.Limits.KeepAliveTimeout = TimeSpan.FromMinutes(30);\r\n                    options.Limits.RequestHeadersTimeout = TimeSpan.FromMinutes(30); ;\r\n                })`\r\n\r\nMy client post call uses  httpclient as such\r\n\r\n`            using (var content = new MultipartFormDataContent())\r\n            {\r\n\r\n                var bytes = File.ReadAllBytes(@\"c:\\FILEA.dat\");\r\n                content.Add(new StreamContent(new MemoryStream(bytes))\r\n                {\r\n                    Headers =\r\n                    {\r\n                        ContentLength = bytes.Length,\r\n                        ContentType = new MediaTypeHeaderValue(\"application/octet-stream\"),\r\n\r\n\r\n\r\n                    }\r\n                }, \"FILEA.dat\", \"FILEA.dat\");\r\n       \r\n                content.Add(new StringContent(\"XXX\"), \"XXX\");\r\n                using (var message = await Client.PostAsync(_BASE_URL, content))\r\n                {\r\n                    result = message.Content.ReadAsStringAsync();\r\n                }\r\n\r\n            }\r\n\r\nThe code has no problems when running on kestrel directly on windows.\r\n\r\nThrough debugging i have the issue seems to happen at this part in the controller that is provided in the Microsoft example\r\n\r\n` await section.Body.CopyToAsync(targetStream);`\r\n\r\nAlso just to add the container/pod this runs is setup with https 1.1.  Further more the ENVIRNOMEN variables for ASPNETCORE_URLS is set  to http://*:5000\r\n\r\nI am a bit confused why subsequent requests are failing over. I assume somewhere some resource is not shutting down properly.\r\n\r\nThe other thing i noticed for the 1st successful post in Fiddler i see the clienttoserverbytes value at around 270MB, on the next failing posts the clienttoserverbytes is around 1/2 a MB. That is also very weird.\r\n\r\nAny help/assistance welcome.\r\n\r\n\r\n`\r\n  \r\n  "},{"Id":"7277870193","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:55:22","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2248","RelatedDescription":"Closed issue \"Kestrel crash when ConnectionResetException is thrown\" (#2248) at aspnet/KestrelHttpServer","RelatedBody":"Hi,\r\nRecently i upgraded my asp.core app from v. 1.0 to v. 2.0, but after the migration i keep seeing ConnectionResetException in the logs, and once this exception is thrown the whole asp.net core app crash! it seems that this exception is not caught internally or something like this.\r\n\r\nPlease note that i was not seeing this exception in v. 1.0, and am using iis as a reverse proxy.\r\n\r\nBelow is the exception log details, can anyone help me in this?\r\n\r\nMicrosoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.ConnectionResetException: Error -4077 ECONNRESET connection reset by peer ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -4077 ECONNRESET connection reset by peer --->\r\nat Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.PipeCompletion.ThrowFailed()\r\nat Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.GetResult(ReadResult& result)\r\nat Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.IReadableBufferAwaiter.GetResult()\r\nat Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\nat System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\nat System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\nat Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.FrameRequestStream.d__21.MoveNext()\r\n  "},{"Id":"7277842715","Type":"PullRequestEvent","CreatedAt":"2018-02-21T20:49:52","Actor":"benaadams","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/pull/2339","RelatedDescription":"Closed pull request \"[WIP] Vectorize EncodeAsciiCharsToBytes\" (#2339) at aspnet/KestrelHttpServer","RelatedBody":"Use `Vector.Narrow` since its in 2.1\r\n\r\nIgnoring whitespace is easier on the eye https://github.com/aspnet/KestrelHttpServer/pull/2339/files?w=1"},{"Id":"7277809649","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:43:01","Actor":"muratg","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2229","RelatedDescription":"Closed issue \"Web API POST request is loo slow on accessing with machine name, works fine with localhost url\" (#2229) at aspnet/KestrelHttpServer","RelatedBody":"I have a HttpGet and HttpPost API Endpoints running on local machine, when i access the get endpoint with localhost url and machine name url both works fine. but for the POST endpoint it is working fine with localhost url but machine name url it is taking approximately 6 seconds. actually controller method is getting the request after 6 seconds only. I have profiled it and it looks like the issue is in Microsoft.AspNetCore.Server.Kestrel.Internal.System.SpanExtensions.IndexOf method see the screenshot below.\r\n\r\n![profile](https://user-images.githubusercontent.com/34702650/34193097-ee4fb098-e577-11e7-9c72-e63c25ea4c72.PNG)\r\n\r\n\r\nSome times the post request timeout with following stack trace.\r\nRequest timed out.\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.PipeCompletion.ThrowFailed()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.GetResult(ReadResult& result)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.Pipe.Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.IReadableBufferAwaiter.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Internal.System.IO.Pipelines.ReadableBufferAwaitable.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.<ReadAsync>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.FrameRequestStream.<ReadAsyncInternal>d__21.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()\r\n   at System.IO.StreamReader.<ReadBufferAsync>d__65.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()\r\n   at System.IO.StreamReader.<ReadToEndAsyncInternal>d__61.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at DataGrid.API.Controllers.DefaultRepositoryController.<GetResponse>d__13.MoveNext() in D:\\Work\\InfyPOS\\DataGrid_DotNetCore\\DataGrid\\DataGrid.API\\Controllers\\DefaultRepositoryController.cs:line 350\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at DataGrid.API.Controllers.DefaultRepositoryController.<Save>d__6.MoveNext() in D:\\Work\\InfyPOS\\DataGrid_DotNetCore\\DataGrid\\DataGrid.API\\Controllers\\DefaultRepositoryController.cs:line 185\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at DataGrid.API.RequestHandlerMiddleware.<Invoke>d__6.MoveNext() in D:\\Work\\InfyPOS\\DataGrid_DotNetCore\\DataGrid\\DataGrid.API\\Middleware\\RequestHandlerMiddleware.cs:line 62 in API : /DataGrid/product/Save\r\n"},{"Id":"7277765020","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:33:31","Actor":"halter73","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2340","RelatedDescription":"Opened issue \"Create request body pipe reader by decorating the connection pipe reader\" (#2340) at aspnet/KestrelHttpServer","RelatedBody":"This should be more efficient than pumping request body data into a new pipe."},{"Id":"7277755900","Type":"IssuesEvent","CreatedAt":"2018-02-21T20:31:47","Actor":"davidfowl","Repository":"aspnet/KestrelHttpServer","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/KestrelHttpServer/issues/2192","RelatedDescription":"Closed issue \"Consider adding support for .NET Core 2.1 to Kestrel for Memory and Span overloads on Stream\" (#2192) at aspnet/KestrelHttpServer","RelatedBody":"It'll remove some of the overhead of getting an array out of the Memory and calling into various Stream APIs.\r\n"}],"ResultType":"GitHubEvent"},"Razor":{"Events":[{"Id":"7279062509","Type":"PullRequestEvent","CreatedAt":"2018-02-22T02:07:34","Actor":"rynowak","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/pull/2097","RelatedDescription":"Opened pull request \"Report faults on Razor project system exceptions\" (#2097) at aspnet/Razor","RelatedBody":"Using the async-tasks service will automatically handle and report\r\nexceptions from the project system"},{"Id":"7278368174","Type":"IssuesEvent","CreatedAt":"2018-02-21T22:39:35","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/issues/2067","RelatedDescription":"Closed issue \"Make `App.Views.dll` the default filename for MVC when used with Razor SDK\" (#2067) at aspnet/Razor","RelatedBody":"We've decided to change the assembly that's produced by Razor SDK when used with MVC to `App.Views.dll`"},{"Id":"7278347706","Type":"PullRequestEvent","CreatedAt":"2018-02-21T22:34:54","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/pull/2090","RelatedDescription":"Closed pull request \"Change the default extension for Razor views to .Views.dll\" (#2090) at aspnet/Razor","RelatedBody":""},{"Id":"7277582331","Type":"PullRequestEvent","CreatedAt":"2018-02-21T19:55:38","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Razor/pull/2093","RelatedDescription":"Merged pull request \"Separate VS/DesignTime properties from general SDK properties\" (#2093) at aspnet/Razor","RelatedBody":"Fixes #2069"},{"Id":"7277443384","Type":"PullRequestEvent","CreatedAt":"2018-02-21T19:28:35","Actor":"pranavkm","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/pull/2083","RelatedDescription":"Closed pull request \"PreserveCompilationContext needs to be set only if a project has any …\" (#2083) at aspnet/Razor","RelatedBody":"…Razor files\r\n\r\nFixes #2077"},{"Id":"7276900916","Type":"IssuesEvent","CreatedAt":"2018-02-21T17:42:56","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Razor/issues/2080","RelatedDescription":"Closed issue \"RazorProjectEngineBuilder.AddDefaultImports should take a source document or a string\" (#2080) at aspnet/Razor","RelatedBody":"We merged this from our tests into the product, but it accepts params of `RazorProjectItem` which isn't a very useful type for extenders. This should be cleaned up to take strings or source documents."},{"Id":"7276899680","Type":"PullRequestEvent","CreatedAt":"2018-02-21T17:42:41","Actor":"NTaylorMullen","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"merged","RelatedUrl":"https://github.com/aspnet/Razor/pull/2092","RelatedDescription":"Merged pull request \"Changed AddDefaultImports to take strings instead of project items.\" (#2092) at aspnet/Razor","RelatedBody":"- Strings here was important because any import added to the system dynamically needs to eventually make its way back to being a project item. With strings we can state that they do exist (have content) but do not have any file paths associated.\r\n- Updated all call sites to use the new AddDefaultImports string based api.\r\n\r\n#2080"},{"Id":"7276870498","Type":"IssuesEvent","CreatedAt":"2018-02-21T17:37:01","Actor":"usselite","Repository":"aspnet/Razor","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Razor/issues/2096","RelatedDescription":"Opened issue \"Razor view cache (not updating)\" (#2096) at aspnet/Razor","RelatedBody":"Using the following code (https://ppolyzos.com/2016/09/09/asp-net-core-render-view-to-string/) I generate razor views to strings. \r\n\r\nI am stumbling now upon a caching issue, that whenever views (source) are changed/updated during run-time which are executed by that piece of code, they're not updated. Other views which are not executed as part of that converter do get updated when the source cshtml is changed.\r\n\r\nAt several points at the Razor implementation caches show up. The RazorViewEngine exposes the ViewLookUpCache, overriding and clearing the key(s) does not result in a updated view. Currently I am lost in the web where this potential cache and/or buffer could be for the (template?) views.\r\n\r\nHow can I clear the (template) cache for the views which are supposed to be updated? **So my views are properly refreshed with the latest changes, without having to restart my application.**"}],"ResultType":"GitHubEvent"},"Templates":{"Events":[],"ResultType":"GitHubEvent"},"Tooling":{"Events":[{"Id":"7271114444","Type":"IssuesEvent","CreatedAt":"2018-02-20T18:33:27","Actor":"abpiskunov","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/347","RelatedDescription":"Closed issue \"File nesting in Solution Explorer is inconsistent and incorrect\" (#347) at aspnet/Tooling","RelatedBody":"The Solution Explorer for ASP.NET 5 MVC projects has several major problems - one of them is file nesting. The below issues affect Visual Studio 2015 Update 1 with ASP.NET 5 Release Candidate 1.\n#### tl;dr\n- Please fix nesting rules for `.less`, `.scss` and `.sass`, so those files are nested under `.html`.\n- Please fix incorrect nesting that sometimes appear after renaming/moving/copying files and folders.\n- Please provide an option to disable all file nesting, and eventually, options to configure nesting rules.\n- Please fix other critical Solution Explorer issues - this is just one of them, and there are many more.\n#### File nesting is inconsistent when nesting files under `.html`.\n\nThe `.less` and `.scss` files should be nested under `.html`. Those files compile to `.css` just like `.ts` compile to `.js` and they are just as much part of the view component. \n![less-not-nested-under-html](https://cloud.githubusercontent.com/assets/6388663/11942660/6452782c-a838-11e5-9a44-d7ab6a2e5fc9.png)\n![scss-not-nested-under-html](https://cloud.githubusercontent.com/assets/6388663/11942664/66bbd3a6-a838-11e5-8e3c-f1c369d5e1de.png)\nIn fact, if we only have a `.css` file in there, then it _is_ nested as expected, so clearly `.less` and `.scss` should also be nested:\n![css-is-nested-as-expected](https://cloud.githubusercontent.com/assets/6388663/11942670/6be4bdd4-a838-11e5-99b1-1dcc43238459.png)\n\nWhile the above is clearly a bug, and a very annoying one at that, the rules for other file types are less obvious, but should maybe also be considered... maybe `.json` should also be nested under `.html`?\nIt probably contains either settings, string resources, or data for that view component, so it seems resonable to me, although I consider this far less important than getting the style sheet nesting fixed.\n![json-not-nested-under-html](https://cloud.githubusercontent.com/assets/6388663/11939884/4a1bb224-a825-11e5-9ff6-631b4e8fed39.png)\n\nThose nesting rules have been inconsistent ever since they were introduced in ASP.NET 5, and **it really needs to be fixed**. Sure, everything compiles just fine, but I'm getting really pissed off looking at this mess in my Solution Explorer every day. Inconsistencies like this makes the whole concept of nesting seem like an annoyance more than a help, as it raises the obvious question \"if only some files are nested, then why nest anything at all - that's just an extra click to get to the .ts file\". Which brings me to...\n#### File nesting can be annoying\n\nWhile the fundamental idea of file nesting is not nessesarily bad, it can be _very_ annoying at times, which is why, as a _minimum_, **I want an option to disable all file nesting** - and ideally, options to configure the nesting rules.\n\nConsider this folder structure, where the folder already represents a container for the component:\n![file-nesting-is-annoying](https://cloud.githubusercontent.com/assets/6388663/11940913/ff28392a-a82b-11e5-86b4-571bc70d21bb.png)\nHere the file nesting provides no benefit at all, and actually just introduces a _really_ annoying extra click to get to the `.ts` file. A possible fix for this might be to only nest files if the folder name is different from the name of the `.html` file, but this might also be wrong - for example, a folder named `tabs` representing some fancy `tabs` component might actually contain multiple elements that work together, e.g. `tabs.html/js`, `tab-pane.html/js` and `tab-button.html/js`, and in this case we _do_ want nesting for all three of those. Therefore, I strongly believe an option to simply disable all nesting is the best option here - and it is very much needed, because despite this example, we do have projects in which the nesting provides absolutely no value and represents a major annoyance.\n\nOne could also argue that the `.html` file should actually be nested under the `.js` file.\nConsider an Angular 2 application, where the `.ts` file represents the actual Component, annotated with metadata specifying either the path to the `.html` file representing its view, or if the view is small, a string representing the markup of the view. Same for styles, where the metadata in the `.ts` file specifies either the path to the `.css` file, or a string representing the style rules. Here, both the view and the style sheet is clearly dependencies of the `.ts` file, so it would make sense to nest them below that...\n##### An alternative idea\n\nAlternatively, you could consider a completely different approach to nesting, where the part of the file name the files have in common, is used to show a \"virtual folder\" containing all the files - then file nesting could be used only for things like transpiler generated files. The image below is a concept I mocked up to illustrate this idea:\n![virtual-folder-concept](https://cloud.githubusercontent.com/assets/6388663/11942319/042b84ea-a836-11e5-80f1-b5941cfbdfa7.png)\nHere, all the files have the \"foo\" part of their name in common, and is therefore nested under a \"foo\" node in Solution Explorer. However, in the file system, the actual files are all located in the components folder, so in the code the path would be `app/components/foo.js` - nice an clean, works for any file type, and makes no assumptions about whether `.html` or `.js` is more important.\n\nGoing further with this idea, the IDE could also be smart, so when selecting this \"virtual folder\", it could maybe somehow open all the `foo.*` files in a split view (ignoring transpilation output of course), thus providing a quick way to see all the component code at once. Just a thought...\n### File nesting is broken\n\nNot only is file nesting inconsistent, and sometimes annoying, but it is also broken.\nHere are two cases of incorrect behavior I managed to reproduce - unfortunately, this does not seem to fail consistently, so it can be hard to reproduce - but it does happen often enough to be annoying.\n![file-nested-on-drag-copy](https://cloud.githubusercontent.com/assets/6388663/11943207/4749c9e8-a83c-11e5-9f15-304cb16e8419.png)\n![nesting-broken-when-folder-is-renamed](https://cloud.githubusercontent.com/assets/6388663/11943211/4c807074-a83c-11e5-8e71-4bed0bd4353c.png)\n\nPlease take those Solution Explorer issues seriously - I've provided feedback about multiple critical issues several several months ago, and thus far _nothing_ has improved. Solution Explorer still hangs or crashes the whole IDE when a large number of files is modified/moved/copied/renamed, it still has annoying, inconsistent and buggy file nesting, and it still constantly gets out of sync with the file system, crashing first the project system and eventually the whole IDE. I'm more that a little concerned about seeing a release candidate label on something this buggy and unpolished - if this is indeed what you intend to release, then we intend to find another IDE for our frontend development.\n"},{"Id":"7187586381","Type":"IssuesEvent","CreatedAt":"2018-02-02T06:15:37","Actor":"simonpbond","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/292","RelatedDescription":"Closed issue \"Publish ASP.NET 5 Web Application to remote IIS \" (#292) at aspnet/Tooling","RelatedBody":"In Visual Studio 2015, I can successfully preview / publish to a remote IIS server with a 4.6 Web application. However, publishing fails when using an ASP.NET 5 template / web applications, it will not even provide a preview.\n\nIs it possible to publish an ASP.NET 5 web application at the current time using Visual Studio 2015 / Publish to a remote IIS server?\n\nIf so, is there any instructions on doing this? (not for local IIS).\n"},{"Id":"7156693215","Type":"IssuesEvent","CreatedAt":"2018-01-26T17:07:42","Actor":"jodavis","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1010","RelatedDescription":"Closed issue \"Manage Bower Packages: Update button should disable upon clicking\" (#1010) at aspnet/Tooling","RelatedBody":"Here are the steps to reproduce in VS 2017:\r\n\r\n1. Use the ASP.NET Core Web Application (.NET Core) project template to create a new ASP.NET Core 1.1 Web Application with No Authentication.\r\n1. Right-click the web project in Solution Explorer, and select **Manage Bower Packages...**.\r\n1. From the **Installed** tab, click the **Update** button for the Bootstrap package. Notice that the button doesn't disable after it's been clicked, yet the update is occurring.\r\n\r\nThis **Update** button should be disabled while the package update is in progress. Otherwise, the following command is executed each time the button is clicked: `\"C:\\Users\\Scott Addie\\AppData\\Roaming\\npm\\Bower.cmd\" install bootstrap#v4.0.0-alpha.6 --force-latest --save`.\r\n\r\nIn the screenshot below, you see what happens when I click the button 3 times in a row:\r\n\r\n![bower_update](https://cloud.githubusercontent.com/assets/10702007/23536562/5c5589f6-ff8b-11e6-8c22-7aa322a802d9.png)\r\n\r\n\r\n\r\n"},{"Id":"7151591436","Type":"IssuesEvent","CreatedAt":"2018-01-25T18:01:43","Actor":"jodavis","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/914","RelatedDescription":"Closed issue \"Format on paste setting does not work in .cshtml (Razor - VS 2015)\" (#914) at aspnet/Tooling","RelatedBody":"When disabling format on paste for C# + HTML in the Visual Studio settings, usually code does not get formatted on paste (as expected)\r\n\r\nIn razor files, when you copy and past something like this statement:\r\n```csharp\r\n@Html.AttributeEncode(\"test\")\r\n```\r\nit also works as intended.\r\n\r\nHowever when you mark the \".\" (dot) and do something like cut (Ctlr+X) and paste (Ctlr+V) (or just paste), \r\nthe html helper call gets formatted (in our case like this):\r\n```csharp\r\n@Html.AttributeEncode (\"test\")\r\n```\r\n\r\nThis is ***unexpected and even leads to a compile failure*** (razor @ syntax does not support whitespaces)"},{"Id":"7141550084","Type":"IssuesEvent","CreatedAt":"2018-01-24T01:14:53","Actor":"barrytang","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1065","RelatedDescription":"Closed issue \"Issue with Sales discount App - Odoo 9\" (#1065) at aspnet/Tooling","RelatedBody":"I installed sales discount on total in sales order. While creating invoice am getting the below error\r\nOdoo Server Error\r\nTraceback (most recent call last):\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 638, in _handle_exception\r\nreturn super(JsonRequest, self)._handle_exception(exception)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 675, in dispatch\r\nresult = self._call_function(**self.params)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 331, in _call_function\r\nreturn checked_call(self.db, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/service/model.py\", line 119, in wrapper\r\nreturn f(dbname, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 324, in checked_call\r\nresult = self.endpoint(*a, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 933, in call\r\nreturn self.method(*args, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 504, in response_wrap\r\nresponse = f(*args, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/web/controllers/main.py\", line 878, in call_kw\r\nreturn self._call_kw(model, method, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/web/controllers/main.py\", line 870, in _call_kw\r\nreturn call_kw(request.env[model], method, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/api.py\", line 681, in call_kw\r\nreturn call_kw_multi(method, model, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/api.py\", line 672, in call_kw_multi\r\nresult = method(recs, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/models.py\", line 5469, in onchange\r\nrecord._onchange_eval(name, field_onchange[name], result)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/models.py\", line 5367, in _onchange_eval\r\nmethod_res = method(self)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 456, in _onchange_invoice_line_ids\r\ntaxes_grouped = self.get_taxes_values()\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 635, in get_taxes_values\r\nval = self._prepare_tax_line_vals(line, tax)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 612, in _prepare_tax_line_vals\r\n'base': tax['base'],\r\nKeyError: 'base'\r\n\r\n\r\nplease give any solution\r\n"},{"Id":"7138385029","Type":"IssuesEvent","CreatedAt":"2018-01-23T14:19:55","Actor":"NeerajaRagesh","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Tooling/issues/1065","RelatedDescription":"Opened issue \"Issue with Sales discount App - Odoo 9\" (#1065) at aspnet/Tooling","RelatedBody":"I installed sales discount on total in sales order. While creating invoice am getting the below error\r\nOdoo Server Error\r\nTraceback (most recent call last):\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 638, in _handle_exception\r\nreturn super(JsonRequest, self)._handle_exception(exception)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 675, in dispatch\r\nresult = self._call_function(**self.params)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 331, in _call_function\r\nreturn checked_call(self.db, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/service/model.py\", line 119, in wrapper\r\nreturn f(dbname, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 324, in checked_call\r\nresult = self.endpoint(*a, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 933, in call\r\nreturn self.method(*args, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/http.py\", line 504, in response_wrap\r\nresponse = f(*args, **kw)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/web/controllers/main.py\", line 878, in call_kw\r\nreturn self._call_kw(model, method, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/web/controllers/main.py\", line 870, in _call_kw\r\nreturn call_kw(request.env[model], method, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/api.py\", line 681, in call_kw\r\nreturn call_kw_multi(method, model, args, kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/api.py\", line 672, in call_kw_multi\r\nresult = method(recs, *args, **kwargs)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/models.py\", line 5469, in onchange\r\nrecord._onchange_eval(name, field_onchange[name], result)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/models.py\", line 5367, in _onchange_eval\r\nmethod_res = method(self)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 456, in _onchange_invoice_line_ids\r\ntaxes_grouped = self.get_taxes_values()\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 635, in get_taxes_values\r\nval = self._prepare_tax_line_vals(line, tax)\r\nFile \"/usr/lib/python2.7/dist-packages/odoo/addons/account/models/account_invoice.py\", line 612, in _prepare_tax_line_vals\r\n'base': tax['base'],\r\nKeyError: 'base'\r\n\r\n\r\nplease give any solution\r\n"},{"Id":"7119899220","Type":"IssuesEvent","CreatedAt":"2018-01-18T22:33:02","Actor":"mlorbetske","Repository":"aspnet/Tooling","Organization":"aspnet","RawContent":null,"RelatedAction":"closed","RelatedUrl":"https://github.com/aspnet/Tooling/issues/555","RelatedDescription":"Closed issue \"Microsoft.DotNet.Publishing.targets breaks webdeploy zip support\" (#555) at aspnet/Tooling","RelatedBody":"When I create a VS build deployment template in VSTS, it tries building a project or solution with the following arguments:\n\n```\n/p:DeployOnBuild=true /p:WebPublishMethod=Package /p:PackageAsSingleFile=true /p:SkipInvalidConfigurations=true /p:PackageLocation=\"$(build.artifactstagingdirectory)\\\\\"\n```\n\nAfter the move from DNX targets to DotNet targets, this only builds the project rather than outputting a zip file, breaking the VSTS template.\n\nI'm having a hard time trying to figure out how to call msbuild on my xproj file to get it to build a webdeploy compatible zip package that can be deployed with `Publish-AzureWebsiteProject`.\n"}],"ResultType":"GitHubEvent"},"Announcements":{"Events":[{"Id":"7215731126","Type":"IssuesEvent","CreatedAt":"2018-02-08T09:18:22","Actor":"SteveSandersonMS","Repository":"aspnet/Announcements","Organization":"aspnet","RawContent":null,"RelatedAction":"opened","RelatedUrl":"https://github.com/aspnet/Announcements/issues/289","RelatedDescription":"Opened issue \"Retiring the Microsoft.AspNetCore.SpaTemplates package (Aurelia/Knockout/Vue templates)\" (#289) at aspnet/Announcements","RelatedBody":"The `Microsoft.AspNetCore.SpaTemplates` package never shipped in the .NET Core SDK, and never reached an official level of support. The ASP.NET team's development resources are finite, and we think we can deliver more valuable features to ASP.NET developers by focusing elsewhere.\r\n\r\nSo:\r\n\r\n* The `Microsoft.DotNet.Web.Spa.ProjectTemplates` package, containing **Angular**, **React**, and **React+Redux** templates, is **not affected**. This ships in the .NET Core SDK and is officially supported. We continue to invest development effort in this package. We can put *more* time and effort into these SPA templates now the effort isn't so spread out.\r\n* If you have an existing Aurelia/Knockout/Vue project based on our SPA templates, you're not directly affected because these templates are only used to create new projects. You can continue building and shipping your app forever. Obviously we still support and enhance the underlying ASP.NET Core APIs (such as those in JavaScriptServices) that you are using.\r\n* The `Microsoft.AspNetCore.SpaTemplates` package, containing Aurelia, Knockout, and Vue templates, continues to be available, but we'll no longer update it or work on issues related to it.\r\n* We encourage enthusiastic community members to [ship your own `dotnet new` templates](https://docs.microsoft.com/en-us/dotnet/core/tools/custom-templates). The `dotnet new` system is extensible for this exact reason. If you want to own the go-to Aurelia/Knockout/Vue project template, now's your chance! You could [fork the ones from `Microsoft.AspNetCore.SpaTemplates`](https://github.com/aspnet/templating/tree/dev/src/Microsoft.AspNetCore.SpaTemplates), or start from scratch depending on what you prefer.\r\n* In the long term, if another JavaScript SPA framework becomes dominant, we will of course consider adding a template for it to the SDK templates package.\r\n\r\nI know this will be irritating to some people, especially those who have worked on PRs for the Aurelia/Knockout/Vue templates. I'm sorry about that! I hope you can understand that our goal is to offer the overall maximum benefit for ASP.NET developers based on the resources available."}],"ResultType":"GitHubEvent"},"Twitter":{"ResultType":"TwitterTimeline","Tweets":[{"Id":"966009382377897985","CreatedAt":"2018-02-20T17:59:19+00:00","UserScreenname":"aspnet","Text":"Starting now! \n\nJoin the #ASPNET Community Standup at https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":11,"FavoriteCount":7,"RawContent":null},{"Id":"965988674474188800","CreatedAt":"2018-02-20T16:37:01+00:00","UserScreenname":"aspnet","Text":"Catch the #ASPNET Community Standup today at 10 AM Pacific / 18:00 GMT with Javier C Nelson showing a preview of Ra… https://t.co/Fg8NoQJtJp","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":13,"FavoriteCount":3,"RawContent":null},{"Id":"965964952442933249","CreatedAt":"2018-02-20T15:02:46+00:00","UserScreenname":"aspnet","Text":"Jeff is working with cognitive services and Bots today on stream... check it out! https://t.co/HVyIw0Wcgd","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":6,"FavoriteCount":7,"RawContent":null},{"Id":"963791622822612994","CreatedAt":"2018-02-14T15:06:43+00:00","UserScreenname":"aspnet","Text":"Join our @csharpfritz this FRIDAY at 10am / 15:00 UTC for a free online workshop to get started with ASPNet Core.… https://t.co/qtufFsbfmc","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":24,"FavoriteCount":16,"RawContent":null},{"Id":"963559608869568512","CreatedAt":"2018-02-13T23:44:47+00:00","UserScreenname":"aspnet","Text":"The #ASPNET Community Standup is starting now! Join us!\n\nhttps://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":10,"FavoriteCount":2,"RawContent":null},{"Id":"963556129748918272","CreatedAt":"2018-02-13T23:30:57+00:00","UserScreenname":"aspnet","Text":"Starting in 15 minutes... join us!\n\nhttps://t.co/4Ioo9jNSN2 https://t.co/C7LilH9606","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":7,"FavoriteCount":8,"RawContent":null},{"Id":"963413986912997376","CreatedAt":"2018-02-13T14:06:08+00:00","UserScreenname":"aspnet","Text":"Join @csharpfritz at 10am ET / 15:00 UTC to learn more about @AspNet Core and get your .NET related questions answe… https://t.co/ORAYG28QGW","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":9,"FavoriteCount":3,"RawContent":null},{"Id":"963180036571332609","CreatedAt":"2018-02-12T22:36:30+00:00","UserScreenname":"aspnet","Text":"Join us for the weekly #ASPNET Community Standup this Tuesday at 3:45 PM Pacific / 23:45 GMT at https://t.co/4Ioo9jNSN2","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":11,"FavoriteCount":8,"RawContent":null},{"Id":"962026058412249090","CreatedAt":"2018-02-09T18:11:00+00:00","UserScreenname":"aspnet","Text":"ASPNET Core 2.0 is out! Join @csharpfritz as he walks you through the improvements, additions and enhancements of t… https://t.co/AC3AJnLo9t","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":52,"FavoriteCount":32,"RawContent":null},{"Id":"961980507939528705","CreatedAt":"2018-02-09T15:10:00+00:00","UserScreenname":"aspnet","Text":"Working with ASPNET and want to invest in Angular? Check out @Paladique at @DevIntersection, March 25-28 in Orlando… https://t.co/i9BCRXD1fc","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":27,"FavoriteCount":16,"RawContent":null},{"Id":"961596291968102400","CreatedAt":"2018-02-08T13:43:16+00:00","UserScreenname":"aspnet","Text":"Our @csharpfritz and ASPInsider @brendoneus will be showing unit testing patterns and structure practices LIVE onli… https://t.co/dvU3elJX8R","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":11,"FavoriteCount":3,"RawContent":null},{"Id":"961390822993399809","CreatedAt":"2018-02-08T00:06:48+00:00","UserScreenname":"aspnet","Text":"Did you miss this week's #ASPNET Community Standup (with the latest news on Blazor, starring @danroth27 and… https://t.co/tfeqgnhClX","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":21,"FavoriteCount":10,"RawContent":null},{"Id":"961390078932148224","CreatedAt":"2018-02-08T00:03:51+00:00","UserScreenname":"aspnet","Text":"Sure, after you've left a PR on the #ASPNET docs...\n\nhttps://t.co/Dau0ZgAUbe\n\n;) https://t.co/s8UGKAhK0e","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":10,"FavoriteCount":2,"RawContent":null},{"Id":"961382608818130944","CreatedAt":"2018-02-07T23:34:10+00:00","UserScreenname":"aspnet","Text":"Join our Jeff Fritz and ASPInsider Brendan Enrick for a LIVE CODING stream talking about how to write better unit t… https://t.co/7ecMOR53sw","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":8,"FavoriteCount":0,"RawContent":null},{"Id":"960929306548387840","CreatedAt":"2018-02-06T17:32:54+00:00","UserScreenname":"aspnet","Text":"This week's standup starts in 30 minutes. Join us! https://t.co/YnMMK0GKu4","Source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","RetweetCount":7,"FavoriteCount":5,"RawContent":null}]}},"RunOn":"2018-02-22T05:30:09.7048614Z","RunDurationInMilliseconds":8208}