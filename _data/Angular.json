{"Data":{"Angular-Issues":{"Issues":[{"Id":"570948859","IsPullRequest":false,"CreatedAt":"2020-02-26T00:18:34","Actor":"shlomiassaf","Number":"35677","RawContent":null,"Title":"[IVY] Can't create component instance in a module constructor","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n\r\n@angular/core, maybe @angular/compiler...\r\n\r\n### Is this a regression?\r\n\r\nWorked in 8 and below\r\n\r\n### Description\r\n\r\nA module throws when trying to create a new component instance in the constructor.\r\n\r\n```ts\r\n@NgModule({\r\n  declarations: [\r\n    FeatComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n})\r\nexport class FeatModule {\r\n\r\n  constructor(ngRef: NgModuleRef<FeatModule>) {\r\n    // A self declared component, WONT WORK:\r\n    try {\r\n      ngRef.componentFactoryResolver.resolveComponentFactory(FeatComponent).create(ngRef.injector);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n    // A parent declared component, WONT WORK:\r\n     try {\r\n      ngRef.componentFactoryResolver.resolveComponentFactory(AppComponent).create(ngRef.injector);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that both a self declared component and a parent component will fail.\r\n\r\nThe fix in #35580 solve a portion of the issue but not all of it. (Iv'e tried to [explain it here](https://github.com/angular/angular/pull/35637#issuecomment-590115523) with no luck)\r\n\r\nThe problem starts [here](https://github.com/angular/angular/blob/master/packages/core/src/render3/ng_module_ref.ts#L55) with the root module of the app is created along with an `NgModuleRef` for it:\r\n\r\n```ts\r\n    this._r3Injector = createInjector(\r\n        ngModuleType, _parent,\r\n        [\r\n          {provide: viewEngine_NgModuleRef, useValue: this},\r\n          {provide: viewEngine_ComponentFactoryResolver, useValue: this.componentFactoryResolver}\r\n        ],\r\n        stringify(ngModuleType)) as R3Injector;\r\n```\r\n\r\n`ngModuleType` is the app's root module class and in this call it will go and instantiate all child modules...  (`FeatModule`).\r\n\r\nThe child module will try to create a component instance (`FeatModule.constructor`) which will\r\nat some point require the `_r3Injector`. However, it is still not there because the original function call (`createInjector`) did not still finish (the one called from the app module root).\r\n\r\nThis definitely worked in v8.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nGo to https://stackblitz.com/edit/angular-9-abstract-mv8oep?file=src%2Fapp%2Ffeat-module%2Ffeat-module.ts \r\n\r\nWhile the repro demo is using angular 9.0.0 i've verified this locally on the latest build using:\r\n\r\n```\r\n    \"@angular/compiler\": \"https://github.com/angular/compiler-builds/archive/9.1.0-next.1+835618c678.tar.gz\",\r\n    \"@angular/core\": \"https://github.com/angular/core-builds/archive/9.1.0-next.1+835618c678.tar.gz\",\r\n```\r\n\r\nIncluding an ngcc rebuild.\r\n\r\nYou can see that the issue is there for both the root app module ctor and a feature ctor.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nmain.ts:15 TypeError: Cannot read property 'get' of undefined\r\n    at NgModuleRef$1.get (core.js:36009)\r\n    at Object.get (core.js:33759)\r\n    at ComponentFactory$1.create (core.js:33816)\r\n    at new ChildModule (child.module.ts:16)\r\n    at Object.ChildModule_Factory [as factory] (child.module.ts:14)\r\n    at R3Injector.hydrate (core.js:16837)\r\n    at R3Injector.get (core.js:16598)\r\n    at core.js:16528\r\n    at Set.forEach (<anonymous>)\r\n    at new R3Injector (core.js:16524)\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.3\r\nNode: 12.9.1\r\nOS: darwin x64\r\n\r\nAngular: 9.1.0-next.1+62.sha-835618c\r\n... compiler, core\r\nIvy Workspace: Yes\r\n\r\nPackage                             Version\r\n-------------------------------------------------------------\r\n@angular-devkit/architect           0.900.3\r\n@angular-devkit/build-angular       0.900.3\r\n@angular-devkit/build-optimizer     0.13.9\r\n@angular-devkit/build-webpack       0.900.3\r\n@angular-devkit/core                9.0.3\r\n@angular-devkit/schematics          9.0.3\r\n@angular/animations                 9.0.2\r\n@angular/cdk                        9.0.1\r\n@angular/cdk-experimental           9.0.1\r\n@angular/cli                        9.0.3\r\n@angular/common                     9.0.2\r\n@angular/compiler-cli               9.0.2\r\n@angular/forms                      9.0.2\r\n@angular/language-service           9.0.2\r\n@angular/material                   9.0.1\r\n@angular/platform-browser           9.0.2\r\n@angular/platform-browser-dynamic   9.0.2\r\n@angular/router                     9.0.2\r\n@ngtools/webpack                    9.0.3\r\n@schematics/angular                 9.0.3\r\n@schematics/update                  0.900.3\r\nrxjs                                6.5.4\r\ntypescript                          3.7.5\r\nwebpack                             4.41.2\r\n</code></pre>\r\n\r\ncc: @crisbeto ","Url":"https://github.com/angular/angular/issues/35677","RelatedDescription":"Open issue \"[IVY] Can't create component instance in a module constructor\" (#35677)"},{"Id":"570937899","IsPullRequest":false,"CreatedAt":"2020-02-26T00:01:30","Actor":"Splaktar","Number":"35676","RawContent":null,"Title":"docs: getting started guides aren't grouped together in the search results","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n# üìö Docs or angular.io bug report\r\n\r\n### Description\r\n\r\nThe getting started guides aren't grouped together in the search results.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n### What's the affected URL?**\r\nhttps://angular.io/\r\n\r\n### Reproduction Steps**\r\n1. Click into the search box and type \"deployment\"\r\n\r\n### Expected vs Actual Behavior**\r\nExpected that all \"Getting Started with Angular: x\" docs would be found under the \"START\" list.\r\n\r\nActual is here:\r\n![Screen Shot 2020-02-24 at 17 23 51](https://user-images.githubusercontent.com/3506071/75196658-7320e500-572a-11ea-9042-8b945f1b7a1f.png)\r\n\r\nIt seems like \"Getting Started with Angular: Your First App\" should be under \"START\" instead of \"OTHER\" in the search results for \"deployment\"?\r\n\r\n## üåç  Your Environment\r\n\r\n### Browser info\r\nChrome 80\r\n\r\n### Anything else relevant?\r\nRelated to https://github.com/angular/angular/pull/35457#issuecomment-590580142\r\n","Url":"https://github.com/angular/angular/issues/35676","RelatedDescription":"Open issue \"docs: getting started guides aren't grouped together in the search results\" (#35676)"},{"Id":"570915279","IsPullRequest":true,"CreatedAt":"2020-02-25T23:25:12","Actor":"kyliau","Number":"35675","RawContent":null,"Title":"WIP fix(compiler): correct span for symbols in template expression","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35675","RelatedDescription":"Open PR \"WIP fix(compiler): correct span for symbols in template expression\" (#35675)"},{"Id":"570892980","IsPullRequest":true,"CreatedAt":"2020-02-25T22:51:39","Actor":"alxhub","Number":"35674","RawContent":null,"Title":"fix(ivy): type-checking error for duplicate variables in templates","State":"open","Body":"It's an error to declare a variable twice on a specific template:\r\n\r\n```html\r\n<div *ngFor=\"let i of items; let i = index\">\r\n</div>\r\n```\r\n\r\nThis commit introduces a template type-checking error which helps to detect\r\nand diagnose this problem.\r\n\r\nFixes #35186\r\n","Url":"https://github.com/angular/angular/pull/35674","RelatedDescription":"Open PR \"fix(ivy): type-checking error for duplicate variables in templates\" (#35674)"},{"Id":"570810923","IsPullRequest":true,"CreatedAt":"2020-02-25T21:09:22","Actor":"kyliau","Number":"35671","RawContent":null,"Title":"test(compiler): add correct use case of ngFor in r3 ast","State":"closed","Body":"The only test case for `ngFor` exercises an incorrect usage which causes\r\ntwo bound attributes to be generated . This commit adds a canonical and\r\ncorrect usage to show the difference between the two.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35671","RelatedDescription":"Closed or merged PR \"test(compiler): add correct use case of ngFor in r3 ast\" (#35671)"},{"Id":"570819091","IsPullRequest":true,"CreatedAt":"2020-02-25T20:41:11","Actor":"alxhub","Number":"35672","RawContent":null,"Title":"feat(bazel): enable ivy template type-checking in g3","State":"open","Body":"Template type-checking within the Ivy compiler has been disabled internally\r\nin g3 until compatibility with the whole codebase could be verified. As that\r\nverification is now complete and template type-checking is known to be\r\ncompatible with g3, this commit enables it.\r\n\r\nCaretaker: this will require a g3 patch to go in with the sync cl. The patch is: cl/297178029\r\n\r\n","Url":"https://github.com/angular/angular/pull/35672","RelatedDescription":"Open PR \"feat(bazel): enable ivy template type-checking in g3\" (#35672)"},{"Id":"570807800","IsPullRequest":true,"CreatedAt":"2020-02-25T20:19:05","Actor":"wagnermaciel","Number":"35670","RawContent":null,"Title":"refactor(benchpress): delete unused code","State":"open","Body":"## PR Checklist\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n","Url":"https://github.com/angular/angular/pull/35670","RelatedDescription":"Open PR \"refactor(benchpress): delete unused code\" (#35670)"},{"Id":"570791713","IsPullRequest":true,"CreatedAt":"2020-02-25T19:47:05","Actor":"gregmagolan","Number":"35669","RawContent":null,"Title":"Npm integration test manifest","State":"open","Body":"Run /integration/ng_elements_schematics test with bazel using the MANIFEST file.\r\n\r\n@filipesilva This manifest file should be useful in the CLI repo for your integration tests\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [x] Build related changes\r\n- [x] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35669","RelatedDescription":"Open PR \"Npm integration test manifest\" (#35669)"},{"Id":"570755712","IsPullRequest":true,"CreatedAt":"2020-02-25T18:38:47","Actor":"mhevery","Number":"35668","RawContent":null,"Title":"fix(core): treat `[class]` and `[className]` as unrelated bindings","State":"open","Body":"fix(core): treat `[class]` and `[className]` as unrelated bindings\r\n\r\nBefore this change `[class]` and `[className]` were both converted into `…µ…µclassMap`. The implication of this is that at runtime we could not differentiate between the two and as a result we treated `@Input('class')` and `@Input('className)` as equivalent.\r\n\r\nThis change makes `[class]` and `[className]` distinct. The implication of this is that `[class]` becomes `…µ…µclassMap` instruction but  `[className]` becomes `…µ…µproperty' instruction. This means that `[className]` will no longer participate in styling and will overwrite the DOM `class` value.\r\n\r\nFix #35577\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [x] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35668","RelatedDescription":"Open PR \"fix(core): treat `[class]` and `[className]` as unrelated bindings\" (#35668)"},{"Id":"570116867","IsPullRequest":true,"CreatedAt":"2020-02-25T18:23:51","Actor":"atscott","Number":"35653","RawContent":null,"Title":"fix(ivy): Check transplanted views at declaration even if insertion is CheckAlways","State":"closed","Body":"This PR fixes #35400 where a template that is declared in a CheckAlways\r\nview is inserted into another `CheckAlways` view. With the current\r\nimplementation, we do not check the template at the point of\r\ndeclaration, assuming that it will be checked at the insertion (because\r\nit is `CheckAlways`). However, this will not happen if the insertion view\r\nis a child of a non-dirty `OnPush` component. This change simply removes\r\nthe condition that prevented `CheckAlways` transplanted views from being\r\nrefreshed at the declaration if insertion is also `CheckAlways`.","Url":"https://github.com/angular/angular/pull/35653","RelatedDescription":"Closed or merged PR \"fix(ivy): Check transplanted views at declaration even if insertion is CheckAlways\" (#35653)"},{"Id":"570733165","IsPullRequest":true,"CreatedAt":"2020-02-25T17:43:50","Actor":"gregmagolan","Number":"35667","RawContent":null,"Title":"Polish up bazel karma saucelabs info tools/saucelabs/README.md","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/35667","RelatedDescription":"Open PR \"Polish up bazel karma saucelabs info tools/saucelabs/README.md\" (#35667)"},{"Id":"570704017","IsPullRequest":true,"CreatedAt":"2020-02-25T16:56:21","Actor":"mbward","Number":"35666","RawContent":null,"Title":"fix(router): allow UrlMatcher to return null","State":"open","Body":"The matcher is allowed to return null per\r\nhttps://angular.io/api/router/UrlMatcher#usage-notes\r\n\r\nFixes #29824\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nIncorrect type error:\r\n\r\n```\r\nerror TS2322: Type '(url: UrlSegment[]) => UrlMatchResult | null' is not assignable to type 'UrlMatcher'.\r\n  Type 'UrlMatchResult | null' is not assignable to type 'UrlMatchResult'.\r\n    Type 'null' is not assignable to type 'UrlMatchResult'.\r\n```\r\n\r\nIssue Number: 29824\r\n\r\n\r\n## What is the new behavior?\r\n\r\nNo type error.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35666","RelatedDescription":"Open PR \"fix(router): allow UrlMatcher to return null\" (#35666)"},{"Id":"570675420","IsPullRequest":true,"CreatedAt":"2020-02-25T16:02:06","Actor":"jbogarthyde","Number":"35665","RawContent":null,"Title":"Move asset-management section in Creating Libs doc","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nNew section on asset management in \"Creating Libraries\" topic wrongly placed as a subsection.\r\nhttps://angular.io/guide/creating-libraries#managing-library-assets-with-ng-packagr\r\n\r\nIssue Number:  https://github.com/angular/angular/pull/34217#issuecomment-590724798\r\n\r\n\r\n## What is the new behavior?\r\nChanged to H2, moved up near \"publishing\", made explicit that it applies to published libs.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35665","RelatedDescription":"Open PR \"Move asset-management section in Creating Libs doc\" (#35665)"},{"Id":"570567121","IsPullRequest":false,"CreatedAt":"2020-02-25T13:23:58","Actor":"FDIM","Number":"35664","RawContent":null,"Title":"TestBed.overrideProvider fails for service that injects ChangeDetectorRef","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/compiler?\r\n\r\n\r\n### Is this a regression?\r\n\r\nI'd say so - it works with VE, but breaks with IVY.\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> \r\n\r\nWe have this one case in the project where we have a service that is always added to component providers list to make sure that each component get's their own instance. \r\n\r\nMain reason is to get access to component change detector and handle cleanup on destroy to simplify usage.\r\n\r\nThe service itself is not added to any module nor uses providedIn: 'root'/'platform'\r\n\r\nInteresting bit is that this continues to work at runtime with IVY enabled, but fails in unit tests where such provider is overriden. If I remove change detector requirement - unit tests pass. Sadly I can't without refactoring existing code and changing the interface.\r\n\r\nSee the example as I managed to reproduce it in stackblitz. \r\n\r\nI've also tried to use `@Optional` for the value injection, but that did not help:\r\n![image](https://user-images.githubusercontent.com/1985429/75251514-074a8500-57db-11ea-9717-4b5489f6f10b.png)\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ‚úçÔ∏è-->\r\nhttps://stackblitz.com/edit/angular-gvxtvu?file=tsconfig.json\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\nFailed: No value provided for @angular/core symbol '…µ…µinjectPipeChangeDetectorRef'.\r\n        Error: No value provided for @angular/core symbol '…µ…µinjectPipeChangeDetectorRef'.\r\n            at R3JitReflector.resolveExternalReference (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6413:1)\r\n            at JitEmitterVisitor.visitExternalExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6350:1)\r\n            at ExternalExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1373:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5814:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6156:1)\r\n            at InvokeFunctionExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1245:1)\r\n            at http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1\r\n            at JitEmitterVisitor.visitAllObjects (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6015:1)\r\n            at JitEmitterVisitor.visitAllExpressions (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1)\r\n            at JitEmitterVisitor.visitInstantiateExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5854:1)\r\n        Error: No value provided for @angular/core symbol '…µ…µinjectPipeChangeDetectorRef'.\r\n            at R3JitReflector.resolveExternalReference (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6413:1)\r\n            at JitEmitterVisitor.visitExternalExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6350:1)\r\n            at ExternalExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1373:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5814:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6156:1)\r\n            at InvokeFunctionExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1245:1)\r\n            at http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1\r\n            at JitEmitterVisitor.visitAllObjects (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6015:1)\r\n            at JitEmitterVisitor.visitAllExpressions (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1)\r\n            at JitEmitterVisitor.visitInstantiateExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5854:1)\r\n        Error: No value provided for @angular/core symbol '…µ…µinjectPipeChangeDetectorRef'.\r\n            at R3JitReflector.resolveExternalReference (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6413:1)\r\n            at JitEmitterVisitor.visitExternalExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6350:1)\r\n            at ExternalExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1373:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5814:1)\r\n            at JitEmitterVisitor.visitInvokeFunctionExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6156:1)\r\n            at InvokeFunctionExpr.visitExpression (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:1245:1)\r\n            at http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1\r\n            at JitEmitterVisitor.visitAllObjects (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:6015:1)\r\n            at JitEmitterVisitor.visitAllExpressions (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5996:1)\r\n            at JitEmitterVisitor.visitInstantiateExpr (http://localhost:9876/node_modules/@angular/compiler/fesm2015/compiler.js:5854:1)\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.3\r\n@angular-devkit/build-angular      0.900.3\r\n@angular-devkit/build-ng-packagr   0.900.3\r\n@angular-devkit/build-optimizer    0.900.3\r\n@angular-devkit/build-webpack      0.900.3\r\n@angular-devkit/core               9.0.3\r\n@angular-devkit/schematics         9.0.3\r\n@angular/cdk                       9.0.0\r\n@angular/cli                       9.0.3\r\n@ngtools/webpack                   9.0.3\r\n@schematics/angular                9.0.3\r\n@schematics/update                 0.900.3\r\nng-packagr                         5.7.1\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35664","RelatedDescription":"Open issue \"TestBed.overrideProvider fails for service that injects ChangeDetectorRef\" (#35664)"},{"Id":"570492339","IsPullRequest":false,"CreatedAt":"2020-02-25T11:09:50","Actor":"matijarmk","Number":"35662","RawContent":null,"Title":"ivy: translating i18n attributes on <ng-template>","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/localize....\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\nIt works without enabling ivy, didn't work in 9.0.2.\r\n\r\n### Description\r\n\r\ni18n attributes are not translating on ng-template through @ContentChildren when using <code>\"enableIvy\": true</code>. Works without it.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n\r\n#### FilterComponent \r\n```Typescript \r\n@Component({\r\n  selector: 'app-filter',\r\n  templateUrl: './filter.component.html'\r\n})\r\nexport class FilterComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @ContentChildren(FilterDropdownDirective) dropdowns: QueryList<FilterDropdownDirective>;\r\n```\r\n```Html\r\n<ng-container *ngFor=\"let dropdown of dropdowns\">\r\n  <label>{{dropdown.label}}</label>\r\n</ng-container>\r\n```\r\n#### FilterDropdownDirective \r\n```Typescript \r\n@Directive({\r\n  selector: '[appFilterDropdown]',\r\n  exportAs: 'appFilterDropdown'\r\n})\r\nexport class FilterDropdownDirective extends FilterDirective {\r\n   @Input() label = '';\r\n}\r\n```\r\n\r\n#### Usage\r\n```Html\r\n<app-filter\r\n    <ng-template appFilterDropdown\r\n                 i18n-label=\"Alarm status|label name\"\r\n                 label=\"Alarm status\">\r\n    </ng-template>\r\n</app-filter>\r\n```\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre>Angular CLI: 9.0.3\r\nNode: 13.8.0\r\nOS: win32 x64\r\n\r\nAngular: 9.1.0-next.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: No\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cdk                      9.1.0\r\n@angular/cdk-experimental         9.1.0\r\n@angular/cli                      9.0.3\r\n@angular/http                     7.2.16\r\n@angular/material                 9.1.0\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2<code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n##### Check labels on images. (they should be translated to english)\r\n#### With ivy \r\n<img width=\"1901\" alt=\"Annotation 2020-02-25 120642\" src=\"https://user-images.githubusercontent.com/7688695/75241912-5981ab00-57c7-11ea-811d-75ef58dd5e6b.png\">\r\n\r\n#### Without ivy\r\n<img width=\"1903\" alt=\"without-ivy\" src=\"https://user-images.githubusercontent.com/7688695/75241724-f132c980-57c6-11ea-9057-d1f72a3e78dc.png\">\r\n","Url":"https://github.com/angular/angular/issues/35662","RelatedDescription":"Open issue \"ivy: translating i18n attributes on <ng-template>\" (#35662)"},{"Id":"570397276","IsPullRequest":true,"CreatedAt":"2020-02-25T10:13:55","Actor":"clevervikas","Number":"35658","RawContent":null,"Title":"corrected the date as per comment","State":"closed","Body":"as per comment the month should be April 15, but in date function it is incorrect i.e. 3\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [x] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35658","RelatedDescription":"Closed or merged PR \"corrected the date as per comment\" (#35658)"},{"Id":"570408761","IsPullRequest":false,"CreatedAt":"2020-02-25T09:27:00","Actor":"waseem-isaac-BBN","Number":"35659","RawContent":null,"Title":"Can I intercept images requests with HTTP_INTERCEPTORS ?","State":"closed","Body":"","Url":"https://github.com/angular/angular/issues/35659","RelatedDescription":"Closed issue \"Can I intercept images requests with HTTP_INTERCEPTORS ?\" (#35659)"},{"Id":"570307659","IsPullRequest":false,"CreatedAt":"2020-02-25T06:49:55","Actor":"proUserSid","Number":"35657","RawContent":null,"Title":"Docs version change not redirecting to valid url","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n# üìö Docs or angular.io bug report\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏èedit:--> Docs Version change Stable to next not redirect to valid URL.\r\nIt is redirecting to https://next.angular.iodocs/\r\nIt need to be redirect to https://next.angular.io/docs/\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n### What's the affected URL?**\r\n<!-- ‚úçÔ∏èedit:--> https://angular.io/docs\r\n\r\n### Reproduction Steps**\r\n<!-- If applicable please list the steps to take to reproduce the issue -->\r\n<!-- ‚úçÔ∏èedit:-->\r\n![Untitled](https://user-images.githubusercontent.com/52596235/75215077-98a70080-57b5-11ea-9b8d-335bf7086d6c.png)\r\n\r\n\r\n### Expected vs Actual Behavior**\r\n<!-- If applicable please describe the difference between the expected and actual behavior after following the repro steps. -->\r\n<!-- ‚úçÔ∏èedit:-->\r\nExpected \r\n![image](https://user-images.githubusercontent.com/52596235/75215510-f2f49100-57b6-11ea-8e88-2873a9fb669e.png)\r\n\r\nActual \r\n![image](https://user-images.githubusercontent.com/52596235/75215171-e0c62300-57b5-11ea-801f-9b55d8ccccc0.png)\r\n","Url":"https://github.com/angular/angular/issues/35657","RelatedDescription":"Closed issue \"Docs version change not redirecting to valid url\" (#35657)"},{"Id":"570271190","IsPullRequest":true,"CreatedAt":"2020-02-25T02:38:42","Actor":"ayazhafiz","Number":"35656","RawContent":null,"Title":"refactor(language-service): normalize hover tests","State":"open","Body":"This commit normalizes hover and util tests in the language service.\r\nThis is part of a small effort to simplify and normalize the language\r\nservice testing structure, which currently contains specs that are\r\nlargely created and left without relation to other tests.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35656","RelatedDescription":"Open PR \"refactor(language-service): normalize hover tests\" (#35656)"},{"Id":"569949229","IsPullRequest":true,"CreatedAt":"2020-02-25T01:26:55","Actor":"StephenFluin","Number":"35649","RawContent":null,"Title":"docs: add more relevant statistic for page load","State":"closed","Body":"Swapped a less clear metric for a clearer one.\r\n\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [x] Documentation content changes\r\n\r\n","Url":"https://github.com/angular/angular/pull/35649","RelatedDescription":"Closed or merged PR \"docs: add more relevant statistic for page load\" (#35649)"},{"Id":"570224756","IsPullRequest":true,"CreatedAt":"2020-02-25T00:09:40","Actor":"StephenFluin","Number":"35655","RawContent":null,"Title":"docs: add developer survey 2020","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: \r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Documentation content changes\r\n- [x] angular.io application / infrastructure changes\r\n","Url":"https://github.com/angular/angular/pull/35655","RelatedDescription":"Open PR \"docs: add developer survey 2020\" (#35655)"},{"Id":"570526660","IsPullRequest":false,"CreatedAt":"2020-02-24T23:06:24","Actor":"BillLudwig","Number":"35663","RawContent":null,"Title":"Configuration 'production' is not set in the workspace when --prod and -c flags set","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nYes, this command did not generate errors using Angular 8\r\n\r\n\r\n### Description\r\n\r\nWe have renamed the production build configuration to \"release\" in our angular.json file for internal consistency. Prior to upgrading to Angular 9 this worked without issue. Now when we run ```ng build -c=release --prod --aot``` we get the following error.\r\n\r\n```An unhandled exception occurred: Configuration 'production' is not set in the workspace.```\r\n\r\nWhile we can rename our release configuration to production we have a lot of projects and it breaks our internal naming convention. Since it was working prior to the upgrade we thought it was worth bringing up here before we refactor.\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nCreate a new Angular project using the CLI.\r\nRename the production build configuration to release (or anything else).\r\nRun ```ng build -c=release --prod --aot```\r\nGet Error\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nAn unhandled exception occurred: Configuration 'production' is not set in the workspace.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 10.15.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.2\r\n@angular-devkit/build-angular     0.900.2\r\n@angular-devkit/build-optimizer   0.900.2\r\n@angular-devkit/build-webpack     0.900.2\r\n@angular-devkit/core              9.0.2\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@ngtools/webpack                  9.0.2\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.3\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nShouldn't be anything else.\r\n","Url":"https://github.com/angular/angular/issues/35663","RelatedDescription":"Open issue \"Configuration 'production' is not set in the workspace when --prod and -c flags set\" (#35663)"},{"Id":"570177860","IsPullRequest":true,"CreatedAt":"2020-02-24T22:09:00","Actor":"wagnermaciel","Number":"35654","RawContent":null,"Title":"refactor(benchpress): delete perf_util.ts and moved it's content to e2e_util.ts","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\nCurrently we have our benchpress functions split into perf_util and e2e_util.\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\nThere is now only one file.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n","Url":"https://github.com/angular/angular/pull/35654","RelatedDescription":"Open PR \"refactor(benchpress): delete perf_util.ts and moved it's content to e2e_util.ts\" (#35654)"},{"Id":"570010284","IsPullRequest":true,"CreatedAt":"2020-02-24T17:35:24","Actor":"josephperrott","Number":"35651","RawContent":null,"Title":"ci: add ayazhafiz to ownership of language-service code","State":"open","Body":"","Url":"https://github.com/angular/angular/pull/35651","RelatedDescription":"Open PR \"ci: add ayazhafiz to ownership of language-service code\" (#35651)"},{"Id":"569975536","IsPullRequest":false,"CreatedAt":"2020-02-24T16:35:33","Actor":"jgbpercy","Number":"35650","RawContent":null,"Title":"Template compiles with strict but not with full","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\nThe issue is caused by package @angular/compiler (I guess)\r\n\r\n### Is this a regression?\r\nYes, kiiiiinda\r\n\r\nWith enableIvy false (v9 and I'm almost certain v8 as well), changing the final non-null assert (`!`) in the template into a null propagation (`?`) makes the error go away.\r\n\r\n### Description\r\nThe code in the reproduction below compiles with `\"strictTemplate\": true` in tsconfig, but not with `\"fullTemplateTypeCheck\": true` only. \r\n\r\nAs far as I understand, anything that compiles with strict should compile with full? As an aside, I think it would be good if that was made clear one way or another in [this section of the docs](https://angular.io/guide/template-typecheck#strict-mode) (happy to raise a separate issue).\r\n\r\nFurthermore, the error in full mode doesn't make any sense, as far as I understand.\r\n\r\nAs noted above, there is a similar issue with Ivy disabled, but for reasons I don't understand it goes away when using null propagation rather than non-null assertion.\r\n\r\n## üî¨ Minimal Reproduction\r\nhttps://github.com/jgbpercy/AngularCompilesOnlyStrict\r\n(currently the repo should be in a non-compiling state - add `\"strictTemplate\": true` to tsconfig angularCompilerOptions and it should compile)\r\n\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nERROR in src/app/app.component.html:2:12 - error TS2339: Property 'doDar' does not exist on type 'never'.\r\n\r\n2   <div>{{ (thinger!.innerObs | async)!.doDar }}</div>\r\n             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n  src/app/app.component.ts:14:16\r\n    14   templateUrl: './app.component.html',\r\n                      ~~~~~~~~~~~~~~~~~~~~~~\r\n    Error occurs in the template of component AppComponent.\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.3\r\nNode: 10.15.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cli                      9.0.3\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nThe language service thinks the code is fine and picks up the type ok!\r\n\r\nSo I'm guessing in full the first `| async` is polluting the type it outputs with a union to `null`, and then the second `| async` is chewing up horribly on that somehow. Whereas in strict it has enough information to know that null isn't part of the relevant type at the right time.","Url":"https://github.com/angular/angular/issues/35650","RelatedDescription":"Open issue \"Template compiles with strict but not with full\" (#35650)"},{"Id":"570845294","IsPullRequest":false,"CreatedAt":"2020-02-24T15:57:21","Actor":"joats","Number":"35673","RawContent":null,"Title":"Querying for child that provides itself as undefined throws under Ivy","State":"open","Body":"#### Bug, feature request, or proposal:\r\nBug\r\n\r\n#### What is the expected behavior?\r\nBeeing able to use ViewChild to view children of cdkDropListGroup\r\n\r\n#### What is the current behavior?\r\nAfter updating to angular/material 9.0.1 and angular/cdk 9.0.1, I can no longer access cdkDropListGroup via ViewChild.\r\n\r\n#### What are the steps to reproduce?\r\n\r\nUse ViewChild on simple cdkDropList within a cdkDropListGroup:\r\n`@ViewChild(CdkDropListGroup) listGroup: CdkDropListGroup<CdkDropList>;`\r\n\r\nConsole shows:\r\n`ASSERTION ERROR: materialized query result should be defined [Expected=> null != undefined <=Actual]`\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\n\"@angular/core\": \"9.0.2\"\r\n\"@angular/material\": \"^9.0.1\"\r\n\"@angular/cdk\": \"^9.0.1\"\r\nAll browsers\r\n","Url":"https://github.com/angular/angular/issues/35673","RelatedDescription":"Open issue \"Querying for child that provides itself as undefined throws under Ivy\" (#35673)"},{"Id":"569796072","IsPullRequest":true,"CreatedAt":"2020-02-24T11:27:51","Actor":"devversion","Number":"35647","RawContent":null,"Title":"Create tool to check for circular dependencies in source files","State":"open","Body":"Creates a tool for validating TypeScript circular dependencies. The tool\r\nhas been designed in a way that allows us to slowly burn down the amount\r\nof circular dependencies while ensuring that we don't regress.\r\n\r\nFor more context. See: #35041 and [this comment](https://github.com/angular/angular/pull/34774#issuecomment-577237684).","Url":"https://github.com/angular/angular/pull/35647","RelatedDescription":"Open PR \"Create tool to check for circular dependencies in source files\" (#35647)"},{"Id":"569787032","IsPullRequest":false,"CreatedAt":"2020-02-24T11:11:53","Actor":"Maximaximum","Number":"35646","RawContent":null,"Title":"Explicit component/directive/pipe dependencies (getting rid of the need for NgModules for most cases)","State":"open","Body":"# üöÄ feature request\r\n\r\n### Relevant Package\r\nThis feature request is mainly for @angular/compiler and @angular/core, I guess.\r\n\r\n### Description\r\nIt would be awesome if we could explicitly specify which components, directives and pipes a component actually depends on, instead of relying on hierarchical `NgModule` declarations, which are difficult to read and manage.\r\n\r\n#### How DI works for @Injectable()s\r\nCurrently, the DI for services can be used like this:\r\n```typescript\r\nexport const SERVICE2 = new InjectionToken<Service2>('service2', { providedIn: 'root', factory: () => new Service2() });\r\n\r\n@Component(...)\r\nexport class SomeComponent {\r\n  constructor(\r\n    private service1: Service1,\r\n    private @Inject(SERVICE2) service2: Service2\r\n  ) {}\r\n}\r\n```\r\n\r\nWhenever we need to inject a service into a constructor, we simply do es6 `import` of the required service, and put it as a type annotation on the corresponding constructor argument. For this to work we only need to make sure that the `@Injectable()` decorator contains `{ providedIn: 'root' | SomeModule }` or, if using InjectionToken, the `new InjectionToken()` call contains `{ providedIn: 'root', factory: ... }`. We generally don't need `NgModule`s to manage service dependencies at all. In unit tests we can also easily mock the dependencies. This approach is extremely convenient.\r\n\r\n#### How DI for CDPs works currently\r\nHowever, the way we work with **component, directive and pipe (=*\"CDP\"* for short)** dependency system is completely different. Imagine a setup:\r\n```typescript\r\n@Component({\r\n  selector: 'app-some-component',\r\n  template: `<div some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`\r\n})\r\nexport class SomeComponent {\r\n   value: string = 'someValue';\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SomeComponent,\r\n    SomeDirective, // This can be declared in a different ngModule, which is then imported into SomeModule\r\n    SomePipe, // This can be declared in a different ngModule, which is then imported into SomeModule\r\n    OtherComponent // This can be declared in a different ngModule, which is then imported into SomeModule\r\n  ]\r\n})\r\nexport class SomeModule\r\n```\r\n\r\nThe differences are:\r\n1. There's no way to explicitly specify and to know which CDPs `SomeComponent` is using in its template. In order to understand that, a developer has to look through the component template and try to guess which components/directives are used in the template, and which pipe names are used. Then the developer has to find the module where SomeComponent is declared, and to check all the other `declarations` there, along with all the other `declarations` in all the other imported `NgModule`s in order to find out which CDPs SomeComponent actually depends on.\r\n1. Because of that, dependency management for angular CDPs is quite complicated: we have to make use of `NgModule`s in order to build up the view hierarchy. However, it's very difficult to trace back actual dependencies for each component. Effectively, this also means that there is no way to do tree shaking of unused CDPs. As long as they are added to `NgModule`'s `declarations`, they will not be removed from the output bundle, regardless if they are ever actually used in the application or not.\r\n1. One more drawback of the current approach is that every CDP is **global**, ie if a CDP is imported/declared in the `AppModule`, it is available globally throughout the whole application. Because of this we can run into CDP selector / pipe name collisions, and that is why we are forced to use selector prefixes, ie. `[`***`app-`***`other-component]`.\r\n\r\n### Suggested solution\r\n\r\n#### Declaring CDP dependencies\r\nI would imagine 5 possible ways to declare component/directive/pipe dependencies. All of these effectively desugar to a **key-value dictionary**, where the key is the component/directive selector (or, in case of a pipe, a pipe name), and the optional value is the actual CDP implementation class:\r\n\r\n- Option 1 (using selector / pipe name). We only declare the selectors / pipe names that are used in the template and that are required by the component, without providing actual CDP implementations. If the compiler can't find a CDP to use (no matching CDP has been declared on an NgModule), it throws an error.\r\n\r\n```typescript\r\n@Component({\r\n    selector: 'app-some-component',\r\n    template: `<div app-some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`,\r\n    declarations: [\r\n        '[app-some-directive]',\r\n        'app-other-component',\r\n        'somePipe'\r\n    ]\r\n})\r\nexport class SomeComponent {\r\n    value: string = 'someValue';\r\n}\r\n```\r\n\r\n- Option 2 (using selector / pipe name and providing a default implementation). This adds up to the previous option, by providing an implementation for a CDP. These implementations should be used similarly to how component-level service providers are used. Ie, the given CDP implementation is only used within `SomeComponent` template. If, for example, a `<div some-directive></div>` markup is found somewhere outside of `SomeComponent`'s template, `SomeDirective` should not be injected there.\r\n```typescript\r\n@Component({\r\n    selector: 'app-some-component',\r\n    template: `<div app-some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`,\r\n    declarations: [\r\n        {provide: '[app-some-directive]', useClass: SomeDirective},\r\n        {provide: 'app-other-component', useClass: OtherComponent},\r\n        {provide: 'somePipe', useClass: SomePipe}\r\n    ]\r\n})\r\nexport class SomeComponent {\r\n    value: string = 'someValue';\r\n}\r\n```\r\n\r\n- Option 3 (using CDP class). This effectively desugars to the previous syntax option by using CDP's selector / pipe name contained in its declaration (`@Component({selector: ...})` / `@Directive({selector: ...})` / `@Pipe({name: ...})`) as the key (`provide`), and the CDP class as the value (`useClass`)\r\n```typescript\r\n@Component({\r\n    selector: 'app-some-component',\r\n    template: `<div app-some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`,\r\n    declarations: [\r\n        SomeDirective,\r\n        OtherComponent,\r\n        SomePipe\r\n    ]\r\n})\r\nexport class SomeComponent {\r\n    value: string = 'someValue';\r\n}\r\n```\r\n\r\n- Option 4 (using CDP class as a key and CPD class as a value). This effectively desugars to Syntax Option 2 by using CDP's selector / pipe name contained in its declaration (`@Component({selector: ...})` / `@Directive({selector: ...})` / `@Pipe({name: ...})`) as the key (`provide`), and the CDP class itself as the value (`useClass`):\r\n```typescript\r\n@Component({\r\n    selector: 'app-some-component',\r\n    template: `<div app-some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`,\r\n    declarations: [\r\n        {provide: SomeDirective, useClass: SomeAlternativeDirective},\r\n        {provide: OtherComponent, useClass: OtherAlternativeComponent},\r\n        {provide: SomePipe, useClass: SomeAlternativePipe}\r\n    ]\r\n})\r\nexport class SomeComponent {\r\n    value: string = 'someValue';\r\n}\r\n```\r\n\r\n- Option 5 (using a CDP class as a key and not providing a value). This effectively desugars to Syntax Option 1 by using CDP's selector / pipe name contained in its declaration (`@Component({selector: ...})` / `@Directive({selector: ...})` / `@Pipe({name: ...})`) as the key (`provide`), and not providing a value:\r\n```typescript\r\n@Component({\r\n    selector: 'app-some-component',\r\n    template: `<div app-some-directive>{{ value | somePipe }}<app-other-component></app-other-component></div>`,\r\n    declarations: [\r\n        {provide: SomeDirective},\r\n        {provide: OtherComponent},\r\n        {provide: SomePipe}\r\n    ]\r\n})\r\nexport class SomeComponent {\r\n    value: string = 'someValue';\r\n}\r\n```\r\n\r\nRegardless of the actual syntax used, the CDP component-level dependency declarations are effectively an array of key-value pairs, where the key is of type `string` (effectively, a directive selector or a pipe name), and the value is of type `Type<any> | undefined`. \r\n\r\n#### What CDPs should be injected into the component templates\r\nBefore the CDPs are injected into a component, its CDP declarations (`declarations` property in the decorator) should be merged with the `declarations` of the `NgModule`s used in the app, with `NgModule`s declarations taking precedence. If the component-level CDP `declarations` contains a declaration with an undefined value, and a CDP for the same key (selector / pipe name) is not found in the `NgModule` declarations, the compiler should throw an error.\r\n\r\n**IMPORTANT**: If the value (a CDP class) is provided at the component level, it does not have to be added to an `NgModule`. This would effectively mean the we could get rid of `NgModule`s in most cases. They would still be necessary for app bootstrapping, testing and, probably, some other edge cases including lazy loading.\r\n\r\nIt is crucial that the `NgModule` CDP providers have priority over the component-level CDP providers. This is exactly the way it currently works for angular services: contructor argument type annotation only defines the default service implementation, but it can be overriden by the `NgModule` provider. And this is crucial in order to be able to override the default CDP provider in unit tests.\r\n\r\n#### CDP selectors\r\nThe selector defined on the consuming component (`SomeComponent`) should override the original selector defined on the injected CDP (`OriginalDirective`). I.e., the following would work fine:\r\n\r\n```typescript\r\n@Component({ \r\n    declarations: [ {\r\n        provide: '[app-some-other-selector]', \r\n        useClass: OriginalDirective \r\n    } ],\r\n    templateUrl: '<div app-some-other-selector></div>'\r\n})\r\nexport class SomeComponent {}\r\n\r\n@Component({\r\n    selector: '[app-original-directive]'\r\n}) \r\nclass OriginalDirective {}\r\n```\r\n\r\nHowever, this would not work (the `OriginalDirective` would not be injected into the template, unless `OriginalDirective` is also added to an `NgModule` `declarations`):\r\n\r\n```typescript\r\n@Component({ \r\n    declarations: [ {\r\n        provide: '[app-some-other-selector]', \r\n        useClass: OriginalDirective \r\n    } ],\r\n    templateUrl: '<div app-original-directive></div>'\r\n})\r\nexport class SomeComponent {}\r\n\r\n@Component({\r\n    selector: '[app-original-directive]'\r\n}) \r\nclass OriginalDirective {}\r\n```\r\n\r\n### Describe alternatives you've considered\r\nAs far as I know, there is currently no usable alternative. We can only use `NgModule` `declarations` property to add required CDPs to an application, and there is no way at all to localize a CDP scope (ie, make it not global).\r\n","Url":"https://github.com/angular/angular/issues/35646","RelatedDescription":"Open issue \"Explicit component/directive/pipe dependencies (getting rid of the need for NgModules for most cases)\" (#35646)"},{"Id":"570034928","IsPullRequest":false,"CreatedAt":"2020-02-23T18:06:37","Actor":"maxschwarzmueller","Number":"35652","RawContent":null,"Title":"String-based Lazy Loading is not working anymore","State":"open","Body":"\r\n### Is this a regression?\r\n\r\nYes, it worked in Angular 8.\r\n\r\n### Description\r\n\r\nString-based lazy loading (`loadChildren: './path/to/module#Module'`) was deprecated as of Angular 8 and might be removed in Angular 11 (see: https://angular.io/guide/deprecations#index). Hence it should still work as of Angular 9.\r\n\r\nWhen creating new Angular projects via `ng new`, this deprecated syntax doesn't work anymore though.\r\n\r\nInstead, you get a \"Cannot find module './module/....module'\" error (see below).\r\n\r\nThe error is definitely related to changes made in the `tsconfig.app.json` file. (see \"Minimal Reproduction\").\r\nIt works as intended if the `tsconfig.app.json` file uses `exclude: [ ... ]`. It fails when using `include: [ ... ]` + `files: [ ... ]`.\r\n\r\n## üî¨ Minimal Reproduction\r\nSee: https://github.com/maxschwarzmueller/ng-string-lazy-loading-bug/\r\n\r\n**1) Failing Case**\r\nClone and checkout \"lazy-loading-fails\" branch.\r\n\r\n`ng serve`\r\n\r\nVisit localhost:4200/demo\r\n\r\nYou get the \"cannot find module\" error in the browser dev tools.\r\n\r\n**2) Working Case**\r\n\r\nCheckout \"lazy-loading-succeeds\" branch and repeat above steps => It now works.\r\n\r\n**As described above, the only difference between the two branches is the content of the `tsconfig.app.json` file** (comparison: https://github.com/maxschwarzmueller/ng-string-lazy-loading-bug/compare/lazy-loading-fails...lazy-loading-succeeds?expand=1#diff-5446e8397826b1757d7b7d8f63223eab).\r\n\r\n## üî• Exception or Error\r\n\r\n```\r\ncore.js:5873 ERROR Error: Uncaught (in promise): Error: Cannot find module './demo/demo.module'\r\nError: Cannot find module './demo/demo.module'\r\n    at $_lazy_route_resource lazy namespace object:5\r\n    at ZoneDelegate.invoke (zone-evergreen.js:365)\r\n    at Object.onInvoke (core.js:40910)\r\n    at ZoneDelegate.invoke (zone-evergreen.js:364)\r\n    at Zone.run (zone-evergreen.js:124)\r\n    at zone-evergreen.js:851\r\n    at ZoneDelegate.invokeTask (zone-evergreen.js:400)\r\n    at Object.onInvokeTask (core.js:40888)\r\n    at ZoneDelegate.invokeTask (zone-evergreen.js:399)\r\n    at Zone.runTask (zone-evergreen.js:168)\r\n    at resolvePromise (zone-evergreen.js:793)\r\n    at resolvePromise (zone-evergreen.js:752)\r\n    at zone-evergreen.js:854\r\n    at ZoneDelegate.invokeTask (zone-evergreen.js:400)\r\n    at Object.onInvokeTask (core.js:40888)\r\n    at ZoneDelegate.invokeTask (zone-evergreen.js:399)\r\n    at Zone.runTask (zone-evergreen.js:168)\r\n    at drainMicroTaskQueue (zone-evergreen.js:570)\r\n```\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\nAngular CLI: 9.0.3\r\nNode: 13.5.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cli                      9.0.3\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular/issues/35652","RelatedDescription":"Open issue \"String-based Lazy Loading is not working anymore\" (#35652)"},{"Id":"570478592","IsPullRequest":false,"CreatedAt":"2020-02-17T19:33:30","Actor":"jonstelly","Number":"35661","RawContent":null,"Title":"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [x] update\r\n\r\n### Is this a regression?\r\n\r\nunsure\r\n\r\n### Description\r\n\r\nI have an angular cli project with npm symlinks to a different framework project.  When running an update `ng update @angular/cli @angular/core rxjs`, it seems that the package update/installation phase doesn't honor the `\"preserveSymlinks\": true` setting.  The result is that my framework symlink is removed, which causes the project to fail compilation so the migrations don't all run correctly.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n```bash\r\nnpm i -g @angular/cli@8.3.25\r\nmkdir ng-up\r\ncd ng-up\r\nng new framework\r\ncd framework\r\nng g lib @myfw/model\r\nng build @myfw/model\r\ncd ./dist/myfw/model\r\nnpm link\r\ncd ../../../..\r\nng new app\r\ncd app\r\nnpm link @myfw/model\r\n#edit ./app/src/app/app.module.ts to the below (importing ModelModule from @myfw/model\r\n#edit ./app/angular.json, add `preserveSymlinks: true`\r\nng serve #The app runs as expected\r\n```\r\n\r\napp/src/app/app.module.ts\r\n```typescript\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ModelModule } from '@myfw/model' //<- Add this from @myfw/model\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    ModelModule //<- Add this from @myfw/model\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```\r\n\r\nupgrade process\r\n```bash\r\nnpm i -g @angular/cli #Update angular cli to 9.0.2\r\ncd ../framework\r\nng update @angular/cli @angular/core rxjs --force #--force is needed for tsickle\r\nng build @myfw/model\r\ncd ../app\r\nng update @angular/cli @angular/core rxjs\r\n```\r\nget error as seen below.  `ls ./node_modules/@myfw` shows no directories, the symlinks have been deleted.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n> Undecorated classes with DI migration.\r\n  As of Angular 9, it is no longer supported to use Angular DI on a class that does not have an Angular decorator.\r\n  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes\r\n\r\n    This migration uses the Angular compiler internally and therefore projects that no longer build successfully after the update cannot run the migration. Please ensure there are no AOT compilation errors and rerun the migration. The following project failed: tsconfig.app.json\r\n\r\n    Error: error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n    error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n\r\n\r\n    Could not migrate all undecorated classes that use dependency\r\n    injection. Some project targets could not be analyzed due to\r\n    TypeScript program failures.\r\n\r\n    Migration can be rerun with: \"ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di\"\r\n\r\n  Migration completed.\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\n@angular/cli 8.3.25 to start (to generate the original projects)\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 12.11.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.2\r\n@angular-devkit/build-angular     0.900.2\r\n@angular-devkit/build-optimizer   0.900.2\r\n@angular-devkit/build-webpack     0.900.2\r\n@angular-devkit/core              9.0.2\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@ngtools/webpack                  9.0.2\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35661","RelatedDescription":"Open issue \"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail\" (#35661)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"571077406","IsPullRequest":false,"CreatedAt":"2020-02-26T05:22:20","Actor":"tamtakoe","Number":"17088","RawContent":null,"Title":"Provide way to replace environment config after build","State":"open","Body":"Imagine that in our company we have Java, Python, NodeJS, web, etc. applications. We build them, next - deploy. On build stage we create artifacts which consists of compiled files. On deploy stage we apply environment settings to our artifacts (change configs or replace placeholders). Next we run application which read config and stands up.\r\n\r\nThis is common situation for any projects because of their artifacts contains separate config files (or files in archive which we can simply repack). For any except web. Web-artifact is a bunch of compiled html/js files which also include config. This is not simple to find and replace it.\r\n\r\nWhat are possible solutions?\r\n1. Store src in the artifact and build them any deploy. This contradicts the concept of an artifact.\r\n2. Store config as separate js-chunk. This is possible but the issue shouldn't define structure of our bundles\r\n4. Store config as asset and load it asynchronously. This makes our application more difficult\r\n3. Find and replace config into the compiled js-files. This is possible, but it is too hard to find place of config correctly.\r\n\r\nWell, we can combine 2 and 4 ways to simplify work with configs. E.g.\r\nAngular-cli can make separate chunk for file which contains special `/* angular-cli:chunk-name:config */` directive on the top of file and stay this comment in the main chunk. So, we can process our config chunk and replace the comment on our processed config.\r\n\r\nMaybe there are other ways. Think please about this issue.\r\n\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17088","RelatedDescription":"Open issue \"Provide way to replace environment config after build\" (#17088)"},{"Id":"570954443","IsPullRequest":false,"CreatedAt":"2020-02-26T00:27:00","Actor":"hisham","Number":"17087","RawContent":null,"Title":"TypeError: filename.endsWith is not a function","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [X] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\nNot sure. \r\n\r\n### Description\r\n\r\nI'm building an angular elements project with ngx-build-plus with the following command and I'm getting the following error: \r\n\r\n```\r\nng build --prod --output-hashing none --single-bundle --bundle-styles=false --keep-styles=false\r\n\r\nERROR in chunk styles [entry]\r\n({\r\n              chunk: chunkData\r\n            }) => this.options.moduleFilename(chunkData)\r\nfilename.endsWith is not a function\r\nTypeError: filename.endsWith is not a function\r\n    at /Users/hisham/src/ess-app/frontend/node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js:106:72\r\n    at SyncWaterfallHook.eval [as call] (eval at create (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/HookCodeFactory.js:19:10), <anonymous>:5:16)\r\n    at MainTemplate.getAssetPathWithInfo (/Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/MainTemplate.js:527:40)\r\n    at Compilation.getPathWithInfo (/Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:2227:28)\r\n    at Compilation.createChunkAssets (/Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:2138:31)\r\n    at /Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:1397:10\r\n    at AsyncSeriesHook.eval [as callAsync] (eval at create (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:7:1)\r\n    at AsyncSeriesHook.lazyCompileHook (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/Hook.js:154:20)\r\n    at Compilation.seal (/Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:1342:27)\r\n    at /Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compiler.js:675:18\r\n    at /Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:1261:4\r\n    at AsyncSeriesHook.eval [as callAsync] (eval at create (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:40:1)\r\n    at AsyncSeriesHook.lazyCompileHook (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/Hook.js:154:20)\r\n    at Compilation.finish (/Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compilation.js:1253:28)\r\n    at /Users/hisham/src/ess-app/frontend/node_modules/webpack/lib/Compiler.js:672:17\r\n    at _done (eval at create (/Users/hisham/src/ess-app/frontend/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:7:1)\r\n```\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\nAngular CLI: 9.0.3\r\nNode: 13.2.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.2\r\n... animations, common, compiler, compiler-cli, core, elements\r\n... forms, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cdk                      9.1.0\r\n@angular/cli                      9.0.3\r\n@angular/material                 9.1.0\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\nIn https://github.com/angular/angular-cli/blob/c9a5f3ced6689feac9cc0ccbd15b0fed6f454d6e/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/common.ts#L154, it appears that `filename` can sometimes be a function, putting a line of code such as: \r\n\r\n`if (typeof filename === 'function') {\r\nfilename = filename(chunkdata);\r\n}`\r\n\r\nresolves the issue. \r\n\r\nSee https://github.com/pirelenito/git-revision-webpack-plugin/pull/42/files and https://github.com/webpack-contrib/mini-css-extract-plugin/issues/417 for similar discussions and fixes. \r\n","Url":"https://github.com/angular/angular-cli/issues/17087","RelatedDescription":"Open issue \"TypeError: filename.endsWith is not a function\" (#17087)"},{"Id":"569856940","IsPullRequest":false,"CreatedAt":"2020-02-25T19:31:57","Actor":"PMoransais","Number":"17061","RawContent":null,"Title":"Angular 9 Production Build Fails during Optimization Phase (terser out of memory)","State":"closed","Body":"A new Angular 9 app fails during a production build (ng build --prod).\r\nThe application compiles with ng build and ng serve.\r\n\r\nThis may be similar to 28175\r\nI also found a suggestion to increase the process memory in Nodes (but I do not know how to do that!). I tried to add memory to node but I saw no difference\r\n\r\ncopy of the command and response\r\n---------------\r\nPS C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder> ng build\r\nGenerating ES5 bundles for differential loading...\r\nES5 bundle generation complete.\r\n\r\nchunk {polyfills} polyfills-es2015.js, polyfills-es2015.js.map (polyfills) 148 kB [initial] [rendered]\r\nchunk {polyfills-es5} polyfills-es5.js, polyfills-es5.js.map (polyfills-es5) 656 kB [initial] [rendered]\r\nchunk {main} main-es2015.js, main-es2015.js.map (main) 171 kB [initial] [rendered]\r\nchunk {main} main-es5.js, main-es5.js.map (main) 220 kB [initial] [rendered]\r\nchunk {public-public-module} public-public-module-es2015.js, public-public-module-es2015.js.map (public-public-module) 2.59 MB  [rendered]\r\nchunk {public-public-module} public-public-module-es5.js, public-public-module-es5.js.map (public-public-module) 2.92 MB  [rendered]\r\nchunk {vendor} vendor-es2015.js, vendor-es2015.js.map (vendor) 2.74 MB [initial] [rendered]\r\nchunk {vendor} vendor-es5.js, vendor-es5.js.map (vendor) 3.21 MB [initial] [rendered]\r\nchunk {runtime} runtime-es2015.js, runtime-es2015.js.map (runtime) 9.02 kB [entry] [rendered]\r\nchunk {runtime} runtime-es5.js, runtime-es5.js.map (runtime) 9.02 kB [entry] [rendered]\r\nchunk {styles} styles-es2015.js, styles-es2015.js.map (styles) 960 kB [initial] [rendered]\r\nchunk {styles} styles-es5.js, styles-es5.js.map (styles) 962 kB [initial] [rendered]\r\nDate: 2020-02-22T15:29:29.990Z - Hash: 0851422fb8d5b16cbcd5 - Time: 27659ms\r\nPS C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder> ng build --prod\r\n\r\nERROR in main-es2015.7c0f16d0d0f04d486439.js from Terser\r\nRangeError: Maximum call stack size exceeded\r\n    at Array.push (<anonymous>)\r\n    at Tn.push (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:76200)\r\n    at AST_Call.transform (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:79125)\r\n    at C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:80514\r\n    at AST_Return.transform (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:79182)\r\n    at C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:79313\r\n    at l (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:931)\r\n    at e (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:1251)\r\n    at Mn (C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:79287)\r\n    at C:\\iBreeder Dev\\dev.iBreeder.net\\iBreeder.com2\\iBreeder\\node_modules\\terser\\dist\\bundle.min.js:1:81469\r\n\r\nThanks\r\n\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17061","RelatedDescription":"Closed issue \"Angular 9 Production Build Fails during Optimization Phase (terser out of memory)\" (#17061)"},{"Id":"570357599","IsPullRequest":true,"CreatedAt":"2020-02-25T18:27:51","Actor":"alan-agius4","Number":"17071","RawContent":null,"Title":"fix(@angular-devkit/schematics-cli): provide resolvePaths to NodeWorkflow","State":"closed","Body":"Closes #17067","Url":"https://github.com/angular/angular-cli/pull/17071","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/schematics-cli): provide resolvePaths to NodeWorkflow\" (#17071)"},{"Id":"570332247","IsPullRequest":false,"CreatedAt":"2020-02-25T18:27:51","Actor":"mraible","Number":"17067","RawContent":null,"Title":"Schematics CLI can't run schematic in v0.900.3","State":"closed","Body":"I have a Schematics library that I package locally with `npm pack`. Then I create a new Angular app, install my schematic and run it. \r\n\r\n```\r\nng new angular-app --routing --style css\r\ncd angular-app\r\nnpm install -D ../../oktadev*.tgz\r\nschematics @oktadev/schematics:add-auth --issuer=$issuer --clientId=$clientId\r\nng test --watch=false && ng e2e\r\n```\r\n\r\nWith v0.900.3 of Schematics CLI, the `schematics` command errors with:\r\n\r\n```\r\n+ @oktadev/schematics@1.2.1\r\nadded 22 packages from 15 contributors and audited 16701 packages in 8.069s\r\n\r\n33 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nfound 0 vulnerabilities\r\n\r\nError: Cannot find module '@oktadev/schematics/package.json'\r\nRequire stack:\r\n- /usr/local/lib/node_modules/@angular-devkit/schematics-cli/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js\r\n- /usr/local/lib/node_modules/@angular-devkit/schematics-cli/node_modules/@angular-devkit/schematics/tools/workflow/node-workflow.js\r\n- /usr/local/lib/node_modules/@angular-devkit/schematics-cli/node_modules/@angular-devkit/schematics/tools/index.js\r\n- /usr/local/lib/node_modules/@angular-devkit/schematics-cli/bin/schematics.js\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:794:15)\r\n    at Function.resolve (internal/modules/cjs/helpers.js:80:19)\r\n```\r\n\r\nWith `@angular-devkit/schematics-cli@0.803.25`, it works fine.\r\n\r\n```\r\n+ @oktadev/schematics@1.2.1\r\nadded 22 packages from 15 contributors and audited 16701 packages in 7.991s\r\n\r\n33 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nfound 0 vulnerabilities\r\n\r\n    ‚úÖÔ∏è Added '@okta/okta-angular v1.4.0' into dependencies\r\n    üîç Installing packages...\r\nCREATE /src/app/auth-routing.module.ts (1261 bytes)\r\nCREATE /src/app/home/home.component.html (180 bytes)\r\nCREATE /src/app/home/home.component.spec.ts (964 bytes)\r\nCREATE /src/app/home/home.component.ts (630 bytes)\r\nCREATE /src/app/home/home.component.css (0 bytes)\r\nCREATE /src/app/shared/okta/auth.interceptor.ts (1031 bytes)\r\nUPDATE /src/app/app.module.ts (475 bytes)\r\nUPDATE /package.json (1393 bytes)\r\nUPDATE /src/app/app.component.spec.ts (1344 bytes)\r\nUPDATE /src/app/app.component.ts (603 bytes)\r\nadded 13 packages from 13 contributors and audited 16717 packages in 6.525s\r\n```\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: @angular-devkit/schematics-cli@0.803.25\r\n\r\n\r\n### Description\r\n\r\nSchematics CLI can't run a schematic.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n```\r\nnpm i -g @angular-devkit/schematics-cli\r\ngit clone https://github.com/oktadeveloper/schematics.git\r\ncd schematics\r\nnpm i\r\n./test-app.sh a\r\n```\r\n\r\nYou'll see the error. To fix, run:\r\n\r\n```\r\nnpm i -g @angular-devkit/schematics-cli@0.803.25\r\nrm -rf apps\r\n./test-app.sh a\r\n```\r\n\r\nThis time, there will be no stack trace.\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 9.0.3\r\nNode: 12.13.0\r\nOS: darwin x64\r\n\r\nAngular: undefined\r\n...\r\nIvy Workspace: Yes\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.900.3 (cli-only)\r\n@angular-devkit/core         9.0.3\r\n@angular-devkit/schematics   9.0.3\r\n@angular/cdk                 8.2.3\r\n@schematics/angular          9.0.3\r\n@schematics/update           0.803.21\r\nrxjs                         6.5.4\r\ntypescript                   3.8.2\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/17067","RelatedDescription":"Closed issue \"Schematics CLI can't run schematic in v0.900.3\" (#17067)"},{"Id":"570390179","IsPullRequest":true,"CreatedAt":"2020-02-25T18:27:32","Actor":"cyrilletuzi","Number":"17075","RawContent":null,"Title":"fix(@angular/pwa): use relative paths in webmanifest","State":"closed","Body":"Use relative paths instead of absolute paths in `manifest.webmanifest`, so PWA (including the service worker) can work with apps with `base-href` different from just `/`. It's especially important since Angular CLI v9 as the new `--localize` option uses `base-href` values different from just `/`. \r\n\r\nFixes #16922 \r\nFixes #15092","Url":"https://github.com/angular/angular-cli/pull/17075","RelatedDescription":"Closed or merged PR \"fix(@angular/pwa): use relative paths in webmanifest\" (#17075)"},{"Id":"570462969","IsPullRequest":true,"CreatedAt":"2020-02-25T18:27:15","Actor":"alan-agius4","Number":"17077","RawContent":null,"Title":"fix(@ngtools/webpack): handle union type with a nullable argument","State":"closed","Body":"Currently constructor parameters with union types that contains nullable argument are not being converted properly and result in broken behaviour.\r\n\r\nWith this change we align the ctor-parameters downlevel transformer to be closer to the NGTSC reflector: https://github.com/angular/angular/blob/master/packages/compiler-cli/src/ngtsc/reflection/src/typescript.ts#L65-L66\r\n\r\nThis change should also be synced to ng-packagr.\r\n\r\nCloses: #17063\r\nReference: FW-1883\r\n\r\n","Url":"https://github.com/angular/angular-cli/pull/17077","RelatedDescription":"Closed or merged PR \"fix(@ngtools/webpack): handle union type with a nullable argument\" (#17077)"},{"Id":"570033130","IsPullRequest":false,"CreatedAt":"2020-02-25T18:27:15","Actor":"PapaNappa","Number":"17063","RawContent":null,"Title":"[ivy/ngcc] Fails to inject optional dependency in Angular8 library","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/core or ngcc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 8\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è-->\r\nI have a library (still building with Angular8 for backwards compatibility) that has one main service `Lib2Service`:\r\n\r\n```\r\n@Injectable({ providedIn: 'root' })\r\nexport class Lib2Service {\r\n  constructor(\r\n      @Optional() private lib1: BaseLib1 | null,\r\n  ) {}\r\n\r\n  getValue() {\r\n    if (this.lib1) return this.lib1.getValue();\r\n    return -1;\r\n  }\r\n}\r\n```\r\n\r\nThis `Lib2Service` takes an optional service `BaseLib1`.\r\nThe use case is to provide plugins to this service.\r\n\r\nIn this example, the 'plugin' `BaseLib1` has only a single method:\r\n\r\n```\r\nexport class BaseLib1 {\r\n  getValue() {\r\n    return 0;\r\n  }\r\n}\r\n```\r\n\r\nThe Angular8 library also provides a default implementation `Lib1Service`:\r\n\r\n```\r\n@Injectable()\r\nexport class Lib1Service extends BaseLib1 {\r\n  getValue() {\r\n    return 1;\r\n  }\r\n}\r\n```\r\n\r\nThe intended use in any app is then to provide a certain implementation of `BaseLib1`, e.g. like so using the default implementation:\r\n\r\n```\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [BrowserModule],\r\n  providers: [\r\n    Lib1Service,\r\n    { provide: BaseLib1, useExisting: Lib1Service },\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n```\r\n\r\nThen, any component can use `Lib2Service`, like so:\r\n\r\n```\r\n@Component({\r\n  selector: 'app-root',\r\n  template: `\r\n      lib service: {{lib2Service.getValue()}}\r\n  `,\r\n  styles: []\r\n})\r\nexport class AppComponent {\r\n  constructor(\r\n      public lib2Service: Lib2Service,\r\n  ) {\r\n  }\r\n}\r\n```\r\n\r\nThis works fine when the app is also using Angular 8, but with Angular 9, `Lib2Service` is constructed with its `lib1` parameter undefined.\r\n\r\nIf I add `@Inject(BaseLib1)` to the ctor parameter of `Lib2Service`, the dependency is injected correctly. However, this was not necessary with an Angular 8 app and breaks the existing version of the library.\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\nI have reproduced the Angular 9 app at https://github.com/PapaNappa/Angular9-DI-Bug\r\nIt contains a .tgz of the Angular8 library, which is basically the three classes from the top of this post.\r\n\r\n### Steps to reproduce:\r\n\r\n1. `git clone https://github.com/PapaNappa/Angular9-DI-Bug`\r\n2. `cd Angular9-DI-Bug`\r\n3. `npm install`\r\n4. `ng serve`\r\n5. Open the app\r\n6. The app should output the value `1` from `Lib1Service`, put it actually prints `-1` indicating that the optional dependency `lib1` is not provided to `Lib2Service`.\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version (library):**\r\n<pre><code>\r\nAngular CLI: 8.3.25\r\nNode: 12.14.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.803.25\r\n@angular-devkit/build-angular      0.803.25\r\n@angular-devkit/build-ng-packagr   0.803.25\r\n@angular-devkit/build-optimizer    0.803.25\r\n@angular-devkit/build-webpack      0.803.25\r\n@angular-devkit/core               8.3.25\r\n@angular-devkit/schematics         8.3.25\r\n@angular/cli                       8.3.25\r\n@ngtools/webpack                   8.3.25\r\n@schematics/angular                8.3.25\r\n@schematics/update                 0.803.25\r\nng-packagr                         5.7.1\r\nrxjs                               6.4.0\r\ntypescript                         3.5.3\r\nwebpack                            4.39.2\r\n</code></pre>\r\n\r\n**Angular Version (app):**\r\n<pre><code>\r\nAngular CLI: 9.0.1\r\nNode: 12.14.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.1\r\n@angular-devkit/build-angular      0.900.1\r\n@angular-devkit/build-ng-packagr   0.900.1\r\n@angular-devkit/build-optimizer    0.900.1\r\n@angular-devkit/build-webpack      0.900.1\r\n@angular-devkit/core               9.0.1\r\n@angular-devkit/schematics         9.0.1\r\n@angular/cli                       9.0.1\r\n@ngtools/webpack                   9.0.1\r\n@schematics/angular                9.0.1\r\n@schematics/update                 0.900.1\r\nng-packagr                         9.0.0\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17063","RelatedDescription":"Closed issue \"[ivy/ngcc] Fails to inject optional dependency in Angular8 library\" (#17063)"},{"Id":"570338690","IsPullRequest":true,"CreatedAt":"2020-02-25T18:10:54","Actor":"renovate[bot]","Number":"17068","RawContent":null,"Title":"build: update pacote to version 11.1.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [pacote](https://togithub.com/npm/pacote) | dependencies | minor | [`11.0.1` -> `11.1.0`](https://renovatebot.com/diffs/npm/pacote/11.0.1/11.1.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>npm/pacote</summary>\n\n### [`v11.1.0`](https://togithub.com/npm/pacote/compare/v11.0.1...v11.1.0)\n\n[Compare Source](https://togithub.com/npm/pacote/compare/v11.0.1...v11.1.0)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17068","RelatedDescription":"Closed or merged PR \"build: update pacote to version 11.1.0\" (#17068)"},{"Id":"570338768","IsPullRequest":true,"CreatedAt":"2020-02-25T18:10:25","Actor":"renovate[bot]","Number":"17069","RawContent":null,"Title":"build: update sass to version 1.26.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [sass](https://togithub.com/sass/dart-sass) | dependencies | minor | [`1.25.0` -> `1.26.0`](https://renovatebot.com/diffs/npm/sass/1.25.0/1.26.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>sass/dart-sass</summary>\n\n### [`v1.26.0`](https://togithub.com/sass/dart-sass/blob/master/CHANGELOG.md#&#8203;1260)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.25.0...1.26.0)\n\n-   **Potentially breaking bug fix:** `@use` rules whose URLs' basenames begin\n    with `_` now correctly exclude that `_` from the rules' namespaces.\n\n-   Fix a bug where imported forwarded members weren't visible in mixins and\n    functions that were defined before the `@import`.\n\n-   Don't throw errors if the exact same member is loaded or forwarded from\n    multiple modules at the same time.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17069","RelatedDescription":"Closed or merged PR \"build: update sass to version 1.26.0\" (#17069)"},{"Id":"570360043","IsPullRequest":true,"CreatedAt":"2020-02-25T18:10:06","Actor":"renovate[bot]","Number":"17072","RawContent":null,"Title":"build: update terser to version 4.6.4","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | dependencies | patch | [`4.6.3` -> `4.6.4`](https://renovatebot.com/diffs/npm/terser/4.6.3/4.6.4) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>terser/terser</summary>\n\n### [`v4.6.4`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v464)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.3...v4.6.4)\n\n-   The `\"some\"` value in the `comments` output option now preserves `@lic` and other important comments when using `//`\n-   `</script>` is now better escaped in regex, and in comments, when using the `inline_script` output option\n-   Fixed an issue when transforming `new RegExp` into `/.../` when slashes are included in the source\n-   `AST_Node.prototype.constructor` now exists, allowing for easier debugging of crashes\n-   Multiple if statements with the same consequents are now collapsed\n-   Typescript typings improvements\n-   Optimizations while looking for surrogate pairs in strings\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17072","RelatedDescription":"Closed or merged PR \"build: update terser to version 4.6.4\" (#17072)"},{"Id":"570388034","IsPullRequest":true,"CreatedAt":"2020-02-25T18:08:26","Actor":"renovate[bot]","Number":"17073","RawContent":null,"Title":"build: update @types/karma to version ^4.0.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@types/karma](https://togithub.com/DefinitelyTyped/DefinitelyTyped) | devDependencies | major | [`^3.0.2` -> `^4.0.0`](https://renovatebot.com/diffs/npm/@types%2fkarma/3.0.8/4.4.0) |\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17073","RelatedDescription":"Closed or merged PR \"build: update @types/karma to version ^4.0.0\" (#17073)"},{"Id":"570388206","IsPullRequest":true,"CreatedAt":"2020-02-25T18:07:20","Actor":"renovate[bot]","Number":"17074","RawContent":null,"Title":"build: update uuid to version 7.0.0","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [uuid](https://togithub.com/uuidjs/uuid) | dependencies | major | [`3.4.0` -> `7.0.0`](https://renovatebot.com/diffs/npm/uuid/3.4.0/7.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>uuidjs/uuid</summary>\n\n### [`v7.0.0`](https://togithub.com/uuidjs/uuid/blob/master/CHANGELOG.md#&#8203;700httpsgithubcomuuidjsuuidcomparev340v700-2020-02-24)\n\n[Compare Source](https://togithub.com/uuidjs/uuid/compare/v3.4.0...v7.0.0)\n\n##### ‚ö† BREAKING CHANGES\n\n-   The default export, which used to be the v4() method\n    but which was already discouraged in v3.x of this library, has been\n    removed.\n-   Explicitly note that deep imports of the different uuid\n    version functions are deprecated and no longer encouraged and that\n    ECMAScript module named imports should be used instead.\n    Emit a deprecation warning for people who deep-require the different\n    algorithm variants.\n-   Remove builtin support for insecure random number\n    generators in the browser. Users who want that will have to supply their\n    own random number generator function.\n-   Remove support for generating v3 and v5 UUIDs in\n    Node.js&lt;4.x\n-   Convert code base to ECMAScript Modules (ESM) and\n    release CommonJS build for node and ESM build for browser bundlers.\n\n##### Features\n\n-   add UMD build to npm package ([#&#8203;357](https://togithub.com/uuidjs/uuid/issues/357)) ([4e75adf](https://togithub.com/uuidjs/uuid/commit/4e75adf435196f28e3fbbe0185d654b5ded7ca2c)), closes [#&#8203;345](https://togithub.com/uuidjs/uuid/issues/345)\n-   add various es module and CommonJS examples ([b238510](https://togithub.com/uuidjs/uuid/commit/b238510bf352463521f74bab175a3af9b7a42555))\n-   ensure that docs are up-to-date in CI ([ee5e77d](https://togithub.com/uuidjs/uuid/commit/ee5e77db547474f5a8f23d6c857a6d399209986b))\n-   hybrid CommonJS & ECMAScript modules build ([a3f078f](https://togithub.com/uuidjs/uuid/commit/a3f078faa0baff69ab41aed08e041f8f9c8993d0))\n-   remove insecure fallback random number generator ([3a5842b](https://togithub.com/uuidjs/uuid/commit/3a5842b141a6e5de0ae338f391661e6b84b167c9)), closes [#&#8203;173](https://togithub.com/uuidjs/uuid/issues/173)\n-   remove support for pre Node.js v4 Buffer API ([#&#8203;356](https://togithub.com/uuidjs/uuid/issues/356)) ([b59b5c5](https://togithub.com/uuidjs/uuid/commit/b59b5c5ecad271c5453f1a156f011671f6d35627))\n-   rename repository to github:uuidjs/uuid ([#&#8203;351](https://togithub.com/uuidjs/uuid/issues/351)) ([c37a518](https://togithub.com/uuidjs/uuid/commit/c37a518e367ac4b6d0aa62dba1bc6ce9e85020f7)), closes [#&#8203;338](https://togithub.com/uuidjs/uuid/issues/338)\n\n##### Bug Fixes\n\n-   add deep-require proxies for local testing and adjust tests ([#&#8203;365](https://togithub.com/uuidjs/uuid/issues/365)) ([7fedc79](https://togithub.com/uuidjs/uuid/commit/7fedc79ac8fda4bfd1c566c7f05ef4ac13b2db48))\n-   add note about removal of default export ([#&#8203;372](https://togithub.com/uuidjs/uuid/issues/372)) ([12749b7](https://togithub.com/uuidjs/uuid/commit/12749b700eb49db8a9759fd306d8be05dbfbd58c)), closes [#&#8203;370](https://togithub.com/uuidjs/uuid/issues/370)\n-   deprecated deep requiring of the different algorithm versions ([#&#8203;361](https://togithub.com/uuidjs/uuid/issues/361)) ([c0bdf15](https://togithub.com/uuidjs/uuid/commit/c0bdf15e417639b1aeb0b247b2fb11f7a0a26b23))\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17074","RelatedDescription":"Closed or merged PR \"build: update uuid to version 7.0.0\" (#17074)"},{"Id":"570723772","IsPullRequest":true,"CreatedAt":"2020-02-25T17:26:55","Actor":"clydin","Number":"17086","RawContent":null,"Title":"fix(@ngtools/webpack): always use VE for deprecated string route discovery","State":"open","Body":"When in JIT mode during lazy route discovery, the Ivy compiler willl attempt to parse templates which may fail when this plugin is used with webpack loaders that support custom template formats.  The string lazy routes must be discovered before the webpack build starts but the template loading/processing does not occur until the webpack build commences.\r\n\r\nFixes: #17002","Url":"https://github.com/angular/angular-cli/pull/17086","RelatedDescription":"Open PR \"fix(@ngtools/webpack): always use VE for deprecated string route discovery\" (#17086)"},{"Id":"570672482","IsPullRequest":false,"CreatedAt":"2020-02-25T15:57:44","Actor":"Vortex375","Number":"17085","RawContent":null,"Title":"Regression: unable to resolve schematics via package name","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n- [ x ] generate\r\n- [ x ] add\r\n- [ x ] update\r\n\r\n### Is this a regression?\r\n\r\nYes, it used to work in Angular <= 8.x\r\n\r\n### Description\r\n\r\nI have a library \"@mycompany/mylib\" and a _separate_ package containing its schematics called \"@mycompany/mylib-schematics\".\r\n\r\nI used to have this entry in the library's `package.json` file:\r\n\r\n```\r\n\"schematics\": \"@mycompany/mylib-schematics/collection.json\"\r\n```\r\n\r\nAnd this worked fine.\r\n\r\nWhen executing, for example `ng generate @mycompany/mylib:foo` it would correctly resolve the collection.json file residing in \"node_modules/@mycompany/mylib-schematics\" and execute the schematic.\r\n\r\nWith Angular 9 this does not work anymore. I can no longer specify a package name in the \"schematics\" property of the package.json file. The path specified there is always resolved relative to the package.json location. I can make it work again if I change it to this:\r\n```\r\n\"schematics\": \"../mylib-schematics/collection.json\"\r\n```\r\n\r\nThe problem is within `packages/angular_devkit/schematics/tools/node-module-engine-host.ts`:\r\n\r\n```\r\n  protected _resolveCollectionPath(name: string): string {\r\n    let collectionPath: string | undefined = undefined;\r\n    if (name.startsWith('.') || name.startsWith('/')) {\r\n      name = resolve(name);\r\n    }\r\n\r\n    if (extname(name)) {\r\n      // When having an extension let's just resolve the provided path.\r\n      collectionPath = require.resolve(name, { paths: this.paths });\r\n    } else {\r\n      const packageJsonPath = require.resolve(join(name, 'package.json'), { paths: this.paths });\r\n      const { schematics } = require(packageJsonPath);\r\n\r\n      if (!schematics || typeof schematics !== 'string') {\r\n        throw new NodePackageDoesNotSupportSchematics(name);\r\n      }\r\n\r\n// !!!\r\n// the below line is wrong: it should only try to resolve it that way if the path starts with '.' or '/'\r\n// (i.e. when dealing with a relative or absolute path)\r\n// otherwise it should use require.resolve() like above\r\n// !!!\r\n      collectionPath = resolve(dirname(packageJsonPath), schematics);\r\n    }\r\n```\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\nAs described above, create a library and add a \"collections\" property to its package.json that points to another node_module, then try to \"ng generate\".\r\n\r\n`package.json` of \"@mycompany/mylib\":\r\n```\r\n\"schematics\": \"@mycompany/mylib-schematics/collection.json\"\r\n```\r\n\r\n`ng generate @mycompany/mylib:foo`:\r\n```\r\nAn unhandled exception occurred: Collection \"@mycompany/mylib\" cannot be resolved.\r\n```\r\n\r\n## üî• Exception or Error\r\n\r\n```\r\n[error] Error: Collection \"@mycompany/mylib\" cannot be resolved.\r\n    at NodeModulesEngineHost._resolveCollectionPath (test-project/node_modules/@angular-devkit/schematics/tools/node-module-engine-host.js:55:15)\r\n    at NodeModulesEngineHost.createCollectionDescription (test-project/node_modules/@angular-devkit/schematics/tools/file-system-engine-host-base.js:109:27)\r\n    at SchematicEngine._createCollectionDescription (test-project/node_modules/@angular-devkit/schematics/src/engine/engine.js:147:40)\r\n    at SchematicEngine.createCollection (test-project/node_modules/@angular-devkit/schematics/src/engine/engine.js:140:43)\r\n    at GenerateCommand.getCollection (test-project/node_modules/@angular/cli/models/schematic-command.js:127:35)\r\n    at GenerateCommand.initialize (test-project/node_modules/@angular/cli/models/schematic-command.js:43:37)\r\n    at async GenerateCommand.initialize (test-project/node_modules/@angular/cli/commands/generate-impl.js:12:9)\r\n    at async GenerateCommand.validateAndRun (test-project/node_modules/@angular/cli/models/command.js:124:9)\r\n    at async Object.runCommand (test-project/node_modules/@angular/cli/models/command-runner.js:201:24)\r\n    at async default_1 (test-project/node_modules/@angular/cli/lib/cli/index.js:62:31)\r\n```\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 12.14.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.2\r\n@angular-devkit/build-angular      0.900.2\r\n@angular-devkit/build-optimizer    0.900.2\r\n@angular-devkit/build-webpack      0.900.2\r\n@angular-devkit/core               9.0.2\r\n@angular-devkit/schematics         9.0.2\r\n@angular/cdk                       9.0.0\r\n@angular/cli                       9.0.2\r\n@angular/material                  9.0.0\r\n@angular/material-moment-adapter   9.0.0\r\n@ngtools/webpack                   9.0.2\r\n@schematics/angular                9.0.2\r\n@schematics/update                 0.900.2\r\nrxjs                               6.5.3\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>","Url":"https://github.com/angular/angular-cli/issues/17085","RelatedDescription":"Open issue \"Regression: unable to resolve schematics via package name\" (#17085)"},{"Id":"570652204","IsPullRequest":false,"CreatedAt":"2020-02-25T15:29:50","Actor":"qmarquez","Number":"17084","RawContent":null,"Title":"ng add don't recognize src folder name change","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [X] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\nI don't know\r\n\r\n### Description\r\nafter start a new project if i change the src folder name to another ng add still looking for src/app/app for main module. even after update angular.json\r\n\r\n## üî¨ Minimal Reproduction\r\nStart new project, change src folder name to another, update angular.json file and try to add anything.\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 8.3.25\r\nNode: 12.14.1\r\nOS: linux x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.25\r\n@angular-devkit/build-angular     0.803.25\r\n@angular-devkit/build-optimizer   0.803.25\r\n@angular-devkit/build-webpack     0.803.25\r\n@angular-devkit/core              8.3.25\r\n@angular-devkit/schematics        8.3.25\r\n@angular/cdk                      8.2.3\r\n@angular/cli                      8.3.25\r\n@ngtools/webpack                  8.3.25\r\n@schematics/angular               8.3.25\r\n@schematics/update                0.803.25\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2\r\n</code></pre>\r\n","Url":"https://github.com/angular/angular-cli/issues/17084","RelatedDescription":"Open issue \"ng add don't recognize src folder name change\" (#17084)"},{"Id":"570580971","IsPullRequest":true,"CreatedAt":"2020-02-25T13:43:38","Actor":"alan-agius4","Number":"17083","RawContent":null,"Title":"fix(@ngtools/webpack): don't elide decorated method parameter type reference","State":"open","Body":"Fixes #17080\r\nReference: TOOL-1334","Url":"https://github.com/angular/angular-cli/pull/17083","RelatedDescription":"Open PR \"fix(@ngtools/webpack): don't elide decorated method parameter type reference\" (#17083)"},{"Id":"570551698","IsPullRequest":false,"CreatedAt":"2020-02-25T13:40:45","Actor":"Mobasshirbachelor","Number":"17082","RawContent":null,"Title":"  An argument for 'opts' was not provided.","State":"closed","Body":"\r\n  node_modules/@angular/core/core.d.ts:7888:47\r\n    7888     (selector: Type<any> | Function | string, opts: {\r\n                                                       ~~~~~~~\r\n    7889         read?: any;\r\n         ~~~~~~~~~~~~~~~~~~~\r\n    7890         static: boolean;\r\n         ~~~~~~~~~~~~~~~~~~~~~~~~\r\n    7891     }): any;\r\n         ~~~~~\r\n    An argument for 'opts' was not provided.","Url":"https://github.com/angular/angular-cli/issues/17082","RelatedDescription":"Closed issue \"  An argument for 'opts' was not provided.\" (#17082)"},{"Id":"570546791","IsPullRequest":false,"CreatedAt":"2020-02-25T12:49:13","Actor":"PhilippMeissner","Number":"17081","RawContent":null,"Title":"Angular 9 build hangs / freezes in production environment on heroku","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ‚úçÔ∏èedit: -->\r\n\r\n- [ ] new\r\n- [X] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 8.x\r\n\r\n\r\n### Description\r\nWhen running the following script, the build behaves in three different scenarios, two of which cause the build (and thus deployment) to fail.\r\n\r\n1) Everything works just fine (Output of my local machine: https://gist.github.com/PhilippMeissner/ac901fae1022c46859fe08b01b41c5fa)\r\n\r\n2) It just stops right before compiling the packages inside `node_modules` (Output of heroku: https://gist.github.com/PhilippMeissner/4a719870ac1dfb91776e4d728c528e69)\r\n\r\n2) It stops after compiling the last package inside `node_modules`, then never proceeds (Output of heroku: https://gist.github.com/PhilippMeissner/21e387c544873c4381e74d56338c5c1b)\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\nUnfortunately I was not able to reproduce this at all, other than on Heroku.\r\nBesides, sometimes it tends to _just work_ on Heroku, but that's like 1 in 50 attempts and so far I can not see any differences in the times it works vs. when it does not work\r\nI tried to disable Ivy along with the AOT build, nothing changed the build-output/outcome.\r\n\r\n## üî• Exception or Error\r\nNo error, it just hangs/freezes.\r\n\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n\r\n\r\nAngular CLI: 9.0.3\r\nNode: 10.19.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cdk                      9.1.0\r\n@angular/cli                      9.0.3\r\n@angular/http                     7.2.16\r\n@angular/material                 9.1.0\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nHere's my `angular.json`, in case it is relevant (a gist, due to long output): https://gist.github.com/PhilippMeissner/c4c8a5fda397bc54d46cc180df715e2e\r\n\r\ntsconfig.json:\r\n```\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \"./\",\r\n    \"importHelpers\": true,\r\n    \"module\": \"commonjs\",\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"moduleResolution\": \"node\",\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"target\": \"es5\",\r\n    \"typeRoots\": [\r\n      \"node_modules/@types\",\r\n      \"src/lib/types\"\r\n    ],\r\n    \"paths\": {\r\n      \"moment\": [\r\n        \"src/lib/moment/moment\"\r\n      ],\r\n      \"moment-timezone\": [\r\n        \"node_modules/moment-timezone/builds/moment-timezone-with-data-2012-2022\"\r\n      ]\r\n    },\r\n    \"types\": [\r\n      \"node\",\r\n      \"webpack-env\"\r\n    ],\r\n    \"lib\": [\r\n      \"es2017\",\r\n      \"dom\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\ntsconfig.app.json\r\n```\r\n{\r\n  \"extends\": \"../tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"../out-tsc/app\",\r\n    \"strict\": true,\r\n    \"types\": [\r\n      \"webpack-env\"\r\n    ]\r\n  },\r\n  \"exclude\": [\r\n    \"src/test.ts\",\r\n    \"src/app/testing/**/*.ts\",\r\n    \"**/*.spec.ts\"\r\n  ],\r\n  \"files\": [\r\n    \"main.ts\",\r\n    \"polyfills.ts\"\r\n  ]\r\n}\r\n```\r\n\r\nScript to start the build:\r\n```\r\n#!/bin/bash\r\n\r\nset -e\r\n\r\ncd frontend\r\n\r\n# See https://github.com/angular/angular-cli/issues/5618\r\nexport NODE_OPTIONS=--max_old_space_size=8192\r\n\r\nyarn --pure-lockfile --production=false\r\n\r\nyarn run build:heroku\r\n```\r\n\r\nIf anything else is missing, hit me up.","Url":"https://github.com/angular/angular-cli/issues/17081","RelatedDescription":"Open issue \"Angular 9 build hangs / freezes in production environment on heroku\" (#17081)"},{"Id":"570528080","IsPullRequest":false,"CreatedAt":"2020-02-25T10:19:09","Actor":"miladamery","Number":"17078","RawContent":null,"Title":"ERROR in Symbol RouterOutlet declared in router.d.ts is not exported from @angular/router","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/router\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: Angular 8\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> I have a library project that i put everything common in it from my over all theme and common forms and components and directives and so on in it. recently i migrated this library(is built with ng-packagr) from angular 8 to angular 9. i fixed errors, corrected 3rd party libraries etc till that both \"ng build --prod\" and ng-packagr build was successful with no errors. After these i tried to use my library in my other projects that depend on it and got bellow error              \r\n```\r\nERROR in symbol RouterOutlet declared in appProject/node_modules/@angular/router/router.d.ts is not exported from @angular/router (import into appProject/node_modues/library/fesm2015/library.js)\r\n```\r\nThe thing is i checked this `library.js` and not a single occurrence of `RouterOutlet` was found in it but i have `<router-outlet>` in my shared components of library. As suggested Ivy is disabled for this library project.                               \r\nI really have no clue what this error means or what i can do to solve it. I will be really happy if you could provide me help to pass this. Thanks in advanced.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nERROR in symbol RouterOutlet declared in appProject/node_modules/@angular/router/router.d.ts is not exported from @angular/router (import into appProject/node_modues/library/fesm2015/library.js)\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\nAngular CLI: 9.0.2\r\nNode: 12.16.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@angular/http                     7.2.16\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nI really didnt know if i should post this in ng-packagr or angular. so please forgive me if i mistakenly posted in here.\r\n","Url":"https://github.com/angular/angular-cli/issues/17078","RelatedDescription":"Open issue \"ERROR in Symbol RouterOutlet declared in router.d.ts is not exported from @angular/router\" (#17078)"},{"Id":"570419844","IsPullRequest":false,"CreatedAt":"2020-02-25T10:06:24","Actor":"MartinM25","Number":"17076","RawContent":null,"Title":"ng new error","State":"closed","Body":"ENOENT: no such file or directory, mkdir error shown when  i try to create a new angular project","Url":"https://github.com/angular/angular-cli/issues/17076","RelatedDescription":"Closed issue \"ng new error\" (#17076)"},{"Id":"570354800","IsPullRequest":false,"CreatedAt":"2020-02-25T07:00:52","Actor":"anton-gorbikov","Number":"17070","RawContent":null,"Title":"Differential loading produces ES5 for new Edge with Yarn","State":"open","Body":"# üêû Bug report\r\n\r\n### Command (mark with an `x`)\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Is this a regression?\r\nNo\r\n\r\n\r\n### Description\r\nDepending on package manager (NPM or Yarn) Angular CLI treats Edge 79/80 as ES2015 (NPM) or ES5 (Yarn) compatible browser.\r\n\r\n## üî¨ Minimal Reproduction\r\n1. Create new empty project:\r\n\t```\r\n\tnpx -p @angular/cli ng new edge\r\n\t```\r\n1. Replace browserslist content with only one line (Edge 79/80)\r\n\t```\r\n\tlast 2 Edge versions\r\n\t```\r\n1. Remove node_modules and lock files, install dependencies from scratch by NPM:\r\n\t```\r\n\tnpm i\r\n\tnpm run ng build --prod\r\n\t```\r\n1. Build the project (no ES5 bundle):\r\n\t![image](https://user-images.githubusercontent.com/5469718/75190016-82228a00-5760-11ea-9f10-fac4ab753dae.png)\r\n1. Do the same for Yarn, remove node_modules:\r\n\t```\r\n\tyarn\r\n\tyarn ng build --prod\r\n\t```\r\n1. Build the project (ES5 bundle generated):\r\n\t![image](https://user-images.githubusercontent.com/5469718/75190409-49cf7b80-5761-11ea-94d0-61a1fb4cc179.png)\r\n\r\n## üåç Your Environment\r\n<pre><code>\r\n$ ng version\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / ‚ñ≥ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.3\r\nNode: 13.7.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.2\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.3\r\n@angular-devkit/build-angular     0.900.3\r\n@angular-devkit/build-optimizer   0.900.3\r\n@angular-devkit/build-webpack     0.900.3\r\n@angular-devkit/core              9.0.3\r\n@angular-devkit/schematics        9.0.3\r\n@angular/cli                      9.0.3\r\n@ngtools/webpack                  9.0.3\r\n@schematics/angular               9.0.3\r\n@schematics/update                0.900.3\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\nDone in 1.22s.\r\n\r\nyarn version v1.21.1\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17070","RelatedDescription":"Open issue \"Differential loading produces ES5 for new Edge with Yarn\" (#17070)"},{"Id":"570311899","IsPullRequest":false,"CreatedAt":"2020-02-25T04:57:16","Actor":"karamjeetiron","Number":"17066","RawContent":null,"Title":"WARNING in ......\\src\\app\\..\\..\\...ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû Bug report\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No : ....\r\n\r\n### Description\r\n\r\nAfter successfully npm install these 20+ warnings are coming. Made changes in tsconfig file but still no luck. Please help me on this. \r\n\r\nWARNING in ......\\src\\app\\AdminPanel\\AdminAccount\\AccountSetting\\AccountSetting.component.ts is part of the TypeScript compilation but it's unused.\r\nAdd only entry points to the 'files' or 'include' properties in your tsconfig.\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nWARNING in ......\\src\\app\\AdminPanel\\AdminAccount\\AccountSetting\\AccountSetting.component.ts is part of the TypeScript compilation but it's unused.\r\n\r\n</code></pre>\r\n\r\n\r\n## üåç Your Environment\r\ntsconfig.app.json file:\r\n\r\n<pre><code>\r\n{\r\n    \"extends\": \"../tsconfig.json\",\r\n    \"compilerOptions\": {\r\n        \"outDir\": \"../out-tsc/app\",\r\n        \"types\": [\r\n            \"node\"\r\n        ]\r\n    },\r\n  \"files\": [\r\n    \"main.ts\",\r\n    \"polyfills.ts\"\r\n  ],\r\n    \"include\": [\r\n        \"src/**/*.d.ts\"\r\n    ]\r\n}\r\n\r\n</code></pre>\r\n\r\nPlease help me out!\r\n","Url":"https://github.com/angular/angular-cli/issues/17066","RelatedDescription":"Open issue \"WARNING in ......\\src\\app\\..\\..\\...ts is part of the TypeScript compilation but it's unused. Add only entry points to the 'files' or 'include' properties in your tsconfig.\" (#17066)"},{"Id":"569696810","IsPullRequest":true,"CreatedAt":"2020-02-24T20:40:55","Actor":"renovate[bot]","Number":"17058","RawContent":null,"Title":"build: update to version","State":"closed","Body":"This PR contains the following updates:\n\n| Update | Change |\n|---|---|\n| lockFileMaintenance | All locks refreshed |\n\n:wrench: This Pull Request updates lock files to use the latest dependency versions.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"before 5am on monday\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [x] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17058","RelatedDescription":"Closed or merged PR \"build: update to version\" (#17058)"},{"Id":"569780372","IsPullRequest":true,"CreatedAt":"2020-02-24T20:38:34","Actor":"alan-agius4","Number":"17059","RawContent":null,"Title":"fix(@angular-devkit/build-angular): update core-js to 3.6.4","State":"closed","Body":"Closes #16955","Url":"https://github.com/angular/angular-cli/pull/17059","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): update core-js to 3.6.4\" (#17059)"},{"Id":"569848857","IsPullRequest":false,"CreatedAt":"2020-02-24T19:41:38","Actor":"Danieliverant","Number":"17060","RawContent":null,"Title":"when assets folder contains dots it outcome as a file in the dist","State":"closed","Body":"Found a solution, please close.\r\n\r\n\r\nsolution:\r\n\r\n{\r\nglobal: \"**/*\"\r\ninput: \"src/prefix.company-name.assets\",\r\n**output: \"/prefix.company-name.assets/./\"**\r\n}\r\n\r\n_______________________________________________________________________________________\r\n\r\nmy assets folder named \"prefix.company-name.assets\" \r\nand it's the name convention in the whole project.\r\n\r\nwhen running a build on a Windows machine (only) it outcome as a file in the dist folder instead of a folder.\r\n\r\nI've tried using \r\n\r\n{\r\nglobal: \"**/*\"\r\ninput: \"src/prefix.company-name.assets\",\r\noutput: \"/prefix.company-name.assets/\"\r\n}\r\n\r\nin the angular.json assets array but the same result.\r\nusing Angular 8. thank you.\r\n\r\n","Url":"https://github.com/angular/angular-cli/issues/17060","RelatedDescription":"Closed issue \"when assets folder contains dots it outcome as a file in the dist\" (#17060)"},{"Id":"570058868","IsPullRequest":false,"CreatedAt":"2020-02-24T19:39:12","Actor":"swen128","Number":"17064","RawContent":null,"Title":"Angular does not respect the 'browser' field in 'package.json' when importing packages.","State":"closed","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/builder packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> I guess this issue is related to angular‚Äëdevkit/build‚Äëangular\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> No, reproduced at least in Angular 6, 8 and 9.\r\n\r\n\r\n### Description\r\n\r\nSome packages use ['browser'](https://github.com/defunctzombie/package-browser-field-spec) and 'main' fields in 'package.json' to load different files depending on the environment.\r\n\r\nWhen importing such packages, Angular prioritizes the 'main' field rather than 'browser', and loads incompatible code in browser environments.\r\n\r\nJust to add context: I tried to use a NPM package called 'typesaurus', which imports either client or admin version of Firebase SDK using the 'main' and 'browser' fields.\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n- [Angular version 6.1.9](https://stackblitz.com/edit/angular-issue-repro2-5u2rqg)\r\n- [Angular version 8.0.0](https://stackblitz.com/edit/angular-zpgdph)\r\n- [Angular version 9.0.0-rc1](https://stackblitz.com/edit/angular-9-0-0-rc-1-79syos)\r\n\r\nThese examples import a package with the following directory structure:\r\n\r\n- mymodule\r\n  - main.ts\r\n  - browser.ts\r\n  - package.json\r\n\r\nIts 'package.json' is like:\r\n\r\n```json\r\n{\r\n  \"main\": \"main.ts\",\r\n  \"browser\": \"browser.ts\"\r\n}\r\n```\r\n\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n\r\nThe above examples load 'main.ts' instead of 'browser.ts', as you can see in the message:\r\n\r\n> A file 'mymodule/main.ts' has been loaded.\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 8.3.24\r\nNode: 12.14.1\r\nOS: linux x64\r\nAngular: undefined\r\n... \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit/architect    0.803.24 (cli-only)\r\n@angular-devkit/core         8.3.24 (cli-only)\r\n@angular-devkit/schematics   8.3.24 (cli-only)\r\n@schematics/angular          8.3.24 (cli-only)\r\n@schematics/update           0.803.24 (cli-only)\r\nwebpack                      4.41.6\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nNone.","Url":"https://github.com/angular/angular-cli/issues/17064","RelatedDescription":"Closed issue \"Angular does not respect the 'browser' field in 'package.json' when importing packages.\" (#17064)"},{"Id":"569857207","IsPullRequest":false,"CreatedAt":"2020-02-24T09:55:39","Actor":"siddiq-rehman","Number":"17062","RawContent":null,"Title":"Treeshaking not working as expected in angular 9 when NgModule from a library built using angular 8 is used","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package @angular/....\r\n\r\nThe bug is related to tree shaking unused modules form a custom library in angular 9\r\n\r\n### Is this a regression?\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: ....\r\nNo\r\n\r\n\r\n### Description\r\n\r\n<!-- ‚úçÔ∏è--> A clear and concise description of the problem...\r\nI have created a custom library which exports two modules namely First Module and SecondModule, which have one component each FirstComponent and SecondComponent respectively.\r\n\r\nI am building the library and installing it in my application. Inside the app module, I have imported the FirstModule and the I am using the first component out of it.\r\n\r\nSo, Now If I do an AOT build on the sources, I can see the code factories for both the FirstModule, secondModule and their components inside main.js files. Attaching source code for library and application.\r\n\r\n[Application.zip](https://github.com/angular/angular/files/4243920/Application.zip)\r\n\r\n\r\n[Library_sidTest.zip](https://github.com/angular/angular/files/4243911/Library_sidTest.zip)\r\n\r\n\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ‚úçÔ∏è--> https://stackblitz.com/...\r\n\r\nDownload application, install node_modules, then install sidTest nodemodule present in the same directory using \"npm i ./sidTest\"\r\n\r\nThen do a build \"npx ng build --aot\". Check the resultant main-es2015.js file.\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ‚úçÔ∏è-->\r\n  In main.js file, I could see code for secondModule from the library, even though I have never imported that.\r\n</code>\r\n</pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n\r\n<pre>\r\n**Angular Version:* 9\r\nLibrary version: Angular 8\r\n<code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ‚úçÔ∏è-->\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17062","RelatedDescription":"Open issue \"Treeshaking not working as expected in angular 9 when NgModule from a library built using angular 8 is used\" (#17062)"},{"Id":"570530878","IsPullRequest":false,"CreatedAt":"2020-02-14T12:02:08","Actor":"iamruslanbakirov","Number":"17080","RawContent":null,"Title":"Decorated method can't resolve design:paramtypes","State":"open","Body":"# üêû bug report\r\n\r\n### Affected Package\r\n```\r\n    \"@angular/animations\": \"^9.0.0\",\r\n    \"@angular/cdk\": \"^9.0.0\",\r\n    \"@angular/common\": \"^9.0.0\",\r\n    \"@angular/compiler\": \"^9.0.0\",\r\n    \"@angular/core\": \"^9.0.0\",\r\n    \"@angular/forms\": \"^9.0.0\",\r\n    \"@angular/material\": \"^9.0.0\",\r\n    \"@angular/material-moment-adapter\": \"^9.0.0\",\r\n    \"@angular/platform-browser\": \"^9.0.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^9.0.0\",\r\n    \"@angular/router\": \"^9.0.0\",\r\n    \"@angular/service-worker\": \"^9.0.0\"\r\n```\r\nActually, I don't know about affected packages, maybe it's compiler ?\r\n\r\n### Is this a regression?\r\nYes, the previous version in which this bug was not present was:  Angular 8\r\n\r\n\r\n### Description\r\n\r\nSo, I use a package [decko](https://www.npmjs.com/package/decko), it's just decorators.\r\nI bound my methods and they can't work now\r\n\r\n## üî¨ Minimal Reproduction\r\n\r\n```\r\nclass MyService {\r\n\r\n@bind()\r\nmethod(control: FormControl){}\r\n}\r\n```\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\n Object(r.c)([Object(u.bind)(), Object(r.f)(\"design:type\", Function), Object(r.f)(\"design:paramtypes\", [FormControl]), Object(r.f)(\"design:returntype\", Object)], t.prototype, \"method\", null)\r\n</code></pre>\r\n\r\n<pre>\r\n   <code>\r\nmain.d4d36d120046e5300844.js:formatted:609 Uncaught ReferenceError: FormControl is not defined\r\n    at main.d4d36d120046e5300844.js:formatted:609\r\n    at Object.0poW (main.d4d36d120046e5300844.js:formatted:615)\r\n    at d (VM100 runtime.13bd04fd7c2374627883.js:1)\r\n    at Object.gfmY (main.d4d36d120046e5300844.js:formatted:9885)\r\n    at d (VM100 runtime.13bd04fd7c2374627883.js:1)\r\n    at Object.7Y4b (main.d4d36d120046e5300844.js:formatted:1873)\r\n    at d (VM100 runtime.13bd04fd7c2374627883.js:1)\r\n    at Module.zUnb (main.d4d36d120046e5300844.js:formatted:13499)\r\n    at d (VM100 runtime.13bd04fd7c2374627883.js:1)\r\n    at Object.0 (main.d4d36d120046e5300844.js:formatted:263)\r\n</code>\r\n</pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.1\r\nNode: 10.16.3\r\nOS: darwin x64\r\n\r\nAngular: 9.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, material-moment-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n... service-worker\r\nIvy Workspace: No\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.1\r\n@angular-devkit/build-angular      0.900.1\r\n@angular-devkit/build-ng-packagr   0.900.1\r\n@angular-devkit/build-optimizer    0.900.1\r\n@angular-devkit/build-webpack      0.900.1\r\n@angular-devkit/core               9.0.1\r\n@angular-devkit/schematics         9.0.1\r\n@angular/cli                       9.0.1\r\n@ngtools/webpack                   9.0.1\r\n@schematics/angular                9.0.1\r\n@schematics/update                 0.900.1\r\nng-packagr                         9.0.0\r\nrxjs                               6.5.3\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n\r\n</code></pre>\r\n\r\n\r\nIt resolved if i remove `@bind()` and use arrow function. \r\n","Url":"https://github.com/angular/angular-cli/issues/17080","RelatedDescription":"Open issue \"Decorated method can't resolve design:paramtypes\" (#17080)"},{"Id":"570530826","IsPullRequest":false,"CreatedAt":"2020-02-12T14:21:42","Actor":"BuZZ-dEE","Number":"17079","RawContent":null,"Title":"Update from Angular 8 to 9 leads to ‚ÄúReferenceError: SomeAbstractModelClass is not defined‚Äù for production build","State":"open","Body":"<!--üîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ\r\n\r\nOh hi there! üòÑ\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\nüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖüîÖ-->\r\n\r\n\r\n# üêû bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ‚úçÔ∏èedit: --> The issue is caused by package: I don't know.\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ‚úçÔ∏è--> Yes, the previous version in which this bug was not present was: 8.0.2\r\n\r\n\r\n### Description\r\n\r\nI have updated an [Angular 8 app to Angular 9][1]. Everything runs fine, if I start the application using `ng serve`, but if I start the app using `ng serve --prod`, I get the following error at runtime.:\r\n\r\n## üî¨ Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\nI don't know how to reproduce this issue.\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## üî• Exception or Error\r\n<pre><code>\r\nReferenceError: SomeAbstractModelClass is not defined\r\n    at http://localhost:4200/main.js:1:330907\r\n    at Module.zUnb (http://localhost:4200/main.js:1:331001)\r\n    at l (http://localhost:4200/runtime.js:1:552)\r\n    at Object.0 (http://localhost:4200/main.js:1:96)\r\n    at l (http://localhost:4200/runtime.js:1:552)\r\n    at t (http://localhost:4200/runtime.js:1:421)\r\n    at Array.r [as push] (http://localhost:4200/runtime.js:1:293)\r\n    at http://localhost:4200/main.js:1:47\r\n</code></pre>\r\n\r\n\r\n## üåç  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.1\r\nNode: 10.15.0\r\nOS: linux x64\r\n\r\nAngular: 9.0.0\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.1\r\n@angular-devkit/build-angular      0.900.1\r\n@angular-devkit/build-ng-packagr   0.900.1\r\n@angular-devkit/build-optimizer    0.900.1\r\n@angular-devkit/build-webpack      0.900.1\r\n@angular-devkit/core               9.0.1\r\n@angular-devkit/schematics         9.0.1\r\n@angular/cli                       9.0.1\r\n@ngtools/webpack                   9.0.1\r\n@schematics/angular                9.0.1\r\n@schematics/update                 0.900.1\r\nng-packagr                         9.0.0\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ‚úçÔ∏èIs this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ‚úçÔ∏èDo any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n\r\nhttps://stackoverflow.com/questions/60174263/update-from-angular-8-to-9-leads-to-referenceerror-someabstractmodelclass-is-n\r\n\r\n  [1]: https://blog.angular.io/version-9-of-angular-now-available-project-ivy-has-arrived-23c97b63cfa3","Url":"https://github.com/angular/angular-cli/issues/17079","RelatedDescription":"Open issue \"Update from Angular 8 to 9 leads to ‚ÄúReferenceError: SomeAbstractModelClass is not defined‚Äù for production build\" (#17079)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"570992812","IsPullRequest":true,"CreatedAt":"2020-02-26T01:29:10","Actor":"yifange","Number":"18620","RawContent":null,"Title":"feat(material-experimental/selection): Add Material version for `cdk-experimental/selection`","State":"open","Body":"Add Material directives and components that make adding selection state to a list of items easier.\r\n\r\n* `MatSelection`: \"mat-\" alias of `CdkSelection`\r\n* `MatSelectionToggle`: \"mat-\" alias of `CdkSelectionToggle`\r\n* `MatSelectAll`: \"mat-\" alias of `CdkSelectAll`\r\n* `MatRowSelection`: \"mat-\" alias of `CdkRowSelection`\r\n* `MatSelectionColumn`: Similar to `CdkSelectionColumn`.  Use `<mat-checkbox>` instead of native `<input>`.\r\n\r\nIssue #18581","Url":"https://github.com/angular/components/pull/18620","RelatedDescription":"Open PR \"feat(material-experimental/selection): Add Material version for `cdk-experimental/selection`\" (#18620)"},{"Id":"570975261","IsPullRequest":false,"CreatedAt":"2020-02-26T01:01:49","Actor":"shikha-ai","Number":"18619","RawContent":null,"Title":"Main application throws compile errors for custom library's dependencies","State":"open","Body":"Node.js Version: 12.11.1\r\nOS: Windows 10\r\nCompile time error\r\nAngular version: 9\r\n\r\nI have created an Angular library with @angular/material and @angular/cdk dependencies in it's package.json file. Here is how the package.json file of the custom library looks like:\r\n\r\n```\r\n{\r\n  \"name\": \"custom-library\",\r\n  \"version\": \"x.y.z\",\r\n  \"dependencies\": {\r\n    \"@angular/cdk\": \"~9.0.1\",\r\n    \"@angular/material\": \"~9.0.1\"\r\n  },\r\n  \"peerDependencies\": {\r\n    \"@angular/common\": \"~9.0.2\",\r\n    \"@angular/core\": \"~9.0.2\"\r\n   \r\n  }\r\n} \r\n```\r\n\r\nTo install the custom library within the main app, I do an npm install --save .\r\nIt creates a reference to the custom library in the main application's package.json file. This is how main application's package.json looks like\r\n\r\n```\r\n{\r\n  \"name\": \"main-application\",\r\n  \"version\": \"x.y.z\",\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\",\r\n    \"test\": \"ng test\",\r\n    \"lint\": \"ng lint\",\r\n    \"e2e\": \"ng e2e\"\r\n  },\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"~9.0.2\",\r\n    \"@angular/common\": \"~9.0.2\",\r\n    \"@angular/compiler\": \"~9.0.2\",\r\n    \"@angular/core\": \"~9.0.2\",\r\n    \"@angular/forms\": \"~9.0.2\",\r\n    \"@angular/platform-browser\": \"~9.0.2\",\r\n    \"@angular/platform-browser-dynamic\": \"~9.0.2\",\r\n    \"@angular/router\": \"~9.0.2\",\r\n    **\"custom-library\": \"file:../Adir/Bdir/dist/custom-library\"**,\r\n    \"rxjs\": \"~6.5.4\",\r\n    \"tslib\": \"^1.10.0\",\r\n    \"zone.js\": \"~0.10.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"~0.900.2\",\r\n    \"@angular/cli\": \"~9.0.2\",\r\n    \"@angular/compiler-cli\": \"~9.0.2\",\r\n    \"@angular/language-service\": \"~9.0.2\",\r\n    \"@types/node\": \"^12.11.1\",\r\n    \"@types/jasmine\": \"~3.3.8\",\r\n    \"@types/jasminewd2\": \"~2.0.3\",\r\n    \"codelyzer\": \"^5.1.2\",\r\n    \"jasmine-core\": \"~3.4.0\",\r\n    \"jasmine-spec-reporter\": \"~4.2.1\",\r\n    \"karma\": \"~4.1.0\",\r\n    \"karma-chrome-launcher\": \"~2.2.0\",\r\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\r\n    \"karma-jasmine\": \"~2.0.1\",\r\n    \"karma-jasmine-html-reporter\": \"^1.4.0\",\r\n    \"protractor\": \"~5.4.0\",\r\n    \"ts-node\": \"~7.0.0\",\r\n    \"tslint\": \"~5.15.0\",\r\n    \"typescript\": \"~3.7.5\"\r\n  }\r\n}\r\n```\r\nThis is how my project structure looks like:\r\n\r\n```\r\nmain_project\r\n                             |________node_modules\r\n                                                  |_________custom_library\r\n                                                                         |___________node_modules\r\n```\r\nIdeally it should compile it without throwing errors. Also, when I install @angular/material and @angular/cdk within my main application, it works fine without any errors. Can someone explain me what's exactly happening?","Url":"https://github.com/angular/components/issues/18619","RelatedDescription":"Open issue \"Main application throws compile errors for custom library's dependencies\" (#18619)"},{"Id":"570957633","IsPullRequest":false,"CreatedAt":"2020-02-26T00:32:18","Actor":"mirceapop89","Number":"18618","RawContent":null,"Title":"CDK -> FlexibleConnectedPositionStrategy does not work with SVG elements","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/fork/cdk-overlay-issue\r\n\r\nSteps to reproduce:\r\n1. Hover the red circle.\r\n \r\n#### Expected Behavior\r\n\r\nThe overlay should have been opened to the right of the circle, as it was configured so.\r\n\r\n#### Actual Behavior\r\n\r\nThe overlay was opened in the top left corner of the page.\r\n\r\n#### Environment\r\n\r\n- Angular: 8.2.14 and 7.2.15\r\n- CDK/Material: 8.2.3 and 7.3.7\r\n- Browser(s): Chrome 80.0.3987.106 but older versions too\r\n- Operating System: macOS and Ubuntu\r\n","Url":"https://github.com/angular/components/issues/18618","RelatedDescription":"Open issue \"CDK -> FlexibleConnectedPositionStrategy does not work with SVG elements\" (#18618)"},{"Id":"570886428","IsPullRequest":true,"CreatedAt":"2020-02-25T22:41:32","Actor":"mmalerba","Number":"18615","RawContent":null,"Title":"fix(material-experimental/mdc-*): rename sass mixins to mat-mdc-*","State":"open","Body":"CARETAKER NOTE: These changes will need to happen in g3 too. This can be accomplished with the following 2 regex find/replaces:\r\n- `mat-(.*)-(theme|typography)-mdc` => `mat-mdc-$1-$2`\r\n- `angular-material-(theme|typography)-mdc` => `angular-material-mdc-$1`","Url":"https://github.com/angular/components/pull/18615","RelatedDescription":"Open PR \"fix(material-experimental/mdc-*): rename sass mixins to mat-mdc-*\" (#18615)"},{"Id":"570810105","IsPullRequest":true,"CreatedAt":"2020-02-25T20:23:57","Actor":"crisbeto","Number":"18614","RawContent":null,"Title":"fix(sidenav): not restoring focus to SVG elements","State":"open","Body":"SVG nodes can be focusable, but they won't match `instanceof HTMLElement` so we never restore focus to them.","Url":"https://github.com/angular/components/pull/18614","RelatedDescription":"Open PR \"fix(sidenav): not restoring focus to SVG elements\" (#18614)"},{"Id":"570932259","IsPullRequest":false,"CreatedAt":"2020-02-25T20:20:47","Actor":"kbondsj","Number":"18617","RawContent":null,"Title":"menu: no longer accessible with child components in @angular8+","State":"open","Body":"Reproduction\r\n\r\nUse StackBlitz to reproduce your issue:\r\nhttps://stackblitz.com/edit/angular-7-mat-menu (works)\r\nhttps://stackblitz.com/edit/angular-9-mat-menu (broken)\r\n\r\nSteps to reproduce:\r\n\r\n    Set up a button to be used with a mat-menu\r\n    In the mat-menu, use 2 buttons as well as use a custom component that has just a button\r\n    Using the keyboard, tab to your button and then open it, try to navigate using arrows\r\n    Only the 2 buttons explicitly listed in the template will navigate, the button from the component will not allow keyboard navigation. The manuData is missing for that element.\r\n\r\nExpected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\nThis was working before we upgraded to version 9. I have created 2 stackblitzes with the same example. @angular 7 works, @angular 8 and 9 do not.\r\nActual Behavior\r\n\r\nWhat behavior did you actually see?\r\nThe items that are listed as direct children are properly navigated to using arrow keys. The ones rendered from custom component are skipped.\r\nEnvironment\r\n\r\n    Angular: 9.0.2\r\n    CDK/Material: 8.2.3\r\n    Browser(s): Chrome\r\n    Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18617","RelatedDescription":"Open issue \"menu: no longer accessible with child components in @angular8+\" (#18617)"},{"Id":"570802526","IsPullRequest":true,"CreatedAt":"2020-02-25T20:08:10","Actor":"mbehrlich","Number":"18613","RawContent":null,"Title":"feat(google-maps): expose the underlying Google Maps objects.","State":"open","Body":"Expose the underlying Google Maps objects so they can be interacted with\r\nwhen it's necessary to do something unimplemented by\r\nangular/google-maps. As part of this change, update DefinitelyTyped so\r\nthat we do not need a custom map object. Also standardize how\r\nunderlying objects interact with the components and updates new\r\ncomponents to work correctly when loading from the server.","Url":"https://github.com/angular/components/pull/18613","RelatedDescription":"Open PR \"feat(google-maps): expose the underlying Google Maps objects.\" (#18613)"},{"Id":"570781910","IsPullRequest":true,"CreatedAt":"2020-02-25T19:28:39","Actor":"crisbeto","Number":"18612","RawContent":null,"Title":"fix(drag-drop): boundary not accounting for scrolling","State":"open","Body":"When the user starts dragging, we cache the `ClientRect` of the boundary so we know the area around which to limit the preview. The problem is that we weren't updating the cached position which cause it to behave incorrectly if the user scrolled after they start dragging.\r\n\r\nThese changes fix the issue by updating cached position. This ended up slightly more complicated than expected, because it has to interact with the auto scrolling.\r\n\r\nI've also moved around some utilities for dealing with `ClientRect` so that they can be reused.\r\n\r\nFixes #18597.","Url":"https://github.com/angular/components/pull/18612","RelatedDescription":"Open PR \"fix(drag-drop): boundary not accounting for scrolling\" (#18612)"},{"Id":"570929575","IsPullRequest":false,"CreatedAt":"2020-02-25T12:32:36","Actor":"Gaurav-enest","Number":"18616","RawContent":null,"Title":"overlay: conflicting with Angular Elements ","State":"open","Body":"<!-- \r\nFilling out this template is required! Do not delete it when submitting your issue! Without this information, your issue may be auto-closed. \r\n\r\nPlease submit AngularJS Material questions to the [AngularJS Material Forum](https://groups.google.com/forum/#!forum/ngmaterial) instead of submitting an issue.\r\n\r\n---------------------------------------------------------------------\r\nThis repo is for AngularJS Material, not Angular Material or the CDK.\r\n---------------------------------------------------------------------\r\n\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n## Bug, enhancement request, or proposal:\r\n\r\n<!-- Please note that we are not accepting major feature requests, i.e. requests for new components, at this time. -->\r\n\r\n#### Detailed Reproduction Steps: \r\n1. Create two apps \r\n**A: Angular elements** \r\n**B: Normal angular app**\r\n2. Convert app A to a angular element's app\r\nhttps://angular.io/guide/elements\r\n3. Use app **A** into **B** using element selector\r\n4. Add mat menu into app **B (consuming app)**\r\nhttps://material.angular.io/components/menu/overview\r\n\r\n5. See mat menu not showing any content \r\n\r\nNote : Mat menu working fine in app **B** if I'm not using custom elements \r\n\r\n### What is the current behavior?\r\nClicking on mat menu not showing anything \r\n\r\n### What is the expected behavior?\r\nClicking on mat menu should show the menu content. \r\n \r\n### Which versions of AngularJS, Material, OS, and browsers are affected?\r\n<!-- Please note that only issues related to AngularJS 1.x and AngularJS Material 1.x should be submitted here.\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n- AngularJS: 8.2.14\r\n- AngularJS Material: 8.2.14\r\n- OS: windows\r\n- Browsers: Chrome 79.0.3945.130 \r\n<!-- Please double check that you have provided the required reproduction steps and a Demo via CodePen, Plunker, or GitHub repo. -->\r\n","Url":"https://github.com/angular/components/issues/18616","RelatedDescription":"Open issue \"overlay: conflicting with Angular Elements \" (#18616)"},{"Id":"570458794","IsPullRequest":false,"CreatedAt":"2020-02-25T10:15:57","Actor":"SAkhil95","Number":"18611","RawContent":null,"Title":"Mat-tooltip not hiding on mouse-wheel scroll","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/edit/mat-tooltip-not-hiding-on-scroll\r\n\r\nSteps to reproduce:\r\n1. Open the link\r\n2. Hover on the Action button - Tooltip gets displayed.\r\n3. Scroll down using the mouse wheel.\r\n4. The tooltip also scrolls along the screen.\r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n\r\n> The tooltip should be hidden once the cursor leaves the button.\r\n\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n\r\n> The tooltip also scrolls along and behaving like a fixed position element\r\n\r\n#### Environment\r\n\r\n- Angular: forked from the latest (https://stackblitz.com/angular/epejaygxppo) **- using v9**\r\n- CDK/Material: forked from the latest (https://stackblitz.com/angular/epejaygxppo) **- using v9**\r\n- Browser(s): All\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Tried out only on Windows 10\r\n","Url":"https://github.com/angular/components/issues/18611","RelatedDescription":"Open issue \"Mat-tooltip not hiding on mouse-wheel scroll\" (#18611)"},{"Id":"570458424","IsPullRequest":false,"CreatedAt":"2020-02-25T10:15:20","Actor":"MrPollux","Number":"18610","RawContent":null,"Title":"[drag-drop] _animatePreviewToPlaceholder transform issue","State":"open","Body":"#### Steps to reproduce:\r\n1. Have 2 drop containers.\r\n2. Drag item from one container.\r\n3. Move over the items of the other container\r\n4. Move outside any container.\r\n5. Release button.\r\n\r\n#### Expected Behavior\r\nThe item should transform to initial container and initial position.\r\n\r\n#### Actual Behavior\r\nThe item transforms to the position of the last hovered item of the last entered container.\r\n\r\n#### Environment\r\n- Angular: 9.0.2\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Google Chrome Version 80.0.3987.116\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  Windows 10 Pro\r\n","Url":"https://github.com/angular/components/issues/18610","RelatedDescription":"Open issue \"[drag-drop] _animatePreviewToPlaceholder transform issue\" (#18610)"},{"Id":"570453727","IsPullRequest":true,"CreatedAt":"2020-02-25T10:07:54","Actor":"tobiasschweizer","Number":"18609","RawContent":null,"Title":"docs(form-field): use value getter when returning form data","State":"open","Body":"This PR fixes an inconsistency in the example for [creating a custom form field control](https://material.angular.io/guide/creating-a-custom-form-field-control).\r\n\r\nNow when writing to and updating the value from the custom form field control, the value's setter and getter are used. Instead of a mere object, the component interacting with the custom form field control now deals with an instance of `MyTel`. \r\n\r\nresolves #18537","Url":"https://github.com/angular/components/pull/18609","RelatedDescription":"Open PR \"docs(form-field): use value getter when returning form data\" (#18609)"},{"Id":"570446162","IsPullRequest":true,"CreatedAt":"2020-02-25T10:02:56","Actor":"homeforce","Number":"18608","RawContent":null,"Title":"allign is with double L","State":"closed","Body":":D <3","Url":"https://github.com/angular/components/pull/18608","RelatedDescription":"Closed or merged PR \"allign is with double L\" (#18608)"},{"Id":"570434763","IsPullRequest":false,"CreatedAt":"2020-02-25T09:38:18","Actor":"philmtd","Number":"18607","RawContent":null,"Title":"feat(MatIconRegistry): \"Wildcard-URL\" support for svg icon sets","State":"open","Body":"#### Feature Description\r\n\r\nThe current approach of adding svg icons either results in loading a large svg sprite regardless how many icons are actually used (approach 2) or requires to register every icon individually (approach 1). Approach 1 is not viable because it requires developers to maintain a list of all used icons. Alternatively all icons could be added manually. This is an improvement over the sprite as users only download the used icons. The downside is that still all icon \"metadata\" has to be included in the app, even if 95% of icons are not used.\r\n\r\nThe ultimate goal would be to only include the icons in the build that are actually used. But it would be sufficient if the webapp (as seen from the user) only downloads the necessary icons (and metadata), even if the build includes all icons. Having the option to configure a directory for a svg icon set (where each icon resides as a single svg file) would solve this issue. An icon defined as `<mat-icon svgIcon=\"foo\"></mat-icon>` would look up the icon `foo.svg` in the configured directory.\r\n\r\n**Current configuration of an SVG icon set:**\r\n\r\n```ts\r\n// Approach 1: either add all icons individually\r\nfor (...) {\r\n  matIconRegistry.addSvgIcon('foo', domSanitizer.bypassSecurityTrustResourceUrl('foo.svg'));\r\n}\r\n\r\n// Approach 2: or the icon set\r\nmatIconRegistry.addSvgIconSet(domSanitizer.bypassSecurityTrustResourceUrl('foo-set.svg'));\r\n```\r\n\r\n**Desired configuration:**\r\n```ts\r\n// Approach 3\r\nmatIconRegistry.addSvgIconSetWithPath('/assets/icons/');\r\n```\r\n\r\n#### Use Case\r\n\r\nThe primary goal is to reduce the size of the app the user loads. Popular svg sprites are large and most of those items are not used in apps.\r\n\r\nAdding icons individually (approach 1) works, but requires to maintain a list of all *used* icons or having a list of all possible icons (e.g. a string array of icon names) which again adds unnecessary data that has to be downloaded.\r\n\r\nThere should be a third approach that solves the issue and only actually loads the icons and metadata that are used by an app.","Url":"https://github.com/angular/components/issues/18607","RelatedDescription":"Open issue \"feat(MatIconRegistry): \"Wildcard-URL\" support for svg icon sets\" (#18607)"},{"Id":"570373234","IsPullRequest":false,"CreatedAt":"2020-02-25T07:44:16","Actor":"akunaatrium","Number":"18606","RawContent":null,"Title":"Undocumented attributes - mat-subheader, mat-line, mat-list-icon","State":"open","Body":"I am looking at the example source code of List component on this page: https://material.angular.io/components/list/examples and am a bit confused as to where some of the used attributes come from.\r\n\r\nThe example looks like this:\r\n```\r\n<mat-list>\r\n  <h3 mat-subheader>Folders</h3>\r\n  <mat-list-item *ngFor=\"let folder of folders\">\r\n    <mat-icon mat-list-icon>folder</mat-icon>\r\n    <h4 mat-line>{{folder.name}}</h4>\r\n    <p mat-line> {{folder.updated | date}} </p>\r\n  </mat-list-item>\r\n  <mat-divider></mat-divider>\r\n  <h3 mat-subheader>Notes</h3>\r\n  <mat-list-item *ngFor=\"let note of notes\">\r\n    <mat-icon mat-list-icon>note</mat-icon>\r\n    <h4 mat-line>{{note.name}}</h4>\r\n    <p mat-line> {{note.updated | date}} </p>\r\n  </mat-list-item>\r\n</mat-list>\r\n```\r\n\r\nI can't find documentation about the `mat-subheader` attribute used in the example, as well as `mat-line` and `mat-list-icon`. Is there any? I just started to use Angular, so I could as well be overlooking something.","Url":"https://github.com/angular/components/issues/18606","RelatedDescription":"Open issue \"Undocumented attributes - mat-subheader, mat-line, mat-list-icon\" (#18606)"},{"Id":"570334823","IsPullRequest":false,"CreatedAt":"2020-02-25T06:06:09","Actor":"indraraj26","Number":"18605","RawContent":null,"Title":"[bug] z-index on autocomplete","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue\r\n\r\nSteps to reproduce:\r\n1. \r\n2. \r\n \r\n![image](https://user-images.githubusercontent.com/23274631/75219511-f9890580-57c2-11ea-9f9a-0e7101ffd483.png)\r\n\r\n \r\n#### Expected Behavior\r\nprovider better way to override z-index depend upon application\r\n\r\n#### Actual Behavior\r\nit is overlapping other elements on dom\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: \r\n- CDK/Material: \r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18605","RelatedDescription":"Open issue \"[bug] z-index on autocomplete\" (#18605)"},{"Id":"570334757","IsPullRequest":true,"CreatedAt":"2020-02-25T06:05:57","Actor":"mmalerba","Number":"18604","RawContent":null,"Title":"demo(mdc-list): Add a demo page for the MDC-based list","State":"open","Body":"Currently blocked on http://cl/296322757 which fixes a unit mismatch issue between our typography system and MDC's Sass","Url":"https://github.com/angular/components/pull/18604","RelatedDescription":"Open PR \"demo(mdc-list): Add a demo page for the MDC-based list\" (#18604)"},{"Id":"570139319","IsPullRequest":true,"CreatedAt":"2020-02-24T20:50:56","Actor":"Achilles1515","Number":"18603","RawContent":null,"Title":"[cdk/drag-drop cdkDragStartDelay demo] Disable `user-select` on the draggable box.","State":"open","Body":"On iOS 13, press-and-holding for one second on the dragging box causes text to start being selected which can break/severely interrupt the dragging routine. Therefore, `user-select` should be set to `none` to disable the text selecting.\r\n\r\nDemo of errant behavior: https://i.imgur.com/xq6fwM4.mp4\r\n(this demo was posted in the following issue and also displays another bug with the drag-drop library on iOS 13 that still needs to be addressed: https://github.com/angular/components/issues/17923#issuecomment-588258600)\r\nhttps://caniuse.com/#feat=user-select-none","Url":"https://github.com/angular/components/pull/18603","RelatedDescription":"Open PR \"[cdk/drag-drop cdkDragStartDelay demo] Disable `user-select` on the draggable box.\" (#18603)"},{"Id":"570104541","IsPullRequest":false,"CreatedAt":"2020-02-24T19:55:47","Actor":"twjacobsen","Number":"18602","RawContent":null,"Title":"cdkTrapFocus does not work in lazy mat-menu content","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/mat-menu-lazy-cdk-trap-focus?file=src/app/app.component.html\r\n\r\nSteps to reproduce:\r\n1. Open the menu, tab through the inputs. It'll stop at the last input. Tabbing backwards will start focusing out of the trap (the trigger button, other elements in StackBlitz)\r\n2. Comment out the `ng-template`s to disable lazy loading, see that the focus trap now works\r\n \r\n \r\n#### Expected Behavior\r\n\r\nI'd expect it to trap the focus.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nFocus is not trapped.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9\r\n- CDK/Material: 9\r\n- Browser(s): Firefox 73, Chrome 80\r\n- Operating System (e.g. Windows, macOS, Ubuntu): MacOS Catalina\r\n","Url":"https://github.com/angular/components/issues/18602","RelatedDescription":"Open issue \"cdkTrapFocus does not work in lazy mat-menu content\" (#18602)"},{"Id":"570029272","IsPullRequest":true,"CreatedAt":"2020-02-24T19:06:10","Actor":"andrewseguin","Number":"18601","RawContent":null,"Title":"chore: bump version to 9.1.0 w/ changelog","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18601","RelatedDescription":"Closed or merged PR \"chore: bump version to 9.1.0 w/ changelog\" (#18601)"},{"Id":"570012742","IsPullRequest":true,"CreatedAt":"2020-02-24T17:43:16","Actor":"andrewseguin","Number":"18600","RawContent":null,"Title":"chore: fix Angular package version number","State":"closed","Body":"Thanks to Paul for having the check in the script to make sure this was caught ","Url":"https://github.com/angular/components/pull/18600","RelatedDescription":"Closed or merged PR \"chore: fix Angular package version number\" (#18600)"},{"Id":"569994433","IsPullRequest":false,"CreatedAt":"2020-02-24T17:06:45","Actor":"Innomalist","Number":"18599","RawContent":null,"Title":"DrawingManager for Maps","State":"open","Body":"#### Documentation Feedback\r\n\r\nCouldn't find any information in regard to how to use `DrawingMananger` with Maps component.\r\nI have tried following snippet but it neither works or throws any error:\r\n```\r\nthis.drawingManager = new google.maps.drawing.DrawingManager({\r\n      drawingMode: google.maps.drawing.OverlayType.POLYGON,\r\n      drawingControl: true,\r\n      drawingControlOptions: {\r\n        position: google.maps.ControlPosition.TOP_CENTER,\r\n        drawingModes: [google.maps.drawing.OverlayType.POLYGON]\r\n      }\r\n});\r\nthis.drawingManager.setMap(this.map._googleMap);\r\n```\r\nI have already added `libraries=drawing` in maps import of index.html too.","Url":"https://github.com/angular/components/issues/18599","RelatedDescription":"Open issue \"DrawingManager for Maps\" (#18599)"},{"Id":"569913030","IsPullRequest":false,"CreatedAt":"2020-02-24T15:00:35","Actor":"Achilles1515","Number":"18597","RawContent":null,"Title":"[drag-drop] cdkDragBoundary positions not updating during viewport scrolling","State":"open","Body":"#### Reproduction\r\n\r\n[https://stackblitz.com/edit/angular-v8fc5s](https://stackblitz.com/edit/angular-v8fc5s)\r\n \r\n \r\n#### Expected Behavior\r\n\r\ncdkDragBoundary should always be honored. The cached boundary positions appear to not be updating during viewport scrolling, producing phantom edges and/or enabling dragging outside of the boundary. See below gif.\r\n\r\n#### Actual Behavior\r\n\r\n![GIF](https://user-images.githubusercontent.com/23387905/75162649-e1928280-56eb-11ea-8729-fe22d7570b56.gif)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9\r\n- CDK/Material: 9.0.1\r\n- Browser(s): all\r\n","Url":"https://github.com/angular/components/issues/18597","RelatedDescription":"Open issue \"[drag-drop] cdkDragBoundary positions not updating during viewport scrolling\" (#18597)"},{"Id":"569899708","IsPullRequest":false,"CreatedAt":"2020-02-24T14:40:04","Actor":"Achilles1515","Number":"18596","RawContent":null,"Title":"[drag-drop] Auto-scrolling works poorly with a cdkDragBoundary","State":"open","Body":"#### Reproduction\r\n\r\n[https://stackblitz.com/edit/angular-kkgyuu](https://stackblitz.com/edit/angular-kkgyuu)\r\n \r\n \r\n#### Expected Behavior\r\n\r\nTo trigger auto-scroll when using a cdkDragBoundary, the user MUST pickup the drag element near its edges. This limitation feels really odd in use and makes the auto-scroll feature feel broken. Even if the user picks up the drag element near one of it's edges, they can only auto-scroll in one direction and not go back from where it came (ignoring really skinny drag elements...). See below gif.\r\n\r\nConsideration should be put in place to trigger auto-scroll when the drag-preview's edges are near the boundary or when the user's pointer is physically on top of the boundary.\r\n\r\n\r\n#### Actual Behavior\r\n\r\n\r\n![GIF](https://user-images.githubusercontent.com/23387905/75161136-44364f00-56e9-11ea-9f83-d3c980c5e5e3.gif)\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9\r\n- CDK/Material: 9\r\n- Browser(s): all\r\n- Operating System (e.g. Windows, macOS, Ubuntu): \r\n","Url":"https://github.com/angular/components/issues/18596","RelatedDescription":"Open issue \"[drag-drop] Auto-scrolling works poorly with a cdkDragBoundary\" (#18596)"},{"Id":"569884300","IsPullRequest":true,"CreatedAt":"2020-02-24T14:15:38","Actor":"jpzwarte","Number":"18595","RawContent":null,"Title":"fix(cdk/overlay): support SVG element as overlay origin","State":"open","Body":"Currently when you provide an `SVGElement` when calling `flexibleConnectedTo(...)`, it will not use the bounding client rect in the `_getOriginRect()` method, causing the overlay to appear at the top left of the viewport.\r\n\r\nThis 1-liner fixes that by checking whether origin is an instance of `Element` instead of `HTMLElement`. No other changes are required.\r\n\r\nI looked at `flexible-connected-position-strategy.spec.ts`, but i didn't see an obvious place to add a test (i did not see any tests checking if specifiying an `HTMLElement` or `ElementRef` are supported either).","Url":"https://github.com/angular/components/pull/18595","RelatedDescription":"Open PR \"fix(cdk/overlay): support SVG element as overlay origin\" (#18595)"},{"Id":"569809097","IsPullRequest":false,"CreatedAt":"2020-02-24T11:55:13","Actor":"hassang11","Number":"18594","RawContent":null,"Title":"Can we provide a list of videoIDs to the Angular youtube player ","State":"open","Body":"#### Feature Description\r\n\r\nI want to be able to provide a custom play list which should be an array of video IDs .\r\n\r\n\r\n#### Use Case\r\nWhen the first video is finished it will move on to the next one in a form of a loop.\r\n\r\nDescribe the use case(s) that the proposed feature would enable.\r\nWe would be able to advertise a set of video  and loop on it .","Url":"https://github.com/angular/components/issues/18594","RelatedDescription":"Open issue \"Can we provide a list of videoIDs to the Angular youtube player \" (#18594)"},{"Id":"569686385","IsPullRequest":false,"CreatedAt":"2020-02-24T10:00:33","Actor":"akashb5432","Number":"18592","RawContent":null,"Title":"Renderer is not the exported member","State":"closed","Body":"After updating angular from 8 to 9 i am getting the below errors. \r\n\r\n\r\nERROR in node_modules/ng2-material-dropdown/src/modules/components/menu-item/ng2-menu-item.d.ts:1:10 - error TS2724: Module '\"../../../../../@angular/core/core\"' has no exported member 'Renderer'. Did you mean 'Renderer2'?\r\n\r\n1 import { Renderer, ElementRef, OnDestroy } from '@angular/core';\r\n           ~~~~~~~~\r\n\r\n  node_modules/@angular/core/core.d.ts:5692:31\r\n    5692 export declare abstract class Renderer2 {\r\n                                       ~~~~~~~~~\r\n    'Renderer2' is declared here.\r\nnode_modules/ng2-material-dropdown/src/modules/components/menu/ng2-dropdown-menu.d.ts:1:22 - error TS2724: Module '\"../../../../../@angular/core/core\"' has no exported member 'Renderer'. Did you mean 'Renderer2'?\r\n\r\n1 import { ElementRef, Renderer, QueryList } from '@angular/core';\r\n                       ~~~~~~~~\r\n\r\n  node_modules/@angular/core/core.d.ts:5692:31\r\n    5692 export declare abstract class Renderer2 {\r\n                                       ~~~~~~~~~\r\n    'Renderer2' is declared here.\r\n\r\n- Angular: 9.0.3\r\n- CDK/Material: 9.0.1\r\n- Browser(s): Chrom\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  Ubuntu\r\n","Url":"https://github.com/angular/components/issues/18592","RelatedDescription":"Closed issue \"Renderer is not the exported member\" (#18592)"},{"Id":"569724225","IsPullRequest":false,"CreatedAt":"2020-02-24T09:15:25","Actor":"ChrisWun","Number":"18593","RawContent":null,"Title":"Programmatic triggering of sort for mat-table with cdkDropList and matSort does not work correctly","State":"open","Body":"#### Reproduction\r\nStackblitz: https://stackblitz.com/edit/angular-material-dllyke?file=app/app.component.html\r\nSteps to reproduce:\r\n1. Sort the Table by column \"Name\"\r\n2. Drag and Drop one row\r\n \r\n#### Expected Behavior\r\nThe Sort triggered by the method onListDrop does sort the table correctly and the sort indicator of the table-header is not shown at the weight (drag handle) column. \r\n\r\n#### Actual Behavior\r\nSorting does not work with calling MatSort#sort. With two calls, however, it does. The sorting indicator is removed from the \"Name\" column, but it is not added to the \"Weight\" column.\r\n\r\nThe sort order does not seem to work either. The default sort order is \"asc\". However, if you set \"asc\" when calling MatSort#sort , the sort order changes.\r\n\r\n#### Environment\r\n\r\n- Angular: \r\n- CDK/Material: 8.2.1\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): \r\n","Url":"https://github.com/angular/components/issues/18593","RelatedDescription":"Open issue \"Programmatic triggering of sort for mat-table with cdkDropList and matSort does not work correctly\" (#18593)"},{"Id":"569666486","IsPullRequest":false,"CreatedAt":"2020-02-24T07:48:57","Actor":"ProfFL028","Number":"18591","RawContent":null,"Title":"AutoCompelete popup div doesnot on top div","State":"closed","Body":"i'm integrating material with primeng, when i use primeng's popupdialog for edit some entity.\r\nautocomplete's popup div will show at first time, but hidden below the dialog after the dialog reopen.","Url":"https://github.com/angular/components/issues/18591","RelatedDescription":"Closed issue \"AutoCompelete popup div doesnot on top div\" (#18591)"},{"Id":"569534745","IsPullRequest":true,"CreatedAt":"2020-02-23T18:12:18","Actor":"crisbeto","Number":"18590","RawContent":null,"Title":"fix(material-experimental/mdc-radio): use consistent ripple timings","State":"open","Body":"- Switches the MDC-based radio button to use the ripple timings from MDC, rather than a hardcoded one.\r\n- Reworks the rest of the MDC-based components so that they don't re-create the ripple config object for each instance. It's not a huge improvement, there's no need for it to consume extra memory.","Url":"https://github.com/angular/components/pull/18590","RelatedDescription":"Open PR \"fix(material-experimental/mdc-radio): use consistent ripple timings\" (#18590)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-02-26T05:30:06.0346371Z","RunDurationInMilliseconds":3711}