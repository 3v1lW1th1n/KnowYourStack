{"Data":{"Vue-Issues":{"Issues":[{"Id":"355627594","IsPullRequest":false,"CreatedAt":"2018-08-30T15:04:13","Actor":"mcekiera","Number":"8733","RawContent":null,"Title":"Vue treat every element attribute named like 'v-[something]' as directive","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/wf48v9de/3/](http://jsfiddle.net/wf48v9de/3/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun the fiddle and look at console.\r\n\r\n### What is expected?\r\nIf there is not registered directive named 'v-fake', Vue should ignore this attribute of an element.\r\n\r\n### What is actually happening?\r\nVue treat every 'v-[something]' attribute as directive, regardless if it is registered globally or locally, or not at all. It is trying to compute the value of 'v-' beginning attribute, and in effect throws TypeError, as it doesn't find property named like string passed to attribute. \r\n\r\n---\r\nif it is intentional, there should be information about such behavior in Vue docs. However in my opinion it should ignore such attributes.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8733","RelatedDescription":"Open issue \"Vue treat every element attribute named like 'v-[something]' as directive\" (#8733)"},{"Id":"355581304","IsPullRequest":false,"CreatedAt":"2018-08-30T13:25:17","Actor":"strunkie30","Number":"8732","RawContent":null,"Title":"Input does not work with dynamic type (radio / checkbox)","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/eywraw8t/319255/](https://jsfiddle.net/eywraw8t/319255/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. generate an input field with a dynamic type\r\n2. open project in IE10\r\n3. open console\r\n\r\n### What is expected?\r\nWorking radio / checkboxes\r\n\r\n### What is actually happening?\r\nJS error in IE10\r\nSCRIPT1046: Multiple definitions of a property not allowed in strict mode \r\n\r\ndomProps:{value:e.value,value:t.model}\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8732","RelatedDescription":"Closed issue \"Input does not work with dynamic type (radio / checkbox)\" (#8732)"},{"Id":"355505736","IsPullRequest":false,"CreatedAt":"2018-08-30T09:40:53","Actor":"Justineo","Number":"8731","RawContent":null,"Title":"Drop special logic for “enumeratedAttrs”","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[http://jsfiddle.net/Justineo/upwrqm0z/](http://jsfiddle.net/Justineo/upwrqm0z/)\r\n\r\n### Steps to reproduce\r\nBind `'plaintext-only'` or an unsupported value to `contenteditable` attribute.\r\n\r\n### What is expected?\r\nRendering `contenteditable=\"plaintext-only\"` for the element.\r\n\r\n### What is actually happening?\r\n`contenteditable=\"true\"` is rendered.\r\n\r\n---\r\nFor reference:\r\n\r\n| `:contenteditable` | `contentEditable` in Vue | `contentEditable` in HTML ||\r\n| -- | -- | -- | -- |\r\n| `\"\"` | `'true'` | `'true'` ||\r\n| `\"false\"` | `'false'` | `'false'` ||\r\n| `\"true\"` | `'true'` | `'true'` ||\r\n| `\"plaintext-only\"` | `'true'` | `'plaintext-only'` | ❗️ |\r\n| `\"foo\"` | `'true'` | `'inherit'` | ❗️ |\r\n| `null` | `'false'` |||\r\n| `undefined` | `'inherit'` |||\r\n| `false` | `'false'` |||\r\n| `true` | `'true'` |||\r\n\r\nVue currently treat `enumeratedAttrs` as enumerated attributes with only `'true'`/`'false'` values (boolean-like enumerated attributes) and this made them behave like boolean attribtues. While actually these attributes may have more than two states and are extensible for other values. For example, in HTML, `contenteditable`'s corresponding IDL attribute `contentEditable` resolves to `'inherit'` instead of `'false'` when `contenteditable` is not  present, which cannot be expressed with Vue ATM. And the latest W3C draft has also defined more possible values for it (`'plaintext-only'` is already accepted in Chrome) so we have to remove this logic, otherwise developers can't leverage these new features.\r\n\r\nAnd if we drop the `enumeratedAttrs` thing and treat them like other ordinary attributes, there will be some influence on the following cases:\r\n\r\n| `v-bind` | before | after |\r\n| -- | -- | -- |\r\n| `null` | `'false'` | / |\r\n| `false` | `'false'` | / |\r\n\r\nI'm not sure if we should regard this as breaking because we never documented this usage that binding `null`/`false` to `contenteditable`/`draggable`/`spellckeck` will be resolved as `'false'`.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8731","RelatedDescription":"Open issue \"Drop special logic for “enumeratedAttrs”\" (#8731)"},{"Id":"353978986","IsPullRequest":true,"CreatedAt":"2018-08-30T03:50:09","Actor":"yangdan8","Number":"8706","RawContent":null,"Title":"添加对umd方式使用typescript namespace的支持","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8706","RelatedDescription":"Closed or merged PR \"添加对umd方式使用typescript namespace的支持\" (#8706)"},{"Id":"355263055","IsPullRequest":false,"CreatedAt":"2018-08-29T20:15:38","Actor":"megacromulent","Number":"8730","RawContent":null,"Title":"Dev build console error when using index in :key value with v-for and transitions","State":"closed","Body":"### What problem does this feature solve?\r\nCurrently there is no obvious way to debug an error when including the index value in v-bind:key with v-for when using transitions. This causes erratic and unexpected behavior from transitions (and I would suspect other side effects, but these are untested).\r\n\r\nThis feature would alert the developer that they have used index value in a place where it will cause errors with transitions.\r\n\r\n**Example error:**\r\n\r\nThis example should illustrate how difficult it is to determine why the v-for combined with transition-group fails.\r\n\r\nIn the example below there are 3 uses of v-for with :key. (1) one works fine, it doesn't include index in the :key value. (2) uses index as the key (ie, v-bind:key=\"index\"). (3) uses a concatenated version (v-bind:key=\"item  '_' index\"\r\n\r\nhttps://codepen.io/megacromulent/pen/gdMYLx?editors=1010\r\n\r\nNote: this behavior was thought to be a bug because of lack of documentation on this behavior ( #8718 ) and having a console log entry would have solved the confusion instantly during development, instead of hours of debugging and reporting.\r\n\r\n### What does the proposed API look like?\r\nCheck to see if the index value is used anywhere in :key, and then check if a transition is being used, if so, then display console error, or at least a warning.\r\n\r\nThe proposal is for the dev builds only, so no additions/expansions to the API are needed for the production builds.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8730","RelatedDescription":"Closed issue \"Dev build console error when using index in :key value with v-for and transitions\" (#8730)"},{"Id":"355093927","IsPullRequest":true,"CreatedAt":"2018-08-29T10:20:15","Actor":"Shyam-Chen","Number":"8729","RawContent":null,"Title":"fix(readme): correct badge link","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [x] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [ ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8729","RelatedDescription":"Open PR \"fix(readme): correct badge link\" (#8729)"},{"Id":"355056901","IsPullRequest":false,"CreatedAt":"2018-08-29T08:42:22","Actor":"Yuyz0112","Number":"8728","RawContent":null,"Title":"An anti-pattern in computed property may cause performance issue","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/140202wlq](https://codesandbox.io/s/140202wlq)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nOpen the code sandbox link and click the button to use the computed property 'filteredEntities', and you will find it cost a lot of time.\r\n\r\nAfter check the call tree, I found this is because the code calls the getter of 'entities'  many times which will then call the `dependArray` function.\r\n\r\nThe code leading to this is:\r\n```js\r\nconst len = this.entities.length;\r\nfor (let i = 0; i < len; i++) {\r\n  const e = this.entities[i];\r\n  // do something with e\r\n}\r\n```\r\nIf this.entities has a length of n, its getter will be called n + 1 times. And every time when the getter was called, it will call dependArray on the value of this.entities, which is the array with length n.\r\nSince dependArray will iterate the value, the depend function will be called **(n + 1)^2** times totally.\r\n\r\nI found this code when I'm reviewing someone's PR, and the original code use `for (let i = 0; i < this.entities.length; i++) ` and make another n times call to the getter.\r\n\r\nIt was easy to avoid this problem, such as using some array methods like `filter` to only call getter once.\r\nEven cache the value of entities by `const cache = this.entities` can solve it.\r\n\r\nAlthough it was easy to avoid of this pattern, I still think it is dangerous because the original code was not an obvious anti-pattern.\r\nAnd this will not show any performance issue when the array is small, but may cause serious performance issue when the array is large in some production environment.\r\n\r\n### What is expected?\r\nI've read the related source code and I think this is the expected result of the observer system.\r\n\r\nThen I read some chapter of the guide again to ensure there is no mention about this, so I'm not sure whether we need to add this as a NOT TODO in the computed property chapter.\r\n\r\n### What is actually happening?\r\nDescribed.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8728","RelatedDescription":"Open issue \"An anti-pattern in computed property may cause performance issue\" (#8728)"},{"Id":"355048756","IsPullRequest":false,"CreatedAt":"2018-08-29T08:38:55","Actor":"cm-app","Number":"8727","RawContent":null,"Title":"Possible memory leak: list of dependencies grows in computed getter","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/wo84dxjc/2/](https://jsfiddle.net/wo84dxjc/2/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the fiddle, click on the results window multiple times.\r\n\r\nNotice that I modified vue.js as follows: \r\n\r\n```javascript\r\nfunction createComputedGetter (key) {\r\n  return function computedGetter () {\r\n    var watcher = this._computedWatchers && this._computedWatchers[key];\r\n    if (watcher) {\r\n      if (watcher.dirty) {\r\n        //modification:\r\n        if(window.ipc > 2) {console.log(key, watcher.deps.length, watcher); }; \r\n\t\twatcher.evaluate();\r\n      }\r\n      if (Dep.target) {\r\n        watcher.depend();\r\n      }\r\n      return watcher.value\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### What is expected?\r\nFrontend: Console logs \"update\" twice: init and one data update.\r\nBackend: dependency-array keeps size\r\n\r\n### What is actually happening?\r\nFrontend: Console logs \"update\" on every click.\r\nBackend: dependency-array grows\r\n\r\n---\r\nIn the fiddle, you will only notice the frontend effects. Not sure how I can provide my modified vue.js.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8727","RelatedDescription":"Closed issue \"Possible memory leak: list of dependencies grows in computed getter\" (#8727)"},{"Id":"354965113","IsPullRequest":false,"CreatedAt":"2018-08-29T07:14:24","Actor":"axetroy","Number":"8725","RawContent":null,"Title":"Independent props validator","State":"closed","Body":"### What problem does this feature solve?\r\n1. Reduce packet size\r\n\r\n> not every component need it.\r\n\r\n2. Reused validator\r\n\r\n> If I want to validate the params. I don't need to introduce another validator\r\n\r\n### What does the proposed API look like?\r\n```javascript\r\nconst Vue = require('vue');\r\n\r\n// defined customer validator\r\nVue.validator = function (schema, input){\r\n  // \r\n}\r\n\r\n// run validator\r\nVue.validate({\r\n  name: {\r\n    type: String,\r\n  },\r\n  age: {\r\n    type: Number,\r\n  },\r\n});\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8725","RelatedDescription":"Closed issue \"Independent props validator\" (#8725)"},{"Id":"354991584","IsPullRequest":false,"CreatedAt":"2018-08-29T04:25:46","Actor":"znck","Number":"8726","RawContent":null,"Title":"Improve prop validator API","State":"open","Body":"### What problem does this feature solve?\r\n- Allows to write validation logic depending on multiple props.\r\n- Allows to provide custom validation messages.\r\n\r\n### What does the proposed API look like?\r\n``` ts\r\ntype Validator = (value: any, key: string, props: Object, warn: (message: string) => void) => boolean\r\n```\r\n\r\nExample:\r\n\r\n``` js\r\nexport default {\r\n  props: {\r\n    foo: {\r\n      validator(value, key, props, warn) {\r\n        if ('bar' in props && 'foo' in props) warn('Foo and Bar cannot be used together.')\r\n        return true\r\n      }\r\n....\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8726","RelatedDescription":"Open issue \"Improve prop validator API\" (#8726)"},{"Id":"354862184","IsPullRequest":true,"CreatedAt":"2018-08-28T19:02:57","Actor":"ypresto","Number":"8724","RawContent":null,"Title":"fix(sfc): do not deindent space-padded output","State":"open","Body":"**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n`parseComponent('...', { pad: 'space' }).script.content` will contain code with base indent if SFC content has base indent. Also applies to styles or etc.\r\n\r\nAs #5058 and #5059, `pad: 'space'` is for character-oriented tools that calculate positions by distance from the beginning of the file instead of by line. This should be applied to source code itself, so I think it was buggy and breaking change is unavoidable. \r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\n**Other information:**\r\n\r\nI'm personally creating tool to convert `export default { ... }` to `vue-property-decorators` style, so I'm using `vue-template-compiler` with `@vue/component-compiler-utils` and code with original indent is needed.","Url":"https://github.com/vuejs/vue/pull/8724","RelatedDescription":"Open PR \"fix(sfc): do not deindent space-padded output\" (#8724)"},{"Id":"354721730","IsPullRequest":false,"CreatedAt":"2018-08-28T13:05:39","Actor":"richrd","Number":"8723","RawContent":null,"Title":"v-model behaves inconsistently in comparison to docs","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://vuejs.org/v2/guide/forms.html#Text](https://vuejs.org/v2/guide/forms.html#Text)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nFirst off, the docs claim [here](https://vuejs.org/v2/guide/components.html#Using-v-model-on-Components) that using `v-model` is identical to using `v-bind:value=\"searchText\"` and `v-on:input=\"searchText = $event.target.value\"`.\r\n\r\nIt does have the same behavior on desktop, but with chrome on android the behavior is different. When using `v-model` on android/chrome the model only gets updated when pressing space, enter, backspace or unfocusing the field (and maybe in some other cases). The model does not update when in the middle of typing a word. However when using `v-bind` and `v-on:input` the model gets updated as it is supposed to.\r\n\r\nIt seems like `v-model` isn't binding the `input` event on android. The correct behavior can be achieved by adding `v-on:input` regardless of whether `v-model` or `v-bind:value` is used. This applies to `input` and `textarea` elements.\r\n\r\n### What is expected?\r\nThe behavior is expected to be the same on all platforms: The model should update live with every keypress.\r\n\r\n### What is actually happening?\r\nOn chrome on android the model isn't updated on every keypress. This can be reproduced with the example inputs that are shown in the docs.\r\n\r\n---\r\nThis is a problem when for example creating a list that should be filtered live with user input. I'm wondering whether this is a bug or a documentation issue. I feel like it's a bug since the same code has different behavior on different platforms.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8723","RelatedDescription":"Closed issue \"v-model behaves inconsistently in comparison to docs\" (#8723)"},{"Id":"354703765","IsPullRequest":false,"CreatedAt":"2018-08-28T12:23:39","Actor":"liuchengying","Number":"8722","RawContent":null,"Title":"Event cannot be completely removed from eventBus","State":"closed","Body":"### Version\r\n2.5.2\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/lcy_snail/eywraw8t/311598/](https://jsfiddle.net/lcy_snail/eywraw8t/311598/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nWhen there is more than one listener for each event in \"_evnets\", the off method can delete the event listener. When each event in \"_events\" listens, only one listener can't remove the event.\r\n\r\n``` javascript\r\n// one event listener\r\n\r\nvar Bus = require('vue');\r\nBus.$on('eat', func);\r\nconsole.log(Bus._events); // {\"eat\": [ func ]}\r\nBus.$off(\"eat\"); \r\nconsole.log(Bus._events); //{\"eat\": [ func ]}\r\n\r\n// two event listener or  more\r\n\r\nvar Bus = require('vue');\r\nBus.$on('eat', func);\r\nBus.$on('sleep', func1)\r\nconsole.log(Bus._events); // log --- {\"eat\": [ func ], \"sleep\": [ func1 ]}\r\nBus.$off(\"eat\"); \r\nconsole.log(Bus._events); // log --- {\"eat\": null, sleep: [ func1 ]}\r\n```\r\n\r\n### What is expected?\r\nListener cannot be removed\r\n\r\n### What is actually happening?\r\nWhen using the \"off\" method, the corresponding listener can be removed， And remove the key of the _events object\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8722","RelatedDescription":"Closed issue \"Event cannot be completely removed from eventBus\" (#8722)"},{"Id":"354664338","IsPullRequest":false,"CreatedAt":"2018-08-28T10:18:12","Actor":"Weiyu-Chen","Number":"8721","RawContent":null,"Title":"Property 'xxx' does not exist on type CombinedVueInstance ?","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link \r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. use vue-cli init a ts hello-world project .\r\n2. code like that\r\n```js\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\nexport default Vue.extend({\r\n  name: \"HelloWorld\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data():any {\r\n    return {\r\n      wtf: this.initData(), // throw ts error : Property 'initData' does not exist on type 'CombinedVueInstance<Vue, {}, {}, {}, Readonly<{ msg: string; }>>'.\r\n    }\r\n  },\r\n \r\n  methods: {\r\n    initData():any {\r\n        return {\r\n          a: ''\r\n        }\r\n    },\r\n  },\r\n \r\n});\r\n</script>\r\n```\r\n\r\n\r\n### What is expected?\r\nHow can i fix it ?\r\n\r\n### What is actually happening?\r\n**Property 'initData' does not exist on type 'CombinedVueInstance<Vue, {}, {}, {}, Readonly<{ msg: string; }>>'.**\r\n\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8721","RelatedDescription":"Open issue \"Property 'xxx' does not exist on type CombinedVueInstance ?\" (#8721)"},{"Id":"354643213","IsPullRequest":false,"CreatedAt":"2018-08-28T09:34:11","Actor":"Polaris-z","Number":"8720","RawContent":null,"Title":"使用eventBus的时候，在组件销毁时清除事件监听，再次进入页面$on 监听事件不起作用了","State":"closed","Body":"### Version\r\n2.5.16\r\n\r\n### Reproduction link\r\n[http://localhost:8080/device/gnss](http://localhost:8080/device/gnss)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n 我在组件内监听事件 ，销毁时清除。第一次进入组件监听成功\r\n 第二次进入页面的时候 事件监听不会生效 \r\n 在控制台输出 eventBus  _events字段 后面显示的是空对象\r\n``` s\r\nbeforeDestroy () {\r\n    window.$eventBus.$off()// 组件销毁时 移除自定义事件监听器\r\n  },\r\n  created () {\r\n    this.getList()\r\n    window.$eventBus.$on('handleSearch', target => {\r\n      this.searchParams = target\r\n      this.getList()\r\n    })\r\n    window.$eventBus.$on('handleCreate', target => {\r\n      this.create(target)\r\n    })\r\n    window.$eventBus.$on('handleUpdate', target => {\r\n      this.update(target)\r\n    })\r\n    window.$eventBus.$on('handleDelete', target => {\r\n      this.onDelete(target)\r\n    })\r\n  }\r\n```\r\n\r\n### What is expected?\r\n希望解决问题\r\n\r\n### What is actually happening?\r\n...\r\n\r\n---\r\n...\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8720","RelatedDescription":"Closed issue \"使用eventBus的时候，在组件销毁时清除事件监听，再次进入页面$on 监听事件不起作用了\" (#8720)"},{"Id":"354493134","IsPullRequest":false,"CreatedAt":"2018-08-28T07:34:10","Actor":"megacromulent","Number":"8718","RawContent":null,"Title":"Transition-group animates only last element if using index as the key","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codepen.io/megacromulent/pen/gdMYLx?editors=1010](https://codepen.io/megacromulent/pen/gdMYLx?editors=1010)\r\n\r\n### Steps to reproduce\r\n1. Create vue app with items displaying in a list.\r\n2. Add transition group with **v-for** with format like **v-for=\"(item, index) in items\"**\r\n3. Use \"index\" from v-for as the **v-bind:key** (like: v-bind:key=\"**index**\" )\r\n4. Add and remove items from the data.\r\n\r\n### What is expected?\r\nThe item being removed/added should have the transition applied to it.\r\n\r\n### What is actually happening?\r\nThe last item in the list gets the transition applied.\r\n\r\n---\r\nThis may be an old bug, as I was hunting for a solution to my problem, I ran into this from May 2017:\r\n\r\nhttps://stackoverflow.com/questions/43598308/vue-js-wrong-transition-group-animation-position\r\n\r\nIf this is the intended behavior using index as the key, then can their be at least a warning message in the dev version of Vue.js to explain this? Or perhaps searchable text in the documentation with something like \"only last item in list is animating/transition applied\" so a solution can be found without thinking there is a bug in Vue.js.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8718","RelatedDescription":"Closed issue \"Transition-group animates only last element if using index as the key\" (#8718)"},{"Id":"354529736","IsPullRequest":false,"CreatedAt":"2018-08-28T00:53:10","Actor":"backbone87","Number":"8719","RawContent":null,"Title":"Vue.component doesnt except argument of type `Component`","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/8z04jxj3y8](https://codesandbox.io/s/8z04jxj3y8)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n- Click repro link\r\n- Open test.ts\r\n- See type errors\r\n- Uncomment vue type augmentation to see errors disappear\r\n\r\n\r\n### What is expected?\r\nI can pass any component to `Vue.component`\r\n\r\n### What is actually happening?\r\nType error:\r\n```\r\nArgument of type 'Component<DefaultData<never>, DefaultMethods<never>, DefaultComputed, Record<string, any>>' is not assignable to parameter of type 'ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, PropsDefinition<Rec...'.\r\n  Type 'VueConstructor<Vue>' is not assignable to type 'ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, PropsDefinition<Rec...'.\r\n    Value of type 'VueConstructor<Vue>' has no properties in common with type 'ComponentOptions<Vue, DefaultData<Vue>, DefaultMethods<Vue>, DefaultComputed, PropsDefinition<Rec...'. Did you mean to call it?\r\n```\r\n\r\n---\r\nAdding the following overload to `Vue.component` will fix it:\r\n```ts\r\n    component<Data, Methods, Computed, Props>(\r\n      id: string,\r\n      definition: Component<Data, Methods, Computed, Props>,\r\n    ): ExtendedVue<V, Data, Methods, Computed, Props>;\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8719","RelatedDescription":"Open issue \"Vue.component doesnt except argument of type `Component`\" (#8719)"},{"Id":"354385231","IsPullRequest":true,"CreatedAt":"2018-08-27T16:53:06","Actor":"eltonchan","Number":"8717","RawContent":null,"Title":"fix when value is object, oldValue always equal value.","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ ] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:** fix when value is object, watcher value is reference，so cb function  oldValue always equal value.\r\n","Url":"https://github.com/vuejs/vue/pull/8717","RelatedDescription":"Closed or merged PR \"fix when value is object, oldValue always equal value.\" (#8717)"},{"Id":"354382081","IsPullRequest":true,"CreatedAt":"2018-08-27T16:16:31","Actor":"eltonchan","Number":"8716","RawContent":null,"Title":"fix when value is object, oldValue always equal value.","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x ] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x ] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [ ] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [ x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8716","RelatedDescription":"Closed or merged PR \"fix when value is object, oldValue always equal value.\" (#8716)"},{"Id":"354259545","IsPullRequest":false,"CreatedAt":"2018-08-27T10:34:39","Actor":"ssipos90","Number":"8715","RawContent":null,"Title":"Pass component instance to async import","State":"closed","Body":"### What problem does this feature solve?\r\nIn the context of a multi-tenant site, we import some templates based on the site (we have some site codes) for example:\r\n```js\r\nimport config from 'Scripts/config.js';\r\nconst HomeSearch = site_code => () => import(`Components/sites/${site_code}/top-nav/home-search.vue` /* webpackChunkName: 'home-search' */);\r\n\r\nexport default {\r\n  // other stuff\r\n  components: {\r\n    HomeSearch(config.site_code)\r\n  }\r\n}\r\n```\r\nand in a more complex scenario, reactivity would be awesome.\r\n\r\n### What does the proposed API look like?\r\nSince that config ends up in vuex at application boot, it would be nice instead of doing that, to do this:\r\n\r\n```js\r\nimport { mapState } from 'vuex';\r\nconst HomeSearch = vm => import(`Components/sites/${vm.site_code}/top-nav/home-search.vue` /* webpackChunkName: 'home-search' */);\r\n\r\nexport default {\r\n  // other stuff\r\n  computed: {\r\n    ...mapState({ site_code: state => state.config.site_code  }) // or use mapGetters\r\n  },\r\n  components: {\r\n    HomeSearch\r\n  }\r\n}\r\n```\r\nAFAIK, when saying `() => import(...)` and passing it to the `components: {}`, it already receives a couple of arguments so I guess it would be easier if the `vm` arg would be the third one for backwards compatibility and the end feature request would look like:\r\n\r\n```js\r\nconst HomeSearch = (a, b, vm) => import(`Components/sites/${vm.site_code}/top-nav/home-search.vue` /* webpackChunkName: 'home-search' */);\r\n```\r\nor we could define the function classically and bind the component context to it and use `this` like so:\r\n\r\n```js\r\nconst HomeSearch = function() { return  import(`Components/sites/${this.site_code}/top-nav/home-search.vue` /* webpackChunkName: 'home' */) };\r\n// or\r\nfunction HomeBanner() { return  import(`Components/sites/${this.site_code}/content/home-banner.vue` /* webpackChunkName: 'home */) };\r\n```\r\n\r\nI know in my scenario, I could import the vuex store and do it like that, but in general, other vm props or data could be used in that import function.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8715","RelatedDescription":"Closed issue \"Pass component instance to async import\" (#8715)"},{"Id":"354145919","IsPullRequest":true,"CreatedAt":"2018-08-27T00:56:22","Actor":"Justineo","Number":"8714","RawContent":null,"Title":"fix (#8713): replace hardcoded .parentNode with abstract ops","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [ ] New/updated tests are included\r\n\r\nUnsure about how to add platform-specific cases. Help needed.\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8714","RelatedDescription":"Open PR \"fix (#8713): replace hardcoded .parentNode with abstract ops\" (#8714)"},{"Id":"354099785","IsPullRequest":false,"CreatedAt":"2018-08-26T14:36:41","Actor":"akira-cn","Number":"8713","RawContent":null,"Title":"The insert method get ref.parentNode at patch.js, it should be nodeOps.parentNode(ref)","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://code.h5jun.com/mewa/edit?html,output](https://code.h5jun.com/mewa/edit?html,output)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n**Note**: Reproduction link 里面的bug我是已经临时修了，用[这个文件](https://github.com/spritejs/sprite-vue/blob/master/src/web/runtime/patch-fix.js)覆盖了patch.js\r\n\r\n我在修改runtime以支持spritejs，发现vdom的patch.js里面使用了ref.parentNode\r\n\r\n因为v-if指令用CommentNode作为占位符，但是spritejs是基于canvas的，没有实体DOM，所以我没办法把CommentNode添加到DOM上，我做了一个适配，将它作为spritejs的children添加到容器里。这么做我需要改变该占位元素的parent，因为这是一个HTML元素，parentNode是只读的，我没法直接修改，所以我在这个元素上添加一个新的parent属性：\r\n\r\n```js\r\nexport function createComment (text: string): Comment {\r\n  const comment = document.createComment(text)\r\n  comment.connect = (parent, zOrder) => {\r\n    comment.parent = parent\r\n    comment.zOrder = zOrder\r\n  }\r\n  comment.disconnect = (parent) => {\r\n    delete comment.parent\r\n    delete comment.zOrder\r\n  }\r\n  comment.dispatchEvent = () => false\r\n  comment.forceUpdate = () => false\r\n  comment.isVisible = () => false\r\n  return comment\r\n}\r\n```\r\n\r\n然后重写：\r\n\r\n```js\r\nexport function parentNode (node: Node): ?Node {\r\n  return node.parentNode || node.parent\r\n}\r\n```\r\n\r\n结果发现使用 v-if 切换的时候不行（现象是toggle元素的时候能隐藏不能显现）。后来我发现在patch.js里这段代码：\r\n\r\n```js\r\n  function insert (parent, elm, ref) {\r\n    if (isDef(parent)) {\r\n      if (isDef(ref)) {\r\n        if (ref.parentNode === parent) {\r\n          nodeOps.insertBefore(parent, elm, ref)\r\n        }\r\n      } else {\r\n        nodeOps.appendChild(parent, elm)\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n应该改为：\r\n\r\n```js\r\n  function insert (parent, elm, ref) {\r\n    if (isDef(parent)) {\r\n      if (isDef(ref)) {\r\n        if (nodeOps.parentNode(ref) === parent) {\r\n          nodeOps.insertBefore(parent, elm, ref)\r\n        }\r\n      } else {\r\n        nodeOps.appendChild(parent, elm)\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n这样才能拿到正确的parentNode。\r\n\r\n因为只有一行代码修改，我就不提PR了。我现在先采用[patch-fix](https://github.com/spritejs/sprite-vue/blob/master/src/web/runtime/patch-fix.js)的方式修复。\r\n\r\n如果下一个版本能顺便修一下，我会很感激 ：）。\r\n\r\n\r\n### What is expected?\r\n应该得到：nodeOps.parentNode(ref)\r\n\r\n### What is actually happening?\r\n实际得到：ref.parentNode\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8713","RelatedDescription":"Open issue \"The insert method get ref.parentNode at patch.js, it should be nodeOps.parentNode(ref)\" (#8713)"},{"Id":"354094427","IsPullRequest":false,"CreatedAt":"2018-08-26T13:43:50","Actor":"visualjerk","Number":"8712","RawContent":null,"Title":"<component is=\"input\"> loosing reactivity","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codepen.io/CharlyTheDog/pen/wEMZyq](https://codepen.io/CharlyTheDog/pen/wEMZyq)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Change the value in default input\r\n1. Change the value in component input\r\n1. Change the value in default input again\r\n\r\n### What is expected?\r\nBoth inputs keep being reactive in each step\r\n\r\n### What is actually happening?\r\nThe component input stops being reactive after step 2\r\n\r\n---\r\nI ran into this issue while trying to compose a generic form input component that can either be an \"input\" or \"textarea\". Wondering if this is just a general misuse of dynamic components? I found it to be pretty convenient, because both input and textarea share lots of styles, props and functionality. For now I will refactor this to use v-if instead.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8712","RelatedDescription":"Closed issue \"<component is=\"input\"> loosing reactivity\" (#8712)"},{"Id":"354073131","IsPullRequest":true,"CreatedAt":"2018-08-26T07:23:16","Actor":"eddyerburgh","Number":"8711","RawContent":null,"Title":"fix: add modified options to extended options (fix #8710)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8711","RelatedDescription":"Open PR \"fix: add modified options to extended options (fix #8710)\" (#8711)"},{"Id":"354071982","IsPullRequest":false,"CreatedAt":"2018-08-26T07:03:24","Actor":"eddyerburgh","Number":"8710","RawContent":null,"Title":"Modified options not added to extended component when mixin is applied to super component","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/hf817t54/](https://jsfiddle.net/hf817t54/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nRun the code with the console open. undefined is logged. Comment out the mixin, true is logged because the late option is persisted.\r\n\r\n### What is expected?\r\nLate option should be kept\r\n\r\n### What is actually happening?\r\nIt's overwritten\r\n\r\n---\r\nThe late option is [added to `extendOptions`](https://github.com/vuejs/vue/blob/dev/src/core/instance/init.js#L106), but `extendOptions` is a class function, so it should be added to extendOptions.options.\r\n\r\nMerge options then uses `extendOptions.options`, so the late option is not included in the merge.\r\n\r\nEDIT:\r\n\r\nHere's a fix https://github.com/vuejs/vue/pull/8711\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8710","RelatedDescription":"Open issue \"Modified options not added to extended component when mixin is applied to super component\" (#8710)"},{"Id":"354053380","IsPullRequest":true,"CreatedAt":"2018-08-26T00:19:54","Actor":"nel215","Number":"8709","RawContent":null,"Title":"fix(types): accept `number` type as key on Vue.set/delete (#8707)","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n<!-- PULL REQUEST TEMPLATE -->\r\n<!-- (Update \"[ ]\" to \"[x]\" to check a box) -->\r\n\r\n**What kind of change does this PR introduce?** (check at least one)\r\n\r\n- [x] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n**Does this PR introduce a breaking change?** (check one)\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\nIf yes, please describe the impact and migration path for existing applications:\r\n\r\n**The PR fulfills these requirements:**\r\n\r\n- [x] It's submitted to the `dev` branch for v2.x (or to a previous version branch), _not_ the `master` branch\r\n- [x] When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where \"xxx\" is the issue number)\r\n- [x] All tests are passing: https://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#development-setup\r\n- [x] New/updated tests are included\r\n\r\nIf adding a **new feature**, the PR's description includes:\r\n- [ ] A convincing reason for adding this feature (to avoid wasting your time, it's best to open a suggestion issue first and wait for approval before working on it)\r\n\r\n**Other information:**\r\n","Url":"https://github.com/vuejs/vue/pull/8709","RelatedDescription":"Open PR \"fix(types): accept `number` type as key on Vue.set/delete (#8707)\" (#8709)"},{"Id":"353987255","IsPullRequest":false,"CreatedAt":"2018-08-25T09:32:27","Actor":"Devince","Number":"8708","RawContent":null,"Title":"[KeepAlive]  The cache is removed, but the componentInstance hasn't destroy?","State":"closed","Body":"### Version\r\n2.5.10\r\n\r\n### Reproduction link\r\n[https://github.com/Devince/testKeepAlive](https://github.com/Devince/testKeepAlive)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nkeepalive的问题，主要是这个：\r\n if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\r\n    cached$$1.componentInstance.$destroy();\r\n  }\r\n\r\n\r\nfunction pruneCacheEntry (\r\n  cache,\r\n  key,\r\n  keys,\r\n  current\r\n) {\r\n  var cached$$1 = cache[key];\r\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\r\n    cached$$1.componentInstance.$destroy();\r\n  }\r\n  cache[key] = null;\r\n  remove(keys, key);\r\n}\r\n\r\n### What is expected?\r\n缓存都清了，组件应该同时销毁吧\r\n\r\n### What is actually happening?\r\n缓存都清了，组件没有销毁，导致实例多个相同组件\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8708","RelatedDescription":"Closed issue \"[KeepAlive]  The cache is removed, but the componentInstance hasn't destroy?\" (#8708)"},{"Id":"353985076","IsPullRequest":false,"CreatedAt":"2018-08-25T05:22:17","Actor":"nel215","Number":"8707","RawContent":null,"Title":"Type checks by typescript fail on Vue.set/delete","State":"open","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://github.com/nel215/vue-sandbox](https://github.com/nel215/vue-sandbox)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n```\r\n$ git clone https://github.com/nel215/vue-sandbox.git\r\n$ cd vue-sandbox\r\n$ yarn\r\n$ ./node_modules/.bin/tsc index.ts\r\nindex.ts:5:9 - error TS2345: Argument of type '{}' is not assignable to parameter of type '\"a\"[]'.\r\n  Property 'length' is missing in type '{}'.\r\n\r\n5 Vue.set(data.obj, 1, 'a')\r\n          ~~~~~~~~\r\n\r\nindex.ts:6:12 - error TS2345: Argument of type '{}' is not assignable to parameter of type '{}[]'.\r\n  Property 'length' is missing in type '{}'.\r\n\r\n6 Vue.delete(data.obj, 1)\r\n```\r\n\r\n### What is expected?\r\nType checks by typescript succeed on this case.\r\n\r\n### What is actually happening?\r\nType checks by typescript fail on this case.\r\n\r\n---\r\nCan we use number as key of object on Vue.set/delete? If it's yes, I will create a PR which fixes types/vue.d.ts.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8707","RelatedDescription":"Open issue \"Type checks by typescript fail on Vue.set/delete\" (#8707)"},{"Id":"353971929","IsPullRequest":false,"CreatedAt":"2018-08-25T01:40:40","Actor":"Devince","Number":"8705","RawContent":null,"Title":"为什么要缓存清了，组件不销毁呢？","State":"closed","Body":"vue 版本：2.5.10\r\n\r\n主要是这个：\r\n if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\r\n    cached$$1.componentInstance.$destroy();\r\n  }\r\n\r\n\r\nfunction pruneCacheEntry (\r\n  cache,\r\n  key,\r\n  keys,\r\n  current\r\n) {\r\n  var cached$$1 = cache[key];\r\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\r\n    cached$$1.componentInstance.$destroy();\r\n  }\r\n  cache[key] = null;\r\n  remove(keys, key);\r\n}\r\n\r\n缓存都清了，组件没有销毁，导致实例多个相同组件！","Url":"https://github.com/vuejs/vue/issues/8705","RelatedDescription":"Closed issue \"为什么要缓存清了，组件不销毁呢？\" (#8705)"},{"Id":"353846239","IsPullRequest":false,"CreatedAt":"2018-08-24T16:53:01","Actor":"ericcirone","Number":"8704","RawContent":null,"Title":"Prop with type Boolean but no default will be set to false","State":"closed","Body":"### Version\r\n2.5.17\r\n\r\n### Reproduction link\r\n[https://codepen.io/ericcirone/pen/OoyKwz](https://codepen.io/ericcirone/pen/OoyKwz)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Make a prop and set it to be `Boolean` with no `default`\r\n\r\n### What is expected?\r\nThe prop would be `undefined` if it was not set.\r\n\r\n### What is actually happening?\r\nThe prop is `false`\r\n\r\n---\r\nSetting a prop to any other type and not setting a default value will result in `undefined`. A prop of type `Boolean` should act the same way.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue/issues/8704","RelatedDescription":"Closed issue \"Prop with type Boolean but no default will be set to false\" (#8704)"}],"ResultType":"GitHubIssue"},"Router-Issues":{"Issues":[{"Id":"355062947","IsPullRequest":false,"CreatedAt":"2018-08-29T09:10:32","Actor":"rover5056","Number":"2368","RawContent":null,"Title":"beforeRouteEnter does not working","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/ROVER_K/project/editor/ZrMzOx](https://codepen.io/ROVER_K/project/editor/ZrMzOx)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. install @vue/cli v3.0.1\r\n\r\n2.vue create pro  with  vue-router, ts,scss,babel\r\n\r\n\r\n3.just add  these simple code in default About.vue file\r\n\r\n```\r\n<script lang=\"ts\">\r\nimport { Component, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class About extends Vue {\r\n  // here I try to fire this function automatic when come in this component \r\n  beforeRouteEnter (to, from, next) {\r\n    console.log('tssssss223')\r\n    next();\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\n### What is expected?\r\nI create a new project with vue-router by vue-cli v3 . And I 'm try beforeRouteEnter function and I found it does not fired. I just add simple codes on default project... So I am sure it's not other reason.. So is that any wrong with my code or my way to use it?\r\n\r\n### What is actually happening?\r\nThe beforeRouteEnter  does not fired,either beforeRouteEnter.\r\n\r\n \r\n\r\n---\r\nAm I use this function wrong?\r\nI just follow the  guide and I have no idea about\r\nMy first aim is pass the params between the components.But I found this problem,so I create a new default project with VUE-CLI 3, and reproduce this problem again .\r\n\r\nThanks for your reading,wating for your reply~~\r\nBest regards\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2368","RelatedDescription":"Closed issue \"beforeRouteEnter does not working\" (#2368)"},{"Id":"354896341","IsPullRequest":false,"CreatedAt":"2018-08-28T22:20:27","Actor":"benjamindavid","Number":"2367","RawContent":null,"Title":"Base URL containing query parameters breaks routing","State":"closed","Body":"### Version\r\n2.5.3\r\n\r\n### Reproduction link\r\n[https://codepen.io/benjamindavid/pen/YOWgPr](https://codepen.io/benjamindavid/pen/YOWgPr)\r\n\r\n### Steps to reproduce\r\nGo to this URL (containing a test query parameter) https://s.codepen.io/benjamindavid/debug/YOWgPr/mVMbGpDQDqpr?p=test\r\n\r\n### What is expected?\r\nThe page should show \"foo\" as the Foo component is defined for the `/` path and the base URL contains the full path, including query parameters: `/benjamindavid/debug/YOWgPr/mVMbGpDQDqpr?p=test`\r\n\r\n### What is actually happening?\r\nThe `/` route is not matched, the query parameters contained in the base URL don't seem to be properly taken into account.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2367","RelatedDescription":"Closed issue \"Base URL containing query parameters breaks routing\" (#2367)"},{"Id":"354729720","IsPullRequest":false,"CreatedAt":"2018-08-28T13:28:11","Actor":"lordenas","Number":"2366","RawContent":null,"Title":"After build routing does not work in chrome, but works in firefox","State":"closed","Body":"### What problem does this feature solve?\r\nAfter \"npm run build\" try to run index.html\r\nEverything works in Firefox. But in google chrome when you click the link turns file:///C:/index ..\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\n```\r\nimport Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\n\r\nVue.use(VueRouter);\r\n\r\nimport Login from './pages/login';\r\nimport Index from './pages/index';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tredirect: {name: 'Login'}\r\n\t},\r\n\t{\r\n\t\tname: 'Login',\r\n\t\tpath: '/login',\r\n\t\tcomponent: Login,\r\n\t\tprops: { name: 'Авторизация' }\r\n\t},\r\n\t{\r\n\t\tname: 'Index',\r\n\t\tpath: '/Index',\r\n\t\tcomponent: Index,\r\n\t\tprops: { name: 'Страницы' }\r\n\t}\r\n];\r\n\r\nexport const router = new VueRouter({\r\n\troutes,\r\n\tmode: 'history'\r\n});\r\n\r\n```\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2366","RelatedDescription":"Closed issue \"After build routing does not work in chrome, but works in firefox\" (#2366)"},{"Id":"354193227","IsPullRequest":true,"CreatedAt":"2018-08-27T06:17:33","Actor":"xlfsummer","Number":"2365","RawContent":null,"Title":"Update type define of RouteConfig.props","State":"open","Body":"In route config, we can pass an object to 'props' property, which key is the name of router view, and type of value is one of boolean, object or function (RoutePropsFunction).\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2365","RelatedDescription":"Open PR \"Update type define of RouteConfig.props\" (#2365)"},{"Id":"354153619","IsPullRequest":false,"CreatedAt":"2018-08-27T01:57:44","Actor":"chaoyang-Rex","Number":"2364","RawContent":null,"Title":"vue hash","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2364","RelatedDescription":"Closed issue \"vue hash\" (#2364)"},{"Id":"353962120","IsPullRequest":false,"CreatedAt":"2018-08-25T09:27:16","Actor":"kalreg69","Number":"2363","RawContent":null,"Title":"beforeEach causes <failed to convert exception to string> on any next() parameter except false or empty string","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/93jwr2okyy](https://codesandbox.io/s/93jwr2okyy)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nMore precise description of problem can be found on Stackoverflow under that link:\r\nhttps://stackoverflow.com/questions/52011879/vuerouters-beforeeach-causes-error-failed-to-convert-exception-to-string?noredirect=1#comment90975639_52011879\r\n\r\nThe link to sandbox refers in console \"maximum callstack size exceeded\" - my console says \"failed to convert exception to stirng\", however puting next() or next(false) clears the problem. It generates problems only if next has a any string parameter \r\n\r\n### What is expected?\r\nI expect rerouting to specified component on calling next('/registeredComponent').\r\n\r\n### What is actually happening?\r\nI get an error \r\n[vue-router] uncaught error during route navigation:\r\n<failed to convert string to exception>\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2363","RelatedDescription":"Closed issue \"beforeEach causes <failed to convert exception to string> on any next() parameter except false or empty string\" (#2363)"},{"Id":"353297599","IsPullRequest":false,"CreatedAt":"2018-08-24T10:43:48","Actor":"masquevil","Number":"2362","RawContent":null,"Title":"Two feature to make history.state more useful","State":"closed","Body":"### What problem does this feature solve?\r\n1) Run replaceState when app init\r\n`history.state.key` is a very useful value. But `history.state` is null when app init.\r\nAlthough manually run `router.replace` when app created is ok, guards like `router.beforeEach` will run twice, which is not expected.\r\n\r\n2) Change `history.state.key` when replaceState\r\nGenerally, PageA replace to PageB, keep history.state the same key is fine.\r\nBut in this case: PageA -> PageB -> replace to PageC -> back to PageA -> replaceTo PageD ----- It's expected that PageD use the same key with PageA, but actually same with PageB & PageC.\r\nA solution is to change `history.state.key` when replaceState. So that all page-jump will generate a new key.\r\n\r\n### What does the proposed API look like?\r\nno need\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2362","RelatedDescription":"Closed issue \"Two feature to make history.state more useful\" (#2362)"},{"Id":"353287728","IsPullRequest":false,"CreatedAt":"2018-08-23T08:59:41","Actor":"z649319834","Number":"2361","RawContent":null,"Title":"When the operation routing component is lazily loaded, the parameters in the url cannot be obtained through this.$route.query in created and mounted？","State":"closed","Body":"`\r\n// 路由\r\nexport default new Router({\r\nroutes: [\r\n{\r\npath: '/collect',\r\nname: 'CollectLibrary',\r\ncomponent: () => import('../pages/CollectLibrary.vue')\r\n}\r\n]\r\n\r\n`\r\nThe parameters in the url are not obtained through this.$route.query in the component's life cycle 'created' and 'mounted' functions. The parameters can be obtained by 200 milliseconds delay, and also by location. Href resolution.\r\n\r\nIf the component is not doing lazy loading, the parameters on the url can be retrieved immediately in the 'created' and 'mounted' functions\r\n\r\nJust don't know what causes it? I hope you can give me some advice","Url":"https://github.com/vuejs/vue-router/issues/2361","RelatedDescription":"Closed issue \"When the operation routing component is lazily loaded, the parameters in the url cannot be obtained through this.$route.query in created and mounted？\" (#2361)"},{"Id":"353276544","IsPullRequest":false,"CreatedAt":"2018-08-23T08:28:46","Actor":"z649319834","Number":"2360","RawContent":null,"Title":"created和mounted获取不到$route.query数据","State":"closed","Body":"我在项目中对路由组件进行懒加载操作，结果在created和mounted中无法获取路由中的query参数，求大神指点一下！\r\n`\r\n// 路由\r\nexport default new Router({\r\n  routes: [\r\n   {\r\n      path: '/collect',\r\n      name: 'CollectLibrary',\r\n      component: () => import('../pages/CollectLibrary.vue')\r\n    }\r\n]\r\n\r\n`\r\n\r\n然后在组件的生命周期created和mounted函数中通过this.$route.query都获取不到url中的参数,延时200毫秒可以获取到，通过location.href解析也可以获取到；\r\n\r\n如果组件不进行懒加载处理，可以在created和mounted函数中马上获取到url上的参数\r\n\r\n就是不知道什么原因造成？希望可以得到大家的指点","Url":"https://github.com/vuejs/vue-router/issues/2360","RelatedDescription":"Closed issue \"created和mounted获取不到$route.query数据\" (#2360)"},{"Id":"353246710","IsPullRequest":false,"CreatedAt":"2018-08-23T08:02:23","Actor":"masquevil","Number":"2359","RawContent":null,"Title":"Run replaceState when app init","State":"closed","Body":"### What problem does this feature solve?\r\n`history.state.key` is a very useful value.\r\nBut `history.state` is null when app init.\r\nAlthough manually run `router.replace` when app created is ok, guards like `router.beforeEach` will run twice, which is not expected.\r\n\r\n### What does the proposed API look like?\r\nNone\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2359","RelatedDescription":"Closed issue \"Run replaceState when app init\" (#2359)"},{"Id":"353243676","IsPullRequest":false,"CreatedAt":"2018-08-23T06:37:01","Actor":"jafri","Number":"2358","RawContent":null,"Title":"Scrollbehavior does not fire on initial load","State":"closed","Body":"```\r\nconst router = new Router({\r\n  linkActiveClass: 'is-active',\r\n  mode: 'history',\r\n  scrollBehavior (to) {\r\n    console.log(to)\r\n    if (to.hash) {\r\n      return { selector: to.hash }\r\n    } else {\r\n      return { x: 0, y: 0 }\r\n    }\r\n  },\r\n  routes\r\n})\r\n```\r\n\r\nScrollbehavior does not fire on initial load of page, it fires when moving to another page though","Url":"https://github.com/vuejs/vue-router/issues/2358","RelatedDescription":"Closed issue \"Scrollbehavior does not fire on initial load\" (#2358)"},{"Id":"352561967","IsPullRequest":true,"CreatedAt":"2018-08-21T14:19:37","Actor":"crswll","Number":"2357","RawContent":null,"Title":"Add clarification for child props","State":"open","Body":"Just wanted to clarify that when props are used on child routes that the parent props are also passed.\r\n","Url":"https://github.com/vuejs/vue-router/pull/2357","RelatedDescription":"Open PR \"Add clarification for child props\" (#2357)"},{"Id":"352322652","IsPullRequest":false,"CreatedAt":"2018-08-21T07:12:42","Actor":"samit4me","Number":"2356","RawContent":null,"Title":"PascalCase support for Link component","State":"closed","Body":"### What problem does this feature solve?\r\nWould like to be able to use `<RouterLink>` instead of `<router-link>`.\r\n\r\nReason for this is that in the Vue Style Guide PascalCase is recommended and in the latest version of `eslint-plugin-vue@5.0.0-beta.2` this rule is now auto-fixable (e.g. it will convert `<router-link>` into `<RouterLink>`) but this breaks and the link does not work. https://vuejs.org/v2/style-guide/#Component-name-casing-in-templates-strongly-recommended\r\n\r\nWe have gotten around the issue by re-defining the router components like so:\r\n```\r\nconst RouterView = Vue.component('router-view');\r\nconst RouterLink = Vue.component('router-link');\r\nVue.component('RouterView', RouterView);\r\nVue.component('RouterLink', RouterLink);\r\n```\r\n\r\n### What does the proposed API look like?\r\nUpdate component definition in `vue-router` to have both PascalCase and kebab-case:\r\n```\r\nVue.component('router-view', View);\r\nVue.component('RouterView', View);\r\nVue.component('router-link', Link);\r\nVue.component('RouterLink', Link);\r\n```\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2356","RelatedDescription":"Closed issue \"PascalCase support for Link component\" (#2356)"},{"Id":"351440039","IsPullRequest":false,"CreatedAt":"2018-08-17T02:58:46","Actor":"willjosefi","Number":"2355","RawContent":null,"Title":"watch '$route.query' is triggering when click in some link fragment/anchor like <a href=\"#\">test</a>","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/willjosefi/4shd27gm/9/](https://jsfiddle.net/willjosefi/4shd27gm/9/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nJust click in the links and check console or the \"logs\"\r\n\r\n### What is expected?\r\nNot trigger\r\n\r\n### What is actually happening?\r\nTriggering when click in some link anchor/fragment that links to the current page\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2355","RelatedDescription":"Open issue \"watch '$route.query' is triggering when click in some link fragment/anchor like <a href=\"#\">test</a>\" (#2355)"},{"Id":"351352594","IsPullRequest":false,"CreatedAt":"2018-08-16T20:37:18","Actor":"719media","Number":"2354","RawContent":null,"Title":"vue-router force full page redirect","State":"closed","Body":"### What problem does this feature solve?\r\nSometimes, I have pages for which I have to place third party scripts which do not have any safe teardown method. I don't want behavior from these scripts to pollute other areas of the application, but I'd still like to use vue-router to control the loading of the page, as well as redirecting TO the page. I would like to have routing leaving this page perform a full page redirect (window.location).\r\n\r\n\r\n\r\n### What does the proposed API look like?\r\nAn attribute to force router-link to perform a window.location redirect instead. I'm not sure of the best term for the attribute, but for example:\r\n`<router-link :to=\"{name: 'test'}\" refresh />` #will use window.location = '/test';\r\n\r\nI suppose this could just exist in user-land via a component wrapper over the top of router-link, but this seems like it would be a minor change so I present it for author review.\r\n\r\nThank you\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2354","RelatedDescription":"Closed issue \"vue-router force full page redirect\" (#2354)"},{"Id":"350744214","IsPullRequest":false,"CreatedAt":"2018-08-15T09:33:12","Actor":"masquevil","Number":"2353","RawContent":null,"Title":"Provide `router-alive` component for better performance","State":"closed","Body":"### What problem does this feature solve?\r\nJust like keep-alive.\r\nThe only difference is that use `history.state.key` as `vnode.key`.\r\nIt will use cache when history popstate, and create new component when click `router-link`.\r\n\r\n### What does the proposed API look like?\r\n```\r\n<router-alive>\r\n  <router-view></router-view>\r\n</router-alive>\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2353","RelatedDescription":"Closed issue \"Provide `router-alive` component for better performance\" (#2353)"},{"Id":"350324355","IsPullRequest":true,"CreatedAt":"2018-08-14T08:13:34","Actor":"Alex-Sokolov","Number":"2352","RawContent":null,"Title":"docs: [RU] Translation update","State":"open","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2352","RelatedDescription":"Open PR \"docs: [RU] Translation update\" (#2352)"},{"Id":"350323094","IsPullRequest":true,"CreatedAt":"2018-08-14T08:11:51","Actor":"Jinjiang","Number":"2351","RawContent":null,"Title":"docs(zh): update","State":"closed","Body":"Ref: https://github.com/vuejs/vue-router/compare/936d99a...bafbff7\r\n/ping @justineo\r\nThanks.","Url":"https://github.com/vuejs/vue-router/pull/2351","RelatedDescription":"Closed or merged PR \"docs(zh): update\" (#2351)"},{"Id":"350061608","IsPullRequest":true,"CreatedAt":"2018-08-13T14:46:28","Actor":"MoritzKn","Number":"2350","RawContent":null,"Title":"Add note for props in named views","State":"open","Body":"I searched for this is the docs for quite some time, had to have a coworker tell me and finally find the solution via [stack overflow](https://stackoverflow.com/a/42398362/5587737).","Url":"https://github.com/vuejs/vue-router/pull/2350","RelatedDescription":"Open PR \"Add note for props in named views\" (#2350)"},{"Id":"349807012","IsPullRequest":false,"CreatedAt":"2018-08-12T12:00:09","Actor":"chatoo2412","Number":"2349","RawContent":null,"Title":"There's a potential collision between state keys","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vue-router/blob/90cd2690d59c6bd56e5bc12b5b752166a1d35e98/src/util/push-state.js#L22-L30](https://github.com/vuejs/vue-router/blob/90cd2690d59c6bd56e5bc12b5b752166a1d35e98/src/util/push-state.js#L22-L30)\r\n\r\n### Steps to reproduce\r\n``` js\r\nconsole.log(window.history.state.key) // 2078.800\r\n\r\n// refresh window and try again\r\nconsole.log(window.history.state.key) // 1678.300\r\n\r\n// refresh window and try again\r\nconsole.log(window.history.state.key) // 2263.300\r\n\r\n// ...repeat\r\n\r\n// refresh window and try again\r\nconsole.log(window.history.state.key) // 1678.300 - collision\r\n```\r\n\r\n### What is expected?\r\nunique value\r\n\r\n### What is actually happening?\r\ncollision\r\n\r\n---\r\nBecause of Spectre issue, each browser reduced the resolution of `performance.now()`. For example, [FireFox's precision is only 2ms](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now#Reduced_time_precision).\r\n\r\n[It doesn't a problem in a single Vue instance lifecycle](https://github.com/vuejs/vue-router/pull/998#issuecomment-265549456).\r\n\r\nBut there may be multiple Vue instances in the whole session history, and keys between them could collide.\r\n\r\nPlease replace `performance.now()` with `Date.now()` or [uuid](https://github.com/kelektiv/node-uuid).\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2349","RelatedDescription":"Open issue \"There's a potential collision between state keys\" (#2349)"},{"Id":"349151602","IsPullRequest":true,"CreatedAt":"2018-08-09T14:25:50","Actor":"posva","Number":"2348","RawContent":null,"Title":"Adding live examples with code preview","State":"open","Body":"This is still a work in progress, but it allows people to play around and give feedback about the example preview component.\r\nAt the moment I write this, there are only two demos, the one in Getting Started and the one in Dynamic Routing.\r\nI also added the first demo to the Chinese docs to showcase how to do it. Hopefully, the two existing examples should provide show off the different ways of providing demos.\r\n\r\nFeel free to ask questions about it and also to provide feedback if you have it. It could be anything like design, behavior or features\r\n\r\nNote to myself: do not squash\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2348","RelatedDescription":"Open PR \"Adding live examples with code preview\" (#2348)"},{"Id":"349043993","IsPullRequest":true,"CreatedAt":"2018-08-09T09:17:51","Actor":"baixiaocao","Number":"2347","RawContent":null,"Title":"Delete app.js","State":"closed","Body":"<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/vuejs/vue/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/pull/2347","RelatedDescription":"Closed or merged PR \"Delete app.js\" (#2347)"},{"Id":"348958914","IsPullRequest":false,"CreatedAt":"2018-08-09T06:59:12","Actor":"acidjazz","Number":"2346","RawContent":null,"Title":"trying to update query parameters","State":"closed","Body":"### Version\r\n3.0.1 (nuxtjs 1.4)\r\n\r\n### Reproduction link\r\n[gist](https://gist.github.com/acidjazz/95c5b7728a759fbd09fdfe61f84ccd8f)\r\n\r\n### Steps to reproduce\r\nI've read the documentation repeatedly, read every stack overflow, and gone through all of the Vue forums on anything related to programatic navigation for over a year now and i've never been able to do the following successfully\r\n\r\n1. pass a this=that query parameter into `this.$route.query`, using either `.push`, `.replace`, etc\r\n2. have `this.$route.query` instantly contain that new parameter\r\n3. have my URL also reflect that change/add/removal of the parameter\r\n\r\nhere is one of my current methods I use that \"kind of\" works in one of my projects\r\n\r\n```js\r\nmethods: {\r\n    query (params) {\r\n      let i = 0\r\n      for (let key in params) {\r\n        setTimeout(() => {\r\n          this.$router.push({ query: {...this.$route.query, [key]: params[key] }})\r\n        } , 100*++i) \r\n      }\r\n      setTimeout(() => this.get(), 100*++i)\r\n    },\r\n}\r\n```\r\nI simply call `query({page: 2})` and pray, `this.get()` is just an axios get to the API passing `this.$route.params`, then refreshing the data\r\n\r\n### What is expected?\r\nmy parameters to update both in `this.$route.query` and the URL\r\n\r\n### What is actually happening?\r\nIf I don't add these delays, the behavior is pretty radical, one of the following and/or all happens\r\n1. `this.$route.query` does not have any, or some of the parameters passed through\r\n2. The URL does not show or reflect some of the parameters\r\n3. `1.` will happen to different parameters than `2.`  \r\n4. Safari is most likely not to work, requires a larger increase of delays\r\n\r\n\r\n### Why is this a GitHub issue?\r\nMy main goal with posting this is not just to finally find a solid stable solution to my issue, but afterwards do all I can to shorten this path for others in the future.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2346","RelatedDescription":"Closed issue \"trying to update query parameters\" (#2346)"},{"Id":"348958286","IsPullRequest":false,"CreatedAt":"2018-08-09T02:59:41","Actor":"acidjazz","Number":"2345","RawContent":null,"Title":"the pain of trying to update query params","State":"closed","Body":"I've read the documentation repeatedly, read every stack overflow, and gone through all of the Vue forums on anything related to programatic navigation for over a year now and i've never been able to do the following successfully\r\n\r\n1. pass a this=that query parameter into `this.$route.query`, using either `.push`, `.replace`, etc\r\n2. have `this.$route.query` instantly contain that new parameter\r\n3. have my URL also reflect that change/add/removal of the parameter\r\n\r\nhere is one of my current methods I use that \"kind of\" works in one of my projects\r\n\r\n```js\r\nmethods: {\r\n    query (params) {\r\n      for (let key in params) {\r\n        setTimeout(() => \r\n          this.$router.push({ query: {...this.$route.query, [key]: params[key] }}\r\n        ), 100)\r\n      }\r\n      setTimeout(() => this.get(), 100*Object.keys(params).length)\r\n    },\r\n}\r\n```\r\nI simply call `query({page: 2})` and pray, `this.get()` is just an axios get to the API passing `this.$route.params`, then refreshing the data\r\n\r\nIf I don't add these delays, the behavior is pretty radical, one of the following and/or all happens\r\n1. `this.$route.query` does not have any, or some of the parameters passed through\r\n2. The URL does not show or reflect some of the parameters\r\n3. `1.` will happen to different parameters than `2.`  \r\n\r\n","Url":"https://github.com/vuejs/vue-router/issues/2345","RelatedDescription":"Closed issue \"the pain of trying to update query params\" (#2345)"},{"Id":"348529750","IsPullRequest":false,"CreatedAt":"2018-08-08T07:04:15","Actor":"lululeon","Number":"2343","RawContent":null,"Title":"Imported router doesn't work, inline declaration of vue-router does.","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/3qnxwp6k3p](https://codesandbox.io/s/3qnxwp6k3p)\r\n\r\n### Steps to reproduce\r\nhttps://codesandbox.io/s/3qnxwp6k3p\r\n\r\nSummary:\r\n- vue @ 2.5.17\r\n- vue router @ 3.0.1\r\n- create basic app using vue-cli.\r\n- define app routes in separate file, import file into main.js and pass router to Vue instance.\r\n\r\n### What is expected?\r\nRouting should work\r\n\r\n### What is actually happening?\r\nApp cannot load, errors in console.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2343","RelatedDescription":"Closed issue \"Imported router doesn't work, inline declaration of vue-router does.\" (#2343)"},{"Id":"348548259","IsPullRequest":false,"CreatedAt":"2018-08-08T02:05:58","Actor":"reacoulchen","Number":"2344","RawContent":null,"Title":"有谁使用history模式分享自定义分享成功的，可以分享下代码吗，已经被坑了两三周了，项目的中是这样的，进入项目有几个接口，首页进入，详情页进入，还有其他两个进入口，这样ios每个进入的落地url都不一样，不能适配自定义","State":"closed","Body":"<!--\r\nIMPORTANT: Please use the following link to create a new issue:\r\n\r\n  https://new-issue.vuejs.org/?repo=vuejs/vue-router\r\n\r\nIf your issue was not created using the app above, it will be closed immediately.\r\n-->\r\n","Url":"https://github.com/vuejs/vue-router/issues/2344","RelatedDescription":"Closed issue \"有谁使用history模式分享自定义分享成功的，可以分享下代码吗，已经被坑了两三周了，项目的中是这样的，进入项目有几个接口，首页进入，详情页进入，还有其他两个进入口，这样ios每个进入的落地url都不一样，不能适配自定义\" (#2344)"},{"Id":"348201674","IsPullRequest":false,"CreatedAt":"2018-08-07T07:38:06","Actor":"JZLeung","Number":"2342","RawContent":null,"Title":"增加功能：返回路由的实际地址","State":"closed","Body":"### What problem does this feature solve?\r\n比如要分享，或是在新标签页面打开，则需要获取当前（下一个页面）的真实地址。\r\n\r\n### What does the proposed API look like?\r\n使用： `$route.getPath(location)` 函数返回该路由的绝对路径。\r\n如现在有一个路由是这么定义的：\r\n```js\r\n{\r\n  name: 'userInfo',\r\n  path: '/user/:uid',\r\n  component: userComponent\r\n}\r\n```\r\n\r\n```js\r\nconst url = this.$route.getPath({\r\n  name: 'userInfo',\r\n  params: {\r\n    uid: 2\r\n  }\r\n})\r\n// url : http://example.com/#/user/2\r\n```\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2342","RelatedDescription":"Closed issue \"增加功能：返回路由的实际地址\" (#2342)"},{"Id":"348042405","IsPullRequest":false,"CreatedAt":"2018-08-06T18:55:25","Actor":"mistersender","Number":"2341","RawContent":null,"Title":"vue-router does not destroy itself","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/se6gLaqn/1/](https://jsfiddle.net/se6gLaqn/1/)\r\n\r\n### Steps to reproduce\r\nCreate a vue instance, as well as a router instance. Then destroy the vue instance. \r\n\r\nThe router instance continues to exist and fire.\r\n\r\n### What is expected?\r\nThe router should be able to properly destroy itself; either by explicit call, or when the vue instance is destroyed\r\n\r\n### What is actually happening?\r\nThe router exists and cannot be destroyed\r\n\r\n---\r\nI did some googling and see that vue-router cannot currently be destroyed, but I am asking for reconsideration. Unlike the other issue I found (https://github.com/vuejs/vue-router/issues/954) where it appeared the user wanted to destroy and create a new router in the same application, the issue I am having is completely separate. \r\n\r\nI have a massive application that essentially uses pjax methodologies to be able to run several SPAs (vue being one) that create the full site. When we navigate away from one SPA to another, the SPA needs to destroy itself so it's code does not interfere with the other SPAs. However, because the vue router cannot be destroyed; it's attempting to execute logic for routing even when the SPA that created it is destroyed. The issue compounds when we have more than 1 vue application running, as there are now 2 instances of vue-router (or more) running at a time. \r\n\r\nSpecifically, we are using the hash version of routing. It looks like the router just attaches an event to the window and listens for popstates, but things get weird when more than one event does something with popstate (an understandably oddball behavior).  I would appreciate reconsideration for allowing vue-router to destroy itself when appropriate. Thanks!\r\n\r\n[edited for spelling/grammar]\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2341","RelatedDescription":"Open issue \"vue-router does not destroy itself\" (#2341)"},{"Id":"347963227","IsPullRequest":false,"CreatedAt":"2018-08-06T16:26:25","Actor":"nolimitdev","Number":"2340","RawContent":null,"Title":"Route alias does not set active link class","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/8xrk1n9f/1279/](https://jsfiddle.net/8xrk1n9f/1279/)\r\n\r\n### Steps to reproduce\r\nClicking at alias does not set active link class for router link referencing to About component. I think users expect this active class to work because router-link knows route definition and de facto it's alias(es). By vue-router doc aliases should behave the same way as origin route. So it should be fixed/implemented or add explicit note to <a href=\"https://router.vuejs.org/guide/essentials/redirect-and-alias.html#redirect\">https://router.vuejs.org/guide/essentials/redirect-and-alias.html#alias</a> and/or <a href=\"https://router.vuejs.org/api/#active-class\">https://router.vuejs.org/api/#active-class</a> that active class does not work with aliases.\r\n\r\n### What is expected?\r\nActive class should be set\r\n\r\n### What is actually happening?\r\nActive class is not set\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2340","RelatedDescription":"Closed issue \"Route alias does not set active link class\" (#2340)"},{"Id":"347766164","IsPullRequest":false,"CreatedAt":"2018-08-06T04:17:09","Actor":"leisclei","Number":"2339","RawContent":null,"Title":"since my English is poor , so I use Chinese","State":"closed","Body":"### What problem does this feature solve?\r\n请教一下,用keep-alive缓存的页面,打包成的h5 app,这个缓存会不会在手机内存堆积,需不需要清理\r\n\r\n### What does the proposed API look like?\r\n请教一下,用keep-alive缓存的页面,打包成的h5 app,这个缓存会不会在手机内存堆积,需不需要清理\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vue-router/issues/2339","RelatedDescription":"Closed issue \"since my English is poor , so I use Chinese\" (#2339)"}],"ResultType":"GitHubIssue"},"Vuex-Issues":{"Issues":[{"Id":"355824650","IsPullRequest":false,"CreatedAt":"2018-08-31T03:15:23","Actor":"myadomin","Number":"1390","RawContent":null,"Title":"bug: examples\\todomvc, when press keyboard enter to delete some todoItem, maybe delete two todoItem","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/vuejs/vuex/blob/dev/examples/todomvc/store/mutations.js](https://github.com/vuejs/vuex/blob/dev/examples/todomvc/store/mutations.js)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nwhen edit some one todoItem, clear the todoItem text, then press keyboard enter.\r\n\r\n\r\n### What is expected?\r\ndelete the todoItem\r\n\r\n### What is actually happening?\r\ndelete the todoItem and anothre todoItem\r\n\r\n---\r\nwhen edit some one todoItem, clear the todoItem text, then press keyboard enter.\r\nit will execute @keyup.enter=\"doneEdit\" and @keyup.esc=\"cancelEdit\" (in page TodoItem.vue).\r\nin page vuex\\examples\\todomvc\\store\\mutations.js, mutation:removeTodo.\r\nthe mutation:removeTodo will execute twice, so will delete two todoItem.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1390","RelatedDescription":"Open issue \"bug: examples\\todomvc, when press keyboard enter to delete some todoItem, maybe delete two todoItem\" (#1390)"},{"Id":"355551023","IsPullRequest":true,"CreatedAt":"2018-08-31T03:02:07","Actor":"myadomin","Number":"1388","RawContent":null,"Title":"fix bug: examples/todomvc","State":"closed","Body":"page vuex\\examples\\todomvc\\store\\mutations.js,  method:removeTodo.\r\nwhen edit some one todoItem, clear the todoItem, then press keyboard enter.\r\nbecause execute @keyup.enter=\"doneEdit\" and @keyup.esc=\"cancelEdit\" (in page TodoItem.vue).\r\nso here will execute twice, so will delete two todoItem.\r\nso i suggest change here to .","Url":"https://github.com/vuejs/vuex/pull/1388","RelatedDescription":"Closed or merged PR \"fix bug: examples/todomvc\" (#1388)"},{"Id":"355668368","IsPullRequest":false,"CreatedAt":"2018-08-30T16:45:36","Actor":"matsieftw","Number":"1389","RawContent":null,"Title":"Documentation Never Actually Walks You Through Set Up","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://thereisntoneandyoushouldnotrequirethis.com](https://thereisntoneandyoushouldnotrequirethis.com)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. Go to your docs.\r\n2. Read them.\r\n3. Think about whether they would be helpful to someone trying to set up a Vue app.\r\n\r\n### What is expected?\r\nHelpful documentation walking you through set up of a Vue app using Vuex.\r\n\r\n### What is actually happening?\r\nA lot of info on concepts and no info on actually bringing in Vuex to your application.\r\n\r\n---\r\nVue's documentation in general never actually walks you through setting anything up. It provides a few code snippets and assumes you'll understand. The documentation has been the biggest source of my frustration while using Vue since it never actually explains anything.\r\n\r\nFor example, on the Vuex installation page, sandwiched between CDN/package manager installation and building from source, you've put that Vuex needs to be instantiated in a module set up. You've provided zero context for this. Is this in the store? Is this for every file you need to access the store in? More importantly, it shouldn't be on the installation page, let alone sandwiched in between different installation methods. Vue's documentation is riddled with these issues. Unfortunately, I still don't actually know enough about how Vue actually works to be able to contribute to the documentation in any way. If I didn't have to use Vue for the project I am on, I would be using React, Redux, & RxJs and have access to meaningful, better written documentation that bothers to walk you through the set up. If Vue actually wants to gain any real traction, you're going to need to actually show folks how to use and set up your tools.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1389","RelatedDescription":"Open issue \"Documentation Never Actually Walks You Through Set Up\" (#1389)"},{"Id":"355404917","IsPullRequest":false,"CreatedAt":"2018-08-30T05:04:44","Actor":"lin-123","Number":"1384","RawContent":null,"Title":"mutate setHours by date.setHours() will not trigger view update ","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codepen.io/lin-123/pen/RYoaOK?editors=1111](https://codepen.io/lin-123/pen/RYoaOK?editors=1111)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n## code\r\n- store.js\r\n```javascript\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport * as mutations from './mutations'\r\nimport * as actions from './actions'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    date: new Date()\r\n  },\r\n  mutations,\r\n  actions,\r\n  strict: process.env.NODE_ENV !== 'production'\r\n})\r\n```\r\n\r\n- mutations.js\r\n```javascript\r\nexport const SET_HOUR = (state, hours) => {\r\n  state.date.setHours(hours)\r\n}\r\n```\r\n\r\n- components\r\n```html\r\n<template>\r\n<div class=\"map\">\r\n  <h2>{{dateFull}}</h2>\r\n  <button @click=\"updateHours\">update hours</button>\r\n</div>\r\n</template>\r\n<script>\r\nimport L from 'leaflet'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  data: () => ({\r\n    hours: 0\r\n  }),\r\n  computed: {\r\n    ...mapState({\r\n      date: state => state.date\r\n    })\r\n  },\r\n  methods: {\r\n    updateHours() {\r\n      this.hours  = 1\r\n      this.$store.commit('SET_HOURS', this.hours)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n### What is expected?\r\ndate should be change on view when i mutate date\r\n\r\n### What is actually happening?\r\nview have no change when i mutate date by state.date.setHours(hours).\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1384","RelatedDescription":"Closed issue \"mutate setHours by date.setHours() will not trigger view update \" (#1384)"},{"Id":"355413687","IsPullRequest":true,"CreatedAt":"2018-08-30T05:01:01","Actor":"leecade","Number":"1387","RawContent":null,"Title":"fix: confused namespace for get module","State":"closed","Body":"see #1386","Url":"https://github.com/vuejs/vuex/pull/1387","RelatedDescription":"Closed or merged PR \"fix: confused namespace for get module\" (#1387)"},{"Id":"355412566","IsPullRequest":false,"CreatedAt":"2018-08-30T05:00:49","Actor":"leecade","Number":"1386","RawContent":null,"Title":"Confused namespace for get module","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://codesandbox.io/s/vue](https://codesandbox.io/s/vue)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\n1. create files in store folder\r\n\r\n`store/foo/index.js`\r\n\r\n`store/foo/a.js`\r\n\r\n2. get module by namespace\r\n\r\n```js\r\ncomputed: {\r\n   ...mapState('foo/a', []), // correct\r\n   ...mapState('foo', []), // correct\r\n   //  ...mapState('foo/index', []), // not works here\r\n}\r\n```\r\n\r\n### What is expected?\r\nit make sense if `mapState('foo/index', [])` works as `mapState('foo', [])`\r\n\r\n### What is actually happening?\r\n`mapState('foo/index', [])` not work\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1386","RelatedDescription":"Closed issue \"Confused namespace for get module\" (#1386)"},{"Id":"355411714","IsPullRequest":false,"CreatedAt":"2018-08-30T03:36:45","Actor":"leecade","Number":"1385","RawContent":null,"Title":"Confused namespace for module","State":"closed","Body":"## Version\r\n\r\n3.0.1\r\n\r\nReproduction link\r\n\r\n## Steps to reproduce\r\n\r\n1. create file in store folder\r\n\r\n`store/foo/index.js`\r\n\r\n`store/foo/a.js`\r\n\r\n2. get module by namespace\r\n\r\n```js\r\ncomputed: {\r\n   ...mapState('foo/a', []), // correct\r\n   ...mapState('foo', []), // correct\r\n   //  ...mapState('foo/index', []), // not works here\r\n}\r\n```\r\n\r\n## What is expected?\r\n\r\nit make sense if `mapState('foo/index', [])` works as `mapState('foo', [])`\r\n\r\n## What is actually happening?\r\n\r\n`mapState('foo/index', [])` not work","Url":"https://github.com/vuejs/vuex/issues/1385","RelatedDescription":"Closed issue \"Confused namespace for module\" (#1385)"},{"Id":"355221437","IsPullRequest":false,"CreatedAt":"2018-08-29T15:43:11","Actor":"james-wasson","Number":"1383","RawContent":null,"Title":"Vuex loop dependencies are slow","State":"open","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/james_wasson/2ut7rbx5/](https://jsfiddle.net/james_wasson/2ut7rbx5/)  \r\nPlease refer to the console for more information while running this fiddle.  \r\nYou can control what is being logged by changing the flags at the top of the fiddle\r\n\r\n### Steps to reproduce\r\n* create a loop adding a component\r\n* add > 8 Vuex dependencies per component row\r\n* when changing the list removing rows is slow\r\n\r\n### What is expected?\r\nDepending on Vuex should be of similar speed to passing as props.  \r\nHere is an example of passing by props: https://jsfiddle.net/james_wasson/8g2fxr9n/\r\n\r\n### What is actually happening?\r\nDepending on the number of rows the removal time increase to more than 100 milliseconds, and at very high numbers of rows (> 400) removal can take up to 500 milliseconds\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1383","RelatedDescription":"Open issue \"Vuex loop dependencies are slow\" (#1383)"},{"Id":"354375091","IsPullRequest":false,"CreatedAt":"2018-08-29T01:05:01","Actor":"devinholloway","Number":"1381","RawContent":null,"Title":"store.watch not functioning in SSR mode","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://github.com/devinholloway/vuex-watch-ssr](https://github.com/devinholloway/vuex-watch-ssr)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nClone the github account. Follow instructions in README\r\n\r\n### What is expected?\r\nstore.watch to execute its callback when the state its watching chanes\r\n\r\n### What is actually happening?\r\ncallback is not called on state update only in SSR\r\n\r\n---\r\nThis is a project using Quasar for SSR. preFetch methods execute server side, much like the fetch methods in Nuxt. The purpose of this is to execute multiple server side functions where one depends on the results of the other.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1381","RelatedDescription":"Closed issue \"store.watch not functioning in SSR mode\" (#1381)"},{"Id":"354683228","IsPullRequest":false,"CreatedAt":"2018-08-28T11:13:18","Actor":"sergioIGZ","Number":"1382","RawContent":null,"Title":"this is undefined inside the getters","State":"open","Body":"### What problem does this feature solve?\r\nif (somehow) you can access to this inside getters then you could use plugins inside getters (as you can now in actions or mutations)\r\n\r\n### What does the proposed API look like?\r\nI'm not sure how would i solve this, maybe this is a bug.\r\nThe thing is that inside a getter you can use this.$myPlugin.whatever()\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1382","RelatedDescription":"Open issue \"this is undefined inside the getters\" (#1382)"},{"Id":"351720920","IsPullRequest":true,"CreatedAt":"2018-08-25T09:00:18","Actor":"Alex-Sokolov","Number":"1376","RawContent":null,"Title":"docs: [RU] Translation fixes","State":"closed","Body":"Fix links anchors","Url":"https://github.com/vuejs/vuex/pull/1376","RelatedDescription":"Closed or merged PR \"docs: [RU] Translation fixes\" (#1376)"},{"Id":"353990294","IsPullRequest":true,"CreatedAt":"2018-08-25T08:59:53","Actor":"kkkisme","Number":"1380","RawContent":null,"Title":"Update logger.d.ts","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1380","RelatedDescription":"Closed or merged PR \"Update logger.d.ts\" (#1380)"},{"Id":"353618860","IsPullRequest":false,"CreatedAt":"2018-08-24T02:21:10","Actor":"Xiaolin-Zhu","Number":"1379","RawContent":null,"Title":"There is a error when I use ...mapState","State":"closed","Body":"`...mapState({\r\n            inviteeCount: state => state.inviteeCount,\r\n        })`\r\n\r\nError is \r\nUncaught TypeError: Object(...) is not a function","Url":"https://github.com/vuejs/vuex/issues/1379","RelatedDescription":"Closed issue \"There is a error when I use ...mapState\" (#1379)"},{"Id":"353167919","IsPullRequest":false,"CreatedAt":"2018-08-23T01:17:09","Actor":"philBrown","Number":"1378","RawContent":null,"Title":"Direct mutation of state not throwing error in strict mode","State":"closed","Body":"### Version\r\n3.0.1\r\n\r\n### Reproduction link\r\n[https://jsfiddle.net/r1z0a4gp/7/](https://jsfiddle.net/r1z0a4gp/7/)\r\n\r\n\r\n\r\n\r\n\r\n### Steps to reproduce\r\nIn the JSFiddle example, type into the text box.\r\n\r\nThe input's `v-model` is bound to a computed property with getter and setter. The getter maps directly to `$store.state.foo` and the setter dispatches the \"setFoo\" action.\r\n\r\nThe action directly modifies `context.state.foo` instead of committing a mutation.\r\n\r\n\r\n\r\n### What is expected?\r\nStrict mode is enabled so I would expect to see an error about directly mutating state outside of a mutation\r\n\r\n### What is actually happening?\r\nNo errors are reported and state is modified\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1378","RelatedDescription":"Closed issue \"Direct mutation of state not throwing error in strict mode\" (#1378)"},{"Id":"352092756","IsPullRequest":false,"CreatedAt":"2018-08-20T11:21:30","Actor":"dracarys26","Number":"1377","RawContent":null,"Title":"vuex 支持es6的map 吗","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/issues/1377","RelatedDescription":"Closed issue \"vuex 支持es6的map 吗\" (#1377)"},{"Id":"350321174","IsPullRequest":true,"CreatedAt":"2018-08-14T08:39:00","Actor":"Jinjiang","Number":"1375","RawContent":null,"Title":"Applied #1361 to all languages","State":"closed","Body":"#1361 ","Url":"https://github.com/vuejs/vuex/pull/1375","RelatedDescription":"Closed or merged PR \"Applied #1361 to all languages\" (#1375)"},{"Id":"350267631","IsPullRequest":false,"CreatedAt":"2018-08-14T03:24:57","Actor":"eddygithub","Number":"1374","RawContent":null,"Title":"user state doesn't auto change until I manual reload the page","State":"closed","Body":"<template>\r\n    <b-navbar toggleable=\"md\" type=\"light\" variant=\"light\">\r\n        <b-navbar-nav>\r\n            <b-nav-item href=\"#\">Home</b-nav-item>\r\n        </b-navbar-nav>\r\n\r\n        <b-navbar-nav class=\"ml-auto\">\r\n            <b-nav-form>\r\n                <b-form-input class=\"mr-sm-2\" type=\"text\" placeholder=\"Search...\" v-model=\"searchText\"></b-form-input>\r\n                <b-button variant=\"outline-success\" type=\"submit\" @click=\"search\">Search</b-button>\r\n            </b-nav-form>\r\n            <b-button v-if=\"user\" variant=\"outline-danger\" @click=\"logout\">Logout</b-button>\r\n        </b-navbar-nav>\r\n    </b-navbar>\r\n</template>\r\n\r\n<script>\r\n    import firebase from 'firebase'\r\n\r\n    export default {\r\n        name: \"navbar\",\r\n        data() {\r\n            return {\r\n                searchText: '',\r\n                user: firebase.auth().currentUser || false\r\n            }\r\n        },\r\n        methods: {\r\n            search: function () {\r\n                console.log(\"search for \".concat(this.searchText))\r\n            },\r\n            logout: function () {\r\n                firebase.auth().signOut().then(() => {\r\n                    this.$router.replace('login')\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n</script>","Url":"https://github.com/vuejs/vuex/issues/1374","RelatedDescription":"Closed issue \"user state doesn't auto change until I manual reload the page\" (#1374)"},{"Id":"349842520","IsPullRequest":true,"CreatedAt":"2018-08-12T20:44:22","Actor":"evgenyt1","Number":"1373","RawContent":null,"Title":"Improve strong-typing of getters","State":"open","Body":"See small diff. At least in TS3 this improves makes `getters` strongly typed (still allowing generic getters calls).","Url":"https://github.com/vuejs/vuex/pull/1373","RelatedDescription":"Open PR \"Improve strong-typing of getters\" (#1373)"},{"Id":"349784014","IsPullRequest":true,"CreatedAt":"2018-08-12T04:34:51","Actor":"gcoguiec","Number":"1372","RawContent":null,"Title":"ci: migration to CircleCI 2","State":"open","Body":"Since CircleCI 1 will be retired **August 31th**, I've done a couple of things (based on #1264 initial work) to achieve at least a first version of this migration.\r\n\r\n#### Done\r\n\r\n- [x] As DRY as possible.\r\n- [x] Test-reporting when no additional code was needed.\r\n- [x] Parallel running.\r\n- [x] Build-matrix against multiple node versions (currently `8:latest` and `10:latest`).\r\n- [x] Drops old `circle.yml` file.\r\n\r\n#### To be done (or not)\r\n\r\n- Test reporting for jasmine tasks (?)\r\n- Coverage [reporting](https://github.com/vuejs/vue/blob/dev/.circleci/config.yml#L37) (?)\r\n\r\n#### Additional Notes\r\n\r\nI've upgraded `eslint` and `eslint-plugin-vue-libs` to [Vue versions](https://github.com/vuejs/vue/blob/dev/package.json#L94) (junit reporter was slightly broken in previous `eslint` version) and some files were fixed in the process.","Url":"https://github.com/vuejs/vuex/pull/1372","RelatedDescription":"Open PR \"ci: migration to CircleCI 2\" (#1372)"},{"Id":"349750182","IsPullRequest":true,"CreatedAt":"2018-08-11T17:24:23","Actor":"simplesmiler","Number":"1371","RawContent":null,"Title":"Make tests runnable on Windows","State":"open","Body":"For some reason selenium struggles to find phantomjs binary, so I had to specify it manually.","Url":"https://github.com/vuejs/vuex/pull/1371","RelatedDescription":"Open PR \"Make tests runnable on Windows\" (#1371)"},{"Id":"348708875","IsPullRequest":false,"CreatedAt":"2018-08-08T12:42:45","Actor":"Simsteve7","Number":"1370","RawContent":null,"Title":"Rename mutation to action in typings of store.subscribeAction","State":"closed","Body":"https://github.com/vuejs/vuex/blob/f626da2a764368be77c71579686c694dc4dde1f9/types/test/index.ts#L42","Url":"https://github.com/vuejs/vuex/issues/1370","RelatedDescription":"Closed issue \"Rename mutation to action in typings of store.subscribeAction\" (#1370)"},{"Id":"348208324","IsPullRequest":true,"CreatedAt":"2018-08-07T07:55:39","Actor":"keng0o","Number":"1369","RawContent":null,"Title":"fix: Add key to v-for","State":"open","Body":"Updates:\r\n---\r\n- Add key to v-for","Url":"https://github.com/vuejs/vuex/pull/1369","RelatedDescription":"Open PR \"fix: Add key to v-for\" (#1369)"},{"Id":"348181677","IsPullRequest":true,"CreatedAt":"2018-08-07T06:32:29","Actor":"keng0o","Number":"1368","RawContent":null,"Title":"fix:Add key to v-for","State":"closed","Body":"Updates:\r\n---\r\n- Add key to v-for","Url":"https://github.com/vuejs/vuex/pull/1368","RelatedDescription":"Closed or merged PR \"fix:Add key to v-for\" (#1368)"},{"Id":"347625501","IsPullRequest":false,"CreatedAt":"2018-08-04T15:06:30","Actor":"hootlex","Number":"1367","RawContent":null,"Title":"Docs Suggestion: Split Namespaced Example into smaller sections","State":"open","Body":"### What problem does this feature solve?\r\nRight now the [namespaced example](https://vuex.vuejs.org/guide/modules.html#namespacing) is quite condensed. I believe it'd be helpful to split it into multiple, smaller sections - probably one for each asset like `getters`, `actions`, etc.\r\n\r\nSome parts might be repetitive but we will have the chance to describe some things more in depth and provide more examples in the future.\r\n\r\nWhat do you think? @ktsn @simplesmiler @chrisvfritz\r\n\r\n### What does the proposed API look like?\r\ndocs\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1367","RelatedDescription":"Open issue \"Docs Suggestion: Split Namespaced Example into smaller sections\" (#1367)"},{"Id":"347606998","IsPullRequest":true,"CreatedAt":"2018-08-04T12:53:40","Actor":"Alex-Sokolov","Number":"1366","RawContent":null,"Title":"[RU] Translation update","State":"closed","Body":"","Url":"https://github.com/vuejs/vuex/pull/1366","RelatedDescription":"Closed or merged PR \"[RU] Translation update\" (#1366)"},{"Id":"347421629","IsPullRequest":false,"CreatedAt":"2018-08-04T04:12:15","Actor":"Alex-Sokolov","Number":"1362","RawContent":null,"Title":"replaceState only for namespaced module","State":"closed","Body":"### What problem does this feature solve?\r\nFor example, making undo/redo functionality in namespaced module, where used replaceState for time-travelling in stored data.\r\n\r\n```\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    nodes: []\r\n  },\r\n  mutations: {\r\n    emptyState(state) {\r\n      this.replaceState({ nodes: [] })\r\n    },\r\n\r\n    // ...\r\n  },\r\n  actions: {\r\n    // ...\r\n  }\r\n}\r\n\r\n```\r\n\r\nNow calling replaceState from namespaced module will clear all Vuex state at all.\r\n\r\n### What does the proposed API look like?\r\n`this.replaceState(initialModuleState, { module: true })` or `this.replaceModuleState(initialModuleState)`\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1362","RelatedDescription":"Closed issue \"replaceState only for namespaced module\" (#1362)"},{"Id":"347393359","IsPullRequest":true,"CreatedAt":"2018-08-04T04:05:09","Actor":"simplesmiler","Number":"1361","RawContent":null,"Title":"docs: Clarify example with namespaced actions","State":"closed","Body":"Guide suggests that these two example are equal, and are different only by syntax. But they are different, and it would be good to clarify that.","Url":"https://github.com/vuejs/vuex/pull/1361","RelatedDescription":"Closed or merged PR \"docs: Clarify example with namespaced actions\" (#1361)"},{"Id":"347517950","IsPullRequest":true,"CreatedAt":"2018-08-03T19:55:19","Actor":"simplesmiler","Number":"1365","RawContent":null,"Title":"Warn about conflicts between state and module","State":"open","Body":"Fixes #1363.","Url":"https://github.com/vuejs/vuex/pull/1365","RelatedDescription":"Open PR \"Warn about conflicts between state and module\" (#1365)"},{"Id":"347491117","IsPullRequest":true,"CreatedAt":"2018-08-03T18:16:57","Actor":"hootlex","Number":"1364","RawContent":null,"Title":"WIP feat: access namespaced getters using the dot notation","State":"open","Body":"Add's support for accessing namespaced getters using the dot notation, the same way we do for the `state`. For example: `this.$store.getters.users.newUsers`\r\n\r\nImplements https://github.com/vuejs/vuex/issues/1258\r\n\r\n## Todo:\r\n- [x] Prefer root getter in case of same naming to not introduce braking changes - @hootlex\r\n- [x] Display warning if root getter has the same the name with a module. Similar to https://github.com/vuejs/vuex/issues/1363 - @hootlex\r\n- [x] Add complete test for namespaced getters - @simplesmiler \r\n- [x] Add tests for nested, namespaced modules - @simplesmiler \r\n- [ ] Docs - @hootlex","Url":"https://github.com/vuejs/vuex/pull/1364","RelatedDescription":"Open PR \"WIP feat: access namespaced getters using the dot notation\" (#1364)"},{"Id":"347478465","IsPullRequest":false,"CreatedAt":"2018-08-03T17:33:18","Actor":"hootlex","Number":"1363","RawContent":null,"Title":"Display warning if root state property has the same name with module","State":"open","Body":"### What problem does this feature solve?\r\nIf there is a root state property with the same name of a module, the module is prioritized. Right now there is no warning.\r\n\r\n## Example:\r\n\r\n```\r\n// store\r\nmodules: {\r\n    users\r\n},\r\nstate: {\r\n    users: []\r\n}\r\n```\r\n`store.state.users` points to the users module and `users` state property is shallowed\r\n\r\n### What does the proposed API look like?\r\nThere should be a warning pointing out the mistake and intriguing the user to rename the state property.\r\n\r\n<!-- generated by vue-issues. DO NOT REMOVE -->","Url":"https://github.com/vuejs/vuex/issues/1363","RelatedDescription":"Open issue \"Display warning if root state property has the same name with module\" (#1363)"}],"ResultType":"GitHubIssue"}},"RunOn":"2018-08-31T05:30:47.3018535Z","RunDurationInMilliseconds":4452}