{"Data":{"GitHub":{"Issues":[{"Id":"460212992","IsPullRequest":true,"CreatedAt":"2019-06-25T05:14:40","Actor":"vatsan-madhavan","Number":"1081","RawContent":null,"Title":"WIP: yml improvements","State":"open","Body":"yml improvements - various. \r\n\r\nIntended to prevent build backlogs due to slow and overlapping builds that were observed to bottleneck PR'son 6/24. ","Url":"https://github.com/dotnet/wpf/pull/1081","RelatedDescription":"Open PR \"WIP: yml improvements\" (#1081)"},{"Id":"460205932","IsPullRequest":true,"CreatedAt":"2019-06-25T04:56:00","Actor":"rladuca","Number":"1080","RawContent":null,"Title":"System.Printing does not consume lib assemblies from WPF GitHub package","State":"closed","Body":"Updating generated CppCliHelper project to reference and use RID-specific WPF GitHub package.\r\n\r\nThis is the WpfArcadeSdk piece of the change.  The latest commit in https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/pullrequest/1772?_a=overview contains the internal piece of the fix.\r\n\r\nFixes #1079 ","Url":"https://github.com/dotnet/wpf/pull/1080","RelatedDescription":"Closed or merged PR \"System.Printing does not consume lib assemblies from WPF GitHub package\" (#1080)"},{"Id":"460205635","IsPullRequest":false,"CreatedAt":"2019-06-25T04:40:57","Actor":"rladuca","Number":"1079","RawContent":null,"Title":"System.Printing does not consume lib assemblies from WPF GitHub package","State":"open","Body":"The system.printing mechanism for consuming assemblies from WPF GitHub is different than C# assemblies.\r\n\r\nDuring the GenAPI changes in #932 this needed to be updated to consume lib assemblies, not ref as the ref assemblies no longer carry internal surface area.","Url":"https://github.com/dotnet/wpf/issues/1079","RelatedDescription":"Open issue \"System.Printing does not consume lib assemblies from WPF GitHub package\" (#1079)"},{"Id":"460032242","IsPullRequest":false,"CreatedAt":"2019-06-25T03:56:37","Actor":"Kayot","Number":"1073","RawContent":null,"Title":"Inline Row and Column definition in Grid Constructor","State":"closed","Body":"Row and Column definition in the Grid Constructor would help reduce a lot of boiler plate code when using XAML.\r\n\r\nFor instance, using the following;\r\n\r\n```\r\n<Grid ColumnDefinitions=\"100,1.5*,4*\" RowDefinitions=\"1*,Auto,4*\"  >\r\n</Grid>\r\n```\r\n\r\nWould be faster and easier to read with near zero loss in translation or increase in complication compared to the following;\r\n\r\n```\r\n<Grid >\r\n    <Grid.ColumnDefinitions>\r\n        <ColumnDefinition Width=\"100\"/>\r\n        <ColumnDefinition Width=\"1.5*\"/>\r\n        <ColumnDefinition Width=\"4*\"/>\r\n    </Grid.ColumnDefinitions>\r\n    <Grid.RowDefinitions>\r\n        <RowDefinition Height=\"1*\"/>\r\n        <RowDefinition Height=\"Auto\"/>\r\n        <RowDefinition Height=\"4*\"/>\r\n    </Grid.RowDefinitions>\r\n</Grid>\r\n```\r\n\r\nThis could be an option, not a replacement so designers could still use the longer style and older projects would still maintain ease of portability to the WPF .NET Core 3 libraries.\r\n\r\nPlease note that I didn't think of this idea. I saw it done on Avalonia and thought it was a more efficient way of constructing a Grid.","Url":"https://github.com/dotnet/wpf/issues/1073","RelatedDescription":"Closed issue \"Inline Row and Column definition in Grid Constructor\" (#1073)"},{"Id":"460074939","IsPullRequest":true,"CreatedAt":"2019-06-25T02:21:30","Actor":"dotnet-maestro[bot]","Number":"1074","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190624.13\r\n- **Date Produced**: 6/24/2019 6:18 PM\r\n- **Commit**: b1100baa8d10231209a13da7f7efff808eab7036\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat** -> 1.0.0-beta.19324.13\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19324.13\r\n  - **Microsoft.DotNet.CodeAnalysis** -> 1.0.0-beta.19324.13\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19324.13\r\n\r\n[marker]: <> (End:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1074","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1074)"},{"Id":"460140288","IsPullRequest":true,"CreatedAt":"2019-06-25T01:36:10","Actor":"vatsan-madhavan","Number":"1078","RawContent":null,"Title":"Update how timeout is defined in yml files.","State":"closed","Body":"Update how timeout is defined in yml files.\r\n\r\nWe just noticed that our 120 min timeout is not working correctly, causing backlogs in build and preventing work from progressing. Trying to define this a different way. ","Url":"https://github.com/dotnet/wpf/pull/1078","RelatedDescription":"Closed or merged PR \"Update how timeout is defined in yml files.\" (#1078)"},{"Id":"460092777","IsPullRequest":true,"CreatedAt":"2019-06-24T23:27:27","Actor":"vatsan-madhavan","Number":"1077","RawContent":null,"Title":"Define _WindowsDesktopSdkTargetFrameworkVersionFloor before  Microsoft.NET.Sdk.WindowsDesktop.targets is imported","State":"closed","Body":"Define `_WindowsDesktopSdkTargetFrameworkVersionFloor` before `Microsoft.NET.Sdk.WindowsDesktop.targets` is imported\r\n\r\nThis is needed since we changed the way props are defined in #1027 ","Url":"https://github.com/dotnet/wpf/pull/1077","RelatedDescription":"Closed or merged PR \"Define _WindowsDesktopSdkTargetFrameworkVersionFloor before  Microsoft.NET.Sdk.WindowsDesktop.targets is imported\" (#1077)"},{"Id":"460081201","IsPullRequest":true,"CreatedAt":"2019-06-24T23:13:08","Actor":"ryalanms","Number":"1075","RawContent":null,"Title":"Add one-time installation of a pre-commit git hook to protect generated WPF files","State":"closed","Body":"This change adds a **one-time installation of a pre-commit git hook to protect all of WPF's generated files**.  Attempts to commit changes to these files will be blocked (along with an error message).\r\n\r\nThere are two cases based on the location of `Microsoft.DotNet.Arcade.Wpf.Sdk`:\r\n\r\n1) Where the restore script is called from the public GitHub site and the\r\n`Microsoft.DotNet.Arcade.Wpf.Sdk` is present in the local Git repo *(e.g., dotnet-wpf/eng/wpfarcadesdk)*. \r\n2) Where the restore script is called from the internal WPF repo (dotnet-wpf-int) and the\r\n`Microsoft.DotNet.Arcade.Wpf.Sdk` is in the NuGet cache (*%userprofile%\\\\.nuget\\packages\\microsoft.dotnet.arcade.wpf.sdk*). In this case, the path to the WPF Arcade SDK is resolved at build time based on the SDK version in `global.json`.\r\n\r\nFor case 1, a simple poweshell script is used to install the git hook.  For case 2, an inline task is called to get the tools path and install the git hook.  The task consumes a property set by `Sdk.props`, imported by the Wpf Arcade SDK, which determines the `Microsoft.DotNet.Arcade.Wpf.Sdk` path at build time.  \r\nThe script checks for the existence of eng/WpfArcadeSdk and/or an entry for the SDK in `global.json` to determine case #1 or #2. \r\n\r\nAgain, note that the build file Sdk.props needs to be imported for `WpfArcadeSdkToolsDir` to be set (i.e., the parameter is only available in a WPF Arcade SDK project at build time.) ","Url":"https://github.com/dotnet/wpf/pull/1075","RelatedDescription":"Closed or merged PR \"Add one-time installation of a pre-commit git hook to protect generated WPF files\" (#1075)"},{"Id":"460081854","IsPullRequest":false,"CreatedAt":"2019-06-24T20:31:45","Actor":"rladuca","Number":"1076","RawContent":null,"Title":"Update GenAPI Documentation","State":"open","Body":"Issue to pickup any GenAPI documentation changes we want to make.\r\n\r\nSeparated from the broader change #932 so we didn't spin builds just for doc changes and we didn't block Preview7 work.\r\n\r\n@stevenbrix If you want, please add any comments on docs here, we can fix them up post Preview7.","Url":"https://github.com/dotnet/wpf/issues/1076","RelatedDescription":"Open issue \"Update GenAPI Documentation\" (#1076)"},{"Id":"459410451","IsPullRequest":true,"CreatedAt":"2019-06-24T20:29:57","Actor":"rladuca","Number":"1057","RawContent":null,"Title":"Convert C# Reference Assembly Generation to Use GenAPI","State":"closed","Body":"Fixes #932 \r\n\r\nWhat work is currently in this PR:\r\n\r\n### GitHub\r\n* For all shipping C# reference assemblies built on GitHub generate their code from GenAPI\r\n* Fixup any issues that result from GenAPI code gen (see ManualFixups.txt in this PR)\r\n* Baseline all ApiCompat issues (there is a feedback loop here with fixups for a few commits)\r\n\r\n### dotnet-wpf-int\r\n* Switch ProjectReference substitution for dotnet-wpf-int to use runtime assemblies\r\n* For all shipping C# reference assemblies built on dotnet-wpf-int generate their code from GenAPI\r\n* Fixup any issues that result from GenAPI code gen (see ManualFixups.txt in this PR)\r\n* Baseline all ApiCompat issues (there is a feedback loop here with fixups for a few commits)\r\n\r\n### Testing Work:\r\n- [x] Build our internal test corpus against new ref assemblies\r\n- [x] Build our samples repo against new ref assemblies\r\n- [x] Build NuGet Package Explorer against new ref assemblies\r\n- [x] Verify there are no dangling references to assemblies not part of the reference pack \r\n\r\n### What you should center your review around\r\n\r\n* Engineering system changes (in WpfArcadeSdk, ignore Arcade DARC flow)\r\n* ApiCompat results and baselines\r\n* Exclusion lists for GenApi (see GlobalApiExclusions.txt and GlobalAttrExclusions.txt)\r\n\r\nThese are what eventually feed into the reference assemblies and dictate the public surface area.\r\n\r\n### Links\r\n\r\ndotnet-wpf-int PR: https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int/pullrequest/1772?_a=overview\r\n\r\nUpstream notification issue: https://github.com/dotnet/core-setup/issues/6901","Url":"https://github.com/dotnet/wpf/pull/1057","RelatedDescription":"Closed or merged PR \"Convert C# Reference Assembly Generation to Use GenAPI\" (#1057)"},{"Id":"459976143","IsPullRequest":false,"CreatedAt":"2019-06-24T16:06:48","Actor":"grokys","Number":"1072","RawContent":null,"Title":"Build fails on current master","State":"open","Body":"## .NET Core Version\r\n\r\n3.0.100-preview6-012264\r\n\r\n## Windows version\r\n\r\n1903 (18362.175)\r\n \r\n## Problem description\r\n\r\nRunning `build.cmd` on current master (2651715b87f94d1ea1e2d9a0328ab6a2d2dcf6c0) fails with:\r\n\r\n```\r\nPresentationFramework-SystemXml -> D:\\projects\\dotnet\\wpf\\artifacts\\bin\\PresentationFramework-SystemXml\\Debug\\netcoreapp3.0\\PresentationFramework-SystemXml.dll\r\nD:\\projects\\dotnet\\wpf\\src\\Microsoft.DotNet.Wpf\\src\\PresentationBuildTasks\\Microsoft.WinFX.targets(243,9): error MC1000: Unknown build error, 'The type initializer for 'MS.Internal.Markup.ReflectionHelper' threw an exception.'  [D:\\projects\\dotnet\\wpf\\src\\Microsoft.DotNet.Wpf\\test\\DRT\\DrtXaml\\BamlTestClasses40\\BamlTestClasses40.csproj]\r\n```\r\n \r\nFull build output: https://gist.github.com/grokys/516b6c771c81d236769bcc31149db9d8\r\n\r\nThere are a bunch of warnings at the top of the output, but I have no idea what should be done to fix them, or whether they're relevant...","Url":"https://github.com/dotnet/wpf/issues/1072","RelatedDescription":"Open issue \"Build fails on current master\" (#1072)"},{"Id":"459878248","IsPullRequest":true,"CreatedAt":"2019-06-24T13:50:51","Actor":"dotnet-maestro[bot]","Number":"1071","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20190623.4\r\n- **Date Produced**: 6/23/2019 1:29 PM\r\n- **Commit**: 91fa6338fe8152bfc99a0d62781876839909e6c1\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 4.8.0-preview7.19323.4\r\n\r\n[marker]: <> (End:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1071","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1071)"},{"Id":"459868525","IsPullRequest":true,"CreatedAt":"2019-06-24T13:15:24","Actor":"dotnet-maestro[bot]","Number":"1070","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190623.8\r\n- **Date Produced**: 6/24/2019 5:14 AM\r\n- **Commit**: 4c20bc21ee3538341b1dc863eec6c33e3e528eaf\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 4.8.0-preview7.19323.8\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm** -> 3.0.0-preview7.19323.2 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **Microsoft.NETCore.Runtime.CoreCLR** -> 3.0.0-preview7.19323.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm** -> 3.0.0-preview7.19323.2 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **Microsoft.NETCore.Runtime.CoreCLR** -> 3.0.0-preview7.19323.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27823-05 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1070","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1070)"},{"Id":"459853631","IsPullRequest":true,"CreatedAt":"2019-06-24T12:26:17","Actor":"dotnet-maestro[bot]","Number":"1069","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190623.4\r\n- **Date Produced**: 6/24/2019 7:07 AM\r\n- **Commit**: 9946534da4f73e6242ca105f6798ab58119c9ab0\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat** -> 1.0.0-beta.19323.4\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19323.4\r\n  - **Microsoft.DotNet.CodeAnalysis** -> 1.0.0-beta.19323.4\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19323.4\r\n\r\n[marker]: <> (End:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1069","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1069)"},{"Id":"459777217","IsPullRequest":true,"CreatedAt":"2019-06-24T09:10:04","Actor":"ojhad","Number":"1068","RawContent":null,"Title":"Fix crash when copying from RichTextBox","State":"open","Body":"Fixes issue #664 \r\n\r\nThe cause of the crash was that we were missing an encoding (Windows-1252) that is not available by default in core. In order to obtain it, we need to register an encoding provider. I added an internal encoding class to make sure we have this encoding provider registered.","Url":"https://github.com/dotnet/wpf/pull/1068","RelatedDescription":"Open PR \"Fix crash when copying from RichTextBox\" (#1068)"},{"Id":"459606417","IsPullRequest":false,"CreatedAt":"2019-06-23T18:56:09","Actor":"grubioe","Number":"1067","RawContent":null,"Title":"WPF Custom Window after screen rotate to portrait there issue with invalid size","State":"open","Body":"Copied from AzDO OSG: 21051610\r\n\r\n\r\nFedback Details | Description\r\n-- | --\r\nTitle | WPF Custom Window after screen rotate to portrait there issue with invalid size\r\nDescription | WPF Custom Window after screen rotate to portrait there issue with invalid size( after I rotate, the full screen effect disappears, became the reduced form). Reproducible rotate problem only on tablet.For more detailed: https://social.msdn.microsoft.com/Forums/vstudio/en-US/99a43be8-87d8-4b04-aaea-22bd06de81e4/wpf-cusom-window-bug?forum=wpf\r\nDescription |[Original language] WPF Custom Window after screen rotate to portrait there issue with invalid size( after I rotate, the full screen effect disappears, became the reduced form). Reproducible rotate problem only on tablet.For more detailed: https://social.msdn.microsoft.com/Forums/vstudio/en-US/99a43be8-87d8-4b04-aaea-22bd06de81e4/wpf-cusom-window-bug?forum=wpf\r\n\r\nSee AzDo for CABs and more details.   ","Url":"https://github.com/dotnet/wpf/issues/1067","RelatedDescription":"Open issue \"WPF Custom Window after screen rotate to portrait there issue with invalid size\" (#1067)"},{"Id":"459604830","IsPullRequest":false,"CreatedAt":"2019-06-23T18:36:18","Actor":"grubioe","Number":"1066","RawContent":null,"Title":"Textbox cursors disappear when moving from high DPI to low DPI","State":"open","Body":"Copied from AzDO: 831015\r\n\r\nOS: Windows 10 19H1\r\n\r\nCPU: X64\r\n\r\n.NET Build Number: 4.8.03752\r\n\r\nMin Repro Project:\r\n\\\\ansarratserver\\Share\\TextBoxesHaveNoCursor\r\n\r\nRepro Steps:\r\n\r\n1. Have 200% primary, 100% secondary\r\n2. Launch repro proj exe on primary\r\n3. Focus the textbox and see the cursor blinking\r\n4. Move it to secondary\r\n5. The cursor disappears, but can still type in the textbox  \r\n\r\nExpected:\r\n\r\n    The cursor is still visible and blinking\r\n![image](https://user-images.githubusercontent.com/49078227/59980455-ea561600-95aa-11e9-8a1d-37c155013ec7.png)\r\n \r\n\r\nActual:\r\n\r\n    The cursor disappears, but can still type in the textbox\r\n![image](https://user-images.githubusercontent.com/49078227/59980460-fb9f2280-95aa-11e9-96bd-46ff7fabfb8d.png)\r\n\r\n\r\n ","Url":"https://github.com/dotnet/wpf/issues/1066","RelatedDescription":"Open issue \"Textbox cursors disappear when moving from high DPI to low DPI\" (#1066)"},{"Id":"459573916","IsPullRequest":true,"CreatedAt":"2019-06-23T14:13:21","Actor":"dotnet-maestro[bot]","Number":"1065","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20190622.4\r\n- **Date Produced**: 6/22/2019 1:27 PM\r\n- **Commit**: be5355c04aa68d33f26644b25863524d57352e7d\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 4.8.0-preview7.19322.4\r\n\r\n[marker]: <> (End:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1065","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1065)"},{"Id":"459470462","IsPullRequest":true,"CreatedAt":"2019-06-23T13:45:06","Actor":"dotnet-maestro[bot]","Number":"1059","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190622.6\r\n- **Date Produced**: 6/23/2019 3:58 AM\r\n- **Commit**: 62949fc6cec75a86ac10ab538463169b4c6eaaa7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 4.8.0-preview7.19322.6\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILDAsm** -> 3.0.0-preview7.19322.2 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **Microsoft.NETCore.Runtime.CoreCLR** -> 3.0.0-preview7.19322.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n- **Microsoft.NETCore.ILAsm** -> 3.0.0-preview7.19322.2 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **Microsoft.NETCore.Runtime.CoreCLR** -> 3.0.0-preview7.19322.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.App** -> 3.0.0-preview7-27822-05 (parent: Microsoft.Private.Winforms)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n\r\n\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1059","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1059)"},{"Id":"459568428","IsPullRequest":true,"CreatedAt":"2019-06-23T12:36:23","Actor":"dotnet-maestro[bot]","Number":"1064","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190622.2\r\n- **Date Produced**: 6/22/2019 12:46 PM\r\n- **Commit**: 48aed493ffa093728bc9ffd17be0e5957f77aade\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat** -> 1.0.0-beta.19322.2\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19322.2\r\n  - **Microsoft.DotNet.CodeAnalysis** -> 1.0.0-beta.19322.2\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19322.2\r\n\r\n[marker]: <> (End:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1064","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1064)"},{"Id":"459554230","IsPullRequest":false,"CreatedAt":"2019-06-23T09:16:49","Actor":"elyoh","Number":"1063","RawContent":null,"Title":"XpsDocument.GetFixedDocumentSequence throws NotSupportedException","State":"open","Body":"•    NET Core Version: 3.0.0-preview6-27804-01 (also in preview 5).\r\n•    Windows version: Win10\r\n•    Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n\r\nAn attempt is made to read an XPS document from disk:\r\n\r\n```\r\nvar doc = new XpsDocument(\"path to file\", FileAccess.Read);\r\nvar seq = doc.GetFixedDocumentSequence();\r\n```\r\n\r\nThe following exception is thrown:\r\n```\r\nSystem.Windows.Markup.XamlParseException: ''Initialization of 'System.Windows.Documents.FixedDocument' threw an exception.' Line number '1' and line position '479'.'\r\n```\r\nInner exception:\r\n```\r\nNotSupportedException: Specified method is not supported.\r\n```\r\n\r\nStack trace:\r\n```\r\nat System.Windows.Markup.XamlReader.RewrapException(Exception e, IXamlLineInfo lineInfo, Uri baseUri)\r\n   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, IXamlObjectWriterFactory writerFactory, Boolean skipJournaledProperties, Object rootObject, XamlObjectWriterSettings settings, Uri baseUri)\r\n   at System.Windows.Markup.WpfXamlLoader.Load(XamlReader xamlReader, Boolean skipJournaledProperties, Uri baseUri)\r\n   at System.Windows.Markup.XamlReader.Load(XamlReader xamlReader, ParserContext parserContext)\r\n   at System.Windows.Markup.XamlReader.Load(XmlReader reader, ParserContext parserContext, XamlParseMode parseMode, Boolean useRestrictiveXamlReader)\r\n   at System.Windows.Markup.XamlReader.Load(Stream stream, ParserContext parserContext, Boolean useRestrictiveXamlReader)\r\n   at System.Windows.Markup.XamlReader.Load(Stream stream, ParserContext parserContext)\r\n   at System.Windows.Xps.Packaging.XpsDocument.GetFixedDocumentSequence()\r\n```\r\n\r\nThis appears to be a different issue to #575.","Url":"https://github.com/dotnet/wpf/issues/1063","RelatedDescription":"Open issue \"XpsDocument.GetFixedDocumentSequence throws NotSupportedException\" (#1063)"},{"Id":"459509854","IsPullRequest":false,"CreatedAt":"2019-06-22T20:47:18","Actor":"rladuca","Number":"1062","RawContent":null,"Title":"Convert System.Printing-ref that builds on GitHub to a cycle-breaker","State":"open","Body":"On GitHub, System.Printing-ref.csproj builds an assembly that is used pre-dominantly as a cycle-breaker (for internals).  The real reference assembly is currently building in dotnet-wpf-int.\r\n\r\nWe should formally convert this to a true cycle-breaker and trim down the surface area exposed.\r\n\r\nThis is follow on work from: https://github.com/dotnet/wpf/issues/932 where, in the dotnet-wpf-int portion, we removed the internals from System.Printing's reference assembly.  When System.Printing goes open source, this need to be done since the new ref assembly will no longer contain internals needed by the build.","Url":"https://github.com/dotnet/wpf/issues/1062","RelatedDescription":"Open issue \"Convert System.Printing-ref that builds on GitHub to a cycle-breaker\" (#1062)"},{"Id":"459501207","IsPullRequest":false,"CreatedAt":"2019-06-22T18:50:22","Actor":"stevenbrix","Number":"1061","RawContent":null,"Title":"PresentationCore.dll doesn't get picked up by test apps","State":"open","Body":"When using the pattern described in the [developer guide](https://github.com/dotnet/wpf/blob/master/Documentation/developer-guide.md#testing-api-changes) most managed assemblies like `WindowsBase` and `PresentationFramework` will be copied and used, except for `PresentationCore`.\r\n\r\nThere's probably something small here that just requires investigating the MSBuild bin logs and trying to figure out where these references get picked up and why this is special.","Url":"https://github.com/dotnet/wpf/issues/1061","RelatedDescription":"Open issue \"PresentationCore.dll doesn't get picked up by test apps\" (#1061)"},{"Id":"459472201","IsPullRequest":true,"CreatedAt":"2019-06-22T13:58:04","Actor":"dotnet-maestro[bot]","Number":"1060","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20190621.4\r\n- **Date Produced**: 6/21/2019 1:33 PM\r\n- **Commit**: 60ea959c0348e659f63275c9cfb7898fed9c0056\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 4.8.0-preview7.19321.4\r\n\r\n[marker]: <> (End:5a60b451-e3fe-4910-c0e5-08d6df169eee)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1060","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1060)"},{"Id":"459467698","IsPullRequest":true,"CreatedAt":"2019-06-22T12:36:17","Actor":"dotnet-maestro[bot]","Number":"1058","RawContent":null,"Title":"[master] Update dependencies from dotnet/arcade","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n## From https://github.com/dotnet/arcade\r\n- **Build**: 20190621.75\r\n- **Date Produced**: 6/22/2019 3:18 AM\r\n- **Commit**: fcee3d5c2d6180bec19c4ae50234771c436b4b52\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.ApiCompat** -> 1.0.0-beta.19321.75\r\n  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19321.75\r\n  - **Microsoft.DotNet.CodeAnalysis** -> 1.0.0-beta.19321.75\r\n  - **Microsoft.DotNet.Helix.Sdk** -> 2.0.0-beta.19321.75\r\n\r\n[marker]: <> (End:3a1d3bb6-c64d-406d-e8f4-08d648cf64cb)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1058","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/arcade\" (#1058)"},{"Id":"459379531","IsPullRequest":true,"CreatedAt":"2019-06-21T21:29:10","Actor":"ryalanms","Number":"1056","RawContent":null,"Title":"Restore PackageReferences in temporary assembly projects to import build extensions","State":"open","Body":"**The temporary project is not getting props and targets files (build extension files) from PackageReferences defined in their parent project.**  This is causing failures in referenced packages that rely on build extensions (e.g., Google Protocol Buffers) to perform pre-compile tasks, such as code generation.  \r\n\r\nSeveral options were considered, including consuming the generated props and targets that include the PackageReferences props/targets from the outer parent project, as the parent project `Restore` has already run and includes identical PackageReferences. However, we opted to run `Restore` directly on the temporary project instead, which allowed a fix without changes to external build files (other than a minor change to the Arcade SDK).  There are now two `Restore` operations: one for the parent project and one for the temporary project.  Note that `Restore` will not re-download packages but will generate the assets file, targets file, and props file.  These files include imports for build extensions in the PackageReferences.\r\n\r\nThese tasks could easily be condensed in to a single parameterized task, but breaking the steps in to three made a logs easier to read and improved debugging.  There are now three tasks: \r\n\r\n1. `CreateTemporaryTargetAssemblyProject`\r\n2. `RestoreTemporaryTargetAssemblyProject` (which calls `RunProjectBuildTarget` with `Restore`)\r\n3. `GenerateTemporaryTargetAssembly`\r\n\r\nThe first task creates a temporary project with random component in the name from the outer parent project.  `RestoreTemporaryTargetAssemblyProject` consumes the temporary project and runs `Restore`, generating assets, .props, and .targets files that include imports to any build extensions inside PackageReferences.  These files are then consumed in `GenerateTemporaryTargetAssembly` as part of the\r\nnormal build process for the temporary project.\r\n\r\nNote that there is an Arcade SDK targets file change that needs to be coordinated with this change.  Workaround.props needs to be modified to remove a temporary workaround for the lack of PackageReference support to prevent duplicate import errors.  https://github.com/dotnet/arcade/pull/3127\r\n\r\n(APICompat was re-baselined to account for the public API surface changes in PresentationBuildTasks.)","Url":"https://github.com/dotnet/wpf/pull/1056","RelatedDescription":"Open PR \"Restore PackageReferences in temporary assembly projects to import build extensions\" (#1056)"},{"Id":"459355051","IsPullRequest":false,"CreatedAt":"2019-06-21T20:10:49","Actor":"ryalanms","Number":"1055","RawContent":null,"Title":"Remove 'IsWpfTempProject' workaround after .NET Core Preview 8 is released (Arcade #3129)","State":"open","Body":"Tracking arcade issue: https://github.com/dotnet/arcade/pull/3129\r\n\r\nWPF for .NET Core is adding a restore step to temporary project compilation for PackageReferences. The existing Arcade workaround needs to be temporarily updated to prevent duplicate imports, then removed entirely after the next WPF Preview release.","Url":"https://github.com/dotnet/wpf/issues/1055","RelatedDescription":"Open issue \"Remove 'IsWpfTempProject' workaround after .NET Core Preview 8 is released (Arcade #3129)\" (#1055)"},{"Id":"459267206","IsPullRequest":false,"CreatedAt":"2019-06-21T15:59:56","Actor":"grubioe","Number":"1054","RawContent":null,"Title":"[DRT] Fix DRT failures for DataServices, FlowLayout, DigitalDocuments, Printing, XAML","State":"open","Body":"Fix all failures outlined in following table:\r\n\r\n\r\nFeature | Test Case | Reproduced OS | Log | Bugs:\r\n-- | -- | -- | -- | --\r\nDataServices | DrtDataSrv() | All test OSes | DrtDataSrv() | https://github.com/dotnet/wpf/issues/756   should be going away soon\r\nFlowLayout | DrtFlow() | 2K8R2 | DrtFlow()-2K8R2 |  \r\nFlowLayout | DrtFlowLayout() | All test OSes | DrtFlowLayout() |  \r\nImaging | DrtImaging() | Failed OS: (x64 OSes)   Win2K8R2,   Win2K12,   RS1 ServerStandard,   RS3 x64,   RS5 x64 | DrtImaging()-X64   DrtImaging()-2K8R2 | https://devdiv.visualstudio.com/DevDiv/_workitems/edit/832896\r\nPrinting | DrtPrinting() | Failed OS:    Win81 x86,   Win2K12,   RS1 x86,   RS1 ServerStandard,   RS5 x64,   RS6 x86 | DrtPrinting()   DrtPrinting()-RS5&&RS6 | https://github.com/dotnet/wpf/issues/597\r\nXaml | DrtXaml() | All test OSes | DrtXaml() | https://devdiv.visualstudio.com/DevDiv/_workitems/edit/690127\r\nDigitalDocuments | DrtDigitalSignature() | All test OSes | DrtDigitalSignature() | https://devdiv.visualstudio.com/DevDiv/_workitems/edit/832895\r\nDigitalDocuments | DrtInterleavedPackage() | All test OSes | DrtInterleavedPackage() | https://devdiv.visualstudio.com/DevDiv/_workitems/edit/848772\r\nDigitalDocuments | DrtMetroTest() | All test OSes | DrtMetroTest() | https://devdiv.visualstudio.com/DevDiv/_workitems/edit/841548\r\nDigitalDocuments | DrtPackagingApis() | All test OSes | DrtPackagingApis() |  \r\nDigitalDocuments | DrtSequence() | All test OSes | DrtSequence() |  \r\nDigitalDocuments | DrtXpsApi() | All test OSes | DrtXpsApi() |  \r\nDigitalDocuments | DrtZipIO() | All test OSes | DrtZipIO() |  \r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/1054","RelatedDescription":"Open issue \"[DRT] Fix DRT failures for DataServices, FlowLayout, DigitalDocuments, Printing, XAML\" (#1054)"},{"Id":"459265361","IsPullRequest":false,"CreatedAt":"2019-06-21T15:55:30","Actor":"grubioe","Number":"1053","RawContent":null,"Title":"[DRT] Microsuite Failures AppModel & Editing","State":"open","Body":"Fix following Microsuite failures:\r\n\r\n\r\nFeature | Test Case | Reproduced OS | Log | Notes:\r\n-- | -- | -- | -- | --\r\nAppModel | /Name=\"SplashScreen_Png_CS\"   /SubArea=\"SplashScreen\" | All test OSes | SplashScreen_Png_CS | SplashScreen msbuild action is not   supported in Net Core 3\r\nAppModel | /Name=\"Win7_JumpList_JumpItemsRemovedByUser\"   /SubArea=\"Win7\" | Failed OSes:   RS1 ServerStandard,   RS1 x86,   RS3 x64,   RS4 x86,   RS5 x64,   RS6 x86 | Win7_JumpList_JumpItemsRemovedByUser   On .NET Framework, it’s active bug 126798 |  \r\nEditing | /Name=\"XamlPackageBVTTest\"   /SubArea=\"Clipboard\"   /Name=\"ParagraphEditingWithMouse2\"   /SubArea=\"RichEditing\"    /Name=\"TextRangeSaveLoadTest\"   /SubArea=\"TextOM\" | All test OSes | [3Cases]XamlPackageBVTTest&ParagraphEditingWithMouse2&TextRangeSaveLoadTest |  \r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/1053","RelatedDescription":"Open issue \"[DRT] Microsuite Failures AppModel & Editing\" (#1053)"},{"Id":"459262078","IsPullRequest":false,"CreatedAt":"2019-06-21T15:47:47","Actor":"grubioe","Number":"1052","RawContent":null,"Title":"[DRT] DrtInterleavedPackage fails after System.IO.Packaging refactoring","State":"open","Body":"Copied from AzDO: 848772\r\n\r\nSteps to reproduce:\r\n\r\n1. Run DrtInterleavedPackage\r\n2. Observe NullReferenceException from missing PAckage.Open method we reflect into.\r\n\r\nThe purpose of this test is to simulate the way XpsDocument calls into System.IO.Packaging to achieve package generation for printing and saving to disk. since System.IO.Packaging changed significantly in the support for certain features we need to first figure out how to achieve package generation correctly in product code, once we do that we can look into changing this test to reflect that.","Url":"https://github.com/dotnet/wpf/issues/1052","RelatedDescription":"Open issue \"[DRT] DrtInterleavedPackage fails after System.IO.Packaging refactoring\" (#1052)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-06-25T05:30:52.3224257Z","RunDurationInMilliseconds":869}