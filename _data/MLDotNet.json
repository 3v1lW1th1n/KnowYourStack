{"Data":{"GitHub":{"Issues":[{"Id":"598659671","IsPullRequest":true,"CreatedAt":"2020-04-13T04:06:07","Actor":"kevencarneiro","Number":"5021","RawContent":null,"Title":"LoadColumnName support in TextLoader and auto map class members ","State":"open","Body":"This pull request resolves #4480.\r\n\r\nThese features were add in this pull request:\r\n* Support of `LoadColumnName` attribute in `TextLoader` class (when loaded file has headers).\r\n* Possibility to ignore a member when using `CreateTextLoader` using the `LoadColumnIgnoreAttribute`\r\n* Feature to map the `TInput` properties/fields name to column of TextLoader (when loaded file has headers)\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5021","RelatedDescription":"Open PR \"LoadColumnName support in TextLoader and auto map class members \" (#5021)"},{"Id":"598621005","IsPullRequest":false,"CreatedAt":"2020-04-13T01:45:33","Actor":"dcostea","Number":"5020","RawContent":null,"Title":"Error scoring Tensorflow model mtcnn.pb. The second input must be a scalar, but it has shape [1,1]","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Win10\r\n- **.NET Version (eg., dotnet --info)**:  .NET Core 3.1\r\n\r\n### Issue\r\n\r\n- **What did you do?** I have run TensorFlow scoring using mtcnn.pb model\r\n- **What happened?** I got Tensorflow.TensorflowException: The second input must be a scalar, but it has shape [1,1]\r\n\t [[Node: _clooppnet/while/add/y/_2 = Switch[T=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](_clooppnet/while/add/y/_1, pnet/while/LoopCond/_135)]]\r\n- **What did you expect?** To get the bounding box, maybe probability and landmarks as well.\r\n\r\n### Source code / logs\r\n\r\nHere is the mtcnn.pb model: [mtcnn.zip](https://github.com/dotnet/machinelearning/files/4467608/mtcnn.zip)\r\n\r\nThese are the inputs:\r\n![Untitled](https://user-images.githubusercontent.com/15055082/79085329-7737af00-7d38-11ea-9e1d-bd57d21a09df.png)\r\n\r\nThis is one of the outputs node (box):\r\n![Untitled](https://user-images.githubusercontent.com/15055082/79085482-0218a980-7d39-11ea-8c33-50f57b0c3f8a.png)\r\n\r\n```csharp\r\n        class PredictedImageData\r\n        {\r\n            [ColumnName(\"box\")]\r\n            [VectorType(1)]\r\n            public float[] BoundingBox { get; set; }\r\n\r\n            [ColumnName(\"landmarks\")]\r\n            [VectorType(1)]\r\n            public float[] Landmarks { get; set; }\r\n\r\n            [ColumnName(\"prob\")]\r\n            public float Probability { get; set; }\r\n        }\r\n\r\n        private struct ImageNetSettings\r\n        {\r\n            public const int imageHeight = 224;\r\n            public const int imageWidth = 224;\r\n        }\r\n\r\n        public class ImageNetData\r\n        {\r\n            public string ImagePath;\r\n\r\n            //[ImageType(ImageNetSettings.imageHeight, ImageNetSettings.imageWidth)]\r\n            //[VectorType(1)]\r\n            //[ColumnName(\"input\")]\r\n            //public Bitmap Input { get; set; }\r\n\r\n            [VectorType(1)]\r\n            [ColumnName(\"min_size\")]\r\n            public float[] MinSize;\r\n\r\n            [VectorType(1)]\r\n            [ColumnName(\"factor\")]\r\n            public float[] Factor;\r\n\r\n            [VectorType(3)]\r\n            [ColumnName(\"thresholds\")]\r\n            public float[] Thresholds;\r\n        }\r\n\r\n        static void Main(string[] args)\r\n        {\r\n            var mlContext = new MLContext(seed: 1);\r\n            var modelLocation = \"mtcnn.pb\";\r\n            var data = mlContext.Data.LoadFromEnumerable(new List<ImageNetData>());\r\n\r\n            var pipeline = mlContext\r\n                .Transforms.LoadImages(\r\n                    outputColumnName: \"input\",\r\n                    imageFolder: \"\",\r\n                    inputColumnName: nameof(ImageNetData.ImagePath))\r\n                .Append(mlContext\r\n                .Transforms.ResizeImages(\r\n                    outputColumnName: \"input\",\r\n                    imageWidth: ImageNetSettings.imageWidth,\r\n                    imageHeight: ImageNetSettings.imageHeight,\r\n                    inputColumnName: \"input\"))\r\n                .Append(mlContext.Transforms.ExtractPixels(\r\n                    outputColumnName: \"input\"))\r\n                .Append(mlContext.Model.LoadTensorFlowModel(modelLocation).ScoreTensorFlowModel(\r\n                    inputColumnNames: new[] { \"input\", \"thresholds\", \"min_size\", \"factor\" },\r\n                    //outputColumnNames: new[] { \"box\", \"prob\", \"landmarks\" },\r\n                    outputColumnNames: new[] { \"box\" },\r\n                    addBatchDimensionInput: true));\r\n\r\n            ITransformer model = pipeline.Fit(data);\r\n\r\n            var predictionEngine = mlContext.Model.CreatePredictionEngine<ImageNetData, PredictedImageData>(model);\r\n\r\n            var prediction = predictionEngine.Predict(new ImageNetData\r\n            {\r\n                ImagePath = \"anastasia3.jpg\",\r\n                //Input = (Bitmap)Image.FromFile(\"anastasia3.jpg\"),\r\n                MinSize = new float[] { 40F },\r\n                Factor = new float[] { 0.709F },\r\n                Thresholds = new float[] { 0.6F, 0.7F, 0.7F }\r\n            });\r\n        }\r\n```\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5020","RelatedDescription":"Open issue \"Error scoring Tensorflow model mtcnn.pb. The second input must be a scalar, but it has shape [1,1]\" (#5020)"},{"Id":"598597880","IsPullRequest":true,"CreatedAt":"2020-04-13T00:11:28","Actor":"LittleLittleCloud","Number":"5019","RawContent":null,"Title":"wip - Add Sweepable Pipeline","State":"closed","Body":"Allow users to sweep over pre-defined paramaters with similar API of creating/training a pipeline.\r\n\r\nIn the current state, only RandomSweeper is provided, but it can be easily expanded to other sweepers like `GridSearch` or `SMAC` (Still working on)\r\n\r\nRight now, only one sweepable trainer is allowed in each pipeline, however, we can support multi-trainer easily with a few lines change.\r\n\r\nOne of a sample pipeline here, it uses `RandomSweeper` over a user-defined paramater set and sweeps over 20 times\r\n\r\nhttps://github.com/LittleLittleCloud/machinelearning/blob/7fb65fdd5c1f47e53f900cd05172aa950043bb62/test/Microsoft.ML.AutoML.Tests/AutoEstimatorChainTest.cs#L25\r\n\r\nAnd part of it's Output\r\n```\r\nAlpha: 0.001\r\nLambda: 0.05\r\nApproximationRank: 16\r\nLearningRate: 0.001\r\n\r\nRMSE: 2.92724592035029\r\nAlpha: 0.0001\r\nLambda: 1\r\nApproximationRank: 8\r\nLearningRate: 0.01\r\n\r\n...\r\n```\r\n\r\n### Why I create this PR\r\nAuto sweeping parameter is quite a useful feature in Automate ML, AutoML.Net supports it internally but those API is not exposed and sweeping value is fixed, moreover, it only supports a few trainers. It will be great if ML.Net has some external API to allow users to sweep over trainer's parameters on the pipeline level. \r\n\r\n### What will be next\r\n- allow sweeping Enum type\r\n- adding more sweepers (GridSearch/SMAC....)\r\n- ( if I have time ) create a similar API experience with what AutoML.Net has (saying, creating customer experiment based on pipeline, providing CV training and evaluation, and generate CodeGen afterwards)\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5019","RelatedDescription":"Closed or merged PR \"wip - Add Sweepable Pipeline\" (#5019)"},{"Id":"598436872","IsPullRequest":true,"CreatedAt":"2020-04-12T08:29:29","Actor":"antoniovs1029","Number":"5018","RawContent":null,"Title":"Support for Categorical features in CalculateFeatureContribution of LightGBM","State":"open","Body":"Fixes #3272\r\n\r\nAs explained [here](https://github.com/dotnet/machinelearning/issues/3272#issuecomment-611849910), `CalculateFeatureContribution` would throw an exception when used on LightGBM models that had `UseCategoricalSplit` enabled, because there was no support to calculate feature contribution for categorical features. Here I add that support, and one test to replicate the original scenario were an exception was thrown.","Url":"https://github.com/dotnet/machinelearning/pull/5018","RelatedDescription":"Open PR \"Support for Categorical features in CalculateFeatureContribution of LightGBM\" (#5018)"},{"Id":"598242659","IsPullRequest":true,"CreatedAt":"2020-04-11T10:57:59","Actor":"kevencarneiro","Number":"5017","RawContent":null,"Title":"Fixing build in UNIX systems that don't have en-US as default culture","State":"open","Body":"This Pull Request fixes #5016 as is set the language to en-US for the shell session, fixing the build problem existing in the cultures that uses comma as decimal separator.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5017","RelatedDescription":"Open PR \"Fixing build in UNIX systems that don't have en-US as default culture\" (#5017)"},{"Id":"598223556","IsPullRequest":false,"CreatedAt":"2020-04-11T08:53:16","Actor":"kevencarneiro","Number":"5016","RawContent":null,"Title":"Build failed in non-english cultures using build.sh","State":"open","Body":"### System information\r\n\r\n- **OS version/distro**: Mac OS Catalina\r\n- **.NET Version (eg., dotnet --info)**: 3.1.200\r\n\r\n### Issue\r\n\r\n- **What did you do?**\r\nCloned the repository and builded the project using build.sh file \r\n- **What happened?**\r\nThe project `Microsoft.ML.FSharp.Tests.fsproj` fails to build with error FS0246. My default localization use comma to separate decimal places and when it's building the project it tries to parse in my current culture instead of en-US.\r\n- **What did you expect?**\r\nThe project should build successfully.\r\n\r\n### Source code / logs\r\nPlease paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.\r\n\r\n`\r\nFSC : error FS0246: Valor n√£o reconhecido '4.7' para --langversion use --langversion:? para a lista completa \r\n`","Url":"https://github.com/dotnet/machinelearning/issues/5016","RelatedDescription":"Open issue \"Build failed in non-english cultures using build.sh\" (#5016)"},{"Id":"593699160","IsPullRequest":true,"CreatedAt":"2020-04-10T23:50:43","Actor":"Lynx1820","Number":"5000","RawContent":null,"Title":"CountFeatureSelectingEstimator no selection support","State":"closed","Body":"**Issue**: The GatherElements ONNX operator used by SlotsDroppingTransformer (transformer for CountFeatureSelectingEstimator) has issues when there's nothing selected, so mlnet needs to handle this case separately. \r\n\r\n**This PR**\r\n- Fixes the issue mentioned above\r\n- Modifies the estimator's test to be more robust\r\n\r\n**Other issues:**\r\n- There's no support for string initializing in ONNX, which prevents us from handling the case where no string columns get selected.\r\n- The documentation for CountFeatureSelectingEstimator is ambiguous. It states that it supports input as  \"vector or scalar of numeric, text or key data types\". However, only strings, doubles, and singles are supported. \r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5000","RelatedDescription":"Closed or merged PR \"CountFeatureSelectingEstimator no selection support\" (#5000)"},{"Id":"598019039","IsPullRequest":true,"CreatedAt":"2020-04-10T18:07:43","Actor":"michaelgsharp","Number":"5015","RawContent":null,"Title":"Lag Lead operator","State":"open","Body":"This PR depends on PR #4993, because that PR is not in yet this PR says it is making more changes then it is. The only new changes this pr brings in once that PR goes in is the LagLead operator. So you can only review the LagLeadOperator files and tests and can ignore the others. This branch will be updated when that other PR gets merged.\r\n\r\nLagLeadOperator copies values from prior (lag) rows or future (lead) rows.","Url":"https://github.com/dotnet/machinelearning/pull/5015","RelatedDescription":"Open PR \"Lag Lead operator\" (#5015)"},{"Id":"598018355","IsPullRequest":true,"CreatedAt":"2020-04-10T18:06:09","Actor":"michaelgsharp","Number":"5014","RawContent":null,"Title":"Forecasting Pivot Featurizer","State":"open","Body":"This PR depends on PR #4993, because that PR is not in yet this PR says it is making more changes then it is. The only new changes this pr brings in once that PR goes in is the ForecastingPivot featurizer. So you can only review the ForecastingPivotFeaturizer files and tests and can ignore the others. This branch will be updated when that other PR gets merged.\r\n\r\nForecastingPivotFeaturizer takes in columns that are 2D vectors, and \"pivots\" them into single value columns while dropping null values. It currently supports output from LagLeadOperator and RollingWindowFeaturizer.","Url":"https://github.com/dotnet/machinelearning/pull/5014","RelatedDescription":"Open PR \"Forecasting Pivot Featurizer\" (#5014)"},{"Id":"598005423","IsPullRequest":true,"CreatedAt":"2020-04-10T17:36:34","Actor":"Lynx1820","Number":"5013","RawContent":null,"Title":"MurmurHash Onnx Export","State":"open","Body":"The following data input types are currently not supported by onnxruntime's murmurHash operator: float, double, ulong, long, and boolean. Once added, ml.net will be able to support them as well. ","Url":"https://github.com/dotnet/machinelearning/pull/5013","RelatedDescription":"Open PR \"MurmurHash Onnx Export\" (#5013)"},{"Id":"593695555","IsPullRequest":true,"CreatedAt":"2020-04-10T07:06:18","Actor":"frank-dong-ms","Number":"4999","RawContent":null,"Title":"fix TestCancellation hanging","State":"closed","Body":"fix TestCancellation, this test sometimes hangs like below:\r\n\r\nhttps://dev.azure.com/dnceng/public/_build/results?buildId=584913&view=logs&j=32952595-30e7-56fa-9b86-c4579b87f5d1&t=4390109a-3c77-5b7c-bf35-d176b654cd3c \r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4999","RelatedDescription":"Closed or merged PR \"fix TestCancellation hanging\" (#4999)"},{"Id":"597167396","IsPullRequest":true,"CreatedAt":"2020-04-09T10:00:13","Actor":"antoniovs1029","Number":"5012","RawContent":null,"Title":"Avoid propagating some input columns when applying an Onnx model","State":"open","Body":"Fixes #4970 \r\n\r\nAfter discussing this issue with @harishsk we agreed that the way to go is to drop all the input columns that are used as inputs of the onnx model that is applied by an `OnnxTransformer`. I've added the `ColumnSelectingOnnxTestColumnPropagation` where I explain and show more clearly what effects this has on different scenarios.\r\n\r\nSince the `OnnxTransformer` is a `RowToRowTransformerBase`, it can't drop columns only add columns. In fact, it seems that there's no transformer that do both dropping and adding columns.\r\n\r\nTo solve this, changes needed to be made in `RowToRowTransformerBase `to let `OnnxTransformer `override some methods, so that it can have more control on the output schema. This way the `OnnxTransformer `now creates a `OnnxDataTransform `which in turn uses the same `OnnxTransformer.Mapper `that always existed, but now it also uses a `OnnxTransformer.Bindings` that enable dropping columns while also adding the new columns added by the mapper. This is different from the previous behavior, where the `RowToRowTransformerBase `would return a `RowToRowMapperTransform `which used the typical `ColumnBindings `which only add columns to the input but don't drop columns from it.\r\n\r\nNOTE: I have left several \"//MYTODO\" comments with thoughts and questions for myself, which shall be removed before merging this PR. I've also added some comments here on GitHub pointing to the thoughts and questions that I find more important to address first.\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5012","RelatedDescription":"Open PR \"Avoid propagating some input columns when applying an Onnx model\" (#5012)"},{"Id":"596970371","IsPullRequest":true,"CreatedAt":"2020-04-09T03:05:31","Actor":"frank-dong-ms","Number":"5011","RawContent":null,"Title":"fix SsaForecast test","State":"closed","Body":"PolynomialUtils.FindPolynomialCoefficients is not thread safe. \r\nPolynomialFactor class contains static fields Destination that be override by other threads during test execution. \r\nLock method call to FindPolynomialCoefficients to make it thread safe.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5011","RelatedDescription":"Closed or merged PR \"fix SsaForecast test\" (#5011)"},{"Id":"596915339","IsPullRequest":true,"CreatedAt":"2020-04-08T23:08:14","Actor":"frank-dong-ms","Number":"5010","RawContent":null,"Title":"Move agent pool","State":"open","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [ ] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [ ] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5010","RelatedDescription":"Open PR \"Move agent pool\" (#5010)"},{"Id":"595516660","IsPullRequest":true,"CreatedAt":"2020-04-08T17:06:28","Actor":"mstfbl","Number":"5003","RawContent":null,"Title":"Updated MultiFileSource.Load to fix inconsistent behavior with multiple files","State":"closed","Body":"Fixes #4982 \r\n\r\nMultiFileSource's `Load` can now accommodate loading from multiple paths. Also added more test cases for the additional features of `MultiFileSource`.\r\n\r\nExample usages:\r\n`textLoader.Load(\"Data/*\");`\r\n`textLoader.Load(\"DataFolder/.../*\");`\r\n`textLoader.Load(\"DataFolder/SubFolder1/*\", \"DataFolder/SubFolder2/*\");`\r\n`textLoader.Load(\"DataFolder/SubFolder1/1.csv\", \"DataFolder/SubFolder2/2.csv\");`","Url":"https://github.com/dotnet/machinelearning/pull/5003","RelatedDescription":"Closed or merged PR \"Updated MultiFileSource.Load to fix inconsistent behavior with multiple files\" (#5003)"},{"Id":"595585054","IsPullRequest":true,"CreatedAt":"2020-04-08T02:14:57","Actor":"frank-dong-ms","Number":"5004","RawContent":null,"Title":"disable tensorflow tests to save disk space","State":"closed","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [ ] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [ ] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5004","RelatedDescription":"Closed or merged PR \"disable tensorflow tests to save disk space\" (#5004)"},{"Id":"596242034","IsPullRequest":true,"CreatedAt":"2020-04-08T02:14:46","Actor":"frank-dong-ms","Number":"5008","RawContent":null,"Title":"clean nuget package to save disk space","State":"closed","Body":"run out of disk space on CI, so clean up nuget packages to save disk space:\r\n1. delete windows and mac os packages for linux\r\n2. delete windows and linux packages for mac os\r\n3.delete linux and mac os packages for windows\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5008","RelatedDescription":"Closed or merged PR \"clean nuget package to save disk space\" (#5008)"},{"Id":"596065428","IsPullRequest":false,"CreatedAt":"2020-04-07T18:26:37","Actor":"gvashishtha","Number":"5007","RawContent":null,"Title":"Remarks section appears malformed","State":"open","Body":"Docs rendering bug\n\n---\n#### Document Details\n\n‚ö† *Do not edit this section. It is required for docs.microsoft.com ‚ûü GitHub issue linking.*\n\n* ID: ce7a249f-fd8a-5869-8dc7-9142e7cba9d2\n* Version Independent ID: 58ab615c-8c4b-b22c-57fc-99872b0d5445\n* Content: [SsaForecastingEstimator Class (Microsoft.ML.Transforms.TimeSeries)](https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms.timeseries.ssaforecastingestimator?view=ml-dotnet)\n* Content Source: [dotnet/xml/Microsoft.ML.Transforms.TimeSeries/SsaForecastingEstimator.xml](https://github.com/dotnet/ml-api-docs/blob/live/dotnet/xml/Microsoft.ML.Transforms.TimeSeries/SsaForecastingEstimator.xml)\n* Product: **dotnet-ml-api**\n* GitHub Login: @natke\n* Microsoft Alias: **nakersha**","Url":"https://github.com/dotnet/machinelearning/issues/5007","RelatedDescription":"Open issue \"Remarks section appears malformed\" (#5007)"},{"Id":"596055190","IsPullRequest":true,"CreatedAt":"2020-04-07T18:08:25","Actor":"michaelgsharp","Number":"5006","RawContent":null,"Title":"Rolling window","State":"open","Body":"This PR depends on PR #4993, because that PR is not in yet this PR says it is making more changes then it is. The only new changes this pr brings in once that PR goes in is the RollingWindow featurizer. So you can only review the RollingWindow files and tests and can ignore the others. This branch will be updated when that other PR gets merged.\r\n\r\nRollingWindow does rolling window calculations per grain (kinda like a composite unique key by combining multiple columns). It currently provides min/mean/max.","Url":"https://github.com/dotnet/machinelearning/pull/5006","RelatedDescription":"Open PR \"Rolling window\" (#5006)"},{"Id":"595334349","IsPullRequest":true,"CreatedAt":"2020-04-07T17:56:01","Actor":"LittleLittleCloud","Number":"5002","RawContent":null,"Title":"add projects capability in CodeGenerator","State":"closed","Body":"if generated by ModelBuilder, will add \r\n`<ProjectCapability Include=\"ModelBuilderGenerated\" />`\r\nelse\r\n`<ProjectCapability Include=\"MLNETCLIGenerated\" />`\r\nto .Model and .Console project\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/5002","RelatedDescription":"Closed or merged PR \"add projects capability in CodeGenerator\" (#5002)"},{"Id":"596014149","IsPullRequest":true,"CreatedAt":"2020-04-07T16:55:06","Actor":"michaelgsharp","Number":"5005","RawContent":null,"Title":"Short grain dropper","State":"open","Body":"This PR depends on PR #4993, because that PR is not in yet this PR says it is making more changes then it is. The only _new_ changes this pr brings in once that PR goes in is the Short grain dropper. So you can only review the ShortGrainDropper files and tests and can ignore the others. This branch will be updated when that other PR gets merged.\r\n\r\nShortGrainDropper makes sure that each grain combination (kinda like a composite unique key by combining multiple columns) has the specified minimum number of rows. If it does not, then the all the rows corresponding to that grain are dropped.","Url":"https://github.com/dotnet/machinelearning/pull/5005","RelatedDescription":"Open PR \"Short grain dropper\" (#5005)"},{"Id":"595197773","IsPullRequest":false,"CreatedAt":"2020-04-06T15:10:27","Actor":"SkyQuant","Number":"5001","RawContent":null,"Title":"üìù Alternative ways to prepare dataset","State":"open","Body":"How can I extract model class because builder doesn't work? (error https://github.com/dotnet/machinelearning/issues/4879)\r\n\r\nCan I train simple matrix, like \r\n`           var labels = new List<double>();\r\n            var features = new List<List<double>>();`\r\n\r\nOr dataframe loaded by **CsvHelper**?\r\n\r\nAny other alternatives to prepare dataset?","Url":"https://github.com/dotnet/machinelearning/issues/5001","RelatedDescription":"Open issue \"üìù Alternative ways to prepare dataset\" (#5001)"},{"Id":"593010362","IsPullRequest":true,"CreatedAt":"2020-04-04T00:38:47","Actor":"frank-dong-ms","Number":"4997","RawContent":null,"Title":"fix tensorflow test hanging issue","State":"closed","Body":"fixed 2 issue of tensorflow tests:\r\n1. fix issue in Resource Manager, use ReadAsync instead of Read to let thread timeout corrently\r\n2. move download ImageSet to constructor of test class to avoid duplicate download for different tests\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4997","RelatedDescription":"Closed or merged PR \"fix tensorflow test hanging issue\" (#4997)"},{"Id":"592228503","IsPullRequest":true,"CreatedAt":"2020-04-04T00:18:22","Actor":"mstfbl","Number":"4995","RawContent":null,"Title":"Removed WeakReference<IHosts> already cleaned up by GC","State":"closed","Body":"Fixes #4914 \r\n\r\nWeakReference<IHost> objects are stored in `_children`. Occasionally Garbage Collector cleans up these WeakReference<IHost>s and change their `target` value to null, but their `WeakReference`s in the `List _children` are never removed. This PR explicity removed those `WeakReference` objects that have null targets.\r\n\r\n`List.RemoveAll()` has a time-complexity of O(n) where n is the number of objects in `List`.","Url":"https://github.com/dotnet/machinelearning/pull/4995","RelatedDescription":"Closed or merged PR \"Removed WeakReference<IHosts> already cleaned up by GC\" (#4995)"},{"Id":"593388106","IsPullRequest":true,"CreatedAt":"2020-04-03T13:36:24","Actor":"mengaims","Number":"4998","RawContent":null,"Title":"Add interface for SrCnnEntireAnomalyEstimator","State":"open","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [ ] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [ ] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4998","RelatedDescription":"Open PR \"Add interface for SrCnnEntireAnomalyEstimator\" (#4998)"},{"Id":"592276680","IsPullRequest":true,"CreatedAt":"2020-04-03T01:12:09","Actor":"frank-dong-ms","Number":"4996","RawContent":null,"Title":"add some logs and see if download images cause the hanging","State":"closed","Body":"We are excited to review your PR.\r\n\r\nSo we can do the best job, please check:\r\n\r\n- [ ] There's a descriptive title that will make sense to other developers some time from now. \r\n- [ ] There's associated issues. All PR's should have issue(s) associated - unless a trivial self-evident change such as fixing a typo. You can use the format `Fixes #nnnn` in your description to cause GitHub to automatically close the issue(s) when your PR is merged.\r\n- [ ] Your change description explains what the change does, why you chose your approach, and anything else that reviewers should know.\r\n- [ ] You have included any necessary tests in the same PR.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4996","RelatedDescription":"Closed or merged PR \"add some logs and see if download images cause the hanging\" (#4996)"},{"Id":"592179452","IsPullRequest":true,"CreatedAt":"2020-04-02T17:13:58","Actor":"ganik","Number":"4994","RawContent":null,"Title":"Bitmap(file) locks the file.","State":"closed","Body":"Fixes #4585 \r\n\r\nConstruct \"new Bitmap(file)\" locks the underlying file for the lifetime of Bitmap. Use workaround suggested https://stackoverflow.com/questions/6576341/open-image-from-file-then-release-lock\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/pull/4994","RelatedDescription":"Closed or merged PR \"Bitmap(file) locks the file.\" (#4994)"},{"Id":"592140076","IsPullRequest":true,"CreatedAt":"2020-04-02T00:46:42","Actor":"eerhardt","Number":"4992","RawContent":null,"Title":"Remove WeakReference list in PredictionEnginePoolPolicy.","State":"closed","Body":"Accesses to this list are not thread-safe because we can be enumerating it on one thread (in Return) while another thread adds to it (in Create).\r\n\r\nThe list is unnecessary because the PredictionEngine will always be \"rooted\". Either it was being held in memory by someone who got the PredictionEngine from the pool, or it is being held by the ObjectPool itself. So it won't ever be GC'd, and the WeakReference is not doing anything.\r\n\r\nAlso, inherit from PooledObjectPolicy instead of IPooledObjectPolicy, so it can take the \"fastPolicy\" path in DefaultObjectPool. (See https://github.com/dotnet/extensions/pull/318).\r\n\r\nFix #4981","Url":"https://github.com/dotnet/machinelearning/pull/4992","RelatedDescription":"Closed or merged PR \"Remove WeakReference list in PredictionEnginePoolPolicy.\" (#4992)"},{"Id":"592158198","IsPullRequest":true,"CreatedAt":"2020-04-01T19:41:15","Actor":"michaelgsharp","Number":"4993","RawContent":null,"Title":"Update Featurizers to latest nuget.","State":"open","Body":"This code brings the Featurizers project up to date with the latest code from the native featurizers.\r\nIt also adds support for CentOS7 that was not there originally.","Url":"https://github.com/dotnet/machinelearning/pull/4993","RelatedDescription":"Open PR \"Update Featurizers to latest nuget.\" (#4993)"},{"Id":"596752235","IsPullRequest":false,"CreatedAt":"2020-03-16T05:30:59","Actor":"luislhg","Number":"5009","RawContent":null,"Title":"Model Builder Error when trying to Train data to Image Class","State":"open","Body":"### System information\r\n\r\n- Windows 10 Pro\r\n- .NET 4.8 and .NET Core 3.1: \r\n- Memory 12GB\r\n- Processor Intel Core i7 CPU 950 @ 3.07GHz\r\n\r\n### Issue\r\n\r\n- Tried to train an image classification using the Model Builder.\r\n\r\nSteps: Create a project.\r\nAdd a Machine Learning through solution explorer, then in the ML.NET Model Builder:\r\n\r\n1. Scenario -> Image Classification\r\n2. Data -> A folder with around 8.000 images (.png) separated in 8 folders/categories.\r\n3. Train -> Start Training\r\n\r\nIt will result in a popup (image attached) saying \"Model Builder Error\".\r\n![Model Builder Error](https://user-images.githubusercontent.com/16278387/76725716-d1d7ee00-672d-11ea-8589-7ed8b803321e.png)\r\n\r\nOutput/log from Machine Learning output:\r\n|     Trainer                              MicroAccuracy  MacroAccuracy  Duration #Iteration                     |\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003974.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0004556.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003859.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003999.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003329.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003310.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003954.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0004090.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0003738.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel started\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel finished. Elapsed 00:00:00.0004048.\r\n[Source=ImageClassificationTrainer; Ensuring meta files are present., Kind=Trace] Channel disposed\r\n[Source=AutoML, Kind=Error] Pipeline crashed: xf=ValueToKeyMapping{ col=Label:Label} xf=RawByteImageLoading{ col=ImageSource_featurized:ImageSource imageFolder=} xf=ColumnCopying{ col=Features:ImageSource_featurized} tr=ImageClassification{} xf=KeyToValueMapping{ col=PredictedLabel:PredictedLabel} cache=- . Exception: System.FormatException: Tensorflow exception triggered while loading model. ---> System.DllNotFoundException: N√£o √© poss√≠vel carregar a DLL 'tensorflow': Uma rotina de inicializa√ß√£o da biblioteca de v√≠nculo din√¢mico (DLL) falhou. (Exce√ß√£o de HRESULT: 0x8007045A)\r\n   em Tensorflow.c_api.TF_NewGraph()\r\n   em Tensorflow.Graph..ctor()\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadMetaGraph(String path)\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   --- Fim do rastreamento de pilha de exce√ß√µes internas ---\r\n   em Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSessionByModelFilePath(IExceptionContext ectx, String modelFile, Boolean metaGraph)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.LoadTensorFlowSessionFromMetaGraph(IHostEnvironment env, Architecture arch)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.InitializeTrainingGraph(IDataView input)\r\n   em Microsoft.ML.Vision.ImageClassificationTrainer.TrainModelCore(TrainContext trainContext)\r\n   em Microsoft.ML.Trainers.TrainerEstimatorBase`2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)\r\n   em Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)\r\n[Source=ImageClassificationTrainer; ImageClassificationTrainer, Kind=Trace] Channel started\r\nTensorflow exception triggered while loading model.\r\n\r\n","Url":"https://github.com/dotnet/machinelearning/issues/5009","RelatedDescription":"Open issue \"Model Builder Error when trying to Train data to Image Class\" (#5009)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-04-13T05:30:35.6251415Z","RunDurationInMilliseconds":616}