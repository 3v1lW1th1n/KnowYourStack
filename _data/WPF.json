{"Data":{"GitHub":{"Issues":[{"Id":"502354619","IsPullRequest":true,"CreatedAt":"2019-10-04T00:15:30","Actor":"dotnet-maestro[bot]","Number":"2000","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191003.1\r\n- **Date Produced**: 10/3/2019 11:32 PM\r\n- **Commit**: cf14d40dae262b353c5e2aa6cf0d35507dc279dc\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19503.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/2000","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#2000)"},{"Id":"502333551","IsPullRequest":true,"CreatedAt":"2019-10-03T22:39:13","Actor":"vatsan-madhavan","Number":"1999","RawContent":null,"Title":"Use correct PresentationBuildTasks.dll for VS and MSBuild builds","State":"open","Body":"The PresentationBuildTasks.dll built out of the .NET Core codebase is not being used for msbuild based builds (i.e., when `$(MSBuildRuntimeType)==Full`) of WPF projects that use WindowsDesktop SDK. Instead, the PresentationBuildTasks.dll from GAC, i.e., the DLL that shipped with .NET Framework, is being used for builds instead.\r\n\r\nThis is because the *first* occurance of an `UsingTask` element that applies to a `TaskName` will always be used - it can not be overridden by subsequent `UsingTask` entries (this is unlike `Property` and `Item` behavior). See note in https://github.com/MicrosoftDocs/visualstudio-docs/blob/master/docs/msbuild/usingtask-element-msbuild.md immediate after the **Syntax** section (Note: The msbuild team added this note after identifying this behavior as part of investiaging this PresentationBuildTasks.dll issue).\r\n\r\nThe fix ensures that the `UsingTask` declarations supplied by the WindowsDesktop SDK precede those supplied by .NET Framework's copy of `Microsoft.WinFX.targets` by introducing a new `.props` file - `Microsoft.WinFX.props` - and moving a small number of `Property` and `UsingTask` declartions into it. Since `.props` are imported before `targets`, the `UsingTask` declarations supplied by WindowsDesktop SDK will thus take precedence.\r\n\r\nNote that `Pbt.props` is used only for building this repo - it doesn't ship. \r\n\r\nAddresses #1998 \r\nThis needs to be ported to release/3.1 and release/3.0 (servicing). ","Url":"https://github.com/dotnet/wpf/pull/1999","RelatedDescription":"Open PR \"Use correct PresentationBuildTasks.dll for VS and MSBuild builds\" (#1999)"},{"Id":"502332631","IsPullRequest":false,"CreatedAt":"2019-10-03T22:36:27","Actor":"vatsan-madhavan","Number":"1998","RawContent":null,"Title":"Visual Studio and MSBuild builds for netfx TFM’s use legacy PresentationBuildTasks.dll when using WindowsDesktop SDK","State":"open","Body":"When building WPF projects targeting .NET Framework and using the WindowsDesktop SDK in Visual Studio or MSBuild, legacy `PresentationBuildTasks.dll` (i.e, the one that shipped with .NET Framework, and installed in GAC) is used for Markup Compilation. \r\n\r\nThis behavior is wrong - and not what is intended. The correct behavior is to use the copy of PresentationBuildTasks.dll that ships with the .NET Core SDK under `3.0.100\\SDKs\\Microsoft.NET.Sdk.WindowsDesktop\\tools\\net472\\PresentationBuildTasks.dll`\r\n\r\nRepro:\r\n\r\n```\r\n# Launch Visual Studio 2019 Developer Command Prompt\r\ndotnet new globaljson --sdk-version 3.0.100\r\ndotnet new wpf --target-framework-override net472 \r\nmsbuild /bl \r\n// Inspect the logs; Search for $task MarkupCompilePass1\r\n// Observed: PresentationBuildTasks, Version 4.0.0.0 is used from the .NET Framework GAC  \r\n// Expected: 3.0.100\\SDKs\\Microsoft.NET.Sdk.WindowsDesktop\\tools\\net472\\PresentationBuildTasks.dll from .NET Core 3.0 SDK should be used\r\n```\r\n\r\n","Url":"https://github.com/dotnet/wpf/issues/1998","RelatedDescription":"Open issue \"Visual Studio and MSBuild builds for netfx TFM’s use legacy PresentationBuildTasks.dll when using WindowsDesktop SDK\" (#1998)"},{"Id":"501171740","IsPullRequest":true,"CreatedAt":"2019-10-03T19:31:57","Actor":"rladuca","Number":"1986","RawContent":null,"Title":"Fix missing type forwards in reference assemblies","State":"closed","Body":"Relates to #1964 \r\n\r\nSome reference assemblies (WindowsBase, System.Xaml) were missing type forwards.  This adds them back and rebaselines the ApiCompat (especially against 4.8) to be correct.  This also fixes some issues in the PresentationFramework reference assembly that might have allowed instances of this problem to show up in the future.\r\n\r\nSteps taken to find and fix these:\r\n\r\n- Find all type forwards deeper in the code tree than OtherAssemblyAttrs.cs\r\n- Ensure they are all hoisted into the corresponding OtherAssemblyAttrs.cs\r\n- Ensure all ref assemblies directly use the lib assemblies OtherAssemblyAttrs.cs so they maintain parity.\r\n\r\nFurther investigation is needed into why reference API compat failed to find these issues (4.8 API compat did but I incorrectly baselined them).","Url":"https://github.com/dotnet/wpf/pull/1986","RelatedDescription":"Closed or merged PR \"Fix missing type forwards in reference assemblies\" (#1986)"},{"Id":"501244439","IsPullRequest":true,"CreatedAt":"2019-10-03T17:15:44","Actor":"YoshihiroIto","Number":"1987","RawContent":null,"Title":"Use  Array.Empty","State":"closed","Body":"This change reduces heap allocation.","Url":"https://github.com/dotnet/wpf/pull/1987","RelatedDescription":"Closed or merged PR \"Use  Array.Empty\" (#1987)"},{"Id":"502158945","IsPullRequest":false,"CreatedAt":"2019-10-03T16:07:34","Actor":"clurch","Number":"1997","RawContent":null,"Title":"Packaging Project Build Failed","State":"open","Body":"* .NET Core Version: 3.0.0\r\n* Windows version: 1903 (10.0; Build 18362)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: Yes\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No\r\n \r\n **Problem description:**\r\n Upon building a .NETCore WPF project package, the Microsoft.Toolkit.Win32.UI.XamlHost.dll cannot be found. I don't believe this dll is used for the Microsoft.Toolkit.Wpf.UI packages.\r\n\r\n\r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\nMSB3030\tCould not copy the file \"...source\\repos\\ToastNotifcationTestingNetCore\\ToastNotifcationTestingNetCore\\bin\\Debug\\netcoreapp3.0\\Microsoft.Toolkit.Win32.UI.XamlHost.dll\" because it was not found.\tToastNotificationTestingNetCore.Package\tC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Professional\\MSBuild\\Microsoft\\DesktopBridge\\Microsoft.DesktopBridge.targets line 567\t\r\n \r\n **Expected behavior:**\r\nPackage should build successfully.\r\n\r\n **Minimal repro:**\r\nFollow the instructions found in https://docs.microsoft.com/en-us/windows/apps/desktop/modernize/modernize-wpf-tutorial-4 for \"Add a notification\" then perform https://docs.microsoft.com/en-us/windows/apps/desktop/modernize/modernize-wpf-tutorial-5. \r\n\r\n**NOTE**\r\nThis issue looks to have been resolved in https://github.com/MicrosoftDocs/windows-uwp/issues/1811 about 3 months ago, however it may have resurfaced with v6.0.0-preview9.1 of Microsoft.Toolkit.Wpf.UI.Controls and Microsoft.Toolkit.Wpf.UI.XamlHost. I am sorry if I am reporting this issue to the incorrect place.","Url":"https://github.com/dotnet/wpf/issues/1997","RelatedDescription":"Open issue \"Packaging Project Build Failed\" (#1997)"},{"Id":"502032348","IsPullRequest":true,"CreatedAt":"2019-10-03T12:22:22","Actor":"dotnet-maestro[bot]","Number":"1996","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"open","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191003.2\r\n- **Date Produced**: 10/3/2019 9:33 AM\r\n- **Commit**: 93d2015b6133654679272bba4c69dcb3ca4a0ab7\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha1.19503.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1996","RelatedDescription":"Open PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1996)"},{"Id":"501859164","IsPullRequest":true,"CreatedAt":"2019-10-03T06:15:40","Actor":"dotnet-maestro[bot]","Number":"1995","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191002.3\r\n- **Date Produced**: 10/3/2019 5:04 AM\r\n- **Commit**: 2fb40d0baf02c4137cdfaab55e4dfd02919dcc9b\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19502.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1995","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1995)"},{"Id":"501836546","IsPullRequest":true,"CreatedAt":"2019-10-03T04:05:45","Actor":"dotnet-maestro[bot]","Number":"1994","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191002.1\r\n- **Date Produced**: 10/3/2019 3:38 AM\r\n- **Commit**: 231650a60977a0ad415e03a91f126c0cde7f76ee\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19502.1\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n[marker]: <> (Begin:Coherency Updates)\r\n## Coherency Updates\r\n\r\nThe following updates ensure that dependencies with a *CoherentParentDependency*\r\nattribute were produced in a build used as input to the parent dependency's build.\r\nSee [Dependency Description Format](https://github.com/dotnet/arcade/blob/master/Documentation/DependencyDescriptionFormat.md#dependency-description-overview)\r\n\r\n- **Microsoft.Win32.Registry** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.App** -> 5.0.0-alpha1.19501.14 (parent: Microsoft.Private.Winforms)\r\n- **System.CodeDom** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Configuration.ConfigurationManager** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Diagnostics.EventLog** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.DirectoryServices** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Drawing.Common** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Reflection.Emit** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Reflection.MetadataLoadContext** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Security.AccessControl** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Security.Cryptography.Xml** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Security.Permissions** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Security.Principal.Windows** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.Windows.Extensions** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.Platforms** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **System.IO.Packaging** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.ILDAsm** -> 5.0.0-alpha1.19501.1 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **Microsoft.NETCore.Runtime.CoreCLR** -> 5.0.0-alpha1.19501.1 (parent: Microsoft.NETCore.App)\r\n- **Microsoft.NETCore.ILAsm** -> 5.0.0-alpha1.19501.1 (parent: Microsoft.NETCore.Runtime.CoreCLR)\r\n- **System.Resources.Extensions** -> 5.0.0-alpha1.19501.2 (parent: Microsoft.NETCore.App)\r\n\r\n[marker]: <> (End:Coherency Updates)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1994","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1994)"},{"Id":"501654895","IsPullRequest":false,"CreatedAt":"2019-10-02T20:25:05","Actor":"IGMikeS","Number":"1993","RawContent":null,"Title":"SendInput API does not work on WPF NetCore controls","State":"closed","Body":".NET Core Version: Version: 3.0.100-preview6-012264\r\nHave you experienced this same bug with .NET Framework?: No\r\nWindows 10\r\n\r\nI have some code that calls the SendInput Windows API in order to simulate keystrokes to a WPF control. This code works fine in the DotNetFramework and triggers all of the appropriate events such as PreviewKeyDown, KeyDown, PreviewTextInput, TextInput, PreviewKeyUp, and KeyUp. \r\n\r\nThe same code does not work in NetCore. No events are fired. \r\n\r\nI have attached  sample solution here which contains two projects. One is using the DotNetFramework (DNFApp) and the other is using NetCore (NCApp). Both projects share the same code files. \r\n\r\nIf you run the DNFApp and click the button, the Output window shows that all of the appropriate events are fired on the Button control. \r\n\r\nRun the NCApp and click the button, the Output window shows that the button click fires, and nothing else. If you press a keym such as (\"F\") on the keyboard, all of the events fire. \r\n\r\n[SendInputTest.zip](https://github.com/dotnet/wpf/files/3682752/SendInputTest.zip)\r\n","Url":"https://github.com/dotnet/wpf/issues/1993","RelatedDescription":"Closed issue \"SendInput API does not work on WPF NetCore controls\" (#1993)"},{"Id":"501455712","IsPullRequest":true,"CreatedAt":"2019-10-02T13:08:16","Actor":"dotnet-maestro[bot]","Number":"1992","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191002.3\r\n- **Date Produced**: 10/2/2019 8:22 AM\r\n- **Commit**: e899060baa974bbe2be536e45b7548c3afb5a063\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha1.19502.3\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1992","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1992)"},{"Id":"501409234","IsPullRequest":false,"CreatedAt":"2019-10-02T10:35:56","Actor":"pieterphilippaerts","Number":"1991","RawContent":null,"Title":"Misleading error message in .NET Core WPF","State":"open","Body":"When you compile a WPF (on .NET Core 3) app with the following XAML, I get the error message\r\n\r\n> Unknown build error, 'Could not find assembly ‘Extension, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null’. Either explicitly load this assembly using a method such as LoadFromAssemblyPath() or use a MetadataAssemblyResolver that returns a valid assembly.\r\n\r\n```\r\n<Window x:Class=\"WpfCoreBug.MainWindow\"\r\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\r\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\r\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\r\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\r\n        xmlns:local=\"clr-namespace:WpfCoreBug\"\r\n        mc:Ignorable=\"d\"\r\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\">\r\n    <Grid Background=\"{Binding RelativeSource={RelativeSource, AncestorType={x:Type Window}}}\">\r\n\r\n    </Grid>\r\n</Window>\r\n```\r\n\r\nIt’s normal that I get a build error (the XAML is wrong; in particular, the binding should read “{RelativeSource FindAncestor, …”), but this build error is not helping me to figure out what’s wrong. In fact, my first thought was not that I did something wrong but that Visual Studio’s build chain somehow got broken.\r\n\r\nNote that you get a better error message if you add a space in `RelativeSource ,` (notice the extra space). In this case, I get the error:\r\n\r\n> ’ , AncestorType={x:Type Window}}’ is not valid. Markup extensions require only spaces between the markup extension name and the first parameter. Cannot have comma or equals sign before the first parameter.\r\n\r\nThat’s a good error description.\r\n\r\nAlso note that the code in the example above produces a better error description on WPF for the full .NET Framework. In this case, I get the error\r\n\r\n> The character “,” is unexpected at this position.\r\n\r\nwhich is an excellent description of the problem.","Url":"https://github.com/dotnet/wpf/issues/1991","RelatedDescription":"Open issue \"Misleading error message in .NET Core WPF\" (#1991)"},{"Id":"501274536","IsPullRequest":true,"CreatedAt":"2019-10-02T05:00:26","Actor":"dotnet-maestro[bot]","Number":"1990","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191001.3\r\n- **Date Produced**: 10/2/2019 4:30 AM\r\n- **Commit**: fec2b23f60b0a4c4d3bee27b2f6be627e8f4482c\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19501.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1990","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1990)"},{"Id":"501260410","IsPullRequest":true,"CreatedAt":"2019-10-02T04:20:48","Actor":"dotnet-maestro[bot]","Number":"1989","RawContent":null,"Title":"[release/3.1] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:fd5f4619-cca3-4e12-8f56-08d72a4ce301)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191001.1\r\n- **Date Produced**: 10/2/2019 3:37 AM\r\n- **Commit**: be3d33927476deb6e299c69cc68f0c54ed1b828c\r\n- **Branch**: refs/heads/release/3.1\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 4.8.1-preview1.19501.1\r\n\r\n[marker]: <> (End:fd5f4619-cca3-4e12-8f56-08d72a4ce301)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1989","RelatedDescription":"Closed or merged PR \"[release/3.1] Update dependencies from dotnet/winforms\" (#1989)"},{"Id":"501260335","IsPullRequest":true,"CreatedAt":"2019-10-02T04:20:29","Actor":"dotnet-maestro[bot]","Number":"1988","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20191001.2\r\n- **Date Produced**: 10/2/2019 3:37 AM\r\n- **Commit**: 7b3aca5a1efc1760bf330a79b89e77a08b538e40\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19501.2\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1988","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1988)"},{"Id":"501162510","IsPullRequest":false,"CreatedAt":"2019-10-01T21:44:55","Actor":"EmaginationStore","Number":"1985","RawContent":null,"Title":"Error creating XPS from Canvas","State":"open","Body":"* .NET Core Version: 3.0\r\n* Windows version: 1903 (18362.356)\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n* Is this bug related specifically to tooling in Visual Studio (e.g. XAML Designer, Code editing, etc...)? No\r\n\r\n**Description**\r\n \r\nI have a Textblock with text of \"Hello\" within a Canvas on the MainWindow. I am running the following code on mouse down of the main window (as a test):\r\n\r\n```\r\nprivate void MainWindow_OnMouseDoubleClick(object sender, MouseButtonEventArgs e)\r\n        {\r\n            var sfd = new SaveFileDialog { Filter = \"XPS files (*.xps)|*.xps\" };\r\n            if (sfd.ShowDialog() != true) return;\r\n            var c = Canv;\r\n            var doc = new XpsDocument(sfd.FileName, FileAccess.Write);\r\n            var writer = XpsDocument.CreateXpsDocumentWriter(doc);\r\n            writer.Write(c, new PrintTicket { PageMediaSize = new PageMediaSize(c.ActualWidth, c.ActualHeight) });\r\n            doc.Close();\r\n        }\r\n```\r\n \r\n**Actual behavior:** \r\nEntries cannot be created while previously created entries are still open.\r\nat System.IO.Compression.ZipArchive.AcquireArchiveStream(ZipArchiveEntry entry)\r\n   at System.IO.Compression.ZipArchiveEntry..ctor(ZipArchive archive, String entryName)\r\n   at System.IO.Compression.ZipArchiveEntry..ctor(ZipArchive archive, String entryName, CompressionLevel compressionLevel)\r\n   at System.IO.Compression.ZipArchive.DoCreateEntry(String entryName, Nullable`1 compressionLevel)\r\n   at System.IO.Compression.ZipArchive.CreateEntry(String entryName, CompressionLevel compressionLevel)\r\n   at System.IO.Packaging.ZipPackage.CreatePartCore(Uri partUri, String contentType, CompressionOption compressionOption)\r\n   at System.IO.Packaging.Package.CreatePart(Uri partUri, String contentType, CompressionOption compressionOption)\r\n   at System.Windows.Xps.Packaging.XpsManager.GeneratePart(ContentType contentType, Uri partUri)\r\n   at System.Windows.Xps.Packaging.XpsManager.GenerateUniquePart(ContentType contentType)\r\n   at System.Windows.Xps.Packaging.XpsFixedDocumentSequenceReaderWriter.AddFixedDocument()\r\n   at System.Windows.Xps.Serialization.XpsPackagingPolicy.AcquireXmlWriterForFixedDocument()\r\n   at System.Windows.Xps.Serialization.XpsSerializationManager.AcquireXmlWriter(Type writerType)\r\n   at System.Windows.Xps.Serialization.ReachHierarchySimulator.SimulateBeginFixedDocument()\r\n   at System.Windows.Xps.Serialization.ReachHierarchySimulator.BeginConfirmToXPSStructure(Boolean mode)\r\n   at System.Windows.Xps.Serialization.XpsSerializationManager.SaveAsXaml(Object serializedObject)\r\n   at System.Windows.Xps.XpsDocumentWriter.SaveAsXaml(Object serializedObject, Boolean isSync)\r\n   at System.Windows.Xps.XpsDocumentWriter.Write(Visual visual, PrintTicket printTicket)\r\n   at Test.MainWindow.MainWindow_OnMouseDoubleClick(Object sender, MouseButtonEventArgs e) in C:\\Users\\ashdo\\source\\repos\\Test\\Test\\MainWindow.xaml.cs:line 27\r\n   at System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(Delegate genericHandler, Object genericTarget)\r\n   at System.Windows.RoutedEventArgs.InvokeHandler(Delegate handler, Object target)\r\n   at System.Windows.RoutedEventHandlerInfo.InvokeHandler(Object target, RoutedEventArgs routedEventArgs)\r\n   at System.Windows.EventRoute.InvokeHandlersImpl(Object source, RoutedEventArgs args, Boolean reRaised)\r\n   at System.Windows.UIElement.RaiseEventImpl(DependencyObject sender, RoutedEventArgs args)\r\n   at System.Windows.UIElement.RaiseTrustedEvent(RoutedEventArgs args)\r\n   at System.Windows.Input.InputManager.ProcessStagingArea()\r\n   at System.Windows.Input.InputManager.ProcessInput(InputEventArgs input)\r\n   at System.Windows.Input.InputProviderSite.ReportInput(InputReport inputReport)\r\n   at System.Windows.Interop.HwndMouseInputProvider.ReportInput(IntPtr hwnd, InputMode mode, Int32 timestamp, RawMouseActions actions, Int32 x, Int32 y, Int32 wheel)\r\n   at System.Windows.Interop.HwndMouseInputProvider.FilterMessage(IntPtr hwnd, WindowMessage msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at System.Windows.Interop.HwndSource.InputFilterMessage(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam, Boolean& handled)\r\n   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)\r\n   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)\r\n   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source, Delegate callback, Object args, Int32 numArgs, Delegate catchHandler)\r\n   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(DispatcherPriority priority, TimeSpan timeout, Delegate method, Object args, Int32 numArgs)\r\n   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd, Int32 msg, IntPtr wParam, IntPtr lParam)\r\n   at MS.Win32.UnsafeNativeMethods.DispatchMessage(MSG& msg)\r\n   at System.Windows.Threading.Dispatcher.PushFrameImpl(DispatcherFrame frame)\r\n   at System.Windows.Threading.Dispatcher.PushFrame(DispatcherFrame frame)\r\n   at System.Windows.Threading.Dispatcher.Run()\r\n   at System.Windows.Application.RunDispatcher(Object ignore)\r\n   at System.Windows.Application.RunInternal(Window window)\r\n   at System.Windows.Application.Run()\r\n   at Test.App.Main()\r\n \r\n **Expected behavior:** An XPS document to be created of the Canvas\r\n \r\n **Minimal repro:** \r\n```\r\n<Window x:Class=\"Test.MainWindow\"\r\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\r\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\r\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\r\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\r\n        xmlns:local=\"clr-namespace:Test\"\r\n        mc:Ignorable=\"d\"\r\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\" MouseDown=\"MainWindow_OnMouseDoubleClick\">\r\n    <Grid>\r\n        <Canvas Name=\"Canv\">\r\n                    <TextBlock FontSize=\"200\" Foreground=\"BlueViolet\" Text=\"Hello\" >\r\n                    </TextBlock>\r\n        </Canvas>\r\n    </Grid>\r\n</Window>\r\n```\r\n \r\n","Url":"https://github.com/dotnet/wpf/issues/1985","RelatedDescription":"Open issue \"Error creating XPS from Canvas\" (#1985)"},{"Id":"500984553","IsPullRequest":false,"CreatedAt":"2019-10-01T15:45:49","Actor":"Mrnikbobjeff","Number":"1984","RawContent":null,"Title":"Potential security issue in dataobjects.cs","State":"open","Body":"https://github.com/dotnet/wpf/blob/1d4abe6b45ed1a1e9fe605ae1c9949d6d2a99fb4/src/Microsoft.DotNet.Wpf/src/PresentationCore/System/Windows/dataobject.cs#L1670\r\nThe actual bytes read are ignored, instead a constant is used in the following line to specify the amount of bytes to read, even if the actual amount of bytes may be lower.\r\nhttps://github.com/dotnet/wpf/blob/1d4abe6b45ed1a1e9fe605ae1c9949d6d2a99fb4/src/Microsoft.DotNet.Wpf/src/PresentationCore/System/Windows/dataobject.cs#L1672\r\n I do not know if it is easily possible to trigger, but this definitely seems incorrect. Also, as far as I can tell the pointer is a constant and could be hoisted so that it does not need to be converted multiple times.","Url":"https://github.com/dotnet/wpf/issues/1984","RelatedDescription":"Open issue \"Potential security issue in dataobjects.cs\" (#1984)"},{"Id":"500906777","IsPullRequest":false,"CreatedAt":"2019-10-01T13:44:53","Actor":"poizan42","Number":"1983","RawContent":null,"Title":"Potential TOCTTOU race in Window.ShowDialog","State":"open","Body":"* .NET Core Version: (The code in question is in master)\r\n* Windows version: It is seen on some version of Windows 10, but haven't reproduced it locally.\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: It was probably net48\r\n \r\n **Problem description:**\r\n\r\nWe got this on netfx, but the same code seems to be present in core WPF. \r\n`SafeNativeMethods.ReleaseCapture` throws an exception (`System.ComponentModel.Win32Exception (0x80004005): The operation completed successfully`).\r\n\r\nIgnoring the ERROR_SUCCESS result which is outside of the scope of WPF, it looks like this could be caused by a TOCTTOU race in https://github.com/dotnet/wpf/blob/185e2e8c62ede5c188bf3655f862f87eba4a3cb5/src/Microsoft.DotNet.Wpf/src/PresentationFramework/System/Windows/Window.cs#L375-L399\r\n\r\nNote that ReleaseCapture is only able to release capture from a window owned by the current thread. It looks like a window on another thread might be able to \"steal\" the mouse capture in the time between the two calls - the error from ReleaseCapture should probably just be ignored.\r\n \r\n **Actual behavior:** <!-- callstack for crashes / exceptions -->\r\n```\r\nCatching Unhandled exception:System.ComponentModel.Win32Exception (0x80004005): The operation completed successfully \r\nved MS.Win32.SafeNativeMethods.ReleaseCapture() \r\nved System.Windows.Window.ShowDialog() \r\n...\r\n```\r\n\r\n **Expected behavior:**\r\nShowDialog succeeds.\r\n\r\n **Minimal repro:**\r\nUnfortunately I haven't been able to reproduce the issue.","Url":"https://github.com/dotnet/wpf/issues/1983","RelatedDescription":"Open issue \"Potential TOCTTOU race in Window.ShowDialog\" (#1983)"},{"Id":"500859550","IsPullRequest":true,"CreatedAt":"2019-10-01T13:02:32","Actor":"dotnet-maestro[bot]","Number":"1982","RawContent":null,"Title":"[master] Update dependencies from dnceng/internal/dotnet-wpf-int","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n## From https://dev.azure.com/dnceng/internal/_git/dotnet-wpf-int\r\n- **Build**: 20191001.2\r\n- **Date Produced**: 10/1/2019 9:22 AM\r\n- **Commit**: e1b421533609eef40a3db3b2a85fcdb9b0047ac2\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.DotNet.Wpf.DncEng** -> 5.0.0-alpha1.19501.2\r\n\r\n[marker]: <> (End:46a15fe4-6c2c-480d-9cdd-08d71053b252)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1982","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dnceng/internal/dotnet-wpf-int\" (#1982)"},{"Id":"500769026","IsPullRequest":false,"CreatedAt":"2019-10-01T09:19:38","Actor":"TFTomSun","Number":"1981","RawContent":null,"Title":"Incremental Build in Visual Studio 2019 and WPF with .NET Core 3.0 broken","State":"open","Body":"- Create a library with the following project file:\r\n\r\n```xml\r\n\r\n<Project Sdk=\"Microsoft.NET.Sdk.WindowsDesktop\">\r\n\r\n  <PropertyGroup>\r\n    <TargetFramework>netcoreapp3.0</TargetFramework>\r\n    <UseWPF>true</UseWPF>\r\n  </PropertyGroup>\r\n\r\n</Project>\r\n\r\n\r\n```\r\n\r\n- To keep it simple, leave the library empty\r\n\r\n-> The delta build in Visual Studio is broken. Normally Visual Studio would not build the project on the second build, if no changes have been performed. But WPF libraries are always build again, which also causes dependent projects to be rebuild. WPF apps don't have that issue.\r\n\r\nUnfortunately the diagnostic build output does not tell any reason why the project is build again.","Url":"https://github.com/dotnet/wpf/issues/1981","RelatedDescription":"Open issue \"Incremental Build in Visual Studio 2019 and WPF with .NET Core 3.0 broken\" (#1981)"},{"Id":"500168276","IsPullRequest":false,"CreatedAt":"2019-10-01T08:52:46","Actor":"prasanthelvr","Number":"1974","RawContent":null,"Title":"error CS0111: Type 'App' already defines a member called 'InitializeComponent' with the same parameter types","State":"closed","Body":"**Description**\r\n\r\nWe have a WPF application which targets .NET Framework version from 2.0 to 4.6. We have used different App and Mainwindow files for .NET Framework version 2.0v-3.5v (App.xaml, MainWindow.xaml) and 4.0-4,6v (App1.xaml, MainWindow1.xaml). Now, we are providing .NET Core support using App1.xaml, MainWindow1.xaml files. While compiling, .NET Core WPF project showing compilation issue but, .NET Framework WPF project compiles properly.\r\n\r\n**Actual Behavior**\r\n\r\nThe following compilation issue shown in .NET Core WPF project.\r\n\r\nerror CS0111: Type 'App' already defines a member called 'InitializeComponent' with the same parameter types.\r\n\r\n**Expected Behavior**\r\n\r\n.NET Core WPF project should compile and run properly as like .NET Framework WPF project.\r\n\r\n**Basic Information**\r\n\r\n* .NET Core Version: 3.0\r\n* Windows version: Windows 10\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n\r\n**Reproduction Link**\r\nThe following sample have two project files.\r\n1. .NETFramework.csproj - Run properly\r\n1. .NETCore.csproj - Compilation issue\r\n\r\n[NETCoreTest.zip](https://github.com/dotnet/wpf/files/3670130/NETCoreTest.zip)","Url":"https://github.com/dotnet/wpf/issues/1974","RelatedDescription":"Closed issue \"error CS0111: Type 'App' already defines a member called 'InitializeComponent' with the same parameter types\" (#1974)"},{"Id":"500662160","IsPullRequest":true,"CreatedAt":"2019-10-01T05:10:25","Actor":"dotnet-maestro[bot]","Number":"1980","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190930.6\r\n- **Date Produced**: 10/1/2019 4:43 AM\r\n- **Commit**: 3750c43d5d9b5161be967e39fd848c89d6479ff5\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19480.6\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1980","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1980)"},{"Id":"500652240","IsPullRequest":true,"CreatedAt":"2019-10-01T04:40:45","Actor":"dotnet-maestro[bot]","Number":"1979","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190930.4\r\n- **Date Produced**: 10/1/2019 3:20 AM\r\n- **Commit**: a6735263e78d4ad74de61cf63af76b5f7b661092\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19480.4\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1979","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1979)"},{"Id":"500636864","IsPullRequest":true,"CreatedAt":"2019-10-01T04:25:19","Actor":"dotnet-maestro[bot]","Number":"1978","RawContent":null,"Title":"[master] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190930.3\r\n- **Date Produced**: 10/1/2019 3:09 AM\r\n- **Commit**: 15610a77c574b3f390893699143d33fbbc94d756\r\n- **Branch**: refs/heads/master\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 5.0.0-alpha1.19480.3\r\n\r\n[marker]: <> (End:256c8be3-de58-46f5-d219-08d6ba11f126)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1978","RelatedDescription":"Closed or merged PR \"[master] Update dependencies from dotnet/winforms\" (#1978)"},{"Id":"500597160","IsPullRequest":true,"CreatedAt":"2019-10-01T00:45:54","Actor":"arpitmathur","Number":"1977","RawContent":null,"Title":"Removing separators from SizeOfSet and PositionInSet counts","State":"open","Body":"Screen readers were reading incorrect values of the number of menu items and their position since we were counting separators as MenuItems in the automation tree. \r\n\r\nI filtered for separators in the current MenuItems to fix the SizeofSet count.\r\n\r\nI filtered for separators again for PositionInSet but added a short-circuit to break when you're at the element whose position you're trying to find. This short-circuit was added to not remove separators below the relevant MenuItem from the PositionInSet count.","Url":"https://github.com/dotnet/wpf/pull/1977","RelatedDescription":"Open PR \"Removing separators from SizeOfSet and PositionInSet counts\" (#1977)"},{"Id":"500590625","IsPullRequest":true,"CreatedAt":"2019-10-01T00:20:33","Actor":"arpitmathur","Number":"1976","RawContent":null,"Title":"Adding border to ToggleButton when checked in high-contrast themes","State":"open","Body":"In non-high contrast themes, when you check a ToggleButton and navigate to another control, we display the checked status by highlighting the button with a lighter shade of the selection color.\r\n\r\nWe don't follow this behavior in high contrast themes. The text is slightly-depressed upon checking but that is not visually apparent and would definitely not be to a visually impaired person.\r\n![highcontrastwhitetogglebutton_without_change](https://user-images.githubusercontent.com/5456126/65924723-e6ecda80-e3a2-11e9-860d-66c72212c0e0.png)\r\n\r\nIn the image above, the 'S', 'C' and 'I' buttons are checked. However, it's barely noticeable that 'S' and 'C' are checked. The checked status of the 'I' button is also not noticeable when it receives focus.\r\n\r\n\r\nThe fix here is to check for a toggle button to be checked when in a high-contrast theme, we then add a border around the button. When a checked button also has keyboard focus, we add a border in the background-color. When the user navigates away, the border color is the same as the selection-color.\r\n\r\nIn the image below, the 'S', 'C' and 'I' buttons are checked again. Here, it's visually apparent that they are currently checked.\r\n![highcontrastwhitetogglebutton_with_change](https://user-images.githubusercontent.com/5456126/65924964-c709e680-e3a3-11e9-8eab-fd1016e4c3b3.png)\r\n\r\nIn this pull request, relevant changes are in lines 673:693 in Button.xaml, the remaining files are generated off those changes.","Url":"https://github.com/dotnet/wpf/pull/1976","RelatedDescription":"Open PR \"Adding border to ToggleButton when checked in high-contrast themes\" (#1976)"},{"Id":"499570625","IsPullRequest":false,"CreatedAt":"2019-09-30T20:19:09","Actor":"carlossanlop","Number":"1971","RawContent":null,"Title":"[.NET Core 3][VB.NET][WPF] error BC30149: Class 'Application' must implement 'Sub InitializeComponent()' for interface 'IComponentConnector'.","State":"closed","Body":"_From @onovotny on Tuesday, November 27, 2018 4:08:27 PM_\r\n\r\nWhen building a WPF application using VB.NET on .NET Core 3, you get the following error\r\n\r\n`obj\\Debug\\net462\\Application.g.vb(45,16): error BC30149: Class 'Application' must implement 'Sub InitializeComponent()' for interface 'IComponentConnector'.`\r\n\r\nThis is due to VB.NET applications using `Application.xaml` as the `ApplicationDefinition` item by default, instead of `App.xaml` like C#.\r\n\r\nThe workaround is to add the following into the `.vbproj` file:\r\n\r\n```xml\r\n<ItemGroup>\r\n  <ApplicationDefinition Include=\"Application.xaml\" Condition=\"'$(EnableDefaultApplicationDefinition)' != 'false' And Exists('$(MSBuildProjectDirectory)/Application.xaml')\" />\r\n  <Page Remove=\"@(ApplicationDefinition)\" />\r\n</ItemGroup>\r\n```\r\n\r\n\r\n_Copied from original issue: dotnet/core#2080_","Url":"https://github.com/dotnet/wpf/issues/1971","RelatedDescription":"Closed issue \"[.NET Core 3][VB.NET][WPF] error BC30149: Class 'Application' must implement 'Sub InitializeComponent()' for interface 'IComponentConnector'.\" (#1971)"},{"Id":"500468722","IsPullRequest":true,"CreatedAt":"2019-09-30T19:30:29","Actor":"dotnet-maestro[bot]","Number":"1975","RawContent":null,"Title":"[release/3.0] Update dependencies from dotnet/winforms","State":"closed","Body":"This pull request updates the following dependencies\r\n\r\n[marker]: <> (Begin:07c1f64b-2232-48be-3da4-08d6ba11e0be)\r\n## From https://github.com/dotnet/winforms\r\n- **Build**: 20190930.1\r\n- **Date Produced**: 9/30/2019 6:58 PM\r\n- **Commit**: af088e57775b7b9f28322511bc5be8ddb356b8a8\r\n- **Branch**: refs/heads/release/3.0\r\n- **Updates**:\r\n  - **Microsoft.Private.Winforms** -> 4.8.0-servicing.19480.1\r\n\r\n[marker]: <> (End:07c1f64b-2232-48be-3da4-08d6ba11e0be)\r\n\r\n","Url":"https://github.com/dotnet/wpf/pull/1975","RelatedDescription":"Closed or merged PR \"[release/3.0] Update dependencies from dotnet/winforms\" (#1975)"},{"Id":"500086220","IsPullRequest":false,"CreatedAt":"2019-09-30T06:52:24","Actor":"ms579984","Number":"1973","RawContent":null,"Title":"Can not use a WPF Library (.NET 3.5) in a .net core 3.0 WPF Application","State":"open","Body":"Hello,\r\n\r\nI have the following problem:\r\n\r\nI can’t use a third party WPF library (compiled for .NET 3.5) with a .net Core 3.0 WPF App. The compiler error message is:\r\n\r\nerror MC1000: Unknown build error, 'Could not find type ‘System.Collections.ObjectModel.ObservableCollection`1’ in assembly ‘C:\\Program Files\\dotnet\\packs\\Microsoft.WindowsDesktop.App.Ref\\3.0.0\\ref\\netcoreapp3.0\\WindowsBase.dll’.\r\n\r\nor\r\n\r\nerror CS7069: Reference to type ‘ObservableCollection<>’ claims it is defined in ‘WindowsBase’, but it could not be found\r\n### Example:\r\n\r\nI attached a small example to reproduce the error message.\r\nThis example contains:\r\n[WpfApp1.zip](https://github.com/dotnet/wpf/files/3669193/WpfApp1.zip)\r\n\r\n1.  A .net Core 3.0 WPF Application project\r\n2.  A .net 3.5 WPF UserControl project\r\n3.  The UserControl has public property with a ObservableCollection<>.\r\n4.  The WPF Application uses the UserControl and want to access the public property -> Compile error.\r\n\r\nIf I switch the .NET 3.5 Project to at least 4.0 everythings compiles as excepted.\r\n\r\n```\r\npublic partial class MainWindow : Window\r\n    {\r\n        public MainWindow()\r\n        {\r\n            InitializeComponent();\r\n            WpfControlLibrary1.UserControl1 c = new WpfControlLibrary1.UserControl1();\r\n            c.items.Add(1);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\npublic partial class UserControl1 : UserControl\r\n    {\r\n        public UserControl1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        public ObservableCollection<int> items\r\n        {\r\n            get;\r\n        } = new ObservableCollection<int>();\r\n    }\r\n```\r\n\r\n### Background:\r\n\r\nI’m trying to port our existing .net 4.7.2 application to .net core 3.0.\r\nThis application has a dependency to an old third party .net 3.5 WPF Assembly (I do not have source code of it and the company is out of business so there is no chance to get a newer version).\r\nThe rest of the application works very well but this is a show stopper.\r\nI tested this with the current Visual Studio 2019 (16.3.1) on a fresh installed Win10 1903.\r\n\r\n### Questions:\r\n\r\nIs it intended that WPF 3.5 assemblies are not useable or is this a bug ?\r\nWhy is Type-Forwarding from WindowsBase to the real locations of types not working (the ObservableCollection<> has moved to the System-assembly) ?\r\n\r\nBest Regards,\r\nMarco Scholz\r\n","Url":"https://github.com/dotnet/wpf/issues/1973","RelatedDescription":"Open issue \"Can not use a WPF Library (.NET 3.5) in a .net core 3.0 WPF Application\" (#1973)"},{"Id":"499600950","IsPullRequest":false,"CreatedAt":"2019-09-28T07:11:25","Actor":"Symbai","Number":"1972","RawContent":null,"Title":"Cannot access resource files on runtime","State":"closed","Body":"* .NET Core Version: 3.0\r\n* Windows version: Win10\r\n* Does the bug reproduce also in WPF for .NET Framework 4.8?: No\r\n\r\n **Problem description:**\r\nCannot access resource files on runtime when:\r\n\r\n- Adding them as Resource\r\n- Adding them as Embedded Resource\r\n- Adding them through resource file\r\n \r\n **Actual behavior:**\r\nEvery time I try to access it it's not part of the resources at all and therefore returns null.\r\n **Expected behavior:**\r\n Able to access resource files on runtime. \r\n **Minimal repro:**\r\n\r\n```\r\n<ItemGroup>\r\n  <EmbeddedResource Include=\"bla3\" />\r\n</ItemGroup>\r\n<ItemGroup>\r\n  <Resource Include=\"bla2\" />\r\n</ItemGroup>\r\n```\r\n \r\n```\r\n public MainWindow()\r\n        {\r\n            InitializeComponent();\r\n            //Fails\r\n            ResourceTest(\"bla2\");\r\n            ResourceTest(\"bla3\");\r\n            Debug.Assert(Application.Current.Properties[\"bla\"] != null);\r\n        }\r\n\r\n        static void ResourceTest(string resourceName)\r\n        {\r\n            try\r\n            {\r\n                var bla = Application.Current.TryFindResource(resourceName);\r\n                Debug.Assert(bla != null);\r\n            }\r\n            catch (Exception e) { Debug.Fail(e.ToString()); }\r\n        }\r\n```\r\n[ResourceTest.zip](https://github.com/dotnet/wpf/files/3664189/ResourceTest.zip)\r\n","Url":"https://github.com/dotnet/wpf/issues/1972","RelatedDescription":"Closed issue \"Cannot access resource files on runtime\" (#1972)"}],"ResultType":"GitHubIssue"}},"RunOn":"2019-10-04T05:30:54.2381035Z","RunDurationInMilliseconds":865}