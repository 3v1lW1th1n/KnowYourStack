{"Data":{"Angular-Issues":{"Issues":[{"Id":"577371328","IsPullRequest":true,"CreatedAt":"2020-03-07T17:15:19","Actor":"petebacondarwin","Number":"35934","RawContent":null,"Title":"Ngcc better lockfile patch","State":"open","Body":"This is a patch version of https://github.com/angular/angular/pull/35861\r\n\r\nIt does not include any `AsyncLocker` functionality but otherwise is the same.\r\n\r\nProbably still needs a review though.","Url":"https://github.com/angular/angular/pull/35934","RelatedDescription":"Open PR \"Ngcc better lockfile patch\" (#35934)"},{"Id":"577357290","IsPullRequest":true,"CreatedAt":"2020-03-07T16:23:52","Actor":"petebacondarwin","Number":"35933","RawContent":null,"Title":"ci: exclude ngcc directory from fw-compiler pull-approve rule","State":"open","Body":"ngcc has its own pull-approve group\r\n","Url":"https://github.com/angular/angular/pull/35933","RelatedDescription":"Open PR \"ci: exclude ngcc directory from fw-compiler pull-approve rule\" (#35933)"},{"Id":"577356407","IsPullRequest":true,"CreatedAt":"2020-03-07T16:16:54","Actor":"JoostK","Number":"35932","RawContent":null,"Title":"refactor(compiler): add `@nocollapse` annotation using a synthetic comment","State":"open","Body":"In Ivy, Angular decorators are compiled into static fields that are\r\ninserted into a class declaration in a TypeScript transform. When\r\ntargeting Closure compiler such fields need to be annotated with\r\n`@nocollapse` to prevent them from being lifted from a static field into\r\na variable, as that would prevent the Ivy runtime from being able to\r\nfind the compiled definitions.\r\n\r\nPreviously, there was a bug in TypeScript where synthetic comments added\r\nin a transform would not be emitted at all, so as a workaround a global\r\nregex-replace was done in the emit's `writeFile` callback that would add\r\nthe `@nocollapse` annotation to all static Ivy definition fields. This\r\napproach is no longer possible when ngtsc is running as TypeScript\r\nplugin, as a plugin cannot control emit behavior.\r\n\r\nThe workaround is no longer necessary, as synthetic comments are now\r\nproperly emitted, likely as of\r\nhttps://github.com/microsoft/TypeScript/pull/22141 which has been\r\nreleased with TypeScript 2.8.\r\n\r\nThis change is required for running ngtsc as TypeScript plugin in\r\nBazel's `ts_library` rule, to move away from the custom `ngc_wrapped`\r\napproach.\r\n\r\nResolves FW-1952\r\n\r\n---\r\n\r\nNote: marking for merge to master only, as patch would likely not benefit from this change.","Url":"https://github.com/angular/angular/pull/35932","RelatedDescription":"Open PR \"refactor(compiler): add `@nocollapse` annotation using a synthetic comment\" (#35932)"},{"Id":"577342872","IsPullRequest":true,"CreatedAt":"2020-03-07T14:34:11","Actor":"petebacondarwin","Number":"35931","RawContent":null,"Title":"perf(ngcc): implement entry-point manifest","State":"open","Body":"The `DirectoryWalkerEntryPointFinder` has to traverse the\r\nentire node_modules library everytime it executes in order to\r\nidentify the entry-points that need to be processed. This is\r\nvery time consuming (several seconds for big projects on\r\nWindows).\r\n\r\nThis commit changes the `DirectoryWalkerEntryPointFinder` to\r\nuse the `EntryPointManifest` to store the paths to entry-points\r\nthat were found when doing this initial node_modules traversal\r\nin a file to be reused for subsequent calls.\r\n\r\nThis dramatically speeds up ngcc processing when it has been run once already.\r\n\r\nFW-1962","Url":"https://github.com/angular/angular/pull/35931","RelatedDescription":"Open PR \"perf(ngcc): implement entry-point manifest\" (#35931)"},{"Id":"577324325","IsPullRequest":false,"CreatedAt":"2020-03-07T12:22:23","Actor":"azad47808","Number":"35930","RawContent":null,"Title":"ERROR in : Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.","State":"closed","Body":"I'm in an Angular 8 Ionic 4 project when I get build with --prod I get this error\r\n\r\nERROR in : Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.\r\n\r\nbut when I get build without --prod it works properly.","Url":"https://github.com/angular/angular/issues/35930","RelatedDescription":"Closed issue \"ERROR in : Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.\" (#35930)"},{"Id":"577321261","IsPullRequest":true,"CreatedAt":"2020-03-07T11:27:24","Actor":"spixy","Number":"35929","RawContent":null,"Title":"docs: fix dead CSRF link","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35929","RelatedDescription":"Open PR \"docs: fix dead CSRF link\" (#35929)"},{"Id":"577302426","IsPullRequest":false,"CreatedAt":"2020-03-07T08:45:49","Actor":"RoboBurned","Number":"35928","RawContent":null,"Title":"[Router] Add defaultUrlMatcher to public API","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 feature request\r\n\r\n### Relevant Package\r\n<!-- Can you pin-point one or more @angular/* packages the are relevant for this feature request? -->\r\nThis feature request is for @angular/router\r\n\r\n\r\n### Description\r\nThere should be ability to access defaultUrlMatcher from user's code.\r\nAbility to access and use it in custom implementations of UrlMatcher will ease developing of custom url matchers like in this question:\r\nhttps://stackoverflow.com/a/41543827/5358442\r\n```ts\r\nfunction digitsMatcher(segments: UrlSegment[], segmentGroup: UrlSegmentGroup, route: Route): UrlMatchResult | null {\r\n  const result = defaultUrlMatcher(segments, segmentGroup, route);\r\n\r\n  if (!result || !result.consumed || result.consumed.length < 1) {\r\n    return;\r\n  }\r\n\r\n  const re = /^\\d+$/;\r\n  const match = re.exec(result.consumed[0].path);\r\n\r\n  if (match) {\r\n    return result;\r\n  }\r\n\r\n  return null;\r\n}\r\n```\r\n\r\n### Describe the solution you'd like\r\nThere should be ability to import default URL matcher and call it from user-defined custom matcher.\r\n\r\n### Describe alternatives you've considered\r\nAnother solution of \"my\" case can be adding support of constraints for route params with few built-in constraints like Integer and Regex and ability to create custom constraints. \r\nThis could look something like this:\r\n```ts\r\nconst routes: Routes = [\r\n { path: ':clientId/:lang', component: ClientOpenComponent,\r\n    constraints: { \r\n               clientId: [RouteParamConstraints.Integer], /*built-in*/\r\n               lang: [LangRouterParamConstraint] } /*custom*/\r\n}];\r\n```\r\n","Url":"https://github.com/angular/angular/issues/35928","RelatedDescription":"Open issue \"[Router] Add defaultUrlMatcher to public API\" (#35928)"},{"Id":"577292786","IsPullRequest":true,"CreatedAt":"2020-03-07T07:16:00","Actor":"ajitsinghkaler","Number":"35927","RawContent":null,"Title":"docs: documentation of descendants property of @ContentChildren","State":"open","Body":"documentation of decendants property of @ContentChildren was not clear when decendants was set to false it did not pick up direct children when any directive was used on the elements. With Ivy the functionality follows the following pattern only query direct children (in the sense of elements in a template) when descendants: false is specified.\r\n\r\nFixes #20074\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nCurrent documentation of decendants property of @ContentCholdren is confusing\r\n\r\nIssue Number: #20074\r\n\r\n\r\n## What is the new behavior?\r\nClear out the functionality of descendants property of @ContentChildren\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35927","RelatedDescription":"Open PR \"docs: documentation of descendants property of @ContentChildren\" (#35927)"},{"Id":"577287977","IsPullRequest":false,"CreatedAt":"2020-03-07T06:29:08","Actor":"OmarioHasan","Number":"35926","RawContent":null,"Title":"There is no mention for entryComponents is Deprecated in \"dynamic component loader\" Chapter","State":"open","Body":"# 📚 Docs or angular.io bug report\r\n\r\n### Description\r\n\r\nI think it must update this chapter that using entryComponents in this part\r\nhttps://angular.io/guide/dynamic-component-loader\r\nand mention that it's deprecated ('https://angular.io/guide/deprecations')\r\nand update the code samples if it needs\r\n\r\n### What's the affected URL?**\r\nhttps://angular.io/guide/dynamic-component-loader\r\n\r\n\r\n\r\n## 📷Screenshot\r\n![image](https://user-images.githubusercontent.com/8146344/76138134-4d121380-604d-11ea-92c5-be32c26d1dbe.png)\r\n\r\n\r\n","Url":"https://github.com/angular/angular/issues/35926","RelatedDescription":"Open issue \"There is no mention for entryComponents is Deprecated in \"dynamic component loader\" Chapter\" (#35926)"},{"Id":"577271408","IsPullRequest":true,"CreatedAt":"2020-03-07T03:42:23","Actor":"PandiyanCool","Number":"35925","RawContent":null,"Title":"docs: added 60 new contributors details (#31992)","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35925","RelatedDescription":"Open PR \"docs: added 60 new contributors details (#31992)\" (#35925)"},{"Id":"577258774","IsPullRequest":false,"CreatedAt":"2020-03-07T02:04:59","Actor":"btakita","Number":"35924","RawContent":null,"Title":"Ugraded to Angular 9: Error: Can't resolve all parameters for ApplicationModule: (?).","State":"open","Body":"I upgraded my app to Angular 9 & am getting the following error:\r\n\r\n```\r\nError: Can't resolve all parameters for ApplicationModule: (?).\r\n    at syntaxError (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:7582:17)\r\n    at CompileMetadataResolver._getDependenciesMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27327:35)\r\n    at CompileMetadataResolver._getTypeMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27219:26)\r\n    at CompileMetadataResolver.getNgModuleMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27087:24)\r\n    at CompileMetadataResolver.getNgModuleSummary (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26889:35)\r\n    at /home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:27008:51\r\n    at Array.forEach (<anonymous>)\r\n    at CompileMetadataResolver.getNgModuleMetadata (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26996:49)\r\n    at CompileMetadataResolver.getNgModuleSummary (/home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26889:35)\r\n    at /home/brian/work/dishzilla/menus-angular-2-app/apps/angular-app/dist/server.js:26981:55\r\n```\r\n\r\nI have spent hours debugging this issue, but still have not made progress. I've also seen a number of fixes for this error message in previous years but none of those solutions worked for me. Can you please advise on obtaining a better error message that is easier to debug, because this error message is not very helpful. Thank you","Url":"https://github.com/angular/angular/issues/35924","RelatedDescription":"Open issue \"Ugraded to Angular 9: Error: Can't resolve all parameters for ApplicationModule: (?).\" (#35924)"},{"Id":"577245058","IsPullRequest":true,"CreatedAt":"2020-03-07T00:44:06","Actor":"AndrewKushnir","Number":"35923","RawContent":null,"Title":"fix(core): verify parsed ICU expression at runtime before executing it","State":"open","Body":"Prior to this commit, i18n runtime logic relied on the assumption that provided translation is syntactically correct, specifically around ICU syntax. However provided translations might contain some errors that lead to parsing failure. Specifically when translation contains curly braces, runtime i18n logic tries to parse them as an ICU expression and fails. This commit validates ICU parsing result (making sure it was parsed correctly) and throws an error if parsing error happens. The error that is thrown also contains translated message text for easier debugging.\r\n\r\nResolves #35689.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Bugfix\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35923","RelatedDescription":"Open PR \"fix(core): verify parsed ICU expression at runtime before executing it\" (#35923)"},{"Id":"577243424","IsPullRequest":true,"CreatedAt":"2020-03-07T00:36:03","Actor":"wagnermaciel","Number":"35922","RawContent":null,"Title":"refactor(benchpress): delete broken code","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [x] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n\r\nThe [firefox_extension](https://github.com/angular/angular/blob/master/packages/benchpress/src/firefox_extension/lib/main.ts#L9) has become outdated. It currently uses the `chrome` api which [has not worked since November 2017](https://developer.mozilla.org/en-US/docs/Archive/Add-ons/Add-on_SDK/Tutorials/Chrome_Authority).\r\n\r\n\r\n## What is the new behavior?\r\nRemove it.\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35922","RelatedDescription":"Open PR \"refactor(benchpress): delete broken code\" (#35922)"},{"Id":"577208134","IsPullRequest":false,"CreatedAt":"2020-03-06T22:36:57","Actor":"Aegis18","Number":"35921","RawContent":null,"Title":"Renderer2 skipping and appending to wrong element","State":"closed","Body":"Affected Package\r\n@angular/Renderer2\r\n### Description\r\n\r\nI am trying to use Renderer2 to wrap each child of my `<ng-content>` in a `div` element\r\n\r\n```  \r\nngAfterContentInit(): void {\r\n    let container = document.getElementById('smart-container-id');\r\n    let content: HTMLCollection = container.children;\r\n    let count = content.length;\r\n    console.log('There are ' + count + ' children')\r\n    for (let i = 0; i < count; i++) {\r\n      let wrapper = this.renderer.createElement('div');\r\n      wrapper.id = 'foo' + i;\r\n      this.renderer.appendChild(wrapper, content.item(i));\r\n      this.renderer.appendChild(container, wrapper);\r\n    }\r\n```\r\n\r\nI expect each of the 6 children components to be wrapped with a `div` and an id of `fooX`\r\n\r\nwhen I run this code I get\r\n\r\n![image](https://user-images.githubusercontent.com/27922019/76126920-645dec00-5fce-11ea-8700-df9c821e77f6.png)\r\n\r\n\r\nAs you can see 3 of the children have not been wrapped, as well as div `foo2` is now a child of `foo4` and `foo4` being a child of `foo5` \r\n\r\n🔬 Minimal Reproduction\r\n\r\n\r\nMy code:\r\n`app-smart-container.component.ts`\r\n```\r\nimport {AfterContentInit, Component, OnInit, Renderer2, TemplateRef} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-smart-container',\r\n  templateUrl: './smart-container.component.html',\r\n  styleUrls: ['./smart-container.component.scss']\r\n})\r\nexport class SmartContainerComponent implements OnInit, AfterContentInit {\r\n  \r\n  constructor(private renderer: Renderer2) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    let container = document.getElementById('smart-container-id');\r\n    let content: HTMLCollection = container.children;\r\n    let count = content.length;\r\n    console.log('There are ' + count + ' children')\r\n    for (let i = 0; i < count; i++) {\r\n      let wrapper = this.renderer.createElement('div');\r\n      wrapper.id = 'foo' + i;\r\n      this.renderer.appendChild(wrapper, content.item(i));\r\n      this.renderer.appendChild(container, wrapper);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n`app-smart-container.component.html`:\r\n```\r\n<div id=\"smart-container-id\" class=\"container\">\r\n    <ng-content></ng-content>\r\n</div>\r\n```\r\n\r\n`app.component.html`\r\n\r\n```\r\n<app-smart-container>\r\n  <div style=\"background: red\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: orangered\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: orange\">\r\n    &nbsp;\r\n  </div>\r\n  <div style=\"background: yellow\">\r\n    &nbsp;\r\n  </div>\r\n  <div  style=\"background: blue;\">\r\n    &nbsp;\r\n  </div>\r\n  <div  style=\"background: blueviolet;\">\r\n    &nbsp;\r\n  </div>\r\n</app-smart-container>\r\n```\r\n\r\n🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 9.0.4\r\nNode: 10.15.3\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.4\r\n@angular-devkit/build-angular      0.900.4\r\n@angular-devkit/build-optimizer    0.900.4\r\n@angular-devkit/build-webpack      0.900.4\r\n@angular-devkit/core               9.0.4\r\n@angular-devkit/schematics         9.0.4\r\n@angular/cdk                       9.1.0\r\n@angular/elements                  9.0.5\r\n@angular/material                  9.1.0\r\n@angular/material-moment-adapter   9.1.0\r\n@ngtools/webpack                   9.0.4\r\n@schematics/angular                9.0.4\r\n@schematics/update                 0.900.4\r\nrxjs                               6.4.0\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n\r\n</code></pre>","Url":"https://github.com/angular/angular/issues/35921","RelatedDescription":"Closed issue \"Renderer2 skipping and appending to wrong element\" (#35921)"},{"Id":"577202334","IsPullRequest":true,"CreatedAt":"2020-03-06T22:09:51","Actor":"bampakoa","Number":"35920","RawContent":null,"Title":"docs: Add useful tip in testing guide","State":"open","Body":"Inspired from [Protractor style guide](https://www.protractortest.org/#/style-guide), I added a note about how E2E tests perform in speed when compared with unit tests. I think that this note will make more clear to the readers about differences between two.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35920","RelatedDescription":"Open PR \"docs: Add useful tip in testing guide\" (#35920)"},{"Id":"577191538","IsPullRequest":true,"CreatedAt":"2020-03-06T21:44:02","Actor":"alxhub","Number":"35919","RawContent":null,"Title":"build: prepare for typescript 3.8 support","State":"open","Body":"This commit adds support in the Angular monorepo and in the Angular\r\ncompiler(s) for TypeScript 3.8. All packages can now compile with\r\nTS 3.8.\r\n\r\nThis commit does NOT update the version of TypeScript in the monorepo. This\r\nwill be done in a future commit.\r\n\r\nFor most of the repo, only a handful few typings adjustments were needed.\r\n\r\nFor compiler-cli and schematics (which use the TypeScript AST) a major\r\nbreaking change was the introduction of the export form:\r\n\r\n```typescript\r\nexport * as foo from 'bar';\r\n```\r\n\r\nThis is a `ts.NamespaceExport`, and the `exportClause` of a\r\n`ts.ExportDeclaration` can now take this type as well as `ts.NamedExports`.\r\nThis broke a lot of places where `exportClause` was assumed to be\r\n`ts.NamedExports`.\r\n\r\nFor the most part these breakages were in cases where it is not necessary\r\nto handle the new `ts.NamedExports` anyway. ngtsc's design uses the\r\n`ts.TypeChecker` APIs to understand syntax and so automatically supports the\r\nnew form of exports.\r\n\r\nThe View Engine compiler on the other hand extracts TS structures into\r\nmetadata.json files, and that format was not designed for namespaced\r\nexports. As a result it will take a nontrivial amount of work if we want to\r\nsupport such exports in View Engine. For now, these new exports are not\r\naccounted for in metadata.json, and so using them in \"folded\" Angular\r\nexpressions will result in errors (probably claiming that the referenced\r\nexported namespace doesn't exist).\r\n\r\nCare was taken to only use TS APIs which are present in 3.7/3.6, as Angular\r\nneeds to remain compatible with these for the time being.\r\n\r\nThis commit does not update angular.io for compatibility.\r\n","Url":"https://github.com/angular/angular/pull/35919","RelatedDescription":"Open PR \"build: prepare for typescript 3.8 support\" (#35919)"},{"Id":"577185766","IsPullRequest":true,"CreatedAt":"2020-03-06T21:29:56","Actor":"petebacondarwin","Number":"35918","RawContent":null,"Title":"build(docs-infra): update the dependency versions of the examples","State":"open","Body":"On OS/X The examples were failing to build due to a version mismatch\r\nwith fsevents that results in errors that look like:\r\n\r\n```\r\n$ ng serve\r\n...\r\n/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:28\r\n  return (new fsevents(path)).on('fsevent', callback).start();\r\n          ^\r\nTypeError: fsevents is not a constructor\r\n    at createFSEventsInstance (/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:28:11)\r\n    at setFSEventsListener (/.../angular/aio/tools/examples/shared/node_modules/chokidar/lib/fsevents-handler.js:82:16)\r\n    ...\r\nerror Command failed with exit code 1.\r\n```\r\n\r\nThis commit updates the version in yarn.lock to fix this problem.\r\n\r\n","Url":"https://github.com/angular/angular/pull/35918","RelatedDescription":"Open PR \"build(docs-infra): update the dependency versions of the examples\" (#35918)"},{"Id":"577148781","IsPullRequest":true,"CreatedAt":"2020-03-06T20:06:32","Actor":"blakeley","Number":"35917","RawContent":null,"Title":"docs(animations): Rephrase NoopAnimationsModule documentation string","State":"open","Body":"The phrasing \"allow disabling of animations\" is confusing and suggests that some further action needs to be taken in order to *actually* disable animations. However, importing this module has the effect of *actually* disabling animations. This change rephrases the phrasing of NoopAnimationsModule's documentation string in order to be more clear.\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35917","RelatedDescription":"Open PR \"docs(animations): Rephrase NoopAnimationsModule documentation string\" (#35917)"},{"Id":"577147279","IsPullRequest":true,"CreatedAt":"2020-03-06T20:03:10","Actor":"AndrewKushnir","Number":"35916","RawContent":null,"Title":"refactor(core): throw more descriptive error message in case of invalid host element","State":"open","Body":"This commit replaces an assert with more descriptive error message that is thrown in case `<ng-template>` or `<ng-container>` is used as host element for a Component.\r\n\r\nResolves #35240.\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n- [x] Refactoring (no functional changes, no api changes)\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No","Url":"https://github.com/angular/angular/pull/35916","RelatedDescription":"Open PR \"refactor(core): throw more descriptive error message in case of invalid host element\" (#35916)"},{"Id":"577119661","IsPullRequest":false,"CreatedAt":"2020-03-06T19:17:31","Actor":"zuoshuluHTC","Number":"35915","RawContent":null,"Title":"node sqlite3 package does not work on a simple angular 9-app","State":"closed","Body":"https://stackoverflow.com/questions/60567717/node-sqlite3-package-does-not-work-on-a-simple-angular-9-app\r\n\r\nI post my issues on stackoverflow above, I hope this is the better place to get a solution for angular sqlite support","Url":"https://github.com/angular/angular/issues/35915","RelatedDescription":"Closed issue \"node sqlite3 package does not work on a simple angular 9-app\" (#35915)"},{"Id":"577071677","IsPullRequest":false,"CreatedAt":"2020-03-06T17:43:53","Actor":"sod","Number":"35914","RawContent":null,"Title":"feature request: make {ngZone: 'noop'} viable","State":"closed","Body":"Our app is 10% faster, the build smaller and the stacktraces more readable without zone.js. We already wrapped http, timeouts and routing, so it's not big deal to do `Promise.resolve().then(() => applicationRef.tick())` after one of them ran.\r\n\r\nBut I found no hook to schedule a tick after an event - registered by angular - was executed. E.g. `@HostListener` or `(click)=\"...\"` in templates.\r\n\r\n# 🚀 feature request\r\n\r\nAdd support to automatically schedule an applicationTick after an event.\r\n\r\nAngular [already marks the view as dirty](https://github.com/angular/angular/blob/d528dedd5007dd7272878bf7a933cb1f3e153ed0/packages/core/src/render3/instructions/listener.ts#L264), but doesn't schedule an `applicationRef.tick()`.","Url":"https://github.com/angular/angular/issues/35914","RelatedDescription":"Closed issue \"feature request: make {ngZone: 'noop'} viable\" (#35914)"},{"Id":"577032852","IsPullRequest":true,"CreatedAt":"2020-03-06T16:15:45","Actor":"armoucar","Number":"35913","RawContent":null,"Title":"docs: fix closing tags in sample code.","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35913","RelatedDescription":"Open PR \"docs: fix closing tags in sample code.\" (#35913)"},{"Id":"577015075","IsPullRequest":false,"CreatedAt":"2020-03-06T15:47:18","Actor":"PapaNappa","Number":"35912","RawContent":null,"Title":"[i18n] Support for ICU expressions in $localize (for programmatic use)","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄 \r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 feature request\r\n\r\n### Relevant Package\r\n<!-- Can you pin-point one or more @angular/* packages the are relevant for this feature request? -->\r\n<!-- ✍️edit: --> This feature request is for @angular/localize.\r\n\r\n\r\n### Description\r\n<!-- ✍️-->\r\nWith the new `$localize` in Angular 9, we are finally able to do translations in code.\r\n\r\nTo borrow from [\"i18n with $localize in TypeScript code\" of this blog post](https://blog.ninja-squad.com/2019/12/10/angular-localize/), you can now write this:\r\n```\r\ntitle = $localize`Hi ${this.name}! You have ${this.users.length} users.`;\r\n```\r\n\r\n(`ng xi18n` currently does not extract these strings, you have to add them manually to your translation files, but that's not what this feature request is about.)\r\n\r\nUnfortunately, ICU expressions are currently not handled by $localize.\r\nFor instance, ideally, you would want to write\r\n```\r\ntitle = $localize`Hi ${this.name}! You have {${this.users.length}, plural, =0 {no users} =1 {one user} other {${this.users.length} users}} users.`;\r\n```\r\nBut this does not work, and the ICU expression is returned literally.\r\n\r\nAs far as I understand, ICU expressions are currently handled only by compiler internals.\r\ni18n strings with ICU expressions in the template are actually transformed to multiple `$localize` calls (one for the whole string, one for each ICU expression). `$localize` returns the ICU expressions as-is (but with expressions replaced by special markers), and the ICU expressions are handled by ivy in @angular/core.\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️--> \r\nI could see two possible solutions - totally from a developer's perspective:\r\n\r\n`$localize` also supports evaluation of ICU expressions, as in my example above.\r\n\r\nAlternatively, `$localize` is left as-is as a primitive, and a new `i18n` function (in the sense of @ocombe's [ngx-translate/i18n-polyfill](https://github.com/ngx-translate/i18n-polyfill)) is introduced that handles ICUs. (And can maybe also serve as a marker for automatic text extraction).\r\n\r\nIdeally, the solution works both for compile-time inlining as well as for runtime translatations.\r\n\r\nAlthough this would be another feature request (with probably lower priority, that's why I have not opened such a proposal), the implemented solution should not prevent to add dynamic runtime-translations in the future, i.e. where the translation id is composed at runtime (e.g. `$localize':@@${id}:'` or `i18n({id})`).\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> ngx-translate's -messageformat-compiler requires the CSP unsafe-eval, which is not an option in productive environments.\r\n","Url":"https://github.com/angular/angular/issues/35912","RelatedDescription":"Open issue \"[i18n] Support for ICU expressions in $localize (for programmatic use)\" (#35912)"},{"Id":"577013128","IsPullRequest":true,"CreatedAt":"2020-03-06T15:43:58","Actor":"josephperrott","Number":"35911","RawContent":null,"Title":"build: Add pullapprove verification tool to dev-infra-private package","State":"open","Body":"Migrates pullapprove verification tool to be available in the dev-infra-private\r\npackage\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [ ] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\n\r\nIssue Number: N/A\r\n\r\n\r\n## What is the new behavior?\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35911","RelatedDescription":"Open PR \"build: Add pullapprove verification tool to dev-infra-private package\" (#35911)"},{"Id":"577008639","IsPullRequest":true,"CreatedAt":"2020-03-06T15:36:13","Actor":"josephperrott","Number":"35910","RawContent":null,"Title":"build: set dev-infra package to be private","State":"open","Body":"Setting the dev-infra package to private will prevent us\r\nfrom accidentally publishing the package to npm.\r\n","Url":"https://github.com/angular/angular/pull/35910","RelatedDescription":"Open PR \"build: set dev-infra package to be private\" (#35910)"},{"Id":"576937870","IsPullRequest":false,"CreatedAt":"2020-03-06T13:39:27","Actor":"anhallbe","Number":"35908","RawContent":null,"Title":"DI error when using JIT from an AoT-compiled Ivy project","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/core and/or @angular/compiler\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: 8 & 9 (without Ivy)\r\n\r\n### Description\r\n\r\n<!-- ✍️--> An error is thrown when trying to load a component from an external service. The js module is fetched with SystemJS, and then compiled (JIT) using the @angular/core Compiler. The error is thrown when the component is added to the view (using ViewContainerRef.createComponent()). The problem only occurs when the component is not already compiled with AOT (ivy), xor if the project is not configured to use AOT.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ✍️--> https://github.com/anhallbe/repro-app\r\n\r\n1. Clone the repo\r\n2. run `ng serve`\r\n3. Follow instructions in the template\r\n\r\nDemo:\r\n![di-dynamic-component](https://user-images.githubusercontent.com/4991954/76088356-2eae0880-5fb8-11ea-8786-9f94c00264c2.gif)\r\n\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\nError: This constructor is not compatible with Angular Dependency Injection because its dependency at index 0 of the parameter list is invalid.\r\n</code></pre>\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.13.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35908","RelatedDescription":"Open issue \"DI error when using JIT from an AoT-compiled Ivy project\" (#35908)"},{"Id":"576906989","IsPullRequest":true,"CreatedAt":"2020-03-06T12:41:18","Actor":"fmalcher","Number":"35907","RawContent":null,"Title":"docs(zone.js): fix typos and align formatting","State":"open","Body":"## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [x] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [x] Other... Please describe: Formatting, typos, alignment\r\n\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n","Url":"https://github.com/angular/angular/pull/35907","RelatedDescription":"Open PR \"docs(zone.js): fix typos and align formatting\" (#35907)"},{"Id":"576895439","IsPullRequest":false,"CreatedAt":"2020-03-06T12:16:53","Actor":"nickbullock","Number":"35906","RawContent":null,"Title":"[Ivy AOT] AOT recompilation is working slow on big projects","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\n<!-- Can you pin-point one or more @angular/* packages as the source of the bug? -->\r\n<!-- ✍️edit: --> The issue is caused by package @angular/compiler-cli\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> No\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️-->\r\nWe have a big Angular Ivy project, and the problem is that we want to use Ivy+AOT everywhere: in production and development, but we can't use it for development now because of slow recompilation AOT process. \r\nProject is `@nrwl/nx` based app with > 10 libraries and two applications.\r\nAlso can be important: `ng-cli` based with custom webpack extensions, hybrid app with angularjs 1.5.8.\r\n\r\nSome stats (Ivy+AOT):\r\n\r\nFull application:\r\n- first compile: 96225ms - 180000ms\r\n- recompile: 11949ms (+-) - 20000ms\r\n\r\nDemo application (small part of full application):\r\n- first compile: 35987ms \r\n- recompile: 3040ms\r\n\r\nAngularCompilerPlugin stats (in full app):\r\n- 3915 files reported by NgTscProgram\r\n- 2152 classes reported by TraitCompiler\r\n\r\nAngularCompilerPlugin stats (in demo app):\r\n- 1600 files reported by NgTscProgram\r\n\r\nJIT is working much faster and recompilations tooks always 2-4sec.\r\n\r\nI turned on benchmark in node_modules/@ngtools/webpack/src/benchmark.js and started logging why AngularCompilerPlugin works so long on recompilations. Then I added my own logs prefixed with `>>>`. I added these log files as assignments to this issue. Log files contains our full app compilation and recompilation process - it separated with `[RECOMPILE STARTS HERE]` tag.\r\n\r\nIn the first log file you can see that chain\r\n```AngularCompilerPlugin._make => AngularCompilerPlugin._update => AngularCompilerPlugin._createOrUpdateProgram.ng.loadNgStructureAsync ```\r\ntake 10311.904ms it is about 10/17 of all recompilation time.\r\nThen dived deep into it and understood that `ComponentDecoratorHandler.resolve` is the slow method\r\nusing console.time. Here is stacktrace:\r\n\r\n```\r\nComponentDecoratorHandler.resolve (component.js:382)\r\nTraitCompiler.resolve (compilation.js:395)\r\nNgCompiler.resolveCompilation (compiler.js:356)\r\nNgCompiler.analyzeAsync (compiler.js:181)\r\nNgtscProgram.loadNgStructureAsync (program.js:142)\r\n_createOrUpdateProgram (angular_compiler_plugin.js:261)\r\n_update (angular_compiler_plugin.js:842)\r\n_make (angular_compiler_plugin.js:749)\r\n```\r\nIn the second log you can see 3 internal timelines of `ComponentDecoratorHandler.resolve()` and here is how I did it:\r\nusedDirectives\r\n![image](https://user-images.githubusercontent.com/15385798/76080339-bb0bfb80-5fb7-11ea-938c-0e16913f6535.png)\r\nusedPipes\r\n![image](https://user-images.githubusercontent.com/15385798/76080405-e0006e80-5fb7-11ea-9731-a6eabbb3bd01.png)\r\nwrapDirectivesAndPipesInClosure\r\n![image](https://user-images.githubusercontent.com/15385798/76080450-fa3a4c80-5fb7-11ea-8632-ab9f5e09e5ba.png)\r\n\r\nSometimes `ComponentDecoratorHandler.resolve.usedDirectives` and  `ComponentDecoratorHandler.resolve.usedPipes` can execute very long time (check it in log file):\r\n```\r\n>>>> ComponentDecoratorHandler.resolve.usedDirectives: 23.926ms\r\n>>>> ComponentDecoratorHandler.resolve.usedDirectives: 65.800ms\r\n>>>> ComponentDecoratorHandler.resolve.usedPipes: 11.891ms\r\n>>>> ComponentDecoratorHandler.resolve.usedPipes: 33.837ms\r\n```\r\nThese function called about ~2000 times in our app recompilation process so we can understand that if one usedDirectives and usedPipes processing tooks for example 5ms then whole process will took about 5x2x2000 = 20000ms = 10s.\r\n\r\nIn our application usedDirectives variable in `ComponentDecoratorHandler.resolve` method was equal to the value of 43 (maximum) and usedPipes to the value 7 (maximum).\r\n\r\ntsc --listFiles says there are 3913 files in typescript compilation. Added files list as assignment.\r\n\r\nMain part of tsconfig:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"types\": [\r\n      \"@types/angular\",\r\n      \"@types/chart.js\",\r\n      \"@types/core-js\",\r\n      \"@types/jasmine\",\r\n      \"@types/jquery\",\r\n      \"@types/lodash\",\r\n      \"@types/lru-cache\",\r\n      \"@types/node\",\r\n      \"@types/ui-select\"\r\n    ],\r\n    \"rootDir\": \".\",\r\n    \"baseUrl\": \".\",\r\n    \"moduleResolution\": \"node\",\r\n    \"lib\": [\"es2018\", \"dom\"],\r\n    \"module\": \"esnext\",\r\n    \"sourceMap\": true,\r\n    \"allowJs\": false,\r\n    \"experimentalDecorators\": true,\r\n    \"esModuleInterop\": true,\r\n    \"target\": \"es5\",\r\n    \"resolveJsonModule\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"declaration\": false\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"skipMetadataEmit\": true,\r\n    \"enableIvy\": true,\r\n    \"fullTemplateTypeCheck\": true\r\n  }\r\n}\r\n\r\n```\r\n\r\nI think that any big project can get into this issue with grow of files count which are included to the typescript and angular compilation processes.\r\n\r\nWhat I can't understand here: why Angular needs to traverse and handle all typescript compilation files when changed files (usually it one file) are known already )? It is looks like Ivy AOT can't work in incremental mode? How we can boost AOT recompilation without reducing files count?\r\n\r\nPlease tell me if you will need something else to understand the problem.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https://stackblitz.com/fork/angular-issue-repro2\r\n-->\r\n<!-- ✍️--> It is very hard to reproduce it on stackblitz or github\r\n\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue.\r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 9.0.4\r\nNode: 12.13.1\r\nOS: darwin x64\r\n\r\nAngular: 9.0.4\r\n... cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, upgrade\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.1\r\n@angular-devkit/build-angular     0.900.4\r\n@angular-devkit/build-optimizer   0.900.4\r\n@angular-devkit/build-webpack     0.900.4\r\n@angular-devkit/core              9.0.4\r\n@angular-devkit/schematics        9.0.1\r\n@angular/cdk                      9.1.0\r\n@ngtools/webpack                  9.0.4\r\n@schematics/angular               9.0.4\r\n@schematics/update                0.900.4\r\n\r\nrxjs                              6.5.3\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\nLog1\r\n[1.log-first-compile.txt](https://github.com/angular/angular/files/4298250/1.log-first-compile.txt)\r\nLog2\r\n[2.log-comp-dec-resolve-used-dirs-and-pipes.txt](https://github.com/angular/angular/files/4298249/2.log-comp-dec-resolve-used-dirs-and-pipes.txt)\r\ntsc list files\r\n[tsc-list-files.txt](https://github.com/angular/angular/files/4298251/tsc-list-files.txt)\r\n\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular/issues/35906","RelatedDescription":"Open issue \"[Ivy AOT] AOT recompilation is working slow on big projects\" (#35906)"},{"Id":"576879350","IsPullRequest":false,"CreatedAt":"2020-03-06T11:44:57","Actor":"cesco69","Number":"35905","RawContent":null,"Title":"DatePipe works on Chrome but not on Firefox","State":"open","Body":"# 🐞 bug report\r\n\r\n### Affected Package\r\n- Angular 8 \r\n- Angular 9\r\n\r\n\r\n### Description\r\nThis formatting with date pipe works on Chrome but not on Firefox:\r\n```html\r\n{{ \"06-03-2020 11:04:06\" | date:'dd/MM/yy' }}\r\n```\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nOpen this demo with Chrome and Firefox\r\nhttps://stackblitz.com/edit/angular-kfuwc4\r\non Firefox raise an exception:\r\n\r\n> ERROR\r\n> Error: InvalidPipeArgument: 'Unable to convert \"06-03-2020 11:04:06\" into a date' for pipe 'DatePipe'\r\n\r\n\r\n\r\n## 🔥 Exception or Error\r\n> ERROR\r\n> Error: InvalidPipeArgument: 'Unable to convert \"06-03-2020 11:04:06\" into a date' for pipe 'DatePipe'\r\n\r\n\r\n## 🌍  Your Environment\r\n\r\n```\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.15.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.5\r\n@angular-devkit/build-angular      0.900.5\r\n@angular-devkit/build-optimizer    0.900.5\r\n@angular-devkit/build-webpack      0.900.5\r\n@angular-devkit/core               8.3.8\r\n@angular-devkit/schematics         8.3.8\r\n@angular/cdk                       9.1.1\r\n@angular/material                  9.1.1\r\n@angular/material-moment-adapter   9.1.1\r\n@ngtools/webpack                   9.0.5\r\n@schematics/angular                8.3.8\r\n@schematics/update                 0.900.5\r\nrxjs                               6.5.4\r\ntypescript                         3.7.5\r\nwebpack                            4.41.2\r\n```\r\n","Url":"https://github.com/angular/angular/issues/35905","RelatedDescription":"Open issue \"DatePipe works on Chrome but not on Firefox\" (#35905)"},{"Id":"576853084","IsPullRequest":true,"CreatedAt":"2020-03-06T10:53:38","Actor":"ajitsinghkaler","Number":"35904","RawContent":null,"Title":"feat(docs-infra): replace analytics.js with gtag.js","State":"open","Body":"replaced analytics.js with gtag.js for best practices\r\n\r\n#22260\r\n\r\n## PR Checklist\r\nPlease check if your PR fulfills the following requirements:\r\n\r\n- [x] The commit message follows our guidelines: https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been added / updated (for bug fixes / features)\r\n\r\n\r\n## PR Type\r\nWhat kind of change does this PR introduce?\r\n\r\n<!-- Please check the one that applies to this PR using \"x\". -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, local variables)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] CI related changes\r\n- [ ] Documentation content changes\r\n- [ ] angular.io application / infrastructure changes\r\n- [ ] Other... Please describe:\r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying, or link to a relevant issue. -->\r\nAnalytics.js is used to collect data now integrated gtag.js\r\n\r\nIssue Number: #22260\r\n\r\n\r\n## What is the new behavior?\r\nAdded gtag.js to collect data for analytics\r\n\r\n## Does this PR introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\n\r\n<!-- If this PR contains a breaking change, please describe the impact and migration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n","Url":"https://github.com/angular/angular/pull/35904","RelatedDescription":"Open PR \"feat(docs-infra): replace analytics.js with gtag.js\" (#35904)"}],"ResultType":"GitHubIssue"},"AngularCli-Issues":{"Issues":[{"Id":"577353688","IsPullRequest":false,"CreatedAt":"2020-03-07T15:55:25","Actor":"Akxe","Number":"17171","RawContent":null,"Title":"NG g with --lint-fix in subdirectory fails","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [x] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n@angular/cli 9.0.4\r\n\r\n### Description\r\n\r\nThe `--lint-fix` will crash, if the command doesn't run from within the same folder the `angular.json` file is.\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\nCreate angular project, navigate to  `/src/app/`  or any other and run any `generate` command with `--lint-fix` flag.\r\n```\r\nng g m map/map-html-marker --lint-fix\r\nng g m map/map-html-marker --lint-fix\r\n```\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nC:\\Users\\akxe\\Documents\\Programming\\Rex-client\\src\\app [map-html-marker]> ng g m map/map-html-marker/map-html-marker --lint-fix\r\nCREATE src/app/map/map-html-marker/map-html-marker/map-html-marker.module.ts (199 bytes)\r\nENOENT: no such file or directory, scandir 'C:\\Users\\akxe\\Documents\\Programming\\Rex-client\\src\\app\\src\\app\\map\\map-html-marker\\map-html-marker'\r\nC:\\Users\\akxe\\Documents\\Programming\\Rex-client\\src\\app [map-html-marker +1 ~0 -0 !]> ng g m map/map-html-marker --lint-fix\r\nCREATE src/app/map/map-html-marker/map-html-marker.module.ts (199 bytes)\r\nCREATE src/app/map/map-html-marker/map-html-marker.component.html (30 bytes)\r\nCREATE src/app/map/map-html-marker/map-html-marker.component.spec.ts (679 bytes)\r\nCREATE src/app/map/map-html-marker/map-html-marker.component.ts (386 bytes)\r\nCREATE src/app/map/map-html-marker/map-html-marker.component.scss (0 bytes)\r\nUPDATE src/app/map/map-html-marker/map-html-marker.module.ts (291 bytes)\r\nENOENT: no such file or directory, scandir 'C:\\Users\\akxe\\Documents\\Programming\\Rex-client\\src\\app\\src\\app\\map\\map-html-marker'\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.5\r\nNode: 12.16.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@angular/cdk                      9.1.1\r\n@angular/google-maps              9.0.1\r\n@angular/material                 9.1.1\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\nNo\r\n","Url":"https://github.com/angular/angular-cli/issues/17171","RelatedDescription":"Open issue \"NG g with --lint-fix in subdirectory fails\" (#17171)"},{"Id":"577331661","IsPullRequest":false,"CreatedAt":"2020-03-07T12:59:58","Actor":"jeandat","Number":"17170","RawContent":null,"Title":"speed-measure-webpack-plugin integration","State":"open","Body":"\r\n# 🚀 Feature request\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [x] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️--> A clear and concise description of the problem or missing capability...\r\n\r\nI just discovered speed-measure-webpack-plugin via addy osmani and thought it would be interesting to have it in @angular/cli too. As of today even with ngx-build-plus I don't see how you could wrap existing plugins with SMP. You can use it for the plugins you added yourself but that's all. All plugins already declared by the @angular/cli won't be affected.\r\n\r\nOn my project, (big project), I'm pretty sure the license plugin is taking a lot of times every time I build. I would love to have numbers for that. I would also love being able to disable it in dev mode but that's another subject. \r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️--> If you have a solution in mind, please describe it.\r\n\r\nThe easiest solution would be to integrate SMP or something similar in @angular/cli. Even if we don't have control on everything it would give us hints about what takes times and maybe we can do something.\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> Have you considered any alternative solutions or workarounds?\r\n\r\nI don't see any alternative if you want to keep using @angular/cli.\r\n","Url":"https://github.com/angular/angular-cli/issues/17170","RelatedDescription":"Open issue \"speed-measure-webpack-plugin integration\" (#17170)"},{"Id":"577326062","IsPullRequest":false,"CreatedAt":"2020-03-07T12:10:51","Actor":"capc0","Number":"17169","RawContent":null,"Title":"terminal progress on multiple lines on small terminal width","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\n\r\nYes. Worked with Angular 8.1.0\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\n\r\nregression of https://github.com/angular/angular-cli/issues/14623\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n\r\nAngular CLI: 9.0.5\r\nNode: 10.16.0\r\nOS: win32 x64\r\n\r\nAngular: 9.0.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\nIvy Workspace: No\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.5\r\n@angular-devkit/build-angular     0.900.5\r\n@angular-devkit/build-optimizer   0.900.5\r\n@angular-devkit/build-webpack     0.900.5\r\n@angular-devkit/core              9.0.5\r\n@angular-devkit/schematics        9.0.5\r\n@angular/cdk                      7.3.7\r\n@ngtools/webpack                  9.0.5\r\n@schematics/angular               9.0.5\r\n@schematics/update                0.900.5\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17169","RelatedDescription":"Open issue \"terminal progress on multiple lines on small terminal width\" (#17169)"},{"Id":"577310823","IsPullRequest":false,"CreatedAt":"2020-03-07T09:55:53","Actor":"mboughaba","Number":"17168","RawContent":null,"Title":"Moderate vulnerability in `@angular-devkit/build-angular` deps","State":"open","Body":"Dear,\r\n\r\nNPM audit report a moderate vulnerability in dev-dependency `@angular-devkit/build-angular`\r\nI am not sure if `angular/cli` is affected :)\r\n\r\n```\r\n> npm audit --registry https://registry.npmjs.org/\r\n\r\n\r\n                       === npm audit security report ===\r\n\r\n\r\n                                 Manual Review\r\n             Some vulnerabilities require your attention to resolve\r\n\r\n          Visit https://go.npm.me/audit-guide for additional guidance\r\n\r\n\r\n  Moderate        Regular Expression Denial of Service\r\n\r\n  Package         acorn\r\n\r\n  Patched in      >=7.1.1\r\n\r\n  Dependency of   @angular-devkit/build-angular [dev]\r\n\r\n  Path            @angular-devkit/build-angular > webpack > acorn\r\n\r\n  More info       https://npmjs.com/advisories/1488\r\n\r\nfound 1 moderate severity vulnerability in 23729 scanned packages\r\n  1 vulnerability requires manual review. See the full report for details.\r\n```\r\n\r\nNPM Advisory: <https://npmjs.com/advisories/1488>\r\nRemediation: Upgrade `acorn` to version 7.1.1 or later.\r\n\r\nThank you in advance,\r\nMo\r\n","Url":"https://github.com/angular/angular-cli/issues/17168","RelatedDescription":"Open issue \"Moderate vulnerability in `@angular-devkit/build-angular` deps\" (#17168)"},{"Id":"577286699","IsPullRequest":false,"CreatedAt":"2020-03-07T06:16:33","Actor":"h4mit","Number":"17167","RawContent":null,"Title":"How can I generate other files while calling new components in Angular CLI","State":"open","Body":"How can I generate any files except the base files while generating new components? For example:\r\n\r\n```ng generate component my-component```\r\n\r\nRoutinely the following files would be generated:\r\n\r\n```my-component.component.html\r\n\r\nmy-component.component.scss\r\n\r\nmy-component.component.ts\r\n\r\nmy-component.component.spec.ts\r\n```\r\n\r\nBut I want to generate other files, too. For example:\r\n\r\n```my-component.component.html\r\n\r\nmy-component.component.scss\r\n\r\nmy-component.component.ts\r\n\r\nmy-component.component.spec.ts\r\n\r\ni18n(folder)\r\n    en.json\r\n    es.json","Url":"https://github.com/angular/angular-cli/issues/17167","RelatedDescription":"Open issue \"How can I generate other files while calling new components in Angular CLI\" (#17167)"},{"Id":"577286599","IsPullRequest":true,"CreatedAt":"2020-03-07T06:15:32","Actor":"renovate[bot]","Number":"17166","RawContent":null,"Title":"build: update rollup to version 2.0.2","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | dependencies | major | [`1.32.0` -> `2.0.2`](https://renovatebot.com/diffs/npm/rollup/1.32.0/2.0.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>rollup/rollup</summary>\n\n### [`v2.0.2`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;202)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v2.0.1...v2.0.2)\n\n_2020-03-07_\n\n##### Bug Fixes\n\n-   Make sure the ESM import still works ([#&#8203;3430](https://togithub.com/rollup/rollup/issues/3430))\n\n##### Pull Requests\n\n-   [#&#8203;3430](https://togithub.com/rollup/rollup/pull/3430): Fix conditional exports again ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n### [`v2.0.1`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;201)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v2.0.0...v2.0.1)\n\n_2020-03-07_\n\n##### Bug Fixes\n\n-   Reenable importing rollup in Node 13.0 - 13.7 ([#&#8203;3428](https://togithub.com/rollup/rollup/issues/3428))\n\n##### Pull Requests\n\n-   [#&#8203;3428](https://togithub.com/rollup/rollup/pull/3428): Fix conditional exports in Node 13.0 - 13.7 ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n### [`v2.0.0`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;200)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v1.32.1...v2.0.0)\n\n_2020-03-06_\n\n##### Breaking Changes\n\n-   Rollup now requires at least Node 10 to run, or a sufficiently modern browser ([#&#8203;3346](https://togithub.com/rollup/rollup/issues/3346))\n-   The file structure of Rollup's ESM builds has changed:\n\n    -   The main ESM entry point is now at `rollup/dist/es/rollup.js` instead of `rollup/dist/rollup.es.js`\n    -   The ESM browser build is at `rollup/dist/es/rollup.browser.js` instead of `rollup/dist/rollup.browser.es.js`\n\n    In general, the ESM builds now follow the same naming scheme as the CJS builds but are located in the `rollup/dist/es` subfolder instead of `rollup/dist` ([#&#8203;3391](https://togithub.com/rollup/rollup/issues/3391))\n\n-   The \"watch.chokidar\" option no longer accepts a `boolean` value but only an object of parameters that is passed to the bundled Chokidar instance. Chokidar installations by the user will be ignored in favour of the bundled instance ([#&#8203;3331](https://togithub.com/rollup/rollup/issues/3331))\n-   Modules that are completely tree-shaken will no longer be listed as part of any chunks in `generateBundle`\n-   The `experimentalOptimizeChunks` and `chunkGroupingSize` options have been removed\n-   [acorn](https://togithub.com/acornjs/acorn) plugins can only be used if they accept a passed-in acorn instance instead of importing it themselves. See [acornjs/acorn#&#8203;870 (comment)](https://togithub.com/acornjs/acorn/pull/870#issuecomment-527339830) for what needs to be done to make plugins compatible that do not support this yet ([#&#8203;3391](https://togithub.com/rollup/rollup/issues/3391))\n-   Emitted chunks now have the TypeScript type `UInt8Array` instead of `Buffer`. A `Buffer` can still be used, though ([#&#8203;3395](https://togithub.com/rollup/rollup/issues/3395))\n-   The TypeScript types no longer use ESTree types for AST nodes but a very generic type that does not contain information specific to certain node types ([#&#8203;3395](https://togithub.com/rollup/rollup/issues/3395))\n-   The signature of the `writeBundle` plugin hook has been changed to match `generateBundle`: The bundle object is now passed as second parameter instead of first and the first parameter is the output options ([#&#8203;3361](https://togithub.com/rollup/rollup/issues/3361))\n-   The following plugin hooks have been removed:\n    -   ongenerate: use `generateBundle` instead\n    -   onwrite: use `writeBundle` instead\n    -   transformBundle: use `renderChunk` instead\n    -   transformChunk: use `renderChunk` instead\n-   You can no longer access `this.watcher` on the plugin context.\n-   The `transform` hook can no longer return `dependencies`.\n-   The `treeshake.pureExternalModules` option will now show a deprecation warning when used: use `treeshake.moduleSideEffects: 'no-external'` instead\n-   Using `import.meta.ROLLUP_ASSET_URL_<..>` and `import.meta.ROLLUP_CHUNK_URL_<..>` in code will now show warnings: use `import.meta.ROLLUP_FILE_URL_<..>` instead\n-   The `resolveAssetUrl` hook will now show a deprecation warning when used: use `resolveFileUrl` instead\n-   The following plugin context functions will show warnings when used:\n    -   `this.emitAsset`: use `this.emitFile`\n    -   `this.emitChunk`: use `this.emitFile`\n    -   `this.getAssetFileName`: use `this.getFileName`\n    -   `this.getChunkFileName`: use `this.getFileName`\n    -   `this.isExternal`: use `this.resolve`\n    -   `this.resolveId`: use `this.resolve`\n-   Directly adding properties to the bundle object in the `generateBundle` is deprecated will show a warning (removing properties is allowed, though): Use `this.emitFile`\n-   Accessing `chunk.isAsset` on the bundle is deprecated: Use `chunk.type === 'asset'` instead\n-   The error code for a missing `name` property when targeting UMD has been changed to `MISSING_NAME_OPTION_FOR_IIFE_EXPORT` to emphasize this is needed for the IIFE part of UMD ([#&#8203;3393](https://togithub.com/rollup/rollup/issues/3393))\n\n##### Features\n\n-   Rollup now bundles [Chokidar](https://togithub.com/paulmillr/chokidar) for a better watch experience ([#&#8203;3331](https://togithub.com/rollup/rollup/issues/3331))\n-   Rollup now bundles [acorn](https://togithub.com/acornjs/acorn) again, removing its only external dependency ([#&#8203;3391](https://togithub.com/rollup/rollup/issues/3391))\n-   Do not consider empty imports from side-effect-free modules for chunking and hoist side-effect imports if necessary ([#&#8203;3369](https://togithub.com/rollup/rollup/issues/3369))\n-   Rollup can now be imported as an ES module in Node via `import {rollup} from 'rollup'`. Note that this relies on Node's experimental [conditional package exports](https://nodejs.org/dist/latest-v13.x/docs/api/esm.html#esm_conditional_exports) feature and is therefore itself experimental ([#&#8203;3391](https://togithub.com/rollup/rollup/issues/3391))\n-   `systemjs` can be used as format alias for `system` ([#&#8203;3381](https://togithub.com/rollup/rollup/issues/3381))\n\n##### Bug Fixes\n\n-   Unknown output options now trigger a warning when using the JavaScript API ([#&#8203;3352](https://togithub.com/rollup/rollup/issues/3352))\n-   Rollup will no longer introduce Node types into TypeScript projects that do not use them ([#&#8203;3395](https://togithub.com/rollup/rollup/issues/3395))\n-   Generate correct sourcemaps when tree-shaking occurs in a multi-file bundle ([#&#8203;3423](https://togithub.com/rollup/rollup/issues/3423))\n\n##### Pull Requests\n\n-   [#&#8203;3331](https://togithub.com/rollup/rollup/pull/3331): Bundle Chokidar ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3343](https://togithub.com/rollup/rollup/pull/3343): Remove experimentalOptimizeChunks ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3346](https://togithub.com/rollup/rollup/pull/3346): Update minimum required Node version to 10 ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3352](https://togithub.com/rollup/rollup/pull/3352): Remove active deprecations ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3361](https://togithub.com/rollup/rollup/pull/3361): Change writeBundle signature to match generateBundle ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3369](https://togithub.com/rollup/rollup/pull/3369): Avoid empty imports from side-effect-free chunks ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3381](https://togithub.com/rollup/rollup/pull/3381): Rename esm to es everywhere, add systemjs alias ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3391](https://togithub.com/rollup/rollup/pull/3391): Bundle acorn, allow importing Rollup as Node ES module, update dependencies ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3393](https://togithub.com/rollup/rollup/pull/3393): Better error code for name-less umd bundle ([@&#8203;rail44](https://togithub.com/rail44))\n-   [#&#8203;3395](https://togithub.com/rollup/rollup/pull/3395): Remove `@types` dependencies ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3423](https://togithub.com/rollup/rollup/pull/3423): Update magic-string and fix sourcemaps ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n### [`v1.32.1`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;1321)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v1.32.0...v1.32.1)\n\n_2020-03-06_\n\n##### Bug Fixes\n\n-   Handle default export detection for AMD and IIFE externals that do not have a prototype ([#&#8203;3420](https://togithub.com/rollup/rollup/issues/3420))\n-   Handle missing whitespace when the else branch of an if-statement is simplified ([#&#8203;3421](https://togithub.com/rollup/rollup/issues/3421))\n-   Mention the importing module when reporting errors for missing named exports ([#&#8203;3401](https://togithub.com/rollup/rollup/issues/3401))\n-   Add code to warning for missing output.name of IIFE bundles ([#&#8203;3372](https://togithub.com/rollup/rollup/issues/3372))\n\n##### Pull Requests\n\n-   [#&#8203;3372](https://togithub.com/rollup/rollup/pull/3372): Add warning code for missing output.name of IIFE bundle that has export ([@&#8203;rail44](https://togithub.com/rail44))\n-   [#&#8203;3401](https://togithub.com/rollup/rollup/pull/3401): Missing exports errors now print the importing module ([@&#8203;timiyay](https://togithub.com/timiyay))\n-   [#&#8203;3418](https://togithub.com/rollup/rollup/pull/3418): Structure lifecycle hooks, add links to build time hooks ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3420](https://togithub.com/rollup/rollup/pull/3420): Update generated code of getInteropBlock() to work with null prototype objects ([@&#8203;jdalton](https://togithub.com/jdalton))\n-   [#&#8203;3421](https://togithub.com/rollup/rollup/pull/3421): Avoid invalid code when \"else\" branch is simplified ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17166","RelatedDescription":"Open PR \"build: update rollup to version 2.0.2\" (#17166)"},{"Id":"577286556","IsPullRequest":true,"CreatedAt":"2020-03-07T06:15:13","Actor":"renovate[bot]","Number":"17165","RawContent":null,"Title":"build: update magic-string to version 0.25.7","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [magic-string](https://togithub.com/rich-harris/magic-string) | dependencies | patch | [`0.25.6` -> `0.25.7`](https://renovatebot.com/diffs/npm/magic-string/0.25.6/0.25.7) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>rich-harris/magic-string</summary>\n\n### [`v0.25.7`](https://togithub.com/rich-harris/magic-string/blob/master/CHANGELOG.md#&#8203;0257)\n\n[Compare Source](https://togithub.com/rich-harris/magic-string/compare/v0.25.6...v0.25.7)\n\n-   fix bundle mappings after remove and move in multiple sources ([#&#8203;172](https://togithub.com/Rich-Harris/magic-string/issues/172))\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17165","RelatedDescription":"Open PR \"build: update magic-string to version 0.25.7\" (#17165)"},{"Id":"577015450","IsPullRequest":false,"CreatedAt":"2020-03-06T15:30:24","Actor":"fergusg","Number":"17164","RawContent":null,"Title":"ng update to v9 fails with invalid semver in package.json","State":"open","Body":"### Is this a regression?\r\n\r\nYes, the previous version in which this bug was not present was: .8.2.13\r\n\r\n### Description\r\n\r\n`ng update` fails if `package.json` version is not fully semver (`x.x.x`).\r\n\r\n##  Minimal Reproduction\r\n\r\n```\r\n$ ng new blah\r\n$ cd blah\r\n$ ng update rxjs\r\n# Found 30 dependencies.\r\n```\r\n\r\nEdit `package.json` to change `\"version\":  \"0.0\"`.\r\n\r\n```\r\n$ ng update rxjs --allow-dirty\r\nFound 0 dependencies.\r\nPackage 'rxjs' is not a dependency.\r\n```","Url":"https://github.com/angular/angular-cli/issues/17164","RelatedDescription":"Open issue \"ng update to v9 fails with invalid semver in package.json\" (#17164)"},{"Id":"576810916","IsPullRequest":true,"CreatedAt":"2020-03-06T13:52:48","Actor":"renovate[bot]","Number":"17160","RawContent":null,"Title":"build: update rollup to version 1.32.1 - autoclosed","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [rollup](https://rollupjs.org/) ([source](https://togithub.com/rollup/rollup)) | dependencies | patch | [`1.32.0` -> `1.32.1`](https://renovatebot.com/diffs/npm/rollup/1.32.0/1.32.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>rollup/rollup</summary>\n\n### [`v1.32.1`](https://togithub.com/rollup/rollup/blob/master/CHANGELOG.md#&#8203;1321)\n\n[Compare Source](https://togithub.com/rollup/rollup/compare/v1.32.0...v1.32.1)\n\n_2020-03-06_\n\n##### Bug Fixes\n\n-   Handle default export detection for AMD and IIFE externals that do not have a prototype ([#&#8203;3420](https://togithub.com/rollup/rollup/issues/3420))\n-   Handle missing whitespace when the else branch of an if-statement is simplified ([#&#8203;3421](https://togithub.com/rollup/rollup/issues/3421))\n-   Mention the importing module when reporting errors for missing named exports ([#&#8203;3401](https://togithub.com/rollup/rollup/issues/3401))\n-   Add code to warning for missing output.name of IIFE bundles ([#&#8203;3372](https://togithub.com/rollup/rollup/issues/3372))\n\n##### Pull Requests\n\n-   [#&#8203;3372](https://togithub.com/rollup/rollup/pull/3372): Add warning code for missing output.name of IIFE bundle that has export ([@&#8203;rail44](https://togithub.com/rail44))\n-   [#&#8203;3401](https://togithub.com/rollup/rollup/pull/3401): Missing exports errors now print the importing module ([@&#8203;timiyay](https://togithub.com/timiyay))\n-   [#&#8203;3418](https://togithub.com/rollup/rollup/pull/3418): Structure lifecycle hooks, add links to build time hooks ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n-   [#&#8203;3420](https://togithub.com/rollup/rollup/pull/3420): Update generated code of getInteropBlock() to work with null prototype objects ([@&#8203;jdalton](https://togithub.com/jdalton))\n-   [#&#8203;3421](https://togithub.com/rollup/rollup/pull/3421): Avoid invalid code when \"else\" branch is simplified ([@&#8203;lukastaegert](https://togithub.com/lukastaegert))\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17160","RelatedDescription":"Closed or merged PR \"build: update rollup to version 1.32.1 - autoclosed\" (#17160)"},{"Id":"576871382","IsPullRequest":false,"CreatedAt":"2020-03-06T13:18:14","Actor":"thomasoreilly","Number":"17162","RawContent":null,"Title":"Node.js version 11.3 not supported by Angular 9 ","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] new\r\n- [x] build\r\n- [x] serve\r\n- [x] test\r\n- [x] e2e\r\n- [x] generate\r\n- [x] add\r\n- [x] update\r\n- [x] lint\r\n- [x] xi18n\r\n- [x] run\r\n- [x] config\r\n- [x] help\r\n- [x] version\r\n- [x] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n\r\nI'm not sure if there is an issue with Angular versions prior to 9.\r\n\r\n### Description\r\n\r\nFails to run ng commands.\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n1. Install node.js 11.3.\r\n2. Install Angular CLI 9\r\n3. Try to create a new application. \r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\nNode.js version v11.3.0 detected.\r\nThe Angular CLI requires a minimum Node.js version of either v10.13 or v12.0.\r\n\r\nPlease update your Node.js version or visit https://nodejs.org/ for additional instructions.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\nNote: ng version doesn't work on node.js 11.3. The below output is from downgrading to node.js 10.15\r\n<pre><code>\r\n\r\n     _                      _                 ____ _     ___\r\n    / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\r\n   / △ \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\r\n  / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\r\n /_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\r\n                |___/\r\n    \r\n\r\nAngular CLI: 9.0.1\r\nNode: 10.15.0\r\nOS: darwin x64\r\n\r\nAngular: 9.0.0\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\nIvy Workspace: Yes\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.900.1\r\n@angular-devkit/build-angular      0.900.1\r\n@angular-devkit/build-ng-packagr   0.900.1\r\n@angular-devkit/build-optimizer    0.900.1\r\n@angular-devkit/build-webpack      0.900.1\r\n@angular-devkit/core               9.0.1\r\n@angular-devkit/schematics         9.0.1\r\n@angular/cdk                       8.2.3\r\n@angular/cli                       9.0.1\r\n@ngtools/webpack                   9.0.1\r\n@schematics/angular                9.0.1\r\n@schematics/update                 0.900.1\r\nng-packagr                         9.0.0\r\nrxjs                               6.5.3\r\ntypescript                         3.7.5\r\nwebpack                            4.41.6\r\n\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17162","RelatedDescription":"Closed issue \"Node.js version 11.3 not supported by Angular 9 \" (#17162)"},{"Id":"576891608","IsPullRequest":false,"CreatedAt":"2020-03-06T12:09:04","Actor":"vltansky","Number":"17163","RawContent":null,"Title":"Custom i18n locales names","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [x] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️-->\r\nHi, I'm sorry in advance. Wasn't sure where should I open issue in Angular repo or here + not sure if it is a bug or feature request :)\r\nAnyway here is the thing:\r\nIn our project, we use i18n in a bit different way. We have 13 variations of our app. They share the same core and logic, but the logo, design, and content is different. So we not translating with i18n, but using it to deliver different options of content (for example in one website the welcome message will be 'Welcome customer' and in another, it will be 'Welcome dear partner').\r\nNow we are updating to angular 9 and we are very excited that we won't need to build 13 times, but only once. We started to make a POC, and turns out that in `angular.json` the key `i18n.locales` have a regex pattern of `^[a-zA-Z]{2,3}(-[a-zA-Z]{4})?(-([a-zA-Z]{2}|[0-9]{3}))?(-[a-zA-Z]{5,20})?$` according to `./node_modules/@angular/cli/lib/config/schema.json`. Our translation for today is smth like `en-corporate`, `en-private`, `en-pb`. So while `en-private` would work two another wouldnt. I understand that it is not a scenario that you built it for. But is there a solution that we could use without renaming? Is it possible to disable regex validation somehow?\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️-->\r\nTo be able to use custom locale names or to disable pattern validation","Url":"https://github.com/angular/angular-cli/issues/17163","RelatedDescription":"Open issue \"Custom i18n locales names\" (#17163)"},{"Id":"576858099","IsPullRequest":true,"CreatedAt":"2020-03-06T11:02:36","Actor":"renovate[bot]","Number":"17161","RawContent":null,"Title":"build: update coverage-istanbul-loader to version 3.0.0","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [coverage-istanbul-loader](https://jstools.dev/coverage-istanbul-loader) ([source](https://togithub.com/JS-DevTools/coverage-istanbul-loader)) | dependencies | major | [`2.0.3` -> `3.0.0`](https://renovatebot.com/diffs/npm/coverage-istanbul-loader/2.0.3/3.0.0) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>JS-DevTools/coverage-istanbul-loader</summary>\n\n### [`v3.0.0`](https://togithub.com/JS-DevTools/coverage-istanbul-loader/blob/master/CHANGELOG.md#v300httpsgithubcomJS-DevToolscoverage-istanbul-loadertreev300-2020-03-05)\n\n[Compare Source](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v2.0.3...v3.0.0)\n\n-   Moved coverage-istanbul-loader to the [@&#8203;JSDevTools scope](https://www.npmjs.com/org/jsdevtools) on NPM\n\n-   The \"coverage-istanbul-loader\" NPM package is now just a wrapper around the scoped \"[@&#8203;jsdevtools/coverage-istanbul-loader](https://togithub.com/jsdevtools/coverage-istanbul-loader)\" package\n\n[Full Changelog](https://togithub.com/JS-DevTools/coverage-istanbul-loader/compare/v2.0.3...v3.0.0)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17161","RelatedDescription":"Open PR \"build: update coverage-istanbul-loader to version 3.0.0\" (#17161)"},{"Id":"576784637","IsPullRequest":true,"CreatedAt":"2020-03-06T08:51:27","Actor":"alan-agius4","Number":"17159","RawContent":null,"Title":"test: change webpack angular tests to use es2015 ","State":"open","Body":"This is to avoid having NGCC go through and transform ES5 entrypoints","Url":"https://github.com/angular/angular-cli/pull/17159","RelatedDescription":"Open PR \"test: change webpack angular tests to use es2015 \" (#17159)"},{"Id":"576521956","IsPullRequest":false,"CreatedAt":"2020-03-06T07:14:44","Actor":"mfduar8766","Number":"17155","RawContent":null,"Title":"Can you add [(ngModel)]support back into reactive forms? ","State":"closed","Body":"🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n\r\nPlease help us process issues more efficiently by filing an\r\nissue using one of the following templates:\r\n\r\nhttps://github.com/angular/angular-cli/issues/new/choose\r\n\r\nThank you!\r\n\r\n🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n","Url":"https://github.com/angular/angular-cli/issues/17155","RelatedDescription":"Closed issue \"Can you add [(ngModel)]support back into reactive forms? \" (#17155)"},{"Id":"576721240","IsPullRequest":true,"CreatedAt":"2020-03-06T06:13:55","Actor":"renovate[bot]","Number":"17158","RawContent":null,"Title":"build: update bazel packages","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@bazel/jasmine](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2fjasmine/1.3.0/1.4.1) |\n| [@bazel/karma](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2fkarma/1.3.0/1.4.1) |\n| [@bazel/labs](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2flabs/1.3.0/1.4.1) |\n| [@bazel/typescript](https://togithub.com/bazelbuild/rules_nodejs) | devDependencies | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/@bazel%2ftypescript/1.3.0/1.4.1) |\n| [bazel_toolchains](https://togithub.com/bazelbuild/bazel-toolchains) | http_archive | minor | [`2.1.1` -> `2.2.0`](https://renovatebot.com/diffs/npm/bazelbuild%2fbazel-toolchains/2.1.1/2.2.0) |\n| [build_bazel_rules_nodejs](https://togithub.com/bazelbuild/rules_nodejs) | http_archive | minor | [`1.3.0` -> `1.4.1`](https://renovatebot.com/diffs/npm/bazelbuild%2frules_nodejs/1.3.0/1.4.1) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>bazelbuild/rules_nodejs</summary>\n\n### [`v1.4.1`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;141httpsgithubcombazelbuildrulesnodejscompare140141-2020-03-06)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/1.4.0...1.4.1)\n\n##### Bug Fixes\n\n-   **builtin:** Bazel build failing when project is not on the system drive on Windows (C:) ([#&#8203;1641](https://togithub.com/bazelbuild/rules_nodejs/issues/1641)) ([d9cbb99f](https://togithub.com/bazelbuild/rules_nodejs/commit/d9cbb99f)\n-   **windows_utils:** Escaping \\\\ and \" before passing args to bash scrip… ([#&#8203;1685](https://togithub.com/bazelbuild/rules_nodejs/pull/1685)) ([f9be953d](https://togithub.com/bazelbuild/rules_nodejs/commit/f9be953d)\n\n### [`v1.4.0`](https://togithub.com/bazelbuild/rules_nodejs/blob/master/CHANGELOG.md#&#8203;140httpsgithubcombazelbuildrulesnodejscompare130140-2020-03-02)\n\n[Compare Source](https://togithub.com/bazelbuild/rules_nodejs/compare/1.3.0...1.4.0)\n\n##### Bug Fixes\n\n-   **builtin:** don't include external files when pkg_npm is in root package ([#&#8203;1677](https://togithub.com/bazelbuild/rules_nodejs/issues/1677)) ([8089999](https://togithub.com/bazelbuild/rules_nodejs/commit/8089999)), closes [#&#8203;1499](https://togithub.com/bazelbuild/rules_nodejs/issues/1499)\n-   **examples:** change build target label to //src:prodapp ([a7f07d1](https://togithub.com/bazelbuild/rules_nodejs/commit/a7f07d1))\n-   **examples:** fix angular examples to use bazelisk ([02e6462](https://togithub.com/bazelbuild/rules_nodejs/commit/02e6462))\n-   ensure BAZEL_NODE_RUNFILES_HELPER & BAZEL_NODE_PATCH_REQUIRE are absolute ([#&#8203;1634](https://togithub.com/bazelbuild/rules_nodejs/issues/1634)) ([25600ea](https://togithub.com/bazelbuild/rules_nodejs/commit/25600ea))\n-   expand_variables helper should handle external labels ([3af3a0d](https://togithub.com/bazelbuild/rules_nodejs/commit/3af3a0d))\n-   logic error in expand_variables ([#&#8203;1631](https://togithub.com/bazelbuild/rules_nodejs/issues/1631)) ([32c003f](https://togithub.com/bazelbuild/rules_nodejs/commit/32c003f))\n-   yarn cache path should be a string ([#&#8203;1679](https://togithub.com/bazelbuild/rules_nodejs/issues/1679)) ([a43809b](https://togithub.com/bazelbuild/rules_nodejs/commit/a43809b))\n-   **builtin:** use posix paths in assembler ([d635dca](https://togithub.com/bazelbuild/rules_nodejs/commit/d635dca)), closes [#&#8203;1635](https://togithub.com/bazelbuild/rules_nodejs/issues/1635)\n-   **create:** use latest typescript ([a8ba18e](https://togithub.com/bazelbuild/rules_nodejs/commit/a8ba18e)), closes [#&#8203;1602](https://togithub.com/bazelbuild/rules_nodejs/issues/1602)\n-   **examples:** add fixes to angular architect ([f6f40c3](https://togithub.com/bazelbuild/rules_nodejs/commit/f6f40c3))\n-   remove empty arguments from launcher ([#&#8203;1650](https://togithub.com/bazelbuild/rules_nodejs/issues/1650)) ([aa3cd6c](https://togithub.com/bazelbuild/rules_nodejs/commit/aa3cd6c))\n\n##### Features\n\n-   **[@&#8203;bazel/jasmine](https://togithub.com/bazel/jasmine):** update dependencies to jasmine v3.5.0 ([98fab93](https://togithub.com/bazelbuild/rules_nodejs/commit/98fab93))\n-   **docs:** add authroing instructions ([4dde728](https://togithub.com/bazelbuild/rules_nodejs/commit/4dde728))\n-   **docs:** add header anchor links ([2002046](https://togithub.com/bazelbuild/rules_nodejs/commit/2002046))\n-   **docs:** add vscode debugging section ([78d308f](https://togithub.com/bazelbuild/rules_nodejs/commit/78d308f))\n-   **examples:** add serve to angular architect ([1569f4b](https://togithub.com/bazelbuild/rules_nodejs/commit/1569f4b))\n-   **jasmine:** configure XML reporter to capture detailed testlogs ([8abd20d](https://togithub.com/bazelbuild/rules_nodejs/commit/8abd20d))\n-   **rollup:** add `args` attribute to rollup_bundle rule ([#&#8203;1681](https://togithub.com/bazelbuild/rules_nodejs/issues/1681)) ([94c6182](https://togithub.com/bazelbuild/rules_nodejs/commit/94c6182))\n-   **rollup:** add silent attr to rollup_bundle to support --silent flag ([#&#8203;1680](https://togithub.com/bazelbuild/rules_nodejs/issues/1680)) ([18e8001](https://togithub.com/bazelbuild/rules_nodejs/commit/18e8001))\n-   **typescript:** use run_node helper to execute tsc ([066a52c](https://togithub.com/bazelbuild/rules_nodejs/commit/066a52c))\n\n</details>\n\n<details>\n<summary>bazelbuild/bazel-toolchains</summary>\n\n### [`v2.2.0`](https://togithub.com/bazelbuild/bazel-toolchains/releases/2.2.0)\n\n[Compare Source](https://togithub.com/bazelbuild/bazel-toolchains/compare/2.1.1...2.2.0)\n\nSHA256:1342f84d4324987f63307eb6a5aac2dff6d27967860a129f5cd40f8f9b6fd7dd\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17158","RelatedDescription":"Open PR \"build: update bazel packages\" (#17158)"},{"Id":"576721143","IsPullRequest":true,"CreatedAt":"2020-03-06T06:13:36","Actor":"renovate[bot]","Number":"17157","RawContent":null,"Title":"build: update angular packages","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [@angular/animations](https://togithub.com/angular/animations-builds) | dependencies | digest | [`708ca30` -> `57c05cd`](https://renovatebot.com/diffs/npm/angular%2fanimations-builds//) |\n| [@angular/cdk](https://togithub.com/angular/cdk-builds) | dependencies | digest | [`3267960` -> `33d8086`](https://renovatebot.com/diffs/npm/angular%2fcdk-builds//) |\n| [@angular/common](https://togithub.com/angular/common-builds) | dependencies | digest | [`0028a23` -> `02f6696`](https://renovatebot.com/diffs/npm/angular%2fcommon-builds//) |\n| [@angular/compiler](https://togithub.com/angular/compiler-builds) | dependencies | digest | [`b9ad0cf` -> `d0eff61`](https://renovatebot.com/diffs/npm/angular%2fcompiler-builds//) |\n| [@angular/compiler-cli](https://togithub.com/angular/compiler-cli-builds) | dependencies | digest | [`ce32ad3` -> `914f8a0`](https://renovatebot.com/diffs/npm/angular%2fcompiler-cli-builds//) |\n| [@angular/core](https://togithub.com/angular/core-builds) | dependencies | digest | [`38275a1` -> `f46f04e`](https://renovatebot.com/diffs/npm/angular%2fcore-builds//) |\n| [@angular/forms](https://togithub.com/angular/forms-builds) | dependencies | digest | [`a0015d9` -> `6eb39d1`](https://renovatebot.com/diffs/npm/angular%2fforms-builds//) |\n| [@angular/language-service](https://togithub.com/angular/language-service-builds) | dependencies | digest | [`e6fe808` -> `f2848b9`](https://renovatebot.com/diffs/npm/angular%2flanguage-service-builds//) |\n| [@angular/localize](https://togithub.com/angular/localize-builds) | dependencies | digest | [`96271e4` -> `8e38898`](https://renovatebot.com/diffs/npm/angular%2flocalize-builds//) |\n| [@angular/material](https://togithub.com/angular/material2-builds) | dependencies | digest | [`4769716` -> `055af70`](https://renovatebot.com/diffs/npm/angular%2fmaterial2-builds//) |\n| [@angular/platform-browser](https://togithub.com/angular/platform-browser-builds) | dependencies | digest | [`a62d3a9` -> `4e3426b`](https://renovatebot.com/diffs/npm/angular%2fplatform-browser-builds//) |\n| [@angular/platform-browser-dynamic](https://togithub.com/angular/platform-browser-dynamic-builds) | dependencies | digest | [`bcaa235` -> `46e3a02`](https://renovatebot.com/diffs/npm/angular%2fplatform-browser-dynamic-builds//) |\n| [@angular/platform-server](https://togithub.com/angular/platform-server-builds) | dependencies | digest | [`acc2b55` -> `040bb3c`](https://renovatebot.com/diffs/npm/angular%2fplatform-server-builds//) |\n| [@angular/router](https://togithub.com/angular/router-builds) | dependencies | digest | [`e99fe6b` -> `4c4ca97`](https://renovatebot.com/diffs/npm/angular%2frouter-builds//) |\n\n:abcd: If you wish to disable git hash updates, add `\":disableDigestUpdates\"` to the extends array in your config.\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:ghost: **Immortal**: This PR will be recreated if closed unmerged. Get [config help](https://togithub.com/renovatebot/config-help/issues) if that's undesired.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17157","RelatedDescription":"Open PR \"build: update angular packages\" (#17157)"},{"Id":"576719320","IsPullRequest":true,"CreatedAt":"2020-03-06T06:08:07","Actor":"spenceryue","Number":"17156","RawContent":null,"Title":"docs(@angular/cli): fix schema.json description for `stylePreprocessorOptions.includePaths`","State":"open","Body":"Previously, the `schema.json` description for `stylePreprocessorOptions` > `includePaths` specified that paths were resolved with respect to \"project root\", but this should read \"workspace root\".\r\n\r\nStarting at [styles.ts#L81](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L81),\r\n\r\n    includePaths.push(path.resolve(root, includePath)),\r\n\r\neach user-specified include path is resolved with respect to `root`, declared at [styles.ts#L27](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L27)\r\n\r\n    const { root, buildOptions } = wco;\r\n\r\nwhere `wco` is passed in from the containing function, [`getStylesConfig`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/angular-cli-files/models/webpack-configs/styles.ts#L26), called at [index.ts#L138](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L138)\r\n\r\n    getStylesConfig(wco),\r\n\r\ninside the `webpackPartialGenerator` callback, which was passed to `generateBrowserWebpackConfigFromContext` at [index.ts#L154](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L154)\r\n\r\n    return generateBrowserWebpackConfigFromContext(options, context, webpackPartialGenerator, host);\r\n\r\nwhich in turn passed the callback to [`generateWebpackConfig`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L226), which calls the callback at [webpack-browser-config.ts#L104](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L104)\r\n\r\n    const partials = webpackPartialGenerator(wco);\r\n\r\nwith the `wco` object declared at [webpack-browser-config.ts#L91](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L91), which has its `root` field set to `workspaceRoot`\r\n\r\n    root: workspaceRoot,\r\n\r\nwhich was passed in from `generateBrowserWebpackConfigFromContext` at [webpack-browser-config.ts#L222](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L222) as\r\n\r\n    getSystemPath(workspaceRoot),\r\n\r\nwhere `workspaceRoot` was declared at [webpack-browser-config.ts#L204](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/utils/webpack-browser-config.ts#L204) as\r\n\r\n    const workspaceRoot = normalize(context.workspaceRoot);\r\n\r\nusing the `context` received from the caller, [`buildBrowserWebpackConfigFromContext`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/browser/index.ts#L129), whose own caller, [`setup`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/dev-server/index.ts#L163), passed in the `context` it received from [`setupWebpackBrowser`](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/build_angular/src/dev-server/index.ts#L115) which declares the type of `context` to be `BuilderContext`, whose definition includes a comment for the `workspaceRoot` field at [api.ts#L146](https://github.com/angular/angular-cli/blob/v9.0.5/packages/angular_devkit/architect/src/api.ts#L146),\r\n\r\n    The absolute workspace root of this run.\r\n\r\nmotivating this PR.\r\n\r\nIt would probably also be helpful to also mention the include path resolution strategy in the [relevant section of the docs](https://angular.io/guide/workspace-config#style-preprocessor-options).","Url":"https://github.com/angular/angular-cli/pull/17156","RelatedDescription":"Open PR \"docs(@angular/cli): fix schema.json description for `stylePreprocessorOptions.includePaths`\" (#17156)"},{"Id":"574847036","IsPullRequest":true,"CreatedAt":"2020-03-05T19:33:53","Actor":"clydin","Number":"17145","RawContent":null,"Title":"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks","State":"closed","Body":"This synchronizes the behavior with the FW's wherein the language code will be used if the data for the full locale is not found.  The user will still be notified in the event this occurs.","Url":"https://github.com/angular/angular-cli/pull/17145","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): provide locale data discovery fallbacks\" (#17145)"},{"Id":"576455567","IsPullRequest":true,"CreatedAt":"2020-03-05T19:32:08","Actor":"alan-agius4","Number":"17154","RawContent":null,"Title":"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration","State":"closed","Body":"Patch version of https://github.com/angular/angular-cli/pull/17153","Url":"https://github.com/angular/angular-cli/pull/17154","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration\" (#17154)"},{"Id":"576447124","IsPullRequest":true,"CreatedAt":"2020-03-05T19:30:25","Actor":"alan-agius4","Number":"17153","RawContent":null,"Title":"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration","State":"closed","Body":"","Url":"https://github.com/angular/angular-cli/pull/17153","RelatedDescription":"Closed or merged PR \"fix(@angular-devkit/build-angular): generate ES5 code in ES5 bundles for default browserslist configuration\" (#17153)"},{"Id":"575739135","IsPullRequest":false,"CreatedAt":"2020-03-05T09:58:54","Actor":"Vicevini","Number":"17151","RawContent":null,"Title":"Error","State":"closed","Body":"🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n\r\nI have this problem \r\n\r\n npm install -g @angular/cli\r\nnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\nC:\\Users\\vicev\\AppData\\Roaming\\npm\\ng -> C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\\bin\\ng\r\n\r\n> @angular/cli@9.0.4 postinstall C:\\Users\\vicev\\AppData\\Roaming\\npm\\node_modules\\@angular\\cli\r\n> node ./bin/postinstall/script.js\r\n\r\n+ @angular/cli@9.0.4\r\nupdated 1 package in 9.576s\r\n\r\n![image](https://user-images.githubusercontent.com/48629758/75920515-4c576280-5e3e-11ea-992e-9e6629e065de.png)\r\n\r\n🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑🛑\r\n","Url":"https://github.com/angular/angular-cli/issues/17151","RelatedDescription":"Closed issue \"Error\" (#17151)"},{"Id":"576017453","IsPullRequest":true,"CreatedAt":"2020-03-05T06:13:32","Actor":"renovate[bot]","Number":"17152","RawContent":null,"Title":"build: update uuid to version 7.0.2","State":"open","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [uuid](https://togithub.com/uuidjs/uuid) | dependencies | patch | [`7.0.1` -> `7.0.2`](https://renovatebot.com/diffs/npm/uuid/7.0.1/7.0.2) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>uuidjs/uuid</summary>\n\n### [`v7.0.2`](https://togithub.com/uuidjs/uuid/blob/master/CHANGELOG.md#&#8203;702httpsgithubcomuuidjsuuidcomparev701v702-2020-03-04)\n\n[Compare Source](https://togithub.com/uuidjs/uuid/compare/v7.0.1...v7.0.2)\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17152","RelatedDescription":"Open PR \"build: update uuid to version 7.0.2\" (#17152)"},{"Id":"575073093","IsPullRequest":true,"CreatedAt":"2020-03-04T20:56:30","Actor":"mgechev","Number":"17149","RawContent":null,"Title":"refactor(@schematics/angular): remove redundant typeRoots","State":"closed","Body":"By default TypeScript will look up in this directory (see [docs](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types)).","Url":"https://github.com/angular/angular-cli/pull/17149","RelatedDescription":"Closed or merged PR \"refactor(@schematics/angular): remove redundant typeRoots\" (#17149)"},{"Id":"575162877","IsPullRequest":true,"CreatedAt":"2020-03-04T20:55:45","Actor":"renovate[bot]","Number":"17150","RawContent":null,"Title":"build: update terser to version 4.6.6","State":"closed","Body":"This PR contains the following updates:\n\n| Package | Type | Update | Change |\n|---|---|---|---|\n| [terser](https://terser.org) ([source](https://togithub.com/terser/terser)) | dependencies | patch | [`4.6.4` -> `4.6.6`](https://renovatebot.com/diffs/npm/terser/4.6.4/4.6.6) |\n\n---\n\n### Release Notes\n\n<details>\n<summary>terser/terser</summary>\n\n### [`v4.6.6`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v466)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.5...v4.6.6)\n\n(hotfix release)\n\n-   Reverted code to 4.6.4 to allow for more time to investigate an issue.\n\n### [`v4.6.5`](https://togithub.com/terser/terser/blob/master/CHANGELOG.md#v465-REVERTED)\n\n[Compare Source](https://togithub.com/terser/terser/compare/v4.6.4...v4.6.5)\n\n-   Improved compress performance through using a new method to see if two nodes are equivalent, instead of printing them to a string.\n\n</details>\n\n---\n\n### Renovate configuration\n\n:date: **Schedule**: \"after 10pm every weekday,before 4am every weekday,every weekend\" in timezone America/Tijuana.\n\n:vertical_traffic_light: **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n:recycle: **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n:no_bell: **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [WhiteSource Renovate](https://renovate.whitesourcesoftware.com). View repository job log [here](https://app.renovatebot.com/dashboard#angular/angular-cli).","Url":"https://github.com/angular/angular-cli/pull/17150","RelatedDescription":"Closed or merged PR \"build: update terser to version 4.6.6\" (#17150)"},{"Id":"575046915","IsPullRequest":false,"CreatedAt":"2020-03-04T00:27:41","Actor":"fireflysemantics","Number":"17148","RawContent":null,"Title":"When adding a library to the workspace, also update .gitignore","State":"open","Body":"When running `ng g library name_of_library` also add the libraries `node_modules` path to the top level `.gitignore`.","Url":"https://github.com/angular/angular-cli/issues/17148","RelatedDescription":"Open issue \"When adding a library to the workspace, also update .gitignore\" (#17148)"},{"Id":"575028901","IsPullRequest":false,"CreatedAt":"2020-03-03T23:36:06","Actor":"spencerb02","Number":"17146","RawContent":null,"Title":"ng build and ng serve use inconsistent methods to determine files emitted from webpack","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [x] build\r\n- [x] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: \r\n@angular-devkit/build-angular: \"0.800.6\"\r\n@angular/cli: \"8.0.6\"\r\n\r\nI apologize I didn't do the leg work to discover exactly which version it broke in. I was using v8.0.6 and was updating to latest v8 on my way to v9 (soon).\r\n\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\nIn the latest version of ng 8 the emitted files from the webpack build are handled differently by `ng build` than by `ng serve`. This was not the case in 8.0.6. (I have not tested this in ng 9 nor have I tested `ng test`). \r\n\r\nThis is due to this code being removed from `@angular-devkit/build-webpack/src/utils.js`:\r\n```javascript\r\n// entrypoints might have multiple outputs\r\n// such as runtime.js\r\nfor (const [name, entrypoint] of compilation.entrypoints) {\r\n    const entryFiles = (entrypoint && entrypoint.getFiles()) || [];\r\n    for (const file of entryFiles) {\r\n        files.push({ name, file, extension: path.extname(file), initial: true });\r\n    }\r\n}\r\n```\r\ncommit: https://github.com/angular/angular-cli/commit/e2b190584b0f18a53e00f7f58facd7be3a4c282a#diff-4e79ab2e1e76b5c5a42a38b4f3b50036\r\n\r\nThe `getEmittedFiles` method is how `ng build` determines the emitted files. In 8.0.6 it used to traverse the compilations entry points and then the chunks. Now in 8.3.25 it just traverses the chunks. `ng serve`, however, still traverses the endpoints:\r\n`@angular-devkit/build-angular/src/angular-cli-files/plugins/index-html-webpack-plugin.js`\r\n```javascript\r\nfor (const [entryName, entrypoint] of compilation.entrypoints) {\r\n  const entryFiles = ((entrypoint && entrypoint.getFiles()) || []).map((f) => ({\r\n    name: entryName,\r\n    file: f,\r\n    extension: path.extname(f),\r\n  }));\r\n  //...\r\n}\r\n```\r\n\r\nThe outcome of this issue is that additional outputs of the `main` entrypoint are no longer added to the index.html when running `ng build` but they are included when I run `ng serve` which created false positives. (and lead to some really fun \"works on my box\" discussions with the quality engineer)\r\n\r\n\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\nThis is where it gets messy and I admit that I'm using a build extension. I'm adding to the webpack config through an `ngx-build-plus` plugin. Utilizing the plugin I add the following merge to the webpack config:\r\n\r\n```javascript\r\nconst merge = require(\"webpack-merge\");\r\n\r\nexports.default = {\r\n  pre(options) {\r\n    // ...\r\n  },\r\n  config(config) {\r\n    const mergeStrategy = merge.strategy({\r\n      // ...,\r\n      \"config.optimization.splitChunks.cacheGroups\": \"append\",\r\n    });\r\n\r\n    return mergeStrategy(config, {\r\n      optimization: {\r\n        splitChunks: {\r\n          cacheGroups: {\r\n            angularJS: {\r\n              name: \"angularJS\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](angular-?|ng-)/,\r\n              priority: 5,\r\n            },\r\n            angular: {\r\n              name: \"angular\",\r\n              chunks: \"initial\",\r\n              test: /[\\\\/]node_modules[\\\\/](@angular)[\\\\/]/,\r\n              priority: 5,\r\n            },\r\n          },\r\n        },\r\n      },\r\n    });\r\n  },\r\n  post(options) {\r\n    // ... \r\n  },\r\n};\r\n```\r\nThis creates 2 new bundles `angular.[hash:20].js` and `angularJS.[hash:20].js` (did I mention it's a hybrid app?) which are initial bundles which are output by the `main` entrypoint. When I run `ng serve` they are included in the index.html because they are attached to the `main` endpoint. When I run `ng build`, they are not included in the `index.html`.\r\n\r\nWith `ngx-build-plus` installed and assuming the above plugin is in a file called `config/webpack-loaders/ajs-plugin.js` run the build:\r\n`ng build --plugin ~config/webpack-loaders/ajs-plugin.js` or\r\n`ng serve --plugin ~config/webpack-loaders/ajs-plugin.js -o`\r\n\r\nI know that what I need to do is use the post step to enforce the cachegroups get added the way I expect, but I wanted to call out the inconsistency between the commands.\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\n// OLD VERSION\r\nAngular CLI: 8.0.6\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.800.6\r\n@angular-devkit/build-angular     0.800.6\r\n@angular-devkit/build-optimizer   0.800.6\r\n@angular-devkit/build-webpack     0.800.6\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.0.6\r\n@ngtools/webpack                  8.0.6\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.800.6\r\nrxjs                              6.4.0\r\ntypescript                        3.4.5\r\nwebpack                           4.30.0\r\n\r\n\r\n// NEW VERSION\r\nAngular CLI: 8.3.25\r\nNode: 12.16.1\r\nOS: win32 x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, upgrade\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.803.25\r\n@angular-devkit/build-angular     0.803.25\r\n@angular-devkit/build-optimizer   0.803.25\r\n@angular-devkit/build-webpack     0.803.25\r\n@angular-devkit/core              8.0.0\r\n@angular-devkit/schematics        8.0.0\r\n@angular/cli                      8.3.25\r\n@ngtools/webpack                  8.3.25\r\n@schematics/angular               8.0.0\r\n@schematics/update                0.803.25\r\nrxjs                              6.4.0\r\ntypescript                        3.5.3\r\nwebpack                           4.39.2\r\n</code></pre>\r\n\r\nAngular json build options:\r\n```json\r\n\"architect\": {\r\n  \"build\": {\r\n    \"builder\": \"ngx-build-plus:browser\",\r\n    \"options\": {\r\n      \"outputPath\": \"dist/website\",\r\n      \"index\": \"config/templates/index.html\",\r\n      \"main\": \"src/main.ts\",\r\n      \"polyfills\": \"src/polyfills.ts\",\r\n      \"tsConfig\": \"tsconfig.app.json\",\r\n      \"aot\": false,\r\n      \"showCircularDependencies\": false,\r\n      \"assets\": [\r\n        \"src/assets\",\r\n      ],\r\n      \"styles\": [\r\n        \"src/styles.scss\"\r\n      ],\r\n    },\r\n  },\r\n  \"configurations\": {\r\n    \"production\": {\r\n      \"fileReplacements\": [{\r\n        \"replace\": \"src/environments/environment.ts\",\r\n        \"with\": \"src/environments/environment.prod.ts\"\r\n      }],\r\n      \"optimization\": true,\r\n      \"outputHashing\": \"all\",\r\n      \"sourceMap\": false,\r\n      \"extractCss\": true,\r\n      \"namedChunks\": false,\r\n      \"aot\": true,\r\n      \"extractLicenses\": true,\r\n      \"vendorChunk\": true,\r\n      \"forkTypeChecker\": true,\r\n      \"buildOptimizer\": true,\r\n      \"budgets\": []\r\n    },\r\n  },\r\n  \"serve\": {\r\n    \"builder\": \"ngx-build-plus:dev-server\",\r\n    \"options\": {\r\n      \"browserTarget\": \"website:build\"\r\n    },\r\n    \"configurations\": {\r\n      \"production\": {\r\n        \"browserTarget\": \"website:build:production\"\r\n      },\r\n      \"staging\": {\r\n        \"browserTarget\": \"website:build:staging\"\r\n      }\r\n    }\r\n  },\r\n}\r\n```\r\n\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\nAll paths lead through `@angular-devkit\\build-angular\\src\\angular-cli-files\\utilities\\index-file\\augment-index-html.js augmentIndexHtml()` and the array of `files` that gets passed to it.\r\n\r\nWhen running `ng serve` files is set to an array like this:\r\n```javascript\r\n[\r\n  { name: 'main', file: 'runtime.js', extension: '.js' },\r\n  { name: 'main', file: 'angularJS.js', extension: '.js' },\r\n  { name: 'main', file: 'angular.js', extension: '.js' },\r\n  { name: 'main', file: 'vendor.js', extension: '.js' },\r\n  { name: 'main', file: 'main.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'runtime.js', extension: '.js' },\r\n  { name: 'polyfills', file: 'polyfills.js', extension: '.js' },\r\n  { name: 'styles', file: 'runtime.js', extension: '.js' },\r\n  { name: 'styles', file: 'styles.js', extension: '.js' },\r\n]\r\n```\r\nNotice Angular and AngularJS have the name of `main`. This is because the name is set as the name of the entrypoint the `emittedFile` was found in.\r\n\r\nWhen running `ng build` the same files are built (according to `webpack-bundle-analyzer`) but the `files` array looks like this:\r\n```javascript\r\n[\r\n  { file: 'runtime.bc9d7222a5be40bb49f2.js', extension: '.js', name: 'runtime' },\r\n  { file: 'angularJS.bd8c6b36a4d831de98ad.js', extension: '.js', name: 'angularJS~main' },\r\n  { file: 'angular.2378ac52c8e97a70ffb9.js', extension: '.js', name: 'angular~main' },\r\n  { file: 'main.776ae6e317ff60328da0.js', extension: '.js', name: 'main' },\r\n  { file: 'polyfills.83265812522305ef22ce.js', extension: '.js', name: 'polyfills' },\r\n  { file: 'styles.2cdb9ded7df542f838e1.css', extension: '.css', name: 'styles' },\r\n  { file: 'vendor.7dc8e0ec3a85cc2dc3fc.js', extension: '.js', name: 'vendor' }\r\n]\r\n```\r\nNote that the name of these `emittedFiles` are the chunk name and not the entrypoint. These arrays of `emittedFile`s are then compared to the array of entrypoints to determine which ones are to be added to `index.html`:\r\n```javascript\r\n[\r\n  'polyfills-nomodule-es5',\r\n  'polyfills-es5',\r\n  'polyfills',\r\n  'styles',\r\n  'vendor',\r\n  'main'\r\n]\r\n```\r\nSo `ng serve` recognizes the angular bundles are part of the main entrypoint and adds them to \r\n`index.html` accordingly. `ng build` on the other hand doesn't because the chunk names are not the same as an entrypoint in the hardcoded list of entrypoints.\r\n\r\nIn conclusion:\r\n1) I need to make my use of the build extension more robust and ensure the `cachegroup` bundles are added to the `index.html` in the plugin's `post` step.\r\n2) I don't think `ng serve` and `ng build` should be different in how they map the emitted files.\r\n3) I am very open to hearing the \"right way\" of doing things if there is a better/more accepted approach for handling large, eagerly loaded 3rd party bundles.","Url":"https://github.com/angular/angular-cli/issues/17146","RelatedDescription":"Open issue \"ng build and ng serve use inconsistent methods to determine files emitted from webpack\" (#17146)"},{"Id":"574841551","IsPullRequest":false,"CreatedAt":"2020-03-03T18:04:01","Actor":"santhony7","Number":"17144","RawContent":null,"Title":"Add baseHref setting to the sourceLocale","State":"closed","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🚀 Feature request\r\n\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are relevant for this feature request? -->\r\n<!-- ✍️edit: -->\r\n- [ ] new\r\n- [x] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ ] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [x] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n### Description\r\n<!-- ✍️--> I don't think this is possible now or I have not found a good solution. You added the ability to specify a baseHref in each locale during i18n but no way to specify the baseHref for the sourceLocale. Not sure how else to specifiy a baseHref=\"/\" for en. Compiler always makes it '/en/'.\r\n\r\n\r\n### Describe the solution you'd like\r\n<!-- ✍️--> Change the schema to allow an object for sourceLocal that has a property of baseHref.\r\n\r\n\r\n### Describe alternatives you've considered\r\n<!-- ✍️--> The only workaround I have found it to create two builds: One for english and one for all other locales. \r\n","Url":"https://github.com/angular/angular-cli/issues/17144","RelatedDescription":"Closed issue \"Add baseHref setting to the sourceLocale\" (#17144)"},{"Id":"574765010","IsPullRequest":false,"CreatedAt":"2020-03-03T15:53:05","Actor":"rcketscientist","Number":"17143","RawContent":null,"Title":"ng-update exceeds peerDependency bounds","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [ ] new\r\n- [ ] build\r\n- [ ] serve\r\n- [ ] test\r\n- [ ] e2e\r\n- [ ] generate\r\n- [ ] add\r\n- [ x] update\r\n- [ ] lint\r\n- [ ] xi18n\r\n- [ ] run\r\n- [ ] config\r\n- [ ] help\r\n- [ ] version\r\n- [ ] doc\r\n\r\n\r\n### Is this a regression?\r\n\r\n<!-- Did this behavior use to work in the previous version? -->\r\n<!-- ✍️--> Yes, the previous version in which this bug was not present was: ....\r\nWe did not have issues while lagging behind 6/7/8 releases.\r\n\r\n### Description\r\n\r\n<!-- ✍️--> A clear and concise description of the problem...\r\npackageA depends on ng8 and material8.\r\nIf I `ng update packageA` it will attempt to update Angular to 9.  I can avoid this by temporarily removing material as a dependency.  Something about material flushes out a bug in ng-cli.  I've submitted a bug in the material repo, but they make a convincing argument that the bug is actually in cli:\r\nhttps://github.com/angular/components/issues/18536?email_source=notifications&email_token=AA6W5LUTQN4ZVQYEQLHDJYTRFASJJA5CNFSM4KXKGJNKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENF5OLA#issuecomment-592172844\r\n\r\n## 🔬 Minimal Reproduction\r\n<!--\r\nSimple steps to reproduce this bug.\r\n\r\nPlease include: commands run (including args), packages added, related code changes.\r\n\r\nIf reproduction steps are not enough for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. \r\nA good way to make a minimal reproduction is to create a new app via `ng new repro-app` and add the minimum possible code to show the problem. \r\nShare the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https://github.com/angular/angular-cli/blob/master/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\npackageA depends on ng8 and material8.\r\n`ng update packageA`\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n<!-- If the issue is accompanied by an exception or an error, please share it below: -->\r\n<!-- ✍️-->\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/common\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/core\" (requires \"^8.1.1\", would install \"9.0.1\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\")\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/cdk\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@keysight/alloy\" has an incompatible peer dependency to \"@angular/material\" (requires \"^8.2.3\", would install \"9.0.0\").\r\n                  Package \"@angular-devkit/build-angular\" has an incompatible peer dependency to \"typescript\" (requires \">=3.1 < 3.6\", would install \"3.7.5\").\r\n\r\nIncompatible peer dependencies found.\r\nPeer dependency warnings when installing dependencies means that those dependencies might not work correctly together.\r\nYou can use the '--force' option to ignore incompatible peer dependencies and instead address these warnings later.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n<pre><code>\r\n<!-- run `ng version` and paste output below -->\r\n<!-- ✍️-->\r\nAngular CLI: 8.3.24\r\nNode: 12.16.1\r\nOS: darwin x64\r\nAngular: 8.2.14\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit/architect          0.803.24\r\n@angular-devkit/build-angular      0.803.24\r\n@angular-devkit/build-ng-packagr   0.803.24\r\n@angular-devkit/build-optimizer    0.803.24\r\n@angular-devkit/build-webpack      0.803.24\r\n@angular-devkit/core               8.3.24\r\n@angular-devkit/schematics         8.3.24\r\n@angular/cdk                       8.2.3\r\n@angular/cli                       8.3.24\r\n@angular/material                  8.2.3\r\n@ngtools/webpack                   8.3.24\r\n@schematics/angular                8.3.24\r\n@schematics/update                 0.803.24\r\nng-packagr                         5.7.1\r\nrxjs                               6.4.0\r\ntypescript                         3.5.3\r\nwebpack                            4.39.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17143","RelatedDescription":"Open issue \"ng-update exceeds peerDependency bounds\" (#17143)"},{"Id":"575041576","IsPullRequest":false,"CreatedAt":"2020-02-18T19:22:51","Actor":"The-MAZZTer","Number":"17147","RawContent":null,"Title":"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build","State":"open","Body":"\r\n# 🐞 bug report\r\n\r\n### Affected Package\r\nAngular compilation process\r\n\r\n### Is this a regression?\r\nUnknown\r\n\r\n### Description\r\nI recently inherited a project which uses Angular with embedded React components. `import * as React from \"react\";` appears in a bunch of .TSX files included with the project, and embedded XML tags are used to indicate React elements, which I understand are compiled down to React.createElement calls.\r\n\r\nThe React object itself is never referenced in any source code directly,\r\n\r\nWhen I run the project in development mode it runs fine. When I build for production, the React.createElement calls remain as React.createElement instead of being compiled to the proper webpack import name.\r\n\r\nIf I add ANY explicit reference to React in any file, for example `console.log(React.version);`, the production build starts working again.\r\n\r\nI suspect what is happening is a pass to strip out unused code is happening before .tsx files are processed by TypeScript. And then after the code is compiled down to JS webpack then compiles everything together but React is already gone so the React references are left intact.\r\n\r\nIf so the best fix I can think of is to split up the TypeScript compilation process to first convert .TSX to temporary .TS files (if possible), run the stripping process on those and not the original .TSX, then complete the build process as normal with the .TS files.\r\n\r\nSimpler solutions might include hard coding React to never be stripped out if there are .tsx files present in the project.\r\n\r\n## 🔬 Minimal Reproduction\r\nUnfortunately, I don't have the needed skill set currently to create a minimal test case from scratch (no experience in React) and I am not authorized to share code from my project publicly. Sorry.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\nERROR ReferenceError React is not defined\r\n</code></pre>\r\n\r\nThis occurs at the point in a .TSX where an inline XML element is located.\r\n\r\n## 🌍  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 8.3.3\r\nNode: 12.3.1\r\nOS: win32 x64\r\nAngular: 8.2.5\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... platform-server, router\r\n\r\nPackage                                    Version\r\n--------------------------------------------------------------------\r\n@angular-devkit/architect                  0.803.3\r\n@angular-devkit/build-angular              0.803.3\r\n@angular-devkit/build-optimizer            0.803.3\r\n@angular-devkit/build-webpack              0.803.3\r\n@angular-devkit/core                       8.3.3\r\n@angular-devkit/schematics                 8.3.3\r\n@angular/cdk                               8.1.4\r\n@angular/cli                               8.3.3\r\n@angular/http                              7.2.15\r\n@angular/material                          8.1.4\r\n@ngtools/webpack                           8.3.3\r\n@nguniversal/module-map-ngfactory-loader   7.1.1\r\n@schematics/angular                        8.3.3\r\n@schematics/update                         0.803.3\r\nrxjs                                       6.5.3\r\ntypescript                                 3.5.3\r\nwebpack                                    4.39.2</code></pre>\r\n\r\n**Anything else relevant?**\r\nThis may be a bug in webpack; I am unsure about which component this bug lies in.\r\n\r\nI did not notice any change when messing with build options; only when adding an explicit reference to React to the code.","Url":"https://github.com/angular/angular-cli/issues/17147","RelatedDescription":"Open issue \"If a .TSX generates a reference to an object on compile (eg React.createElement) that is not otherwise referenced in source, it will not get included on production build\" (#17147)"},{"Id":"574647610","IsPullRequest":false,"CreatedAt":"2020-02-17T19:33:30","Actor":"jonstelly","Number":"17142","RawContent":null,"Title":"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail","State":"open","Body":"<!--🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅\r\n\r\nOh hi there! 😄\r\n\r\nTo expedite issue processing please search open and closed issues before submitting a new one.\r\nExisting issues often contain information about workarounds, resolution, or progress updates.\r\n\r\n🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅🔅-->\r\n\r\n\r\n# 🐞 Bug report\r\n\r\n### Command (mark with an `x`)\r\n<!-- Can you pin-point the command or commands that are effected by this bug? -->\r\n<!-- ✍️edit: -->\r\n\r\n- [x] update\r\n\r\n### Is this a regression?\r\n\r\nunsure\r\n\r\n### Description\r\n\r\nI have an angular cli project with npm symlinks to a different framework project.  When running an update `ng update @angular/cli @angular/core rxjs`, it seems that the package update/installation phase doesn't honor the `\"preserveSymlinks\": true` setting.  The result is that my framework symlink is removed, which causes the project to fail compilation so the migrations don't all run correctly.\r\n\r\n## 🔬 Minimal Reproduction\r\n\r\n```bash\r\nnpm i -g @angular/cli@8.3.25\r\nmkdir ng-up\r\ncd ng-up\r\nng new framework\r\ncd framework\r\nng g lib @myfw/model\r\nng build @myfw/model\r\ncd ./dist/myfw/model\r\nnpm link\r\ncd ../../../..\r\nng new app\r\ncd app\r\nnpm link @myfw/model\r\n#edit ./app/src/app/app.module.ts to the below (importing ModelModule from @myfw/model\r\n#edit ./app/angular.json, add `preserveSymlinks: true`\r\nng serve #The app runs as expected\r\n```\r\n\r\napp/src/app/app.module.ts\r\n```typescript\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ModelModule } from '@myfw/model' //<- Add this from @myfw/model\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    ModelModule //<- Add this from @myfw/model\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```\r\n\r\nupgrade process\r\n```bash\r\nnpm i -g @angular/cli #Update angular cli to 9.0.2\r\ncd ../framework\r\nng update @angular/cli @angular/core rxjs --force #--force is needed for tsickle\r\nng build @myfw/model\r\ncd ../app\r\nng update @angular/cli @angular/core rxjs\r\n```\r\nget error as seen below.  `ls ./node_modules/@myfw` shows no directories, the symlinks have been deleted.\r\n\r\n## 🔥 Exception or Error\r\n<pre><code>\r\n> Undecorated classes with DI migration.\r\n  As of Angular 9, it is no longer supported to use Angular DI on a class that does not have an Angular decorator.\r\n  Read more about this here: https://v9.angular.io/guide/migration-undecorated-classes\r\n\r\n    This migration uses the Angular compiler internally and therefore projects that no longer build successfully after the update cannot run the migration. Please ensure there are no AOT compilation errors and rerun the migration. The following project failed: tsconfig.app.json\r\n\r\n    Error: error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n    error TS100: src\\app\\app.module.ts(13,5): Error during template compile of 'AppModule'\r\n      Could not resolve @myfw/model relative to [object Object]..\r\n\r\n\r\n    Could not migrate all undecorated classes that use dependency\r\n    injection. Some project targets could not be analyzed due to\r\n    TypeScript program failures.\r\n\r\n    Migration can be rerun with: \"ng update @angular/core --migrate-only migration-v9-undecorated-classes-with-di\"\r\n\r\n  Migration completed.\r\n</code></pre>\r\n\r\n\r\n## 🌍 Your Environment\r\n@angular/cli 8.3.25 to start (to generate the original projects)\r\n<pre><code>\r\nAngular CLI: 9.0.2\r\nNode: 12.11.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.1\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit/architect         0.900.2\r\n@angular-devkit/build-angular     0.900.2\r\n@angular-devkit/build-optimizer   0.900.2\r\n@angular-devkit/build-webpack     0.900.2\r\n@angular-devkit/core              9.0.2\r\n@angular-devkit/schematics        9.0.2\r\n@angular/cli                      9.0.2\r\n@ngtools/webpack                  9.0.2\r\n@schematics/angular               9.0.2\r\n@schematics/update                0.900.2\r\nrxjs                              6.5.4\r\ntypescript                        3.7.5\r\nwebpack                           4.41.2\r\n</code></pre>\r\n\r\n**Anything else relevant?**\r\n<!-- ✍️Is this a browser specific issue? If so, please specify the browser and version. -->\r\n\r\n<!-- ✍️Do any of these matter: operating system, IDE, package manager, HTTP server, ...? If so, please mention it below. -->\r\n","Url":"https://github.com/angular/angular-cli/issues/17142","RelatedDescription":"Open issue \"ng update - Doesn't honor 'preserveSymlinks' flag, causes re-build for migrations to fail\" (#17142)"}],"ResultType":"GitHubIssue"},"material2-Issues":{"Issues":[{"Id":"577417419","IsPullRequest":false,"CreatedAt":"2020-03-07T23:37:40","Actor":"Akxe","Number":"18755","RawContent":null,"Title":"bug([google-maps/*-markers]): Every map element is repositioned when created","State":"open","Body":"#### Reproduction\r\n\r\n~~Use StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue~~ can't create stackblitz with `@angular/google-map` package.\r\n\r\nSteps to reproduce:\r\n\r\nUse this in any component with access to `GoogleMapModule`\r\n```\r\n<google-map>\r\n\t<!-- Any position, title or other `@Input`ed parameter will do will do as long as it present -->\r\n\t<map-marker [position]=\"{ lat: 50.0797500, lng: 14.4304000 }\"></map-marker>\r\n</google-map>\r\n```\r\n \r\n#### Expected Behavior\r\n\r\n`google.maps.Marker` created at the position given upon creation.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nThe marker is created at `{lat: 37.421995, lng: -122.084092}` with empty title and other wrong values, and is immediately corrected.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.5\r\n- CDK/Material: 9.1.1\r\n- Browser(s): Chrome 80\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18755","RelatedDescription":"Open issue \"bug([google-maps/*-markers]): Every map element is repositioned when created\" (#18755)"},{"Id":"577412911","IsPullRequest":false,"CreatedAt":"2020-03-07T22:52:41","Actor":"Akxe","Number":"18754","RawContent":null,"Title":"bug(google-maps/MapEventManager): MapEventManager's TS definition constructor doesn't  accept ngZone","State":"open","Body":"#### Reproduction\r\n\r\n~~Use StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue~~\r\nCannot create as stackblitz cannot work with `@angular/google-maps`.\r\n\r\n```ts\r\nimport {Component, NgZone} from '@angular/core';\r\nimport { MapEventManager } from '@angular/google-maps/map-event-manager';\r\n\r\n@Component({\r\n  selector: 'example-component',\r\n  templateUrl: 'example-component.html',\r\n  styleUrls: ['example-component.css'],\r\n})\r\nexport class ExampleComponent {\r\n\tprivate _eventManager = new MapEventManager(this._ngZone);\r\n\r\n  constructor(\r\n    private _ngZone: NgZone,\r\n  ) {}\r\n}\r\n```\r\n \r\n \r\n#### Expected Behavior\r\n\r\nNo error.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nError with `MapEventManager` as here: `Expected 0 arguments, but got 1.ts(2554)`\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.5\r\n- CDK/Material: 9.1.1\r\n- Browser(s): --- TS Compolation\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18754","RelatedDescription":"Open issue \"bug(google-maps/MapEventManager): MapEventManager's TS definition constructor doesn't  accept ngZone\" (#18754)"},{"Id":"577382250","IsPullRequest":true,"CreatedAt":"2020-03-07T18:38:53","Actor":"crisbeto","Number":"18753","RawContent":null,"Title":"feat(datepicker): implement comparison and overlap ranges","State":"open","Body":"Adds the ability to render a comparison range in the date range picker. When the comparison overlaps with the primary range, the overlapping dates are shown in a separate \"overlap\" range.\r\n\r\nSome examples for reference:\r\n\r\n![demo](https://user-images.githubusercontent.com/4450522/76150462-1ff44e00-60ab-11ea-9ccc-f8826b7735f8.gif)\r\n![Angular_Material_-_Google_Chrome_2020-03-07_19-24-57](https://user-images.githubusercontent.com/4450522/76150392-54b3d580-60aa-11ea-9edf-c2a7ede555e2.png)\r\n![Angular_Material_-_Google_Chrome_2020-03-07_19-25-13](https://user-images.githubusercontent.com/4450522/76150399-5f6e6a80-60aa-11ea-9d02-9d3b12353ac5.png)\r\n![Angular_Material_-_Google_Chrome_2020-03-07_19-25-26](https://user-images.githubusercontent.com/4450522/76150401-61382e00-60aa-11ea-9c00-b95459b963f8.png)\r\n![Angular_Material_-_Google_Chrome_2020-03-07_19-25-38](https://user-images.githubusercontent.com/4450522/76150402-639a8800-60aa-11ea-9d98-11cfa707149d.png)\r\n![Angular_Material_-_Google_Chrome_2020-03-07_19-26-12](https://user-images.githubusercontent.com/4450522/76150405-6ac19600-60aa-11ea-9214-41cb2c936ee4.png)\r\n","Url":"https://github.com/angular/components/pull/18753","RelatedDescription":"Open PR \"feat(datepicker): implement comparison and overlap ranges\" (#18753)"},{"Id":"577340525","IsPullRequest":false,"CreatedAt":"2020-03-07T14:15:43","Actor":"xstor1","Number":"18752","RawContent":null,"Title":"bug([MAT-PAGINATOR]): [I can not customize labels of the pagiantor by providing MatPaginatorIntl instance]","State":"open","Body":"#### Reproduction\r\n\r\nUse StackBlitz to reproduce your issue: https://stackblitz.com/fork/components-issue\r\n\r\nSteps to reproduce:\r\n1. Just install material design 9.1.1.\r\n2.  Create your own instance of MatPaginatorIntl: `\r\nexport class MyMatPaginator extends MatPaginatorIntl {\r\n  itemsPerPageLabel = 'Položek na stránku';\r\n  nextPageLabel = 'Další stránka';\r\n  previousPageLabel = 'Předchozí stránka';\r\n}`\r\n3. Rewrite the labels to custom one: (itemsPerPageLabel,previousPageLabel,nextPageLabel )\r\n4. Register my instance in app.module:    \r\n```\r\n {\r\n      provide: MatPaginatorIntl,\r\n      useClass: MyMatPaginator\r\n }\r\n```\r\n\r\n \r\n \r\n#### Expected Behavior\r\n\r\nI assume i would be able to see customized label.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nI see non customized label.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.1\r\n- CDK/Material: 9.1.1\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18752","RelatedDescription":"Open issue \"bug([MAT-PAGINATOR]): [I can not customize labels of the pagiantor by providing MatPaginatorIntl instance]\" (#18752)"},{"Id":"577319536","IsPullRequest":true,"CreatedAt":"2020-03-07T11:11:38","Actor":"rewolf","Number":"18751","RawContent":null,"Title":"Correct English in the 'sort' documentation","State":"open","Body":"Changed some incorrect uses of \"an\" to \"a\". Removed a duplicate word.","Url":"https://github.com/angular/components/pull/18751","RelatedDescription":"Open PR \"Correct English in the 'sort' documentation\" (#18751)"},{"Id":"577311098","IsPullRequest":false,"CreatedAt":"2020-03-07T09:58:02","Actor":"chenxinyanc","Number":"18750","RawContent":null,"Title":"help(matMenu): Auto focusing text box after clicking on a menu item","State":"open","Body":"<!--------\r\n\r\nThe Angular team can't provide general troubleshooting help. However, the extended community of\r\nusers can provide more help: \r\n\r\nStackOverflow: https://stackoverflow.com/questions/tagged/angular-material2\r\nGitter: https://gitter.im/angular/material2\r\nGoogle Groups: https://groups.google.com/forum/#!forum/angular-material2\r\n\r\nIssues should capture only bug reports and feature requests. However, we understand that \r\nit is not always clear whether an issue is caused by a bug or incorrect usage of a feature/component.\r\n\r\nMost support requests will be automatically closed. If the answer is quickly obvious, though, we \r\nmight be able to provide a brief answer.\r\n\r\n-------->\r\n#### What are you trying to do?\r\n* I tried to move focus to a text box after user clicks the menu. This text box submits user input when it loses focus.\r\n* I want to know what is the correct / recommended approach to move focus to other control, we I'm inside a menu item `click` callback.\r\n* Is it possible for `matMenu` to stop moving focus to the triggering button when closing the menu, if user's focus is not inside `matMenu` at the time just before the menu closes? (something like #11696, but with a pre-condition)\r\n\r\n#### What troubleshooting steps have you tried?\r\nI need to use `setTimeout(..., 0)` to defer moving focus to text box, so the focus will be moved to the menu-triggering button, *then moved to the text box at last*. However, this looks flaky to me and I'm not sure if it's the best practice.\r\n\r\n#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-component-mat-menu-focus?file=src%2Fapp%2Ftext-editor%2Ftext-editor.component.ts\r\n\r\nSteps to reproduce:\r\n1. Open the sandbox link above, note the following code in `text-editor.component.ts`.\r\n```ts\r\n  ngAfterViewInit() {\r\n    // If we remove setTimeout, textInput.blur event will be triggered immediately.\r\n    window.setTimeout(() => {\r\n      // Move focus to the text box automatically.\r\n      this.textInput.nativeElement.focus();\r\n    }, 0);\r\n  }\r\n```\r\n2. In the app, you can edit the text with \"Edit\" menu item. That's expected behavior.\r\n![temp](https://user-images.githubusercontent.com/50703224/76141096-013a8b00-609c-11ea-889e-7ec2edb7e474.gif)\r\n\r\n3. Remove `setTimeout`, calling `focus` directly instead\r\n```ts\r\n  ngAfterViewInit() {\r\n    // Move focus to the text box automatically.\r\n    this.textInput.nativeElement.focus();\r\n  }\r\n```\r\n4. In the app, the text box seems to get focus first, then lost focus almost immediately.\r\n![temp](https://user-images.githubusercontent.com/50703224/76141075-e36d2600-609b-11ea-878b-14c4bd05390b.gif)\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.2\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Chrome 80.0.3987.132\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows\r\n","Url":"https://github.com/angular/components/issues/18750","RelatedDescription":"Open issue \"help(matMenu): Auto focusing text box after clicking on a menu item\" (#18750)"},{"Id":"577305456","IsPullRequest":false,"CreatedAt":"2020-03-07T09:10:11","Actor":"teodossidossev","Number":"18749","RawContent":null,"Title":"bug(matInput): errorStateMatcher validates invalid emails ","State":"open","Body":"#### Reproduction\r\n\r\nStackBlitz: https://stackblitz.com/angular/vbgpxydjdrv\r\n\r\nSteps to reproduce:\r\n1. enter any combination of a-z0-9, followed by @ and then another combination of \r\na-z0-9. Do not enter a period. (example: invalid@email)\r\n \r\n \r\n#### Expected Behavior\r\n\r\nInvalid email address error to be present\r\n\r\n\r\n#### Actual Behavior\r\n\r\nInvalid email address error is not present\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.1.0\r\n- CDK/Material: 9.1.0\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): windows 10\r\n","Url":"https://github.com/angular/components/issues/18749","RelatedDescription":"Open issue \"bug(matInput): errorStateMatcher validates invalid emails \" (#18749)"},{"Id":"577296108","IsPullRequest":false,"CreatedAt":"2020-03-07T07:48:34","Actor":"bbarn3y","Number":"18748","RawContent":null,"Title":"bug(cdk-virtualscroll): Virtual scrolling is jumpy when the scroller part contains a material Autocomplete  and page features an echart","State":"open","Body":"Ran into this very weird issue, I spent more than a day debugging until I managed to reproduce that virtual scrolling becomes spazzy when the page features a chart created by the echarts library and the virtually scrolled elements contain an input with a formControl and matAutocomplete attached to them.\r\n\r\n#### Reproduction\r\n\r\nStackBlitz example: https://stackblitz.com/edit/angular-virtual-scrolling-qndtbk\r\n\r\nSteps to reproduce:\r\n1. Create a virtual scroll viewport that features elements containing an input that has a formControl and a matAutocomplete attached to it.\r\nThe default value of the formControl should not be empty.\r\n2. Add an echart (https://www.npmjs.com/package/echarts) to the page. It can be anywhere, doesn't have to part of the virtual scroll viewport.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nI expected virtual scrolling to work buttery smooth like it does if I either:\r\n\r\n- Remove the formControl from the inputs.\r\n- Remove the [matAutocomplete]=\"...\" from the inputs.\r\n- Remove the chart component (containing only an echart) from the page.\r\n\r\nNow, I can't do the first two in my application, I'll try using another charting library though.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nSpazzyness. If you try to scroll down, scrolling is sometimes jumpy other time it seems like you're scrolling up, even though you are trying to scroll down.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 8.2.14\r\n- CDK/Material: 8.2.3\r\n- Browser(s): Chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18748","RelatedDescription":"Open issue \"bug(cdk-virtualscroll): Virtual scrolling is jumpy when the scroller part contains a material Autocomplete  and page features an echart\" (#18748)"},{"Id":"577290207","IsPullRequest":false,"CreatedAt":"2020-03-07T06:50:08","Actor":"janaparapuvenkatasai","Number":"18747","RawContent":null,"Title":"Issuse with the angular sidenav","State":"open","Body":"I'm new to angular I created material module and tried importing angular sidenav and I got this issue\r\n\r\n**This likely means that the library (@angular/material/sidenav) which declares MatSidenavModule has not been processed correctly\r\nby ngcc, or is not compatible with Angular Ivy. Check if a newer version of the library is available, and update if so. Also consider checking with the library's authors to see if the library is expected to be compatible with Ivy.**\r\n\r\nAngular CLI: 9.0.4\r\nNode: 12.16.1\r\nOS: win32 x64\r\n\r\nAngular: 9.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router\r\nIvy Workspace: Yes\r\n\r\nPackage Version\r\n@angular-devkit/architect 0.900.4\r\n@angular-devkit/build-angular 0.900.4\r\n@angular-devkit/build-optimizer 0.900.4\r\n@angular-devkit/build-webpack 0.900.4\r\n@angular-devkit/core 9.0.4\r\n@angular-devkit/schematics 9.0.4\r\n@angular/cdk 9.1.1\r\n@angular/material 9.1.1\r\n@ngtools/webpack 9.0.4\r\n@schematics/angular 9.0.4\r\n@schematics/update 0.900.4\r\nrxjs 6.5.4\r\ntypescript 3.7.5\r\nwebpack 4.41.2\r\n\r\n\r\n\r\n\r\n#### What is the use-case or motivation for changing an existing behavior?\r\n\r\n\r\n#### Which versions of Angular, Material, OS, TypeScript, browsers are affected?\r\n\r\n\r\n#### Is there anything else we should know?\r\n","Url":"https://github.com/angular/components/issues/18747","RelatedDescription":"Open issue \"Issuse with the angular sidenav\" (#18747)"},{"Id":"577253572","IsPullRequest":true,"CreatedAt":"2020-03-07T01:32:22","Actor":"zelliott","Number":"18746","RawContent":null,"Title":"fix(mat-button-toggle): mat-button-toggle element should not have a focus indicator class.","State":"open","Body":"This class was mistakenly added onto both the `<mat-button-toggle>` element and its child `<button>`. It should only be on the child `<button>`, because only the child is in the tab order. The only reason the parent `<mat-button-toggle>` has a `tabindex=\"-1\"` is so that it can work with things like`cdkFocusInitial`.","Url":"https://github.com/angular/components/pull/18746","RelatedDescription":"Open PR \"fix(mat-button-toggle): mat-button-toggle element should not have a focus indicator class.\" (#18746)"},{"Id":"577247832","IsPullRequest":true,"CreatedAt":"2020-03-07T00:59:02","Actor":"livvielin","Number":"18745","RawContent":null,"Title":"Spruce up the basic toolbar example","State":"open","Body":"","Url":"https://github.com/angular/components/pull/18745","RelatedDescription":"Open PR \"Spruce up the basic toolbar example\" (#18745)"},{"Id":"577213293","IsPullRequest":false,"CreatedAt":"2020-03-06T22:39:43","Actor":"andrewseguin","Number":"18744","RawContent":null,"Title":"bug(snackbar): MatSnackBarRef subscribes to Observables in constructor, never unsubscribes","State":"open","Body":"See code at https://github.com/angular/components/blob/master/src/material/snack-bar/snack-bar-ref.ts\r\n\r\nThe constructor subscribes to several streams but I don't see that it ever unsubscribes. I assume this will cause a memory leak over time.\r\n\r\n```ts\r\n  constructor(containerInstance: MatSnackBarContainer,\r\n              private _overlayRef: OverlayRef) {\r\n    this.containerInstance = containerInstance;\r\n    // Dismiss snackbar on action.\r\n    this.onAction().subscribe(() => this.dismiss());\r\n    containerInstance._onExit.subscribe(() => this._finishDismiss());\r\n  }\r\n```","Url":"https://github.com/angular/components/issues/18744","RelatedDescription":"Open issue \"bug(snackbar): MatSnackBarRef subscribes to Observables in constructor, never unsubscribes\" (#18744)"},{"Id":"577176911","IsPullRequest":true,"CreatedAt":"2020-03-06T21:19:09","Actor":"jelbourn","Number":"18743","RawContent":null,"Title":"chore: copy 9.1.1 changelog to master","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18743","RelatedDescription":"Closed or merged PR \"chore: copy 9.1.1 changelog to master\" (#18743)"},{"Id":"577169095","IsPullRequest":true,"CreatedAt":"2020-03-06T20:51:29","Actor":"crisbeto","Number":"18742","RawContent":null,"Title":"fix(slide-toggle): incorrect text color when placed inside an overlay with a dark theme","State":"open","Body":"The slide toggle doesn't define its text color, but inherits it from the closest theme root element. The problem is that if the element is moved out to something like an overlay, the color may be inherited from the `body` which won't be correct. These changes explicitly set the `color`.\r\n\r\nFixes #18701.","Url":"https://github.com/angular/components/pull/18742","RelatedDescription":"Open PR \"fix(slide-toggle): incorrect text color when placed inside an overlay with a dark theme\" (#18742)"},{"Id":"576985939","IsPullRequest":true,"CreatedAt":"2020-03-06T20:03:20","Actor":"devversion","Number":"18738","RawContent":null,"Title":"refactor: ensure typography mixins expect consistent arguments","State":"closed","Body":"Currently we have a few components with typography mixins that do\r\nnot match the majority of other components. These components have\r\ntypography mixins where the `$config` is optional. We want to always\r\nrequire a config (similar to how it's done in other components) to avoid\r\nbreaking changes in the future, and to have a consistent API.","Url":"https://github.com/angular/components/pull/18738","RelatedDescription":"Closed or merged PR \"refactor: ensure typography mixins expect consistent arguments\" (#18738)"},{"Id":"576597703","IsPullRequest":true,"CreatedAt":"2020-03-06T20:02:28","Actor":"josephperrott","Number":"18732","RawContent":null,"Title":"chore: add script to resync caretaker app open PRs","State":"closed","Body":"","Url":"https://github.com/angular/components/pull/18732","RelatedDescription":"Closed or merged PR \"chore: add script to resync caretaker app open PRs\" (#18732)"},{"Id":"576583876","IsPullRequest":true,"CreatedAt":"2020-03-06T20:01:16","Actor":"andrewseguin","Number":"18731","RawContent":null,"Title":"chore: split portion of CHANGELOG.md","State":"closed","Body":"The CHANGELOG.md file is super laggy in Webstorm, and cannot show its preview in GitHub. Splitting off changes up to 7.0.0 and putting them in CHANGELOG_ARCHIVE.md.\r\n\r\nAdded a note to the end of CHANGELOG.md:\r\n\r\n> \"To view changes that occurred prior to 7.0.0, see [CHANGELOG_ARCHIVE.md](https://github.com/angular/components/blob/master/CHANGELOG_ARCHIVE.md).\"\r\n\r\nAdded a note to the beginning of CHANGELOG_ARCHIVE.md:\r\n> \"This contains changes before 7.0.0. See [CHANGELOG.md](https://github.com/angular/components/blob/master/CHANGELOG.md) for changes in 7.0.0+.\"","Url":"https://github.com/angular/components/pull/18731","RelatedDescription":"Closed or merged PR \"chore: split portion of CHANGELOG.md\" (#18731)"},{"Id":"577134660","IsPullRequest":true,"CreatedAt":"2020-03-06T19:59:55","Actor":"atscott","Number":"18741","RawContent":null,"Title":"fix(material-experimental/mdc-form-field): avoid expression changed a…","State":"closed","Body":"…fter check\r\n\r\nThere is currently a bug in the Angular Framework that results in\r\nExpressionChangedAfterItHasBeenChecked errors not throwing when they\r\nshould for OnPush components. Because we modify a variable used in the\r\ntemplate after it was already checked (in ngAfterViewInit), we need to\r\ntrigger change detection manually or the change might not be picked up.\r\n\r\nThis was detected when running the CI for the fix in the framework to make \r\nthe error actually throw when it should: https://github.com/angular/angular/pull/34443\r\n\r\nMaybe also worth noting that the non-mdc form-field also calls `detectChanges`\r\nto avoid this same problem: https://github.com/angular/components/blob/e0634c9e379266751f6fa3911f94916c7c465609/src/material/form-field/form-field.ts#L374-L378","Url":"https://github.com/angular/components/pull/18741","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-form-field): avoid expression changed a…\" (#18741)"},{"Id":"577102795","IsPullRequest":false,"CreatedAt":"2020-03-06T18:30:20","Actor":"MDzyga","Number":"18740","RawContent":null,"Title":"fr(Google-maps): Add option to define api key & draw directions","State":"open","Body":"#### Feature Description\r\nHi,\r\nPlease add option to define api key during import `GoogleMapsModule` like in `@agm/core` package.\r\nIt would be nice to be able to draw directions.\r\n\r\nLoading google maps in head blocks frontend on 1500ms\r\n#### Use Case\r\nWithout that features I'm not able to:\r\n- use proper api key when I have 3 environments\r\n- draw directions\r\n","Url":"https://github.com/angular/components/issues/18740","RelatedDescription":"Open issue \"fr(Google-maps): Add option to define api key & draw directions\" (#18740)"},{"Id":"577045399","IsPullRequest":true,"CreatedAt":"2020-03-06T16:36:42","Actor":"pankajparkar","Number":"18739","RawContent":null,"Title":"build: Bump up year in license.","State":"open","Body":"","Url":"https://github.com/angular/components/pull/18739","RelatedDescription":"Open PR \"build: Bump up year in license.\" (#18739)"},{"Id":"576967142","IsPullRequest":false,"CreatedAt":"2020-03-06T14:28:33","Actor":"KlausHans","Number":"18737","RawContent":null,"Title":"bug(Sidenav+Tabs+Drag n drop): Drag scroll not working if Sidenav-Content height set to 100vh","State":"open","Body":"#### Reproduction\r\n\r\nhttps://stackblitz.com/edit/angular-ebzjz5?file=src%2Fapp%2Fexpansion-overview-example.html\r\n\r\nSteps to reproduce:\r\n1. Put a mat-accordion with drag n drop inside a mat-tab that is inside mat-sidenav-content.\r\n2. Set the height of mat-sidenav-content to 100vh, so all items of the sidenav are always visible. The mat-accordion overflows the 100vh with scroll due to a large amount of items in it.\r\n3. Try to drag an item from the list to a position that is not visible without scrolling. It won't scroll.\r\n \r\n \r\n#### Expected Behavior\r\n\r\nThe view autoscrolls while draging the item to the bottom of the screen.\r\n\r\n\r\n#### Actual Behavior\r\nIt doesn't autoscoll.\r\n\r\nIt does if i either delete the tab-group or if i delete the max-height of 100vh of the sidenav-content.\r\nPlease take a look at the stackblitz.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular: 9.0.5\r\n- CDK/Material: 9.1\r\n- Browser(s): all \r\n- Operating System (e.g. Windows, macOS, Ubuntu): all\r\n\r\nA possible workaround could be to delete the height of 100vh and set items in the sidenav to a fixed position so they are always visible. Not testet though.","Url":"https://github.com/angular/components/issues/18737","RelatedDescription":"Open issue \"bug(Sidenav+Tabs+Drag n drop): Drag scroll not working if Sidenav-Content height set to 100vh\" (#18737)"},{"Id":"576962716","IsPullRequest":true,"CreatedAt":"2020-03-06T14:20:59","Actor":"devversion","Number":"18736","RawContent":null,"Title":"build: setup snapshot builds for experimental and new packages","State":"open","Body":"* Sets up snapshot builds for the experimental packages\r\n* Sets up snapshot builds for the new packages (`google-maps`, `youtube-player`)\r\n* Updates snapshot builds repositories to match package name. Similar to how it is done in\r\n  framework, and to improve consistency. This means that: \r\n  - `material2-builds` becomes `material-builds`\r\n  - `material2-moment-adapter` becomes `material-moment-adapter`.\r\n\r\nWe can do the rename because Github creates repository redirects. This should prevent breakages for people relying on the builds repositories. Though we never denoted those as public.\r\n\r\n@jelbourn @josephperrott If we go with renaming these old build repositories for consistency, then the following things would need to be made:\r\n\r\n1. Delete the newly created `material-moment-adapter-builds` repo.\r\n2. Rename `material2-moment-adapter-builds` repo to `material-moment-adapter-builds`\r\n3. Rename `material2-builds` to `material-builds`.","Url":"https://github.com/angular/components/pull/18736","RelatedDescription":"Open PR \"build: setup snapshot builds for experimental and new packages\" (#18736)"},{"Id":"576742343","IsPullRequest":false,"CreatedAt":"2020-03-06T07:13:18","Actor":"manu-058","Number":"18735","RawContent":null,"Title":"bug(mat-autocomplete): when additional data is appended to the list, focus of the current active element is lost","State":"open","Body":"#### Reproduction\r\n\r\n\r\nSteps to reproduce:\r\n1. https://stackblitz.com/edit/angular-wzvzfq (load link)\r\n2. click on autocomplete component.\r\n3. press 'DOWN_ARROW_KEY' (data is appended but the active element is losing the focus)\r\n4. But this behaviour not present mat-select ( focus of active element is not lost after appending the data)\r\n\r\n \r\n \r\n#### Expected Behavior\r\n\r\nWhat behavior were you expecting to see?\r\n=> when data is appended to the existing list, focus should remain on the current active element.\r\n#### Actual Behavior\r\n\r\nWhat behavior did you actually see?\r\n=> when additional data is appended to the list, focus of the current active element is lost.\r\n\r\n#### Environment\r\n\r\n- Angular: 8\r\n- CDK/Material: 8.2.3\r\n- Browser(s): chrome\r\n- Operating System (e.g. Windows, macOS, Ubuntu):  windows\r\n\r\n**Suggestion to correct this behaviour.**\r\nchanges needed in autocomplete-trigger.ts file\r\nexisting-1\r\n\r\n![Screenshot (252)](https://user-images.githubusercontent.com/38914354/76060303-f5b96800-5fa6-11ea-87e1-a7bd3b4e23d8.png)\r\n\r\nchanges-1\r\n![Screenshot (253)](https://user-images.githubusercontent.com/38914354/76060439-52b51e00-5fa7-11ea-9b8b-f3b83e1bb638.png)\r\n\r\nexisting-2\r\n![Screenshot (254)](https://user-images.githubusercontent.com/38914354/76060459-5e084980-5fa7-11ea-91d6-343ea4cdcad1.png)\r\n\r\nchanges-2\r\n![Screenshot (255)](https://user-images.githubusercontent.com/38914354/76060483-6a8ca200-5fa7-11ea-9991-09f678ed57e7.png)\r\n\r\nthis may solve the issue, i guess.\r\n","Url":"https://github.com/angular/components/issues/18735","RelatedDescription":"Open issue \"bug(mat-autocomplete): when additional data is appended to the list, focus of the current active element is lost\" (#18735)"},{"Id":"576694588","IsPullRequest":false,"CreatedAt":"2020-03-06T04:42:53","Actor":"huynhvequyen","Number":"18734","RawContent":null,"Title":"bug([COMPONENT]): [TITLE]","State":"closed","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Import {ScrollDispatchModule} from '@angular/cdk/scrolling'; \r\n2.  Place *cdkVirtualFor inside a **mat-option** tag\r\n \r\n#### Expected Behavior\r\nVirtual scrolling should work fine as it is within **div** tag\r\n#### Actual Behavior\r\nWhat behavior did you actually see?\r\nIt throws an error saying \"can't bind to cdkVirtualFor since it is not a known property of mat-option ...\". The same goes with any other components like **mat-card** etc.. \r\n\r\n#### Environment\r\n\r\n- Angular: Angular: 7.2.0\r\n- CDK/Material: @angular/cdk 7.3.7, @angular/material 7.3.7\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18734","RelatedDescription":"Closed issue \"bug([COMPONENT]): [TITLE]\" (#18734)"},{"Id":"576694311","IsPullRequest":false,"CreatedAt":"2020-03-06T04:41:35","Actor":"huynhvequyen","Number":"18733","RawContent":null,"Title":"bug(Cdk-virtualscroll): Could not use cdkVirtualFor in other material tag","State":"open","Body":"#### Reproduction\r\n\r\nSteps to reproduce:\r\n1. Import {ScrollDispatchModule} from '@angular/cdk/scrolling'; \r\n2.  Place *cdkVirtualFor inside a **mat-option** tag\r\n \r\n#### Expected Behavior\r\nVirtual scrolling should work fine as it is within **div** tag\r\n#### Actual Behavior\r\nWhat behavior did you actually see?\r\nIt throws an error saying \"can't bind to cdkVirtualFor since it is not a known property of **mat-option** ...\". The same goes with any other components like **mat-card** etc.. \r\n\r\n#### Environment\r\n\r\n- Angular: Angular: 7.2.0\r\n- CDK/Material: @angular/cdk 7.3.7, @angular/material 7.3.7\r\n- Browser(s): Firefox\r\n- Operating System (e.g. Windows, macOS, Ubuntu): Windows 10\r\n","Url":"https://github.com/angular/components/issues/18733","RelatedDescription":"Open issue \"bug(Cdk-virtualscroll): Could not use cdkVirtualFor in other material tag\" (#18733)"},{"Id":"576543330","IsPullRequest":false,"CreatedAt":"2020-03-05T23:16:41","Actor":"Gil-Epshtain","Number":"18729","RawContent":null,"Title":"material/badge: \"badge\" is too small (font too large)","State":"closed","Body":"<!-- \r\nFilling out this template is required! Do not delete it when submitting your issue! Without this information, your issue may be auto-closed. \r\n\r\nPlease submit AngularJS Material questions to the [AngularJS Material Forum](https://groups.google.com/forum/#!forum/ngmaterial) instead of submitting an issue.\r\n\r\n---------------------------------------------------------------------\r\nThis repo is for AngularJS Material, not Angular Material or the CDK.\r\n---------------------------------------------------------------------\r\n\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n#### Bug, enhancement request, or proposal:\r\nProposal\r\n\r\n<!-- Please note that we are not accepting major feature requests, i.e. requests for new components, at this time. -->\r\n\r\n#### The issue: \r\nThe matBadge can contain only up to 3 digits number.\r\n\r\n#### Detailed Reproduction Steps: \r\n- I'm using matBadge in my project to display items count.\r\n- In some cases the count is bigger than 3 digits number.\r\n- If the value is bigger than 3 digits, I have a special method that will change the value. To first digits and a magnitude letter (for example 1,589 will be 1.5K or 3,652,123 will be 3.6M)\r\n\r\nResult:\r\n- Trying to display this formatted number (1.5K) in the matBadge will trigger CSS role `    text-overflow: ellipsis;` which will hide the value and only display \"1...\" instead of \"1.5K\"\r\n- Trying to change the size of the matBadge using the built-in property `matBadgeSize` will change the size of the entire badge with the font size (the problem isn't solved)\r\n \r\n### What is the expected behavior?\r\nBe able to display '1.5K' in a matBadge .\r\n\r\n### What is the current behavior?\r\nTrying to display '1.5K' in a matBadge cause CSS to hide the text.\r\n\r\n### What is the use-case or motivation for changing an existing behavior?\r\nBe able to display count larger the 1000 in matBadge\r\n\r\n### Which versions of AngularJS, Material, OS, and browsers are affected?\r\n<!-- Please note that only issues related to AngularJS 1.x and AngularJS Material 1.x should be submitted here.\r\nPlease submit Angular Material and CDK questions [here](https://groups.google.com/forum/#!forum/angular-material2) and issues [here](https://github.com/angular/components/issues).\r\n-->\r\n- Angular: 9.0\r\n- Angular Material: 9.1\r\n-TypeScript: 3.7.5\r\n- OS: Win10\r\n- Browsers:  Chrome/ Opera\r\n \r\n### Is there anything else we should know? Stack Traces, Screenshots, etc.\r\n![image](https://user-images.githubusercontent.com/7883039/76009067-46827f80-5f19-11ea-952d-18a27b5471ab.png)\r\n\r\n\r\n<!-- Please double check that you have provided the required reproduction steps and a Demo via CodePen, Plunker, or GitHub repo. -->\r\n","Url":"https://github.com/angular/components/issues/18729","RelatedDescription":"Closed issue \"material/badge: \"badge\" is too small (font too large)\" (#18729)"},{"Id":"576512250","IsPullRequest":true,"CreatedAt":"2020-03-05T22:46:11","Actor":"devversion","Number":"18728","RawContent":null,"Title":"build: downgrade ibazel version to v0.12.0","State":"closed","Body":"We recently updated to ibazel v0.12.2. This version seems to have\r\nregressed with their `@bazel/bazelisk` support.\r\n\r\nTo keep our development workflow working, we downgrade until the\r\nissue has been fixed upstream: https://github.com/bazelbuild/bazel-watcher/issues/352\r\n\r\nAdditionally cleans up a lock file entry as suggested per `yarn install`.","Url":"https://github.com/angular/components/pull/18728","RelatedDescription":"Closed or merged PR \"build: downgrade ibazel version to v0.12.0\" (#18728)"},{"Id":"576498665","IsPullRequest":true,"CreatedAt":"2020-03-05T22:45:44","Actor":"crisbeto","Number":"18727","RawContent":null,"Title":"fix(material-experimental/mdc-progress-bar): account for breaking changes in latest canary","State":"closed","Body":"Updates the repo to the latest MDC canary version and accounts for the breaking changes introduced in https://github.com/material-components/material-components-web/commit/98b843417ef6c0a10460532a37df389b0c7e936f.","Url":"https://github.com/angular/components/pull/18727","RelatedDescription":"Closed or merged PR \"fix(material-experimental/mdc-progress-bar): account for breaking changes in latest canary\" (#18727)"},{"Id":"576553817","IsPullRequest":false,"CreatedAt":"2020-03-05T21:53:06","Actor":"ianbever","Number":"18730","RawContent":null,"Title":"material/form-field: outline appearance contrast does not meet WCAG ratio","State":"open","Body":"Regarding the accessibility built into Angular Material's components, I see that the default color for the outline form field is a 1px rgba(0,0,0,0.12) border that doesn't meet a 3:1 contrast ratio with a white surface to meet WCAG 2.1 Success Criterion 1.4.11: Non-text Contrast.\r\n\r\nhttps://www.w3.org/WAI/WCAG21/Understanding/non-text-contrast.html\r\n\r\nIs it possible to darken this to black at rgba(0,0,0,0.42), which would meet the minimum WCAG color contrast for non-text elements?","Url":"https://github.com/angular/components/issues/18730","RelatedDescription":"Open issue \"material/form-field: outline appearance contrast does not meet WCAG ratio\" (#18730)"},{"Id":"576458992","IsPullRequest":false,"CreatedAt":"2020-03-05T18:47:16","Actor":"Achilles1515","Number":"18726","RawContent":null,"Title":"bug(drag-drop): Root element pointer down listeners causing excessive change detection","State":"open","Body":"#### Reproduction\r\n\r\n[https://stackblitz.com/edit/angular-kwisjn?file=src/app/cdk-drag-drop-overview-example.html](https://stackblitz.com/edit/angular-kwisjn?file=src/app/cdk-drag-drop-overview-example.html)\r\n \r\n The StackBlitz demo above is a slightly modified version of the \"Basic Drag&Drop\" official example with a change detection counter added and a second draggable box.\r\n\r\nSimply clicking (and not even dragging) an element containing the `cdkDrag` directive causes app-wide change detection to occur. This behavior is exemplified by clicking the second box and witnessing the change detection counter increase.\r\n\r\nThe first draggable box in the demo has had its root element listeners (`mousedown` and `touchstart`) modified to run outsize Angular zone.\r\n\r\n[drag-ref.ts code](https://github.com/angular/components/blob/master/src/cdk/drag-drop/drag-ref.ts#L359):\r\n```ts\r\n/**\r\n   * Sets an alternate drag root element. The root element is the element that will be moved as\r\n   * the user is dragging. Passing an alternate root element is useful when trying to enable\r\n   * dragging on an element that you might not have access to.\r\n   */\r\n  withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\r\n    const element = coerceElement(rootElement);\r\n\r\n    if (element !== this._rootElement) {\r\n      if (this._rootElement) {\r\n        this._removeRootElementListeners(this._rootElement);\r\n      }\r\n\r\n      element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n      this._initialTransform = undefined;\r\n      this._rootElement = element;\r\n    }\r\n\r\n    return this;\r\n  }\r\n```\r\n\r\nIs there any reason these event listeners can't be instantiated outside the Angular zone? Like so:\r\n\r\n```ts\r\n  withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\r\n    const element = coerceElement(rootElement);\r\n\r\n    if (element !== this._rootElement) {\r\n      if (this._rootElement) {\r\n        this._removeRootElementListeners(this._rootElement);\r\n      }\r\n\r\n      this._ngZone.runOutsideAngular(() => {\r\n        element.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n        element.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n      });\r\n      this._initialTransform = undefined;\r\n      this._rootElement = element;\r\n    }\r\n\r\n    return this;\r\n  }\r\n```\r\n\r\n#### Expected Behavior\r\n\r\nNo change detection occurs when simply clicking a draggable item.\r\n\r\n\r\n#### Actual Behavior\r\n\r\nChange detection occurs when simply clicking a draggable item.\r\n\r\n\r\n#### Environment\r\n\r\n- Angular:\r\n- CDK/Material: 9.1.1\r\n\r\n","Url":"https://github.com/angular/components/issues/18726","RelatedDescription":"Open issue \"bug(drag-drop): Root element pointer down listeners causing excessive change detection\" (#18726)"}],"ResultType":"GitHubIssue"}},"RunOn":"2020-03-08T05:30:06.578023Z","RunDurationInMilliseconds":3012}